This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.github/
  workflows/
    ci.yml
    deploy.yml
apps/
  api/
    dist/
      index.js
    src/
      lib/
        errors.ts
        redis.ts
        response.ts
        validators.ts
        websocket.ts
      middleware/
        auth.ts
        db.ts
        error.ts
        rate-limit.ts
        rbac.ts
      routes/
        auth.ts
        comments.ts
        dashboard.ts
        health.ts
        index.ts
        projects.ts
        tasks.ts
        workspaces.ts
        ws.ts
      services/
        __tests__/
          task.test.ts
        activity.ts
        comment.ts
        project.ts
        realtime.ts
        task.ts
        user-sync.ts
        workspace.ts
      types/
        context.ts
      app.ts
      index.ts
    tests/
      integration/
        tasks.test.ts
      helpers.ts
      setup.ts
    bunfig.toml
    package.json
    tsconfig.json
  web/
    dist/
      assets/
        index-BtM2bbUj.css
        index-z2RtNmAn.js
      index.html
    src/
      components/
        comments/
          activity-timeline.tsx
          comment-editor.tsx
          comment-item.tsx
          comments-section.tsx
        dashboard/
          activity-feed.tsx
          recent-tasks.tsx
          stats-cards.tsx
        layouts/
          app-shell.tsx
        project-views/
          calendar/
            calendar-view.tsx
          kanban/
            add-task-inline.tsx
            kanban-board.tsx
            kanban-column.tsx
            task-card.tsx
          list/
            task-table.tsx
          view-switcher.tsx
        projects/
          create-project-modal.tsx
          project-card.tsx
          project-list.tsx
        task-detail/
          task-attachments.tsx
          task-dependencies.tsx
          task-detail-panel.tsx
          task-editor.tsx
          task-sidebar.tsx
      hooks/
        use-auth.ts
        use-comments.ts
        use-debounce.ts
        use-projects.ts
        use-tasks.ts
        use-workspace.ts
      lib/
        api.ts
        auth-sync.tsx
        query-client.ts
      routes/
        dashboard.tsx
        index.tsx
        project-detail.tsx
        projects.tsx
        settings.tsx
      index.css
      main.tsx
    tests/
      e2e/
        auth.spec.ts
        tasks.spec.ts
    index.html
    package.json
    playwright.config.ts
    postcss.config.cjs
    tsconfig.json
    tsconfig.tsbuildinfo
    vite.config.ts
docker/
  api.Dockerfile
  docker-compose.dev.yml
  docker-compose.prod.yml
  docker-compose.yml
  nginx.conf
  web.Dockerfile
docs/
  tech-stack.md
packages/
  db/
    src/
      schema/
        activity-logs.ts
        attachments.ts
        comments.ts
        index.ts
        projects.ts
        relations.ts
        task-dependencies.ts
        task-watchers.ts
        tasks.ts
        users.ts
        workflow-statuses.ts
        workspaces.ts
      client.ts
      index.ts
    drizzle.config.ts
    package.json
    tsconfig.json
  shared/
    src/
      types/
        auth.ts
        index.ts
      validators/
        index.ts
        project.ts
        task.ts
        workspace.ts
      index.ts
    package.json
    tsconfig.json
  typescript-config/
    base.json
    package.json
    react.json
  ui/
    src/
      button.tsx
      index.ts
    package.json
    tsconfig.json
plans/
  260117-1802-nexa-task-bootstrap/
    phase-01-monorepo-setup.md
    phase-02-database-schema.md
    phase-03-backend-foundation.md
    phase-04-auth-rbac.md
    phase-05-workspace-project-apis.md
    phase-06-task-apis.md
    phase-07-realtime-layer.md
    phase-08-frontend-foundation.md
    phase-09-dashboard-workspace-ui.md
    phase-10-project-views.md
    phase-11-task-detail-editor.md
    phase-12-comments-activity.md
    phase-13-testing.md
    phase-14-deployment.md
    plan.md
  reports/
    fullstack-developer-260117-1842-backend-implementation.md
    researcher-260117-1758-clerk-rbac.md
    researcher-260117-1758-drizzle-postgres.md
    researcher-260117-1758-hono-bun-backend.md
    researcher-260117-1758-react-mantine-tailwind.md
    researcher-260117-1758-turborepo-setup.md
    scout-260117-2206-backend-database.md
    scout-260117-2206-frontend-ui-layer.md
    scout-260117-2206-shared-config-infrastructure.md
.env.example
.env.production.example
.gitignore
biome.json
Makefile
package.json
tsconfig.json
tsconfig.tsbuildinfo
turbo.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".github/workflows/deploy.yml">
name: Deploy

on:
  push:
    branches: [main]
  release:
    types: [published]

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  build-and-push:
    name: Build and Push Images
    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write

    steps:
      - uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Log in to Container Registry
        uses: docker/login-action@v3
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata for API
        id: meta-api
        uses: docker/metadata-action@v5
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}-api
          tags: |
            type=sha
            type=ref,event=branch
            type=semver,pattern={{version}}

      - name: Build and push API image
        uses: docker/build-push-action@v6
        with:
          context: .
          file: docker/api.Dockerfile
          push: true
          tags: ${{ steps.meta-api.outputs.tags }}
          labels: ${{ steps.meta-api.outputs.labels }}
          cache-from: type=gha
          cache-to: type=gha,mode=max

      - name: Extract metadata for Web
        id: meta-web
        uses: docker/metadata-action@v5
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}-web
          tags: |
            type=sha
            type=ref,event=branch
            type=semver,pattern={{version}}

      - name: Build and push Web image
        uses: docker/build-push-action@v6
        with:
          context: .
          file: docker/web.Dockerfile
          push: true
          tags: ${{ steps.meta-web.outputs.tags }}
          labels: ${{ steps.meta-web.outputs.labels }}
          cache-from: type=gha
          cache-to: type=gha,mode=max
          build-args: |
            VITE_API_URL=${{ secrets.VITE_API_URL }}
            VITE_CLERK_PUBLISHABLE_KEY=${{ secrets.VITE_CLERK_PUBLISHABLE_KEY }}
            VITE_WS_URL=${{ secrets.VITE_WS_URL }}

  deploy-staging:
    name: Deploy to Staging
    needs: build-and-push
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    environment: staging

    steps:
      - name: Deploy to staging
        run: |
          echo "Deploying to staging environment..."
          echo "Image: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:sha-${{ github.sha }}"
          # Add your deployment commands here:
          # - SSH to server and docker compose pull/up
          # - Trigger webhook to deployment platform (Railway, Render, etc.)
          # - Update Kubernetes deployment
          # - etc.

  deploy-production:
    name: Deploy to Production
    needs: build-and-push
    runs-on: ubuntu-latest
    if: github.event_name == 'release'
    environment: production

    steps:
      - name: Deploy to production
        run: |
          echo "Deploying to production environment..."
          echo "Release: ${{ github.event.release.tag_name }}"
          # Add your production deployment commands here
</file>

<file path="apps/api/dist/index.js">
// @bun
var __create = Object.create;
var __getProtoOf = Object.getPrototypeOf;
var __defProp = Object.defineProperty;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __toESM = (mod, isNodeMode, target) => {
  target = mod != null ? __create(__getProtoOf(mod)) : {};
  const to = isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target;
  for (let key of __getOwnPropNames(mod))
    if (!__hasOwnProp.call(to, key))
      __defProp(to, key, {
        get: () => mod[key],
        enumerable: true
      });
  return to;
};
var __commonJS = (cb, mod) => () => (mod || cb((mod = { exports: {} }).exports, mod), mod.exports);
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {
      get: all[name],
      enumerable: true,
      configurable: true,
      set: (newValue) => all[name] = () => newValue
    });
};
var __require = import.meta.require;

// ../../node_modules/svix/dist/models/applicationIn.js
var require_applicationIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ApplicationInSerializer = undefined;
  exports.ApplicationInSerializer = {
    _fromJsonObject(object) {
      return {
        metadata: object["metadata"],
        name: object["name"],
        rateLimit: object["rateLimit"],
        uid: object["uid"]
      };
    },
    _toJsonObject(self) {
      return {
        metadata: self.metadata,
        name: self.name,
        rateLimit: self.rateLimit,
        uid: self.uid
      };
    }
  };
});

// ../../node_modules/svix/dist/models/applicationOut.js
var require_applicationOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ApplicationOutSerializer = undefined;
  exports.ApplicationOutSerializer = {
    _fromJsonObject(object) {
      return {
        createdAt: new Date(object["createdAt"]),
        id: object["id"],
        metadata: object["metadata"],
        name: object["name"],
        rateLimit: object["rateLimit"],
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"])
      };
    },
    _toJsonObject(self) {
      return {
        createdAt: self.createdAt,
        id: self.id,
        metadata: self.metadata,
        name: self.name,
        rateLimit: self.rateLimit,
        uid: self.uid,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/applicationPatch.js
var require_applicationPatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ApplicationPatchSerializer = undefined;
  exports.ApplicationPatchSerializer = {
    _fromJsonObject(object) {
      return {
        metadata: object["metadata"],
        name: object["name"],
        rateLimit: object["rateLimit"],
        uid: object["uid"]
      };
    },
    _toJsonObject(self) {
      return {
        metadata: self.metadata,
        name: self.name,
        rateLimit: self.rateLimit,
        uid: self.uid
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseApplicationOut.js
var require_listResponseApplicationOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseApplicationOutSerializer = undefined;
  var applicationOut_1 = require_applicationOut();
  exports.ListResponseApplicationOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => applicationOut_1.ApplicationOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => applicationOut_1.ApplicationOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/util.js
var require_util = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ApiException = undefined;

  class ApiException extends Error {
    constructor(code, body, headers) {
      super(`HTTP-Code: ${code}
Headers: ${JSON.stringify(headers)}`);
      this.code = code;
      this.body = body;
      this.headers = {};
      headers.forEach((value, name) => {
        this.headers[name] = value;
      });
    }
  }
  exports.ApiException = ApiException;
});

// ../../node_modules/uuid/dist/max.js
var require_max = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _default = exports.default = "ffffffff-ffff-ffff-ffff-ffffffffffff";
});

// ../../node_modules/uuid/dist/nil.js
var require_nil = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _default = exports.default = "00000000-0000-0000-0000-000000000000";
});

// ../../node_modules/uuid/dist/regex.js
var require_regex = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _default = exports.default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;
});

// ../../node_modules/uuid/dist/validate.js
var require_validate = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _regex = _interopRequireDefault(require_regex());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function validate(uuid2) {
    return typeof uuid2 === "string" && _regex.default.test(uuid2);
  }
  var _default = exports.default = validate;
});

// ../../node_modules/uuid/dist/parse.js
var require_parse = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _validate = _interopRequireDefault(require_validate());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function parse3(uuid2) {
    if (!(0, _validate.default)(uuid2)) {
      throw TypeError("Invalid UUID");
    }
    let v;
    const arr = new Uint8Array(16);
    arr[0] = (v = parseInt(uuid2.slice(0, 8), 16)) >>> 24;
    arr[1] = v >>> 16 & 255;
    arr[2] = v >>> 8 & 255;
    arr[3] = v & 255;
    arr[4] = (v = parseInt(uuid2.slice(9, 13), 16)) >>> 8;
    arr[5] = v & 255;
    arr[6] = (v = parseInt(uuid2.slice(14, 18), 16)) >>> 8;
    arr[7] = v & 255;
    arr[8] = (v = parseInt(uuid2.slice(19, 23), 16)) >>> 8;
    arr[9] = v & 255;
    arr[10] = (v = parseInt(uuid2.slice(24, 36), 16)) / 1099511627776 & 255;
    arr[11] = v / 4294967296 & 255;
    arr[12] = v >>> 24 & 255;
    arr[13] = v >>> 16 & 255;
    arr[14] = v >>> 8 & 255;
    arr[15] = v & 255;
    return arr;
  }
  var _default = exports.default = parse3;
});

// ../../node_modules/uuid/dist/stringify.js
var require_stringify = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  exports.unsafeStringify = unsafeStringify;
  var _validate = _interopRequireDefault(require_validate());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  var byteToHex = [];
  for (let i = 0;i < 256; ++i) {
    byteToHex.push((i + 256).toString(16).slice(1));
  }
  function unsafeStringify(arr, offset = 0) {
    return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
  }
  function stringify3(arr, offset = 0) {
    const uuid2 = unsafeStringify(arr, offset);
    if (!(0, _validate.default)(uuid2)) {
      throw TypeError("Stringified UUID is invalid");
    }
    return uuid2;
  }
  var _default = exports.default = stringify3;
});

// ../../node_modules/uuid/dist/rng.js
var require_rng = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = rng;
  var _nodeCrypto = _interopRequireDefault(__require("crypto"));
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  var rnds8Pool = new Uint8Array(256);
  var poolPtr = rnds8Pool.length;
  function rng() {
    if (poolPtr > rnds8Pool.length - 16) {
      _nodeCrypto.default.randomFillSync(rnds8Pool);
      poolPtr = 0;
    }
    return rnds8Pool.slice(poolPtr, poolPtr += 16);
  }
});

// ../../node_modules/uuid/dist/v1.js
var require_v1 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _rng = _interopRequireDefault(require_rng());
  var _stringify = require_stringify();
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  var _nodeId;
  var _clockseq;
  var _lastMSecs = 0;
  var _lastNSecs = 0;
  function v1(options, buf, offset) {
    let i = buf && offset || 0;
    const b2 = buf || new Array(16);
    options = options || {};
    let node = options.node;
    let clockseq = options.clockseq;
    if (!options._v6) {
      if (!node) {
        node = _nodeId;
      }
      if (clockseq == null) {
        clockseq = _clockseq;
      }
    }
    if (node == null || clockseq == null) {
      const seedBytes = options.random || (options.rng || _rng.default)();
      if (node == null) {
        node = [seedBytes[0], seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];
        if (!_nodeId && !options._v6) {
          node[0] |= 1;
          _nodeId = node;
        }
      }
      if (clockseq == null) {
        clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 16383;
        if (_clockseq === undefined && !options._v6) {
          _clockseq = clockseq;
        }
      }
    }
    let msecs = options.msecs !== undefined ? options.msecs : Date.now();
    let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;
    const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 1e4;
    if (dt < 0 && options.clockseq === undefined) {
      clockseq = clockseq + 1 & 16383;
    }
    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {
      nsecs = 0;
    }
    if (nsecs >= 1e4) {
      throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
    }
    _lastMSecs = msecs;
    _lastNSecs = nsecs;
    _clockseq = clockseq;
    msecs += 12219292800000;
    const tl = ((msecs & 268435455) * 1e4 + nsecs) % 4294967296;
    b2[i++] = tl >>> 24 & 255;
    b2[i++] = tl >>> 16 & 255;
    b2[i++] = tl >>> 8 & 255;
    b2[i++] = tl & 255;
    const tmh = msecs / 4294967296 * 1e4 & 268435455;
    b2[i++] = tmh >>> 8 & 255;
    b2[i++] = tmh & 255;
    b2[i++] = tmh >>> 24 & 15 | 16;
    b2[i++] = tmh >>> 16 & 255;
    b2[i++] = clockseq >>> 8 | 128;
    b2[i++] = clockseq & 255;
    for (let n = 0;n < 6; ++n) {
      b2[i + n] = node[n];
    }
    return buf || (0, _stringify.unsafeStringify)(b2);
  }
  var _default = exports.default = v1;
});

// ../../node_modules/uuid/dist/v1ToV6.js
var require_v1ToV6 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = v1ToV6;
  var _parse = _interopRequireDefault(require_parse());
  var _stringify = require_stringify();
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function v1ToV6(uuid2) {
    const v1Bytes = typeof uuid2 === "string" ? (0, _parse.default)(uuid2) : uuid2;
    const v6Bytes = _v1ToV6(v1Bytes);
    return typeof uuid2 === "string" ? (0, _stringify.unsafeStringify)(v6Bytes) : v6Bytes;
  }
  function _v1ToV6(v1Bytes, randomize = false) {
    return Uint8Array.of((v1Bytes[6] & 15) << 4 | v1Bytes[7] >> 4 & 15, (v1Bytes[7] & 15) << 4 | (v1Bytes[4] & 240) >> 4, (v1Bytes[4] & 15) << 4 | (v1Bytes[5] & 240) >> 4, (v1Bytes[5] & 15) << 4 | (v1Bytes[0] & 240) >> 4, (v1Bytes[0] & 15) << 4 | (v1Bytes[1] & 240) >> 4, (v1Bytes[1] & 15) << 4 | (v1Bytes[2] & 240) >> 4, 96 | v1Bytes[2] & 15, v1Bytes[3], v1Bytes[8], v1Bytes[9], v1Bytes[10], v1Bytes[11], v1Bytes[12], v1Bytes[13], v1Bytes[14], v1Bytes[15]);
  }
});

// ../../node_modules/uuid/dist/v35.js
var require_v35 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.URL = exports.DNS = undefined;
  exports.default = v35;
  var _stringify = require_stringify();
  var _parse = _interopRequireDefault(require_parse());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function stringToBytes(str) {
    str = unescape(encodeURIComponent(str));
    const bytes = [];
    for (let i = 0;i < str.length; ++i) {
      bytes.push(str.charCodeAt(i));
    }
    return bytes;
  }
  var DNS = exports.DNS = "6ba7b810-9dad-11d1-80b4-00c04fd430c8";
  var URL2 = exports.URL = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
  function v35(name, version2, hashfunc) {
    function generateUUID(value, namespace, buf, offset) {
      var _namespace;
      if (typeof value === "string") {
        value = stringToBytes(value);
      }
      if (typeof namespace === "string") {
        namespace = (0, _parse.default)(namespace);
      }
      if (((_namespace = namespace) === null || _namespace === undefined ? undefined : _namespace.length) !== 16) {
        throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
      }
      let bytes = new Uint8Array(16 + value.length);
      bytes.set(namespace);
      bytes.set(value, namespace.length);
      bytes = hashfunc(bytes);
      bytes[6] = bytes[6] & 15 | version2;
      bytes[8] = bytes[8] & 63 | 128;
      if (buf) {
        offset = offset || 0;
        for (let i = 0;i < 16; ++i) {
          buf[offset + i] = bytes[i];
        }
        return buf;
      }
      return (0, _stringify.unsafeStringify)(bytes);
    }
    try {
      generateUUID.name = name;
    } catch (err) {}
    generateUUID.DNS = DNS;
    generateUUID.URL = URL2;
    return generateUUID;
  }
});

// ../../node_modules/uuid/dist/md5.js
var require_md5 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _nodeCrypto = _interopRequireDefault(__require("crypto"));
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function md52(bytes) {
    if (Array.isArray(bytes)) {
      bytes = Buffer.from(bytes);
    } else if (typeof bytes === "string") {
      bytes = Buffer.from(bytes, "utf8");
    }
    return _nodeCrypto.default.createHash("md5").update(bytes).digest();
  }
  var _default = exports.default = md52;
});

// ../../node_modules/uuid/dist/v3.js
var require_v3 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _v = _interopRequireDefault(require_v35());
  var _md = _interopRequireDefault(require_md5());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  var v3 = (0, _v.default)("v3", 48, _md.default);
  var _default = exports.default = v3;
});

// ../../node_modules/uuid/dist/native.js
var require_native = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _nodeCrypto = _interopRequireDefault(__require("crypto"));
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  var _default = exports.default = {
    randomUUID: _nodeCrypto.default.randomUUID
  };
});

// ../../node_modules/uuid/dist/v4.js
var require_v4 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _native = _interopRequireDefault(require_native());
  var _rng = _interopRequireDefault(require_rng());
  var _stringify = require_stringify();
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function v4(options, buf, offset) {
    if (_native.default.randomUUID && !buf && !options) {
      return _native.default.randomUUID();
    }
    options = options || {};
    const rnds = options.random || (options.rng || _rng.default)();
    rnds[6] = rnds[6] & 15 | 64;
    rnds[8] = rnds[8] & 63 | 128;
    if (buf) {
      offset = offset || 0;
      for (let i = 0;i < 16; ++i) {
        buf[offset + i] = rnds[i];
      }
      return buf;
    }
    return (0, _stringify.unsafeStringify)(rnds);
  }
  var _default = exports.default = v4;
});

// ../../node_modules/uuid/dist/sha1.js
var require_sha1 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _nodeCrypto = _interopRequireDefault(__require("crypto"));
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function sha1(bytes) {
    if (Array.isArray(bytes)) {
      bytes = Buffer.from(bytes);
    } else if (typeof bytes === "string") {
      bytes = Buffer.from(bytes, "utf8");
    }
    return _nodeCrypto.default.createHash("sha1").update(bytes).digest();
  }
  var _default = exports.default = sha1;
});

// ../../node_modules/uuid/dist/v5.js
var require_v5 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _v = _interopRequireDefault(require_v35());
  var _sha = _interopRequireDefault(require_sha1());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  var v5 = (0, _v.default)("v5", 80, _sha.default);
  var _default = exports.default = v5;
});

// ../../node_modules/uuid/dist/v6.js
var require_v6 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = v6;
  var _stringify = require_stringify();
  var _v = _interopRequireDefault(require_v1());
  var _v1ToV = _interopRequireDefault(require_v1ToV6());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function v6(options = {}, buf, offset = 0) {
    let bytes = (0, _v.default)({
      ...options,
      _v6: true
    }, new Uint8Array(16));
    bytes = (0, _v1ToV.default)(bytes);
    if (buf) {
      for (let i = 0;i < 16; i++) {
        buf[offset + i] = bytes[i];
      }
      return buf;
    }
    return (0, _stringify.unsafeStringify)(bytes);
  }
});

// ../../node_modules/uuid/dist/v6ToV1.js
var require_v6ToV1 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = v6ToV1;
  var _parse = _interopRequireDefault(require_parse());
  var _stringify = require_stringify();
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function v6ToV1(uuid2) {
    const v6Bytes = typeof uuid2 === "string" ? (0, _parse.default)(uuid2) : uuid2;
    const v1Bytes = _v6ToV1(v6Bytes);
    return typeof uuid2 === "string" ? (0, _stringify.unsafeStringify)(v1Bytes) : v1Bytes;
  }
  function _v6ToV1(v6Bytes) {
    return Uint8Array.of((v6Bytes[3] & 15) << 4 | v6Bytes[4] >> 4 & 15, (v6Bytes[4] & 15) << 4 | (v6Bytes[5] & 240) >> 4, (v6Bytes[5] & 15) << 4 | v6Bytes[6] & 15, v6Bytes[7], (v6Bytes[1] & 15) << 4 | (v6Bytes[2] & 240) >> 4, (v6Bytes[2] & 15) << 4 | (v6Bytes[3] & 240) >> 4, 16 | (v6Bytes[0] & 240) >> 4, (v6Bytes[0] & 15) << 4 | (v6Bytes[1] & 240) >> 4, v6Bytes[8], v6Bytes[9], v6Bytes[10], v6Bytes[11], v6Bytes[12], v6Bytes[13], v6Bytes[14], v6Bytes[15]);
  }
});

// ../../node_modules/uuid/dist/v7.js
var require_v7 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _rng = _interopRequireDefault(require_rng());
  var _stringify = require_stringify();
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  var _seqLow = null;
  var _seqHigh = null;
  var _msecs = 0;
  function v7(options, buf, offset) {
    options = options || {};
    let i = buf && offset || 0;
    const b2 = buf || new Uint8Array(16);
    const rnds = options.random || (options.rng || _rng.default)();
    const msecs = options.msecs !== undefined ? options.msecs : Date.now();
    let seq = options.seq !== undefined ? options.seq : null;
    let seqHigh = _seqHigh;
    let seqLow = _seqLow;
    if (msecs > _msecs && options.msecs === undefined) {
      _msecs = msecs;
      if (seq !== null) {
        seqHigh = null;
        seqLow = null;
      }
    }
    if (seq !== null) {
      if (seq > 2147483647) {
        seq = 2147483647;
      }
      seqHigh = seq >>> 19 & 4095;
      seqLow = seq & 524287;
    }
    if (seqHigh === null || seqLow === null) {
      seqHigh = rnds[6] & 127;
      seqHigh = seqHigh << 8 | rnds[7];
      seqLow = rnds[8] & 63;
      seqLow = seqLow << 8 | rnds[9];
      seqLow = seqLow << 5 | rnds[10] >>> 3;
    }
    if (msecs + 1e4 > _msecs && seq === null) {
      if (++seqLow > 524287) {
        seqLow = 0;
        if (++seqHigh > 4095) {
          seqHigh = 0;
          _msecs++;
        }
      }
    } else {
      _msecs = msecs;
    }
    _seqHigh = seqHigh;
    _seqLow = seqLow;
    b2[i++] = _msecs / 1099511627776 & 255;
    b2[i++] = _msecs / 4294967296 & 255;
    b2[i++] = _msecs / 16777216 & 255;
    b2[i++] = _msecs / 65536 & 255;
    b2[i++] = _msecs / 256 & 255;
    b2[i++] = _msecs & 255;
    b2[i++] = seqHigh >>> 4 & 15 | 112;
    b2[i++] = seqHigh & 255;
    b2[i++] = seqLow >>> 13 & 63 | 128;
    b2[i++] = seqLow >>> 5 & 255;
    b2[i++] = seqLow << 3 & 255 | rnds[10] & 7;
    b2[i++] = rnds[11];
    b2[i++] = rnds[12];
    b2[i++] = rnds[13];
    b2[i++] = rnds[14];
    b2[i++] = rnds[15];
    return buf || (0, _stringify.unsafeStringify)(b2);
  }
  var _default = exports.default = v7;
});

// ../../node_modules/uuid/dist/version.js
var require_version = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = undefined;
  var _validate = _interopRequireDefault(require_validate());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
  function version2(uuid2) {
    if (!(0, _validate.default)(uuid2)) {
      throw TypeError("Invalid UUID");
    }
    return parseInt(uuid2.slice(14, 15), 16);
  }
  var _default = exports.default = version2;
});

// ../../node_modules/uuid/dist/index.js
var require_dist2 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  Object.defineProperty(exports, "MAX", {
    enumerable: true,
    get: function() {
      return _max.default;
    }
  });
  Object.defineProperty(exports, "NIL", {
    enumerable: true,
    get: function() {
      return _nil.default;
    }
  });
  Object.defineProperty(exports, "parse", {
    enumerable: true,
    get: function() {
      return _parse.default;
    }
  });
  Object.defineProperty(exports, "stringify", {
    enumerable: true,
    get: function() {
      return _stringify.default;
    }
  });
  Object.defineProperty(exports, "v1", {
    enumerable: true,
    get: function() {
      return _v.default;
    }
  });
  Object.defineProperty(exports, "v1ToV6", {
    enumerable: true,
    get: function() {
      return _v1ToV.default;
    }
  });
  Object.defineProperty(exports, "v3", {
    enumerable: true,
    get: function() {
      return _v2.default;
    }
  });
  Object.defineProperty(exports, "v4", {
    enumerable: true,
    get: function() {
      return _v3.default;
    }
  });
  Object.defineProperty(exports, "v5", {
    enumerable: true,
    get: function() {
      return _v4.default;
    }
  });
  Object.defineProperty(exports, "v6", {
    enumerable: true,
    get: function() {
      return _v5.default;
    }
  });
  Object.defineProperty(exports, "v6ToV1", {
    enumerable: true,
    get: function() {
      return _v6ToV.default;
    }
  });
  Object.defineProperty(exports, "v7", {
    enumerable: true,
    get: function() {
      return _v6.default;
    }
  });
  Object.defineProperty(exports, "validate", {
    enumerable: true,
    get: function() {
      return _validate.default;
    }
  });
  Object.defineProperty(exports, "version", {
    enumerable: true,
    get: function() {
      return _version.default;
    }
  });
  var _max = _interopRequireDefault(require_max());
  var _nil = _interopRequireDefault(require_nil());
  var _parse = _interopRequireDefault(require_parse());
  var _stringify = _interopRequireDefault(require_stringify());
  var _v = _interopRequireDefault(require_v1());
  var _v1ToV = _interopRequireDefault(require_v1ToV6());
  var _v2 = _interopRequireDefault(require_v3());
  var _v3 = _interopRequireDefault(require_v4());
  var _v4 = _interopRequireDefault(require_v5());
  var _v5 = _interopRequireDefault(require_v6());
  var _v6ToV = _interopRequireDefault(require_v6ToV1());
  var _v6 = _interopRequireDefault(require_v7());
  var _validate = _interopRequireDefault(require_validate());
  var _version = _interopRequireDefault(require_version());
  function _interopRequireDefault(e) {
    return e && e.__esModule ? e : { default: e };
  }
});

// ../../node_modules/svix/dist/request.js
var require_request = __commonJS((exports) => {
  var __awaiter = exports && exports.__awaiter || function(thisArg, _arguments, P2, generator) {
    function adopt(value) {
      return value instanceof P2 ? value : new P2(function(resolve) {
        resolve(value);
      });
    }
    return new (P2 || (P2 = Promise))(function(resolve, reject) {
      function fulfilled(value) {
        try {
          step(generator.next(value));
        } catch (e) {
          reject(e);
        }
      }
      function rejected(value) {
        try {
          step(generator["throw"](value));
        } catch (e) {
          reject(e);
        }
      }
      function step(result) {
        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
      }
      step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
  };
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SvixRequest = exports.HttpMethod = exports.LIB_VERSION = undefined;
  var util_1 = require_util();
  var uuid_1 = require_dist2();
  exports.LIB_VERSION = "1.84.1";
  var USER_AGENT2 = `svix-libs/${exports.LIB_VERSION}/javascript`;
  var HttpMethod;
  (function(HttpMethod2) {
    HttpMethod2["GET"] = "GET";
    HttpMethod2["HEAD"] = "HEAD";
    HttpMethod2["POST"] = "POST";
    HttpMethod2["PUT"] = "PUT";
    HttpMethod2["DELETE"] = "DELETE";
    HttpMethod2["CONNECT"] = "CONNECT";
    HttpMethod2["OPTIONS"] = "OPTIONS";
    HttpMethod2["TRACE"] = "TRACE";
    HttpMethod2["PATCH"] = "PATCH";
  })(HttpMethod = exports.HttpMethod || (exports.HttpMethod = {}));

  class SvixRequest {
    constructor(method, path) {
      this.method = method;
      this.path = path;
      this.queryParams = {};
      this.headerParams = {};
    }
    setPathParam(name, value) {
      const newPath = this.path.replace(`{${name}}`, encodeURIComponent(value));
      if (this.path === newPath) {
        throw new Error(`path parameter ${name} not found`);
      }
      this.path = newPath;
    }
    setQueryParams(params) {
      for (const [name, value] of Object.entries(params)) {
        this.setQueryParam(name, value);
      }
    }
    setQueryParam(name, value) {
      if (value === undefined || value === null) {
        return;
      }
      if (typeof value === "string") {
        this.queryParams[name] = value;
      } else if (typeof value === "boolean" || typeof value === "number") {
        this.queryParams[name] = value.toString();
      } else if (value instanceof Date) {
        this.queryParams[name] = value.toISOString();
      } else if (Array.isArray(value)) {
        if (value.length > 0) {
          this.queryParams[name] = value.join(",");
        }
      } else {
        const _assert_unreachable = value;
        throw new Error(`query parameter ${name} has unsupported type`);
      }
    }
    setHeaderParam(name, value) {
      if (value === undefined) {
        return;
      }
      this.headerParams[name] = value;
    }
    setBody(value) {
      this.body = JSON.stringify(value);
    }
    send(ctx, parseResponseBody) {
      return __awaiter(this, undefined, undefined, function* () {
        const response = yield this.sendInner(ctx);
        if (response.status === 204) {
          return null;
        }
        const responseBody = yield response.text();
        return parseResponseBody(JSON.parse(responseBody));
      });
    }
    sendNoResponseBody(ctx) {
      return __awaiter(this, undefined, undefined, function* () {
        yield this.sendInner(ctx);
      });
    }
    sendInner(ctx) {
      var _a, _b;
      return __awaiter(this, undefined, undefined, function* () {
        const url = new URL(ctx.baseUrl + this.path);
        for (const [name, value] of Object.entries(this.queryParams)) {
          url.searchParams.set(name, value);
        }
        if (this.headerParams["idempotency-key"] === undefined && this.method.toUpperCase() === "POST") {
          this.headerParams["idempotency-key"] = `auto_${(0, uuid_1.v4)()}`;
        }
        const randomId = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);
        if (this.body != null) {
          this.headerParams["content-type"] = "application/json";
        }
        const isCredentialsSupported = "credentials" in Request.prototype;
        const response = yield sendWithRetry(url, {
          method: this.method.toString(),
          body: this.body,
          headers: Object.assign({ accept: "application/json, */*;q=0.8", authorization: `Bearer ${ctx.token}`, "user-agent": USER_AGENT2, "svix-req-id": randomId.toString() }, this.headerParams),
          credentials: isCredentialsSupported ? "same-origin" : undefined,
          signal: ctx.timeout !== undefined ? AbortSignal.timeout(ctx.timeout) : undefined
        }, ctx.retryScheduleInMs, (_a = ctx.retryScheduleInMs) === null || _a === undefined ? undefined : _a[0], ((_b = ctx.retryScheduleInMs) === null || _b === undefined ? undefined : _b.length) || ctx.numRetries, ctx.fetch);
        return filterResponseForErrors(response);
      });
    }
  }
  exports.SvixRequest = SvixRequest;
  function filterResponseForErrors(response) {
    return __awaiter(this, undefined, undefined, function* () {
      if (response.status < 300) {
        return response;
      }
      const responseBody = yield response.text();
      if (response.status === 422) {
        throw new util_1.ApiException(response.status, JSON.parse(responseBody), response.headers);
      }
      if (response.status >= 400 && response.status <= 499) {
        throw new util_1.ApiException(response.status, JSON.parse(responseBody), response.headers);
      }
      throw new util_1.ApiException(response.status, responseBody, response.headers);
    });
  }
  function sendWithRetry(url, init, retryScheduleInMs, nextInterval = 50, triesLeft = 2, fetchImpl = fetch, retryCount = 1) {
    return __awaiter(this, undefined, undefined, function* () {
      const sleep2 = (interval2) => new Promise((resolve) => setTimeout(resolve, interval2));
      try {
        const response = yield fetchImpl(url, init);
        if (triesLeft <= 0 || response.status < 500) {
          return response;
        }
      } catch (e) {
        if (triesLeft <= 0) {
          throw e;
        }
      }
      yield sleep2(nextInterval);
      init.headers["svix-retry-count"] = retryCount.toString();
      nextInterval = (retryScheduleInMs === null || retryScheduleInMs === undefined ? undefined : retryScheduleInMs[retryCount]) || nextInterval * 2;
      return yield sendWithRetry(url, init, retryScheduleInMs, nextInterval, --triesLeft, fetchImpl, ++retryCount);
    });
  }
});

// ../../node_modules/svix/dist/api/application.js
var require_application = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Application = undefined;
  var applicationIn_1 = require_applicationIn();
  var applicationOut_1 = require_applicationOut();
  var applicationPatch_1 = require_applicationPatch();
  var listResponseApplicationOut_1 = require_listResponseApplicationOut();
  var request_1 = require_request();

  class Application {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app");
      request.setQueryParams({
        exclude_apps_with_no_endpoints: options === null || options === undefined ? undefined : options.excludeAppsWithNoEndpoints,
        exclude_apps_with_disabled_endpoints: options === null || options === undefined ? undefined : options.excludeAppsWithDisabledEndpoints,
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseApplicationOut_1.ListResponseApplicationOutSerializer._fromJsonObject);
    }
    create(applicationIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(applicationIn_1.ApplicationInSerializer._toJsonObject(applicationIn));
      return request.send(this.requestCtx, applicationOut_1.ApplicationOutSerializer._fromJsonObject);
    }
    getOrCreate(applicationIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app");
      request.setQueryParam("get_if_exists", true);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(applicationIn_1.ApplicationInSerializer._toJsonObject(applicationIn));
      return request.send(this.requestCtx, applicationOut_1.ApplicationOutSerializer._fromJsonObject);
    }
    get(appId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}");
      request.setPathParam("app_id", appId);
      return request.send(this.requestCtx, applicationOut_1.ApplicationOutSerializer._fromJsonObject);
    }
    update(appId, applicationIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/app/{app_id}");
      request.setPathParam("app_id", appId);
      request.setBody(applicationIn_1.ApplicationInSerializer._toJsonObject(applicationIn));
      return request.send(this.requestCtx, applicationOut_1.ApplicationOutSerializer._fromJsonObject);
    }
    delete(appId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/app/{app_id}");
      request.setPathParam("app_id", appId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    patch(appId, applicationPatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/app/{app_id}");
      request.setPathParam("app_id", appId);
      request.setBody(applicationPatch_1.ApplicationPatchSerializer._toJsonObject(applicationPatch));
      return request.send(this.requestCtx, applicationOut_1.ApplicationOutSerializer._fromJsonObject);
    }
  }
  exports.Application = Application;
});

// ../../node_modules/svix/dist/models/apiTokenOut.js
var require_apiTokenOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ApiTokenOutSerializer = undefined;
  exports.ApiTokenOutSerializer = {
    _fromJsonObject(object) {
      return {
        createdAt: new Date(object["createdAt"]),
        expiresAt: object["expiresAt"] ? new Date(object["expiresAt"]) : null,
        id: object["id"],
        name: object["name"],
        scopes: object["scopes"],
        token: object["token"]
      };
    },
    _toJsonObject(self) {
      return {
        createdAt: self.createdAt,
        expiresAt: self.expiresAt,
        id: self.id,
        name: self.name,
        scopes: self.scopes,
        token: self.token
      };
    }
  };
});

// ../../node_modules/svix/dist/models/appPortalCapability.js
var require_appPortalCapability = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AppPortalCapabilitySerializer = exports.AppPortalCapability = undefined;
  var AppPortalCapability;
  (function(AppPortalCapability2) {
    AppPortalCapability2["ViewBase"] = "ViewBase";
    AppPortalCapability2["ViewEndpointSecret"] = "ViewEndpointSecret";
    AppPortalCapability2["ManageEndpointSecret"] = "ManageEndpointSecret";
    AppPortalCapability2["ManageTransformations"] = "ManageTransformations";
    AppPortalCapability2["CreateAttempts"] = "CreateAttempts";
    AppPortalCapability2["ManageEndpoint"] = "ManageEndpoint";
  })(AppPortalCapability = exports.AppPortalCapability || (exports.AppPortalCapability = {}));
  exports.AppPortalCapabilitySerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/appPortalAccessIn.js
var require_appPortalAccessIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AppPortalAccessInSerializer = undefined;
  var appPortalCapability_1 = require_appPortalCapability();
  var applicationIn_1 = require_applicationIn();
  exports.AppPortalAccessInSerializer = {
    _fromJsonObject(object) {
      var _a;
      return {
        application: object["application"] ? applicationIn_1.ApplicationInSerializer._fromJsonObject(object["application"]) : undefined,
        capabilities: (_a = object["capabilities"]) === null || _a === undefined ? undefined : _a.map((item) => appPortalCapability_1.AppPortalCapabilitySerializer._fromJsonObject(item)),
        expiry: object["expiry"],
        featureFlags: object["featureFlags"],
        readOnly: object["readOnly"],
        sessionId: object["sessionId"]
      };
    },
    _toJsonObject(self) {
      var _a;
      return {
        application: self.application ? applicationIn_1.ApplicationInSerializer._toJsonObject(self.application) : undefined,
        capabilities: (_a = self.capabilities) === null || _a === undefined ? undefined : _a.map((item) => appPortalCapability_1.AppPortalCapabilitySerializer._toJsonObject(item)),
        expiry: self.expiry,
        featureFlags: self.featureFlags,
        readOnly: self.readOnly,
        sessionId: self.sessionId
      };
    }
  };
});

// ../../node_modules/svix/dist/models/appPortalAccessOut.js
var require_appPortalAccessOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AppPortalAccessOutSerializer = undefined;
  exports.AppPortalAccessOutSerializer = {
    _fromJsonObject(object) {
      return {
        token: object["token"],
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        token: self.token,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/applicationTokenExpireIn.js
var require_applicationTokenExpireIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ApplicationTokenExpireInSerializer = undefined;
  exports.ApplicationTokenExpireInSerializer = {
    _fromJsonObject(object) {
      return {
        expiry: object["expiry"],
        sessionIds: object["sessionIds"]
      };
    },
    _toJsonObject(self) {
      return {
        expiry: self.expiry,
        sessionIds: self.sessionIds
      };
    }
  };
});

// ../../node_modules/svix/dist/models/rotatePollerTokenIn.js
var require_rotatePollerTokenIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.RotatePollerTokenInSerializer = undefined;
  exports.RotatePollerTokenInSerializer = {
    _fromJsonObject(object) {
      return {
        expiry: object["expiry"],
        oldTokenExpiry: object["oldTokenExpiry"]
      };
    },
    _toJsonObject(self) {
      return {
        expiry: self.expiry,
        oldTokenExpiry: self.oldTokenExpiry
      };
    }
  };
});

// ../../node_modules/svix/dist/models/streamPortalAccessIn.js
var require_streamPortalAccessIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamPortalAccessInSerializer = undefined;
  exports.StreamPortalAccessInSerializer = {
    _fromJsonObject(object) {
      return {
        expiry: object["expiry"],
        featureFlags: object["featureFlags"],
        sessionId: object["sessionId"]
      };
    },
    _toJsonObject(self) {
      return {
        expiry: self.expiry,
        featureFlags: self.featureFlags,
        sessionId: self.sessionId
      };
    }
  };
});

// ../../node_modules/svix/dist/models/dashboardAccessOut.js
var require_dashboardAccessOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.DashboardAccessOutSerializer = undefined;
  exports.DashboardAccessOutSerializer = {
    _fromJsonObject(object) {
      return {
        token: object["token"],
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        token: self.token,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/api/authentication.js
var require_authentication = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Authentication = undefined;
  var apiTokenOut_1 = require_apiTokenOut();
  var appPortalAccessIn_1 = require_appPortalAccessIn();
  var appPortalAccessOut_1 = require_appPortalAccessOut();
  var applicationTokenExpireIn_1 = require_applicationTokenExpireIn();
  var rotatePollerTokenIn_1 = require_rotatePollerTokenIn();
  var streamPortalAccessIn_1 = require_streamPortalAccessIn();
  var dashboardAccessOut_1 = require_dashboardAccessOut();
  var request_1 = require_request();

  class Authentication {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    appPortalAccess(appId, appPortalAccessIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/auth/app-portal-access/{app_id}");
      request.setPathParam("app_id", appId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(appPortalAccessIn_1.AppPortalAccessInSerializer._toJsonObject(appPortalAccessIn));
      return request.send(this.requestCtx, appPortalAccessOut_1.AppPortalAccessOutSerializer._fromJsonObject);
    }
    expireAll(appId, applicationTokenExpireIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/auth/app/{app_id}/expire-all");
      request.setPathParam("app_id", appId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(applicationTokenExpireIn_1.ApplicationTokenExpireInSerializer._toJsonObject(applicationTokenExpireIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
    dashboardAccess(appId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/auth/dashboard-access/{app_id}");
      request.setPathParam("app_id", appId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      return request.send(this.requestCtx, dashboardAccessOut_1.DashboardAccessOutSerializer._fromJsonObject);
    }
    logout(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/auth/logout");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      return request.sendNoResponseBody(this.requestCtx);
    }
    streamPortalAccess(streamId, streamPortalAccessIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/auth/stream-portal-access/{stream_id}");
      request.setPathParam("stream_id", streamId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(streamPortalAccessIn_1.StreamPortalAccessInSerializer._toJsonObject(streamPortalAccessIn));
      return request.send(this.requestCtx, appPortalAccessOut_1.AppPortalAccessOutSerializer._fromJsonObject);
    }
    getStreamPollerToken(streamId, sinkId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      return request.send(this.requestCtx, apiTokenOut_1.ApiTokenOutSerializer._fromJsonObject);
    }
    rotateStreamPollerToken(streamId, sinkId, rotatePollerTokenIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token/rotate");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(rotatePollerTokenIn_1.RotatePollerTokenInSerializer._toJsonObject(rotatePollerTokenIn));
      return request.send(this.requestCtx, apiTokenOut_1.ApiTokenOutSerializer._fromJsonObject);
    }
  }
  exports.Authentication = Authentication;
});

// ../../node_modules/svix/dist/models/backgroundTaskStatus.js
var require_backgroundTaskStatus = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.BackgroundTaskStatusSerializer = exports.BackgroundTaskStatus = undefined;
  var BackgroundTaskStatus;
  (function(BackgroundTaskStatus2) {
    BackgroundTaskStatus2["Running"] = "running";
    BackgroundTaskStatus2["Finished"] = "finished";
    BackgroundTaskStatus2["Failed"] = "failed";
  })(BackgroundTaskStatus = exports.BackgroundTaskStatus || (exports.BackgroundTaskStatus = {}));
  exports.BackgroundTaskStatusSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/backgroundTaskType.js
var require_backgroundTaskType = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.BackgroundTaskTypeSerializer = exports.BackgroundTaskType = undefined;
  var BackgroundTaskType;
  (function(BackgroundTaskType2) {
    BackgroundTaskType2["EndpointReplay"] = "endpoint.replay";
    BackgroundTaskType2["EndpointRecover"] = "endpoint.recover";
    BackgroundTaskType2["ApplicationStats"] = "application.stats";
    BackgroundTaskType2["MessageBroadcast"] = "message.broadcast";
    BackgroundTaskType2["SdkGenerate"] = "sdk.generate";
    BackgroundTaskType2["EventTypeAggregate"] = "event-type.aggregate";
    BackgroundTaskType2["ApplicationPurgeContent"] = "application.purge_content";
    BackgroundTaskType2["EndpointBulkReplay"] = "endpoint.bulk_replay";
  })(BackgroundTaskType = exports.BackgroundTaskType || (exports.BackgroundTaskType = {}));
  exports.BackgroundTaskTypeSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/backgroundTaskOut.js
var require_backgroundTaskOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.BackgroundTaskOutSerializer = undefined;
  var backgroundTaskStatus_1 = require_backgroundTaskStatus();
  var backgroundTaskType_1 = require_backgroundTaskType();
  exports.BackgroundTaskOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"],
        id: object["id"],
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._fromJsonObject(object["status"]),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._fromJsonObject(object["task"])
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data,
        id: self.id,
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._toJsonObject(self.status),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._toJsonObject(self.task)
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseBackgroundTaskOut.js
var require_listResponseBackgroundTaskOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseBackgroundTaskOutSerializer = undefined;
  var backgroundTaskOut_1 = require_backgroundTaskOut();
  exports.ListResponseBackgroundTaskOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => backgroundTaskOut_1.BackgroundTaskOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => backgroundTaskOut_1.BackgroundTaskOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/api/backgroundTask.js
var require_backgroundTask = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.BackgroundTask = undefined;
  var backgroundTaskOut_1 = require_backgroundTaskOut();
  var listResponseBackgroundTaskOut_1 = require_listResponseBackgroundTaskOut();
  var request_1 = require_request();

  class BackgroundTask {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/background-task");
      request.setQueryParams({
        status: options === null || options === undefined ? undefined : options.status,
        task: options === null || options === undefined ? undefined : options.task,
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseBackgroundTaskOut_1.ListResponseBackgroundTaskOutSerializer._fromJsonObject);
    }
    listByEndpoint(options) {
      return this.list(options);
    }
    get(taskId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/background-task/{task_id}");
      request.setPathParam("task_id", taskId);
      return request.send(this.requestCtx, backgroundTaskOut_1.BackgroundTaskOutSerializer._fromJsonObject);
    }
  }
  exports.BackgroundTask = BackgroundTask;
});

// ../../node_modules/svix/dist/models/connectorKind.js
var require_connectorKind = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ConnectorKindSerializer = exports.ConnectorKind = undefined;
  var ConnectorKind;
  (function(ConnectorKind2) {
    ConnectorKind2["Custom"] = "Custom";
    ConnectorKind2["AgenticCommerceProtocol"] = "AgenticCommerceProtocol";
    ConnectorKind2["CloseCrm"] = "CloseCRM";
    ConnectorKind2["CustomerIo"] = "CustomerIO";
    ConnectorKind2["Discord"] = "Discord";
    ConnectorKind2["Hubspot"] = "Hubspot";
    ConnectorKind2["Inngest"] = "Inngest";
    ConnectorKind2["Loops"] = "Loops";
    ConnectorKind2["Otel"] = "Otel";
    ConnectorKind2["Resend"] = "Resend";
    ConnectorKind2["Salesforce"] = "Salesforce";
    ConnectorKind2["Segment"] = "Segment";
    ConnectorKind2["Sendgrid"] = "Sendgrid";
    ConnectorKind2["Slack"] = "Slack";
    ConnectorKind2["Teams"] = "Teams";
    ConnectorKind2["TriggerDev"] = "TriggerDev";
    ConnectorKind2["Windmill"] = "Windmill";
    ConnectorKind2["Zapier"] = "Zapier";
  })(ConnectorKind = exports.ConnectorKind || (exports.ConnectorKind = {}));
  exports.ConnectorKindSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/connectorProduct.js
var require_connectorProduct = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ConnectorProductSerializer = exports.ConnectorProduct = undefined;
  var ConnectorProduct;
  (function(ConnectorProduct2) {
    ConnectorProduct2["Dispatch"] = "Dispatch";
    ConnectorProduct2["Stream"] = "Stream";
  })(ConnectorProduct = exports.ConnectorProduct || (exports.ConnectorProduct = {}));
  exports.ConnectorProductSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/connectorIn.js
var require_connectorIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ConnectorInSerializer = undefined;
  var connectorKind_1 = require_connectorKind();
  var connectorProduct_1 = require_connectorProduct();
  exports.ConnectorInSerializer = {
    _fromJsonObject(object) {
      return {
        allowedEventTypes: object["allowedEventTypes"],
        description: object["description"],
        featureFlags: object["featureFlags"],
        instructions: object["instructions"],
        kind: object["kind"] ? connectorKind_1.ConnectorKindSerializer._fromJsonObject(object["kind"]) : undefined,
        logo: object["logo"],
        name: object["name"],
        productType: object["productType"] ? connectorProduct_1.ConnectorProductSerializer._fromJsonObject(object["productType"]) : undefined,
        transformation: object["transformation"],
        uid: object["uid"]
      };
    },
    _toJsonObject(self) {
      return {
        allowedEventTypes: self.allowedEventTypes,
        description: self.description,
        featureFlags: self.featureFlags,
        instructions: self.instructions,
        kind: self.kind ? connectorKind_1.ConnectorKindSerializer._toJsonObject(self.kind) : undefined,
        logo: self.logo,
        name: self.name,
        productType: self.productType ? connectorProduct_1.ConnectorProductSerializer._toJsonObject(self.productType) : undefined,
        transformation: self.transformation,
        uid: self.uid
      };
    }
  };
});

// ../../node_modules/svix/dist/models/connectorOut.js
var require_connectorOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ConnectorOutSerializer = undefined;
  var connectorKind_1 = require_connectorKind();
  var connectorProduct_1 = require_connectorProduct();
  exports.ConnectorOutSerializer = {
    _fromJsonObject(object) {
      return {
        allowedEventTypes: object["allowedEventTypes"],
        createdAt: new Date(object["createdAt"]),
        description: object["description"],
        featureFlags: object["featureFlags"],
        id: object["id"],
        instructions: object["instructions"],
        kind: connectorKind_1.ConnectorKindSerializer._fromJsonObject(object["kind"]),
        logo: object["logo"],
        name: object["name"],
        orgId: object["orgId"],
        productType: connectorProduct_1.ConnectorProductSerializer._fromJsonObject(object["productType"]),
        transformation: object["transformation"],
        transformationUpdatedAt: new Date(object["transformationUpdatedAt"]),
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"])
      };
    },
    _toJsonObject(self) {
      return {
        allowedEventTypes: self.allowedEventTypes,
        createdAt: self.createdAt,
        description: self.description,
        featureFlags: self.featureFlags,
        id: self.id,
        instructions: self.instructions,
        kind: connectorKind_1.ConnectorKindSerializer._toJsonObject(self.kind),
        logo: self.logo,
        name: self.name,
        orgId: self.orgId,
        productType: connectorProduct_1.ConnectorProductSerializer._toJsonObject(self.productType),
        transformation: self.transformation,
        transformationUpdatedAt: self.transformationUpdatedAt,
        uid: self.uid,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/connectorPatch.js
var require_connectorPatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ConnectorPatchSerializer = undefined;
  var connectorKind_1 = require_connectorKind();
  exports.ConnectorPatchSerializer = {
    _fromJsonObject(object) {
      return {
        allowedEventTypes: object["allowedEventTypes"],
        description: object["description"],
        featureFlags: object["featureFlags"],
        instructions: object["instructions"],
        kind: object["kind"] ? connectorKind_1.ConnectorKindSerializer._fromJsonObject(object["kind"]) : undefined,
        logo: object["logo"],
        name: object["name"],
        transformation: object["transformation"]
      };
    },
    _toJsonObject(self) {
      return {
        allowedEventTypes: self.allowedEventTypes,
        description: self.description,
        featureFlags: self.featureFlags,
        instructions: self.instructions,
        kind: self.kind ? connectorKind_1.ConnectorKindSerializer._toJsonObject(self.kind) : undefined,
        logo: self.logo,
        name: self.name,
        transformation: self.transformation
      };
    }
  };
});

// ../../node_modules/svix/dist/models/connectorUpdate.js
var require_connectorUpdate = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ConnectorUpdateSerializer = undefined;
  var connectorKind_1 = require_connectorKind();
  exports.ConnectorUpdateSerializer = {
    _fromJsonObject(object) {
      return {
        allowedEventTypes: object["allowedEventTypes"],
        description: object["description"],
        featureFlags: object["featureFlags"],
        instructions: object["instructions"],
        kind: object["kind"] ? connectorKind_1.ConnectorKindSerializer._fromJsonObject(object["kind"]) : undefined,
        logo: object["logo"],
        name: object["name"],
        transformation: object["transformation"]
      };
    },
    _toJsonObject(self) {
      return {
        allowedEventTypes: self.allowedEventTypes,
        description: self.description,
        featureFlags: self.featureFlags,
        instructions: self.instructions,
        kind: self.kind ? connectorKind_1.ConnectorKindSerializer._toJsonObject(self.kind) : undefined,
        logo: self.logo,
        name: self.name,
        transformation: self.transformation
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseConnectorOut.js
var require_listResponseConnectorOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseConnectorOutSerializer = undefined;
  var connectorOut_1 = require_connectorOut();
  exports.ListResponseConnectorOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => connectorOut_1.ConnectorOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => connectorOut_1.ConnectorOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/api/connector.js
var require_connector = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Connector = undefined;
  var connectorIn_1 = require_connectorIn();
  var connectorOut_1 = require_connectorOut();
  var connectorPatch_1 = require_connectorPatch();
  var connectorUpdate_1 = require_connectorUpdate();
  var listResponseConnectorOut_1 = require_listResponseConnectorOut();
  var request_1 = require_request();

  class Connector {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/connector");
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order,
        product_type: options === null || options === undefined ? undefined : options.productType
      });
      return request.send(this.requestCtx, listResponseConnectorOut_1.ListResponseConnectorOutSerializer._fromJsonObject);
    }
    create(connectorIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/connector");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(connectorIn_1.ConnectorInSerializer._toJsonObject(connectorIn));
      return request.send(this.requestCtx, connectorOut_1.ConnectorOutSerializer._fromJsonObject);
    }
    get(connectorId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/connector/{connector_id}");
      request.setPathParam("connector_id", connectorId);
      return request.send(this.requestCtx, connectorOut_1.ConnectorOutSerializer._fromJsonObject);
    }
    update(connectorId, connectorUpdate) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/connector/{connector_id}");
      request.setPathParam("connector_id", connectorId);
      request.setBody(connectorUpdate_1.ConnectorUpdateSerializer._toJsonObject(connectorUpdate));
      return request.send(this.requestCtx, connectorOut_1.ConnectorOutSerializer._fromJsonObject);
    }
    delete(connectorId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/connector/{connector_id}");
      request.setPathParam("connector_id", connectorId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    patch(connectorId, connectorPatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/connector/{connector_id}");
      request.setPathParam("connector_id", connectorId);
      request.setBody(connectorPatch_1.ConnectorPatchSerializer._toJsonObject(connectorPatch));
      return request.send(this.requestCtx, connectorOut_1.ConnectorOutSerializer._fromJsonObject);
    }
  }
  exports.Connector = Connector;
});

// ../../node_modules/svix/dist/models/endpointHeadersIn.js
var require_endpointHeadersIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointHeadersInSerializer = undefined;
  exports.EndpointHeadersInSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointHeadersOut.js
var require_endpointHeadersOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointHeadersOutSerializer = undefined;
  exports.EndpointHeadersOutSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"],
        sensitive: object["sensitive"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers,
        sensitive: self.sensitive
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointHeadersPatchIn.js
var require_endpointHeadersPatchIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointHeadersPatchInSerializer = undefined;
  exports.EndpointHeadersPatchInSerializer = {
    _fromJsonObject(object) {
      return {
        deleteHeaders: object["deleteHeaders"],
        headers: object["headers"]
      };
    },
    _toJsonObject(self) {
      return {
        deleteHeaders: self.deleteHeaders,
        headers: self.headers
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointIn.js
var require_endpointIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointInSerializer = undefined;
  exports.EndpointInSerializer = {
    _fromJsonObject(object) {
      return {
        channels: object["channels"],
        description: object["description"],
        disabled: object["disabled"],
        filterTypes: object["filterTypes"],
        headers: object["headers"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        secret: object["secret"],
        uid: object["uid"],
        url: object["url"],
        version: object["version"]
      };
    },
    _toJsonObject(self) {
      return {
        channels: self.channels,
        description: self.description,
        disabled: self.disabled,
        filterTypes: self.filterTypes,
        headers: self.headers,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        secret: self.secret,
        uid: self.uid,
        url: self.url,
        version: self.version
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointOut.js
var require_endpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointOutSerializer = undefined;
  exports.EndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        channels: object["channels"],
        createdAt: new Date(object["createdAt"]),
        description: object["description"],
        disabled: object["disabled"],
        filterTypes: object["filterTypes"],
        id: object["id"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"]),
        url: object["url"],
        version: object["version"]
      };
    },
    _toJsonObject(self) {
      return {
        channels: self.channels,
        createdAt: self.createdAt,
        description: self.description,
        disabled: self.disabled,
        filterTypes: self.filterTypes,
        id: self.id,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        uid: self.uid,
        updatedAt: self.updatedAt,
        url: self.url,
        version: self.version
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointPatch.js
var require_endpointPatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointPatchSerializer = undefined;
  exports.EndpointPatchSerializer = {
    _fromJsonObject(object) {
      return {
        channels: object["channels"],
        description: object["description"],
        disabled: object["disabled"],
        filterTypes: object["filterTypes"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        secret: object["secret"],
        uid: object["uid"],
        url: object["url"],
        version: object["version"]
      };
    },
    _toJsonObject(self) {
      return {
        channels: self.channels,
        description: self.description,
        disabled: self.disabled,
        filterTypes: self.filterTypes,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        secret: self.secret,
        uid: self.uid,
        url: self.url,
        version: self.version
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointSecretOut.js
var require_endpointSecretOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointSecretOutSerializer = undefined;
  exports.EndpointSecretOutSerializer = {
    _fromJsonObject(object) {
      return {
        key: object["key"]
      };
    },
    _toJsonObject(self) {
      return {
        key: self.key
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointSecretRotateIn.js
var require_endpointSecretRotateIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointSecretRotateInSerializer = undefined;
  exports.EndpointSecretRotateInSerializer = {
    _fromJsonObject(object) {
      return {
        key: object["key"]
      };
    },
    _toJsonObject(self) {
      return {
        key: self.key
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointStats.js
var require_endpointStats = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointStatsSerializer = undefined;
  exports.EndpointStatsSerializer = {
    _fromJsonObject(object) {
      return {
        fail: object["fail"],
        pending: object["pending"],
        sending: object["sending"],
        success: object["success"]
      };
    },
    _toJsonObject(self) {
      return {
        fail: self.fail,
        pending: self.pending,
        sending: self.sending,
        success: self.success
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointTransformationIn.js
var require_endpointTransformationIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointTransformationInSerializer = undefined;
  exports.EndpointTransformationInSerializer = {
    _fromJsonObject(object) {
      return {
        code: object["code"],
        enabled: object["enabled"]
      };
    },
    _toJsonObject(self) {
      return {
        code: self.code,
        enabled: self.enabled
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointTransformationOut.js
var require_endpointTransformationOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointTransformationOutSerializer = undefined;
  exports.EndpointTransformationOutSerializer = {
    _fromJsonObject(object) {
      return {
        code: object["code"],
        enabled: object["enabled"],
        updatedAt: object["updatedAt"] ? new Date(object["updatedAt"]) : null
      };
    },
    _toJsonObject(self) {
      return {
        code: self.code,
        enabled: self.enabled,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointTransformationPatch.js
var require_endpointTransformationPatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointTransformationPatchSerializer = undefined;
  exports.EndpointTransformationPatchSerializer = {
    _fromJsonObject(object) {
      return {
        code: object["code"],
        enabled: object["enabled"]
      };
    },
    _toJsonObject(self) {
      return {
        code: self.code,
        enabled: self.enabled
      };
    }
  };
});

// ../../node_modules/svix/dist/models/endpointUpdate.js
var require_endpointUpdate = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointUpdateSerializer = undefined;
  exports.EndpointUpdateSerializer = {
    _fromJsonObject(object) {
      return {
        channels: object["channels"],
        description: object["description"],
        disabled: object["disabled"],
        filterTypes: object["filterTypes"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        uid: object["uid"],
        url: object["url"],
        version: object["version"]
      };
    },
    _toJsonObject(self) {
      return {
        channels: self.channels,
        description: self.description,
        disabled: self.disabled,
        filterTypes: self.filterTypes,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        uid: self.uid,
        url: self.url,
        version: self.version
      };
    }
  };
});

// ../../node_modules/svix/dist/models/eventExampleIn.js
var require_eventExampleIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventExampleInSerializer = undefined;
  exports.EventExampleInSerializer = {
    _fromJsonObject(object) {
      return {
        eventType: object["eventType"],
        exampleIndex: object["exampleIndex"]
      };
    },
    _toJsonObject(self) {
      return {
        eventType: self.eventType,
        exampleIndex: self.exampleIndex
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseEndpointOut.js
var require_listResponseEndpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseEndpointOutSerializer = undefined;
  var endpointOut_1 = require_endpointOut();
  exports.ListResponseEndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => endpointOut_1.EndpointOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => endpointOut_1.EndpointOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/messageOut.js
var require_messageOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessageOutSerializer = undefined;
  exports.MessageOutSerializer = {
    _fromJsonObject(object) {
      return {
        channels: object["channels"],
        deliverAt: object["deliverAt"] ? new Date(object["deliverAt"]) : null,
        eventId: object["eventId"],
        eventType: object["eventType"],
        id: object["id"],
        payload: object["payload"],
        tags: object["tags"],
        timestamp: new Date(object["timestamp"])
      };
    },
    _toJsonObject(self) {
      return {
        channels: self.channels,
        deliverAt: self.deliverAt,
        eventId: self.eventId,
        eventType: self.eventType,
        id: self.id,
        payload: self.payload,
        tags: self.tags,
        timestamp: self.timestamp
      };
    }
  };
});

// ../../node_modules/svix/dist/models/recoverIn.js
var require_recoverIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.RecoverInSerializer = undefined;
  exports.RecoverInSerializer = {
    _fromJsonObject(object) {
      return {
        since: new Date(object["since"]),
        until: object["until"] ? new Date(object["until"]) : null
      };
    },
    _toJsonObject(self) {
      return {
        since: self.since,
        until: self.until
      };
    }
  };
});

// ../../node_modules/svix/dist/models/recoverOut.js
var require_recoverOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.RecoverOutSerializer = undefined;
  var backgroundTaskStatus_1 = require_backgroundTaskStatus();
  var backgroundTaskType_1 = require_backgroundTaskType();
  exports.RecoverOutSerializer = {
    _fromJsonObject(object) {
      return {
        id: object["id"],
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._fromJsonObject(object["status"]),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._fromJsonObject(object["task"])
      };
    },
    _toJsonObject(self) {
      return {
        id: self.id,
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._toJsonObject(self.status),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._toJsonObject(self.task)
      };
    }
  };
});

// ../../node_modules/svix/dist/models/replayIn.js
var require_replayIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ReplayInSerializer = undefined;
  exports.ReplayInSerializer = {
    _fromJsonObject(object) {
      return {
        since: new Date(object["since"]),
        until: object["until"] ? new Date(object["until"]) : null
      };
    },
    _toJsonObject(self) {
      return {
        since: self.since,
        until: self.until
      };
    }
  };
});

// ../../node_modules/svix/dist/models/replayOut.js
var require_replayOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ReplayOutSerializer = undefined;
  var backgroundTaskStatus_1 = require_backgroundTaskStatus();
  var backgroundTaskType_1 = require_backgroundTaskType();
  exports.ReplayOutSerializer = {
    _fromJsonObject(object) {
      return {
        id: object["id"],
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._fromJsonObject(object["status"]),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._fromJsonObject(object["task"])
      };
    },
    _toJsonObject(self) {
      return {
        id: self.id,
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._toJsonObject(self.status),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._toJsonObject(self.task)
      };
    }
  };
});

// ../../node_modules/svix/dist/api/endpoint.js
var require_endpoint = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Endpoint = undefined;
  var endpointHeadersIn_1 = require_endpointHeadersIn();
  var endpointHeadersOut_1 = require_endpointHeadersOut();
  var endpointHeadersPatchIn_1 = require_endpointHeadersPatchIn();
  var endpointIn_1 = require_endpointIn();
  var endpointOut_1 = require_endpointOut();
  var endpointPatch_1 = require_endpointPatch();
  var endpointSecretOut_1 = require_endpointSecretOut();
  var endpointSecretRotateIn_1 = require_endpointSecretRotateIn();
  var endpointStats_1 = require_endpointStats();
  var endpointTransformationIn_1 = require_endpointTransformationIn();
  var endpointTransformationOut_1 = require_endpointTransformationOut();
  var endpointTransformationPatch_1 = require_endpointTransformationPatch();
  var endpointUpdate_1 = require_endpointUpdate();
  var eventExampleIn_1 = require_eventExampleIn();
  var listResponseEndpointOut_1 = require_listResponseEndpointOut();
  var messageOut_1 = require_messageOut();
  var recoverIn_1 = require_recoverIn();
  var recoverOut_1 = require_recoverOut();
  var replayIn_1 = require_replayIn();
  var replayOut_1 = require_replayOut();
  var request_1 = require_request();

  class Endpoint {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(appId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/endpoint");
      request.setPathParam("app_id", appId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseEndpointOut_1.ListResponseEndpointOutSerializer._fromJsonObject);
    }
    create(appId, endpointIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/endpoint");
      request.setPathParam("app_id", appId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(endpointIn_1.EndpointInSerializer._toJsonObject(endpointIn));
      return request.send(this.requestCtx, endpointOut_1.EndpointOutSerializer._fromJsonObject);
    }
    get(appId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/endpoint/{endpoint_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, endpointOut_1.EndpointOutSerializer._fromJsonObject);
    }
    update(appId, endpointId, endpointUpdate) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/app/{app_id}/endpoint/{endpoint_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(endpointUpdate_1.EndpointUpdateSerializer._toJsonObject(endpointUpdate));
      return request.send(this.requestCtx, endpointOut_1.EndpointOutSerializer._fromJsonObject);
    }
    delete(appId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/app/{app_id}/endpoint/{endpoint_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    patch(appId, endpointId, endpointPatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/app/{app_id}/endpoint/{endpoint_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(endpointPatch_1.EndpointPatchSerializer._toJsonObject(endpointPatch));
      return request.send(this.requestCtx, endpointOut_1.EndpointOutSerializer._fromJsonObject);
    }
    getHeaders(appId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, endpointHeadersOut_1.EndpointHeadersOutSerializer._fromJsonObject);
    }
    updateHeaders(appId, endpointId, endpointHeadersIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(endpointHeadersIn_1.EndpointHeadersInSerializer._toJsonObject(endpointHeadersIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
    headersUpdate(appId, endpointId, endpointHeadersIn) {
      return this.updateHeaders(appId, endpointId, endpointHeadersIn);
    }
    patchHeaders(appId, endpointId, endpointHeadersPatchIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(endpointHeadersPatchIn_1.EndpointHeadersPatchInSerializer._toJsonObject(endpointHeadersPatchIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
    headersPatch(appId, endpointId, endpointHeadersPatchIn) {
      return this.patchHeaders(appId, endpointId, endpointHeadersPatchIn);
    }
    recover(appId, endpointId, recoverIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(recoverIn_1.RecoverInSerializer._toJsonObject(recoverIn));
      return request.send(this.requestCtx, recoverOut_1.RecoverOutSerializer._fromJsonObject);
    }
    replayMissing(appId, endpointId, replayIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(replayIn_1.ReplayInSerializer._toJsonObject(replayIn));
      return request.send(this.requestCtx, replayOut_1.ReplayOutSerializer._fromJsonObject);
    }
    getSecret(appId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, endpointSecretOut_1.EndpointSecretOutSerializer._fromJsonObject);
    }
    rotateSecret(appId, endpointId, endpointSecretRotateIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(endpointSecretRotateIn_1.EndpointSecretRotateInSerializer._toJsonObject(endpointSecretRotateIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
    sendExample(appId, endpointId, eventExampleIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(eventExampleIn_1.EventExampleInSerializer._toJsonObject(eventExampleIn));
      return request.send(this.requestCtx, messageOut_1.MessageOutSerializer._fromJsonObject);
    }
    getStats(appId, endpointId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setQueryParams({
        since: options === null || options === undefined ? undefined : options.since,
        until: options === null || options === undefined ? undefined : options.until
      });
      return request.send(this.requestCtx, endpointStats_1.EndpointStatsSerializer._fromJsonObject);
    }
    transformationGet(appId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, endpointTransformationOut_1.EndpointTransformationOutSerializer._fromJsonObject);
    }
    patchTransformation(appId, endpointId, endpointTransformationPatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(endpointTransformationPatch_1.EndpointTransformationPatchSerializer._toJsonObject(endpointTransformationPatch));
      return request.sendNoResponseBody(this.requestCtx);
    }
    transformationPartialUpdate(appId, endpointId, endpointTransformationIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(endpointTransformationIn_1.EndpointTransformationInSerializer._toJsonObject(endpointTransformationIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
  }
  exports.Endpoint = Endpoint;
});

// ../../node_modules/svix/dist/models/eventTypeIn.js
var require_eventTypeIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventTypeInSerializer = undefined;
  exports.EventTypeInSerializer = {
    _fromJsonObject(object) {
      return {
        archived: object["archived"],
        deprecated: object["deprecated"],
        description: object["description"],
        featureFlag: object["featureFlag"],
        featureFlags: object["featureFlags"],
        groupName: object["groupName"],
        name: object["name"],
        schemas: object["schemas"]
      };
    },
    _toJsonObject(self) {
      return {
        archived: self.archived,
        deprecated: self.deprecated,
        description: self.description,
        featureFlag: self.featureFlag,
        featureFlags: self.featureFlags,
        groupName: self.groupName,
        name: self.name,
        schemas: self.schemas
      };
    }
  };
});

// ../../node_modules/svix/dist/models/environmentIn.js
var require_environmentIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EnvironmentInSerializer = undefined;
  var connectorIn_1 = require_connectorIn();
  var eventTypeIn_1 = require_eventTypeIn();
  exports.EnvironmentInSerializer = {
    _fromJsonObject(object) {
      var _a, _b;
      return {
        connectors: (_a = object["connectors"]) === null || _a === undefined ? undefined : _a.map((item) => connectorIn_1.ConnectorInSerializer._fromJsonObject(item)),
        eventTypes: (_b = object["eventTypes"]) === null || _b === undefined ? undefined : _b.map((item) => eventTypeIn_1.EventTypeInSerializer._fromJsonObject(item)),
        settings: object["settings"]
      };
    },
    _toJsonObject(self) {
      var _a, _b;
      return {
        connectors: (_a = self.connectors) === null || _a === undefined ? undefined : _a.map((item) => connectorIn_1.ConnectorInSerializer._toJsonObject(item)),
        eventTypes: (_b = self.eventTypes) === null || _b === undefined ? undefined : _b.map((item) => eventTypeIn_1.EventTypeInSerializer._toJsonObject(item)),
        settings: self.settings
      };
    }
  };
});

// ../../node_modules/svix/dist/models/eventTypeOut.js
var require_eventTypeOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventTypeOutSerializer = undefined;
  exports.EventTypeOutSerializer = {
    _fromJsonObject(object) {
      return {
        archived: object["archived"],
        createdAt: new Date(object["createdAt"]),
        deprecated: object["deprecated"],
        description: object["description"],
        featureFlag: object["featureFlag"],
        featureFlags: object["featureFlags"],
        groupName: object["groupName"],
        name: object["name"],
        schemas: object["schemas"],
        updatedAt: new Date(object["updatedAt"])
      };
    },
    _toJsonObject(self) {
      return {
        archived: self.archived,
        createdAt: self.createdAt,
        deprecated: self.deprecated,
        description: self.description,
        featureFlag: self.featureFlag,
        featureFlags: self.featureFlags,
        groupName: self.groupName,
        name: self.name,
        schemas: self.schemas,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/environmentOut.js
var require_environmentOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EnvironmentOutSerializer = undefined;
  var connectorOut_1 = require_connectorOut();
  var eventTypeOut_1 = require_eventTypeOut();
  exports.EnvironmentOutSerializer = {
    _fromJsonObject(object) {
      return {
        connectors: object["connectors"].map((item) => connectorOut_1.ConnectorOutSerializer._fromJsonObject(item)),
        createdAt: new Date(object["createdAt"]),
        eventTypes: object["eventTypes"].map((item) => eventTypeOut_1.EventTypeOutSerializer._fromJsonObject(item)),
        settings: object["settings"],
        version: object["version"]
      };
    },
    _toJsonObject(self) {
      return {
        connectors: self.connectors.map((item) => connectorOut_1.ConnectorOutSerializer._toJsonObject(item)),
        createdAt: self.createdAt,
        eventTypes: self.eventTypes.map((item) => eventTypeOut_1.EventTypeOutSerializer._toJsonObject(item)),
        settings: self.settings,
        version: self.version
      };
    }
  };
});

// ../../node_modules/svix/dist/api/environment.js
var require_environment = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Environment = undefined;
  var environmentIn_1 = require_environmentIn();
  var environmentOut_1 = require_environmentOut();
  var request_1 = require_request();

  class Environment {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    export(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/environment/export");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      return request.send(this.requestCtx, environmentOut_1.EnvironmentOutSerializer._fromJsonObject);
    }
    import(environmentIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/environment/import");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(environmentIn_1.EnvironmentInSerializer._toJsonObject(environmentIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
  }
  exports.Environment = Environment;
});

// ../../node_modules/svix/dist/models/eventTypeImportOpenApiIn.js
var require_eventTypeImportOpenApiIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventTypeImportOpenApiInSerializer = undefined;
  exports.EventTypeImportOpenApiInSerializer = {
    _fromJsonObject(object) {
      return {
        dryRun: object["dryRun"],
        replaceAll: object["replaceAll"],
        spec: object["spec"],
        specRaw: object["specRaw"]
      };
    },
    _toJsonObject(self) {
      return {
        dryRun: self.dryRun,
        replaceAll: self.replaceAll,
        spec: self.spec,
        specRaw: self.specRaw
      };
    }
  };
});

// ../../node_modules/svix/dist/models/eventTypeFromOpenApi.js
var require_eventTypeFromOpenApi = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventTypeFromOpenApiSerializer = undefined;
  exports.EventTypeFromOpenApiSerializer = {
    _fromJsonObject(object) {
      return {
        deprecated: object["deprecated"],
        description: object["description"],
        featureFlag: object["featureFlag"],
        featureFlags: object["featureFlags"],
        groupName: object["groupName"],
        name: object["name"],
        schemas: object["schemas"]
      };
    },
    _toJsonObject(self) {
      return {
        deprecated: self.deprecated,
        description: self.description,
        featureFlag: self.featureFlag,
        featureFlags: self.featureFlags,
        groupName: self.groupName,
        name: self.name,
        schemas: self.schemas
      };
    }
  };
});

// ../../node_modules/svix/dist/models/eventTypeImportOpenApiOutData.js
var require_eventTypeImportOpenApiOutData = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventTypeImportOpenApiOutDataSerializer = undefined;
  var eventTypeFromOpenApi_1 = require_eventTypeFromOpenApi();
  exports.EventTypeImportOpenApiOutDataSerializer = {
    _fromJsonObject(object) {
      var _a;
      return {
        modified: object["modified"],
        toModify: (_a = object["to_modify"]) === null || _a === undefined ? undefined : _a.map((item) => eventTypeFromOpenApi_1.EventTypeFromOpenApiSerializer._fromJsonObject(item))
      };
    },
    _toJsonObject(self) {
      var _a;
      return {
        modified: self.modified,
        to_modify: (_a = self.toModify) === null || _a === undefined ? undefined : _a.map((item) => eventTypeFromOpenApi_1.EventTypeFromOpenApiSerializer._toJsonObject(item))
      };
    }
  };
});

// ../../node_modules/svix/dist/models/eventTypeImportOpenApiOut.js
var require_eventTypeImportOpenApiOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventTypeImportOpenApiOutSerializer = undefined;
  var eventTypeImportOpenApiOutData_1 = require_eventTypeImportOpenApiOutData();
  exports.EventTypeImportOpenApiOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: eventTypeImportOpenApiOutData_1.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(object["data"])
      };
    },
    _toJsonObject(self) {
      return {
        data: eventTypeImportOpenApiOutData_1.EventTypeImportOpenApiOutDataSerializer._toJsonObject(self.data)
      };
    }
  };
});

// ../../node_modules/svix/dist/models/eventTypePatch.js
var require_eventTypePatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventTypePatchSerializer = undefined;
  exports.EventTypePatchSerializer = {
    _fromJsonObject(object) {
      return {
        archived: object["archived"],
        deprecated: object["deprecated"],
        description: object["description"],
        featureFlag: object["featureFlag"],
        featureFlags: object["featureFlags"],
        groupName: object["groupName"],
        schemas: object["schemas"]
      };
    },
    _toJsonObject(self) {
      return {
        archived: self.archived,
        deprecated: self.deprecated,
        description: self.description,
        featureFlag: self.featureFlag,
        featureFlags: self.featureFlags,
        groupName: self.groupName,
        schemas: self.schemas
      };
    }
  };
});

// ../../node_modules/svix/dist/models/eventTypeUpdate.js
var require_eventTypeUpdate = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventTypeUpdateSerializer = undefined;
  exports.EventTypeUpdateSerializer = {
    _fromJsonObject(object) {
      return {
        archived: object["archived"],
        deprecated: object["deprecated"],
        description: object["description"],
        featureFlag: object["featureFlag"],
        featureFlags: object["featureFlags"],
        groupName: object["groupName"],
        schemas: object["schemas"]
      };
    },
    _toJsonObject(self) {
      return {
        archived: self.archived,
        deprecated: self.deprecated,
        description: self.description,
        featureFlag: self.featureFlag,
        featureFlags: self.featureFlags,
        groupName: self.groupName,
        schemas: self.schemas
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseEventTypeOut.js
var require_listResponseEventTypeOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseEventTypeOutSerializer = undefined;
  var eventTypeOut_1 = require_eventTypeOut();
  exports.ListResponseEventTypeOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => eventTypeOut_1.EventTypeOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => eventTypeOut_1.EventTypeOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/api/eventType.js
var require_eventType = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventType = undefined;
  var eventTypeImportOpenApiIn_1 = require_eventTypeImportOpenApiIn();
  var eventTypeImportOpenApiOut_1 = require_eventTypeImportOpenApiOut();
  var eventTypeIn_1 = require_eventTypeIn();
  var eventTypeOut_1 = require_eventTypeOut();
  var eventTypePatch_1 = require_eventTypePatch();
  var eventTypeUpdate_1 = require_eventTypeUpdate();
  var listResponseEventTypeOut_1 = require_listResponseEventTypeOut();
  var request_1 = require_request();

  class EventType {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/event-type");
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order,
        include_archived: options === null || options === undefined ? undefined : options.includeArchived,
        with_content: options === null || options === undefined ? undefined : options.withContent
      });
      return request.send(this.requestCtx, listResponseEventTypeOut_1.ListResponseEventTypeOutSerializer._fromJsonObject);
    }
    create(eventTypeIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/event-type");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(eventTypeIn_1.EventTypeInSerializer._toJsonObject(eventTypeIn));
      return request.send(this.requestCtx, eventTypeOut_1.EventTypeOutSerializer._fromJsonObject);
    }
    importOpenapi(eventTypeImportOpenApiIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/event-type/import/openapi");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(eventTypeImportOpenApiIn_1.EventTypeImportOpenApiInSerializer._toJsonObject(eventTypeImportOpenApiIn));
      return request.send(this.requestCtx, eventTypeImportOpenApiOut_1.EventTypeImportOpenApiOutSerializer._fromJsonObject);
    }
    get(eventTypeName) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/event-type/{event_type_name}");
      request.setPathParam("event_type_name", eventTypeName);
      return request.send(this.requestCtx, eventTypeOut_1.EventTypeOutSerializer._fromJsonObject);
    }
    update(eventTypeName, eventTypeUpdate) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/event-type/{event_type_name}");
      request.setPathParam("event_type_name", eventTypeName);
      request.setBody(eventTypeUpdate_1.EventTypeUpdateSerializer._toJsonObject(eventTypeUpdate));
      return request.send(this.requestCtx, eventTypeOut_1.EventTypeOutSerializer._fromJsonObject);
    }
    delete(eventTypeName, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/event-type/{event_type_name}");
      request.setPathParam("event_type_name", eventTypeName);
      request.setQueryParams({
        expunge: options === null || options === undefined ? undefined : options.expunge
      });
      return request.sendNoResponseBody(this.requestCtx);
    }
    patch(eventTypeName, eventTypePatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/event-type/{event_type_name}");
      request.setPathParam("event_type_name", eventTypeName);
      request.setBody(eventTypePatch_1.EventTypePatchSerializer._toJsonObject(eventTypePatch));
      return request.send(this.requestCtx, eventTypeOut_1.EventTypeOutSerializer._fromJsonObject);
    }
  }
  exports.EventType = EventType;
});

// ../../node_modules/svix/dist/api/health.js
var require_health = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Health = undefined;
  var request_1 = require_request();

  class Health {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    get() {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/health");
      return request.sendNoResponseBody(this.requestCtx);
    }
  }
  exports.Health = Health;
});

// ../../node_modules/svix/dist/models/ingestSourceConsumerPortalAccessIn.js
var require_ingestSourceConsumerPortalAccessIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestSourceConsumerPortalAccessInSerializer = undefined;
  exports.IngestSourceConsumerPortalAccessInSerializer = {
    _fromJsonObject(object) {
      return {
        expiry: object["expiry"],
        readOnly: object["readOnly"]
      };
    },
    _toJsonObject(self) {
      return {
        expiry: self.expiry,
        readOnly: self.readOnly
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointHeadersIn.js
var require_ingestEndpointHeadersIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointHeadersInSerializer = undefined;
  exports.IngestEndpointHeadersInSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointHeadersOut.js
var require_ingestEndpointHeadersOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointHeadersOutSerializer = undefined;
  exports.IngestEndpointHeadersOutSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"],
        sensitive: object["sensitive"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers,
        sensitive: self.sensitive
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointIn.js
var require_ingestEndpointIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointInSerializer = undefined;
  exports.IngestEndpointInSerializer = {
    _fromJsonObject(object) {
      return {
        description: object["description"],
        disabled: object["disabled"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        secret: object["secret"],
        uid: object["uid"],
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        description: self.description,
        disabled: self.disabled,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        secret: self.secret,
        uid: self.uid,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointOut.js
var require_ingestEndpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointOutSerializer = undefined;
  exports.IngestEndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        createdAt: new Date(object["createdAt"]),
        description: object["description"],
        disabled: object["disabled"],
        id: object["id"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"]),
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        createdAt: self.createdAt,
        description: self.description,
        disabled: self.disabled,
        id: self.id,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        uid: self.uid,
        updatedAt: self.updatedAt,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointSecretIn.js
var require_ingestEndpointSecretIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointSecretInSerializer = undefined;
  exports.IngestEndpointSecretInSerializer = {
    _fromJsonObject(object) {
      return {
        key: object["key"]
      };
    },
    _toJsonObject(self) {
      return {
        key: self.key
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointSecretOut.js
var require_ingestEndpointSecretOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointSecretOutSerializer = undefined;
  exports.IngestEndpointSecretOutSerializer = {
    _fromJsonObject(object) {
      return {
        key: object["key"]
      };
    },
    _toJsonObject(self) {
      return {
        key: self.key
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointTransformationOut.js
var require_ingestEndpointTransformationOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointTransformationOutSerializer = undefined;
  exports.IngestEndpointTransformationOutSerializer = {
    _fromJsonObject(object) {
      return {
        code: object["code"],
        enabled: object["enabled"]
      };
    },
    _toJsonObject(self) {
      return {
        code: self.code,
        enabled: self.enabled
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointTransformationPatch.js
var require_ingestEndpointTransformationPatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointTransformationPatchSerializer = undefined;
  exports.IngestEndpointTransformationPatchSerializer = {
    _fromJsonObject(object) {
      return {
        code: object["code"],
        enabled: object["enabled"]
      };
    },
    _toJsonObject(self) {
      return {
        code: self.code,
        enabled: self.enabled
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestEndpointUpdate.js
var require_ingestEndpointUpdate = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpointUpdateSerializer = undefined;
  exports.IngestEndpointUpdateSerializer = {
    _fromJsonObject(object) {
      return {
        description: object["description"],
        disabled: object["disabled"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        uid: object["uid"],
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        description: self.description,
        disabled: self.disabled,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        uid: self.uid,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseIngestEndpointOut.js
var require_listResponseIngestEndpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseIngestEndpointOutSerializer = undefined;
  var ingestEndpointOut_1 = require_ingestEndpointOut();
  exports.ListResponseIngestEndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => ingestEndpointOut_1.IngestEndpointOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => ingestEndpointOut_1.IngestEndpointOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/api/ingestEndpoint.js
var require_ingestEndpoint = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestEndpoint = undefined;
  var ingestEndpointHeadersIn_1 = require_ingestEndpointHeadersIn();
  var ingestEndpointHeadersOut_1 = require_ingestEndpointHeadersOut();
  var ingestEndpointIn_1 = require_ingestEndpointIn();
  var ingestEndpointOut_1 = require_ingestEndpointOut();
  var ingestEndpointSecretIn_1 = require_ingestEndpointSecretIn();
  var ingestEndpointSecretOut_1 = require_ingestEndpointSecretOut();
  var ingestEndpointTransformationOut_1 = require_ingestEndpointTransformationOut();
  var ingestEndpointTransformationPatch_1 = require_ingestEndpointTransformationPatch();
  var ingestEndpointUpdate_1 = require_ingestEndpointUpdate();
  var listResponseIngestEndpointOut_1 = require_listResponseIngestEndpointOut();
  var request_1 = require_request();

  class IngestEndpoint {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(sourceId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/ingest/api/v1/source/{source_id}/endpoint");
      request.setPathParam("source_id", sourceId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseIngestEndpointOut_1.ListResponseIngestEndpointOutSerializer._fromJsonObject);
    }
    create(sourceId, ingestEndpointIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/ingest/api/v1/source/{source_id}/endpoint");
      request.setPathParam("source_id", sourceId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(ingestEndpointIn_1.IngestEndpointInSerializer._toJsonObject(ingestEndpointIn));
      return request.send(this.requestCtx, ingestEndpointOut_1.IngestEndpointOutSerializer._fromJsonObject);
    }
    get(sourceId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, ingestEndpointOut_1.IngestEndpointOutSerializer._fromJsonObject);
    }
    update(sourceId, endpointId, ingestEndpointUpdate) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(ingestEndpointUpdate_1.IngestEndpointUpdateSerializer._toJsonObject(ingestEndpointUpdate));
      return request.send(this.requestCtx, ingestEndpointOut_1.IngestEndpointOutSerializer._fromJsonObject);
    }
    delete(sourceId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    getHeaders(sourceId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, ingestEndpointHeadersOut_1.IngestEndpointHeadersOutSerializer._fromJsonObject);
    }
    updateHeaders(sourceId, endpointId, ingestEndpointHeadersIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(ingestEndpointHeadersIn_1.IngestEndpointHeadersInSerializer._toJsonObject(ingestEndpointHeadersIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
    getSecret(sourceId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, ingestEndpointSecretOut_1.IngestEndpointSecretOutSerializer._fromJsonObject);
    }
    rotateSecret(sourceId, endpointId, ingestEndpointSecretIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(ingestEndpointSecretIn_1.IngestEndpointSecretInSerializer._toJsonObject(ingestEndpointSecretIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
    getTransformation(sourceId, endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, ingestEndpointTransformationOut_1.IngestEndpointTransformationOutSerializer._fromJsonObject);
    }
    setTransformation(sourceId, endpointId, ingestEndpointTransformationPatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");
      request.setPathParam("source_id", sourceId);
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(ingestEndpointTransformationPatch_1.IngestEndpointTransformationPatchSerializer._toJsonObject(ingestEndpointTransformationPatch));
      return request.sendNoResponseBody(this.requestCtx);
    }
  }
  exports.IngestEndpoint = IngestEndpoint;
});

// ../../node_modules/svix/dist/models/adobeSignConfig.js
var require_adobeSignConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AdobeSignConfigSerializer = undefined;
  exports.AdobeSignConfigSerializer = {
    _fromJsonObject(object) {
      return {
        clientId: object["clientId"]
      };
    },
    _toJsonObject(self) {
      return {
        clientId: self.clientId
      };
    }
  };
});

// ../../node_modules/svix/dist/models/airwallexConfig.js
var require_airwallexConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AirwallexConfigSerializer = undefined;
  exports.AirwallexConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/checkbookConfig.js
var require_checkbookConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.CheckbookConfigSerializer = undefined;
  exports.CheckbookConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/cronConfig.js
var require_cronConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.CronConfigSerializer = undefined;
  exports.CronConfigSerializer = {
    _fromJsonObject(object) {
      return {
        contentType: object["contentType"],
        payload: object["payload"],
        schedule: object["schedule"]
      };
    },
    _toJsonObject(self) {
      return {
        contentType: self.contentType,
        payload: self.payload,
        schedule: self.schedule
      };
    }
  };
});

// ../../node_modules/svix/dist/models/docusignConfig.js
var require_docusignConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.DocusignConfigSerializer = undefined;
  exports.DocusignConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/easypostConfig.js
var require_easypostConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EasypostConfigSerializer = undefined;
  exports.EasypostConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/githubConfig.js
var require_githubConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.GithubConfigSerializer = undefined;
  exports.GithubConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/hubspotConfig.js
var require_hubspotConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.HubspotConfigSerializer = undefined;
  exports.HubspotConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/orumIoConfig.js
var require_orumIoConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OrumIoConfigSerializer = undefined;
  exports.OrumIoConfigSerializer = {
    _fromJsonObject(object) {
      return {
        publicKey: object["publicKey"]
      };
    },
    _toJsonObject(self) {
      return {
        publicKey: self.publicKey
      };
    }
  };
});

// ../../node_modules/svix/dist/models/pandaDocConfig.js
var require_pandaDocConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.PandaDocConfigSerializer = undefined;
  exports.PandaDocConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/portIoConfig.js
var require_portIoConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.PortIoConfigSerializer = undefined;
  exports.PortIoConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/rutterConfig.js
var require_rutterConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.RutterConfigSerializer = undefined;
  exports.RutterConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/segmentConfig.js
var require_segmentConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SegmentConfigSerializer = undefined;
  exports.SegmentConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/shopifyConfig.js
var require_shopifyConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ShopifyConfigSerializer = undefined;
  exports.ShopifyConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/slackConfig.js
var require_slackConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SlackConfigSerializer = undefined;
  exports.SlackConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/stripeConfig.js
var require_stripeConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StripeConfigSerializer = undefined;
  exports.StripeConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/svixConfig.js
var require_svixConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SvixConfigSerializer = undefined;
  exports.SvixConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/telnyxConfig.js
var require_telnyxConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.TelnyxConfigSerializer = undefined;
  exports.TelnyxConfigSerializer = {
    _fromJsonObject(object) {
      return {
        publicKey: object["publicKey"]
      };
    },
    _toJsonObject(self) {
      return {
        publicKey: self.publicKey
      };
    }
  };
});

// ../../node_modules/svix/dist/models/vapiConfig.js
var require_vapiConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.VapiConfigSerializer = undefined;
  exports.VapiConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/veriffConfig.js
var require_veriffConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.VeriffConfigSerializer = undefined;
  exports.VeriffConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/zoomConfig.js
var require_zoomConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ZoomConfigSerializer = undefined;
  exports.ZoomConfigSerializer = {
    _fromJsonObject(object) {
      return {
        secret: object["secret"]
      };
    },
    _toJsonObject(self) {
      return {
        secret: self.secret
      };
    }
  };
});

// ../../node_modules/svix/dist/models/ingestSourceIn.js
var require_ingestSourceIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestSourceInSerializer = undefined;
  var adobeSignConfig_1 = require_adobeSignConfig();
  var airwallexConfig_1 = require_airwallexConfig();
  var checkbookConfig_1 = require_checkbookConfig();
  var cronConfig_1 = require_cronConfig();
  var docusignConfig_1 = require_docusignConfig();
  var easypostConfig_1 = require_easypostConfig();
  var githubConfig_1 = require_githubConfig();
  var hubspotConfig_1 = require_hubspotConfig();
  var orumIoConfig_1 = require_orumIoConfig();
  var pandaDocConfig_1 = require_pandaDocConfig();
  var portIoConfig_1 = require_portIoConfig();
  var rutterConfig_1 = require_rutterConfig();
  var segmentConfig_1 = require_segmentConfig();
  var shopifyConfig_1 = require_shopifyConfig();
  var slackConfig_1 = require_slackConfig();
  var stripeConfig_1 = require_stripeConfig();
  var svixConfig_1 = require_svixConfig();
  var telnyxConfig_1 = require_telnyxConfig();
  var vapiConfig_1 = require_vapiConfig();
  var veriffConfig_1 = require_veriffConfig();
  var zoomConfig_1 = require_zoomConfig();
  exports.IngestSourceInSerializer = {
    _fromJsonObject(object) {
      const type = object["type"];
      function getConfig(type2) {
        switch (type2) {
          case "generic-webhook":
            return {};
          case "cron":
            return cronConfig_1.CronConfigSerializer._fromJsonObject(object["config"]);
          case "adobe-sign":
            return adobeSignConfig_1.AdobeSignConfigSerializer._fromJsonObject(object["config"]);
          case "beehiiv":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "brex":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "checkbook":
            return checkbookConfig_1.CheckbookConfigSerializer._fromJsonObject(object["config"]);
          case "clerk":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "docusign":
            return docusignConfig_1.DocusignConfigSerializer._fromJsonObject(object["config"]);
          case "easypost":
            return easypostConfig_1.EasypostConfigSerializer._fromJsonObject(object["config"]);
          case "github":
            return githubConfig_1.GithubConfigSerializer._fromJsonObject(object["config"]);
          case "guesty":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "hubspot":
            return hubspotConfig_1.HubspotConfigSerializer._fromJsonObject(object["config"]);
          case "incident-io":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "lithic":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "nash":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "orum-io":
            return orumIoConfig_1.OrumIoConfigSerializer._fromJsonObject(object["config"]);
          case "panda-doc":
            return pandaDocConfig_1.PandaDocConfigSerializer._fromJsonObject(object["config"]);
          case "port-io":
            return portIoConfig_1.PortIoConfigSerializer._fromJsonObject(object["config"]);
          case "pleo":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "replicate":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "resend":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "rutter":
            return rutterConfig_1.RutterConfigSerializer._fromJsonObject(object["config"]);
          case "safebase":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "sardine":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "segment":
            return segmentConfig_1.SegmentConfigSerializer._fromJsonObject(object["config"]);
          case "shopify":
            return shopifyConfig_1.ShopifyConfigSerializer._fromJsonObject(object["config"]);
          case "slack":
            return slackConfig_1.SlackConfigSerializer._fromJsonObject(object["config"]);
          case "stripe":
            return stripeConfig_1.StripeConfigSerializer._fromJsonObject(object["config"]);
          case "stych":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "svix":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "zoom":
            return zoomConfig_1.ZoomConfigSerializer._fromJsonObject(object["config"]);
          case "telnyx":
            return telnyxConfig_1.TelnyxConfigSerializer._fromJsonObject(object["config"]);
          case "vapi":
            return vapiConfig_1.VapiConfigSerializer._fromJsonObject(object["config"]);
          case "open-ai":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "render":
            return svixConfig_1.SvixConfigSerializer._fromJsonObject(object["config"]);
          case "veriff":
            return veriffConfig_1.VeriffConfigSerializer._fromJsonObject(object["config"]);
          case "airwallex":
            return airwallexConfig_1.AirwallexConfigSerializer._fromJsonObject(object["config"]);
          default:
            throw new Error(`Unexpected type: ${type2}`);
        }
      }
      return {
        type,
        config: getConfig(type),
        metadata: object["metadata"],
        name: object["name"],
        uid: object["uid"]
      };
    },
    _toJsonObject(self) {
      let config;
      switch (self.type) {
        case "generic-webhook":
          config = {};
          break;
        case "cron":
          config = cronConfig_1.CronConfigSerializer._toJsonObject(self.config);
          break;
        case "adobe-sign":
          config = adobeSignConfig_1.AdobeSignConfigSerializer._toJsonObject(self.config);
          break;
        case "beehiiv":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "brex":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "checkbook":
          config = checkbookConfig_1.CheckbookConfigSerializer._toJsonObject(self.config);
          break;
        case "clerk":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "docusign":
          config = docusignConfig_1.DocusignConfigSerializer._toJsonObject(self.config);
          break;
        case "easypost":
          config = easypostConfig_1.EasypostConfigSerializer._toJsonObject(self.config);
          break;
        case "github":
          config = githubConfig_1.GithubConfigSerializer._toJsonObject(self.config);
          break;
        case "guesty":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "hubspot":
          config = hubspotConfig_1.HubspotConfigSerializer._toJsonObject(self.config);
          break;
        case "incident-io":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "lithic":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "nash":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "orum-io":
          config = orumIoConfig_1.OrumIoConfigSerializer._toJsonObject(self.config);
          break;
        case "panda-doc":
          config = pandaDocConfig_1.PandaDocConfigSerializer._toJsonObject(self.config);
          break;
        case "port-io":
          config = portIoConfig_1.PortIoConfigSerializer._toJsonObject(self.config);
          break;
        case "pleo":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "replicate":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "resend":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "rutter":
          config = rutterConfig_1.RutterConfigSerializer._toJsonObject(self.config);
          break;
        case "safebase":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "sardine":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "segment":
          config = segmentConfig_1.SegmentConfigSerializer._toJsonObject(self.config);
          break;
        case "shopify":
          config = shopifyConfig_1.ShopifyConfigSerializer._toJsonObject(self.config);
          break;
        case "slack":
          config = slackConfig_1.SlackConfigSerializer._toJsonObject(self.config);
          break;
        case "stripe":
          config = stripeConfig_1.StripeConfigSerializer._toJsonObject(self.config);
          break;
        case "stych":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "svix":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "zoom":
          config = zoomConfig_1.ZoomConfigSerializer._toJsonObject(self.config);
          break;
        case "telnyx":
          config = telnyxConfig_1.TelnyxConfigSerializer._toJsonObject(self.config);
          break;
        case "vapi":
          config = vapiConfig_1.VapiConfigSerializer._toJsonObject(self.config);
          break;
        case "open-ai":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "render":
          config = svixConfig_1.SvixConfigSerializer._toJsonObject(self.config);
          break;
        case "veriff":
          config = veriffConfig_1.VeriffConfigSerializer._toJsonObject(self.config);
          break;
        case "airwallex":
          config = airwallexConfig_1.AirwallexConfigSerializer._toJsonObject(self.config);
          break;
      }
      return {
        type: self.type,
        config,
        metadata: self.metadata,
        name: self.name,
        uid: self.uid
      };
    }
  };
});

// ../../node_modules/svix/dist/models/adobeSignConfigOut.js
var require_adobeSignConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AdobeSignConfigOutSerializer = undefined;
  exports.AdobeSignConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/airwallexConfigOut.js
var require_airwallexConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AirwallexConfigOutSerializer = undefined;
  exports.AirwallexConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/checkbookConfigOut.js
var require_checkbookConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.CheckbookConfigOutSerializer = undefined;
  exports.CheckbookConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/docusignConfigOut.js
var require_docusignConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.DocusignConfigOutSerializer = undefined;
  exports.DocusignConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/easypostConfigOut.js
var require_easypostConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EasypostConfigOutSerializer = undefined;
  exports.EasypostConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/githubConfigOut.js
var require_githubConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.GithubConfigOutSerializer = undefined;
  exports.GithubConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/hubspotConfigOut.js
var require_hubspotConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.HubspotConfigOutSerializer = undefined;
  exports.HubspotConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/orumIoConfigOut.js
var require_orumIoConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OrumIoConfigOutSerializer = undefined;
  exports.OrumIoConfigOutSerializer = {
    _fromJsonObject(object) {
      return {
        publicKey: object["publicKey"]
      };
    },
    _toJsonObject(self) {
      return {
        publicKey: self.publicKey
      };
    }
  };
});

// ../../node_modules/svix/dist/models/pandaDocConfigOut.js
var require_pandaDocConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.PandaDocConfigOutSerializer = undefined;
  exports.PandaDocConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/portIoConfigOut.js
var require_portIoConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.PortIoConfigOutSerializer = undefined;
  exports.PortIoConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/rutterConfigOut.js
var require_rutterConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.RutterConfigOutSerializer = undefined;
  exports.RutterConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/segmentConfigOut.js
var require_segmentConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SegmentConfigOutSerializer = undefined;
  exports.SegmentConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/shopifyConfigOut.js
var require_shopifyConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ShopifyConfigOutSerializer = undefined;
  exports.ShopifyConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/slackConfigOut.js
var require_slackConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SlackConfigOutSerializer = undefined;
  exports.SlackConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/stripeConfigOut.js
var require_stripeConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StripeConfigOutSerializer = undefined;
  exports.StripeConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/svixConfigOut.js
var require_svixConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SvixConfigOutSerializer = undefined;
  exports.SvixConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/telnyxConfigOut.js
var require_telnyxConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.TelnyxConfigOutSerializer = undefined;
  exports.TelnyxConfigOutSerializer = {
    _fromJsonObject(object) {
      return {
        publicKey: object["publicKey"]
      };
    },
    _toJsonObject(self) {
      return {
        publicKey: self.publicKey
      };
    }
  };
});

// ../../node_modules/svix/dist/models/vapiConfigOut.js
var require_vapiConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.VapiConfigOutSerializer = undefined;
  exports.VapiConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/veriffConfigOut.js
var require_veriffConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.VeriffConfigOutSerializer = undefined;
  exports.VeriffConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/zoomConfigOut.js
var require_zoomConfigOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ZoomConfigOutSerializer = undefined;
  exports.ZoomConfigOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/ingestSourceOut.js
var require_ingestSourceOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestSourceOutSerializer = undefined;
  var adobeSignConfigOut_1 = require_adobeSignConfigOut();
  var airwallexConfigOut_1 = require_airwallexConfigOut();
  var checkbookConfigOut_1 = require_checkbookConfigOut();
  var cronConfig_1 = require_cronConfig();
  var docusignConfigOut_1 = require_docusignConfigOut();
  var easypostConfigOut_1 = require_easypostConfigOut();
  var githubConfigOut_1 = require_githubConfigOut();
  var hubspotConfigOut_1 = require_hubspotConfigOut();
  var orumIoConfigOut_1 = require_orumIoConfigOut();
  var pandaDocConfigOut_1 = require_pandaDocConfigOut();
  var portIoConfigOut_1 = require_portIoConfigOut();
  var rutterConfigOut_1 = require_rutterConfigOut();
  var segmentConfigOut_1 = require_segmentConfigOut();
  var shopifyConfigOut_1 = require_shopifyConfigOut();
  var slackConfigOut_1 = require_slackConfigOut();
  var stripeConfigOut_1 = require_stripeConfigOut();
  var svixConfigOut_1 = require_svixConfigOut();
  var telnyxConfigOut_1 = require_telnyxConfigOut();
  var vapiConfigOut_1 = require_vapiConfigOut();
  var veriffConfigOut_1 = require_veriffConfigOut();
  var zoomConfigOut_1 = require_zoomConfigOut();
  exports.IngestSourceOutSerializer = {
    _fromJsonObject(object) {
      const type = object["type"];
      function getConfig(type2) {
        switch (type2) {
          case "generic-webhook":
            return {};
          case "cron":
            return cronConfig_1.CronConfigSerializer._fromJsonObject(object["config"]);
          case "adobe-sign":
            return adobeSignConfigOut_1.AdobeSignConfigOutSerializer._fromJsonObject(object["config"]);
          case "beehiiv":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "brex":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "checkbook":
            return checkbookConfigOut_1.CheckbookConfigOutSerializer._fromJsonObject(object["config"]);
          case "clerk":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "docusign":
            return docusignConfigOut_1.DocusignConfigOutSerializer._fromJsonObject(object["config"]);
          case "easypost":
            return easypostConfigOut_1.EasypostConfigOutSerializer._fromJsonObject(object["config"]);
          case "github":
            return githubConfigOut_1.GithubConfigOutSerializer._fromJsonObject(object["config"]);
          case "guesty":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "hubspot":
            return hubspotConfigOut_1.HubspotConfigOutSerializer._fromJsonObject(object["config"]);
          case "incident-io":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "lithic":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "nash":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "orum-io":
            return orumIoConfigOut_1.OrumIoConfigOutSerializer._fromJsonObject(object["config"]);
          case "panda-doc":
            return pandaDocConfigOut_1.PandaDocConfigOutSerializer._fromJsonObject(object["config"]);
          case "port-io":
            return portIoConfigOut_1.PortIoConfigOutSerializer._fromJsonObject(object["config"]);
          case "pleo":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "replicate":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "resend":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "rutter":
            return rutterConfigOut_1.RutterConfigOutSerializer._fromJsonObject(object["config"]);
          case "safebase":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "sardine":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "segment":
            return segmentConfigOut_1.SegmentConfigOutSerializer._fromJsonObject(object["config"]);
          case "shopify":
            return shopifyConfigOut_1.ShopifyConfigOutSerializer._fromJsonObject(object["config"]);
          case "slack":
            return slackConfigOut_1.SlackConfigOutSerializer._fromJsonObject(object["config"]);
          case "stripe":
            return stripeConfigOut_1.StripeConfigOutSerializer._fromJsonObject(object["config"]);
          case "stych":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "svix":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "zoom":
            return zoomConfigOut_1.ZoomConfigOutSerializer._fromJsonObject(object["config"]);
          case "telnyx":
            return telnyxConfigOut_1.TelnyxConfigOutSerializer._fromJsonObject(object["config"]);
          case "vapi":
            return vapiConfigOut_1.VapiConfigOutSerializer._fromJsonObject(object["config"]);
          case "open-ai":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "render":
            return svixConfigOut_1.SvixConfigOutSerializer._fromJsonObject(object["config"]);
          case "veriff":
            return veriffConfigOut_1.VeriffConfigOutSerializer._fromJsonObject(object["config"]);
          case "airwallex":
            return airwallexConfigOut_1.AirwallexConfigOutSerializer._fromJsonObject(object["config"]);
          default:
            throw new Error(`Unexpected type: ${type2}`);
        }
      }
      return {
        type,
        config: getConfig(type),
        createdAt: new Date(object["createdAt"]),
        id: object["id"],
        ingestUrl: object["ingestUrl"],
        metadata: object["metadata"],
        name: object["name"],
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"])
      };
    },
    _toJsonObject(self) {
      let config;
      switch (self.type) {
        case "generic-webhook":
          config = {};
          break;
        case "cron":
          config = cronConfig_1.CronConfigSerializer._toJsonObject(self.config);
          break;
        case "adobe-sign":
          config = adobeSignConfigOut_1.AdobeSignConfigOutSerializer._toJsonObject(self.config);
          break;
        case "beehiiv":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "brex":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "checkbook":
          config = checkbookConfigOut_1.CheckbookConfigOutSerializer._toJsonObject(self.config);
          break;
        case "clerk":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "docusign":
          config = docusignConfigOut_1.DocusignConfigOutSerializer._toJsonObject(self.config);
          break;
        case "easypost":
          config = easypostConfigOut_1.EasypostConfigOutSerializer._toJsonObject(self.config);
          break;
        case "github":
          config = githubConfigOut_1.GithubConfigOutSerializer._toJsonObject(self.config);
          break;
        case "guesty":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "hubspot":
          config = hubspotConfigOut_1.HubspotConfigOutSerializer._toJsonObject(self.config);
          break;
        case "incident-io":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "lithic":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "nash":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "orum-io":
          config = orumIoConfigOut_1.OrumIoConfigOutSerializer._toJsonObject(self.config);
          break;
        case "panda-doc":
          config = pandaDocConfigOut_1.PandaDocConfigOutSerializer._toJsonObject(self.config);
          break;
        case "port-io":
          config = portIoConfigOut_1.PortIoConfigOutSerializer._toJsonObject(self.config);
          break;
        case "pleo":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "replicate":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "resend":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "rutter":
          config = rutterConfigOut_1.RutterConfigOutSerializer._toJsonObject(self.config);
          break;
        case "safebase":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "sardine":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "segment":
          config = segmentConfigOut_1.SegmentConfigOutSerializer._toJsonObject(self.config);
          break;
        case "shopify":
          config = shopifyConfigOut_1.ShopifyConfigOutSerializer._toJsonObject(self.config);
          break;
        case "slack":
          config = slackConfigOut_1.SlackConfigOutSerializer._toJsonObject(self.config);
          break;
        case "stripe":
          config = stripeConfigOut_1.StripeConfigOutSerializer._toJsonObject(self.config);
          break;
        case "stych":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "svix":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "zoom":
          config = zoomConfigOut_1.ZoomConfigOutSerializer._toJsonObject(self.config);
          break;
        case "telnyx":
          config = telnyxConfigOut_1.TelnyxConfigOutSerializer._toJsonObject(self.config);
          break;
        case "vapi":
          config = vapiConfigOut_1.VapiConfigOutSerializer._toJsonObject(self.config);
          break;
        case "open-ai":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "render":
          config = svixConfigOut_1.SvixConfigOutSerializer._toJsonObject(self.config);
          break;
        case "veriff":
          config = veriffConfigOut_1.VeriffConfigOutSerializer._toJsonObject(self.config);
          break;
        case "airwallex":
          config = airwallexConfigOut_1.AirwallexConfigOutSerializer._toJsonObject(self.config);
          break;
      }
      return {
        type: self.type,
        config,
        createdAt: self.createdAt,
        id: self.id,
        ingestUrl: self.ingestUrl,
        metadata: self.metadata,
        name: self.name,
        uid: self.uid,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseIngestSourceOut.js
var require_listResponseIngestSourceOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseIngestSourceOutSerializer = undefined;
  var ingestSourceOut_1 = require_ingestSourceOut();
  exports.ListResponseIngestSourceOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => ingestSourceOut_1.IngestSourceOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => ingestSourceOut_1.IngestSourceOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/rotateTokenOut.js
var require_rotateTokenOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.RotateTokenOutSerializer = undefined;
  exports.RotateTokenOutSerializer = {
    _fromJsonObject(object) {
      return {
        ingestUrl: object["ingestUrl"]
      };
    },
    _toJsonObject(self) {
      return {
        ingestUrl: self.ingestUrl
      };
    }
  };
});

// ../../node_modules/svix/dist/api/ingestSource.js
var require_ingestSource = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IngestSource = undefined;
  var ingestSourceIn_1 = require_ingestSourceIn();
  var ingestSourceOut_1 = require_ingestSourceOut();
  var listResponseIngestSourceOut_1 = require_listResponseIngestSourceOut();
  var rotateTokenOut_1 = require_rotateTokenOut();
  var request_1 = require_request();

  class IngestSource {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/ingest/api/v1/source");
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseIngestSourceOut_1.ListResponseIngestSourceOutSerializer._fromJsonObject);
    }
    create(ingestSourceIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/ingest/api/v1/source");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(ingestSourceIn_1.IngestSourceInSerializer._toJsonObject(ingestSourceIn));
      return request.send(this.requestCtx, ingestSourceOut_1.IngestSourceOutSerializer._fromJsonObject);
    }
    get(sourceId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/ingest/api/v1/source/{source_id}");
      request.setPathParam("source_id", sourceId);
      return request.send(this.requestCtx, ingestSourceOut_1.IngestSourceOutSerializer._fromJsonObject);
    }
    update(sourceId, ingestSourceIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/ingest/api/v1/source/{source_id}");
      request.setPathParam("source_id", sourceId);
      request.setBody(ingestSourceIn_1.IngestSourceInSerializer._toJsonObject(ingestSourceIn));
      return request.send(this.requestCtx, ingestSourceOut_1.IngestSourceOutSerializer._fromJsonObject);
    }
    delete(sourceId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/ingest/api/v1/source/{source_id}");
      request.setPathParam("source_id", sourceId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    rotateToken(sourceId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/ingest/api/v1/source/{source_id}/token/rotate");
      request.setPathParam("source_id", sourceId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      return request.send(this.requestCtx, rotateTokenOut_1.RotateTokenOutSerializer._fromJsonObject);
    }
  }
  exports.IngestSource = IngestSource;
});

// ../../node_modules/svix/dist/api/ingest.js
var require_ingest = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Ingest = undefined;
  var dashboardAccessOut_1 = require_dashboardAccessOut();
  var ingestSourceConsumerPortalAccessIn_1 = require_ingestSourceConsumerPortalAccessIn();
  var ingestEndpoint_1 = require_ingestEndpoint();
  var ingestSource_1 = require_ingestSource();
  var request_1 = require_request();

  class Ingest {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    get endpoint() {
      return new ingestEndpoint_1.IngestEndpoint(this.requestCtx);
    }
    get source() {
      return new ingestSource_1.IngestSource(this.requestCtx);
    }
    dashboard(sourceId, ingestSourceConsumerPortalAccessIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/ingest/api/v1/source/{source_id}/dashboard");
      request.setPathParam("source_id", sourceId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(ingestSourceConsumerPortalAccessIn_1.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(ingestSourceConsumerPortalAccessIn));
      return request.send(this.requestCtx, dashboardAccessOut_1.DashboardAccessOutSerializer._fromJsonObject);
    }
  }
  exports.Ingest = Ingest;
});

// ../../node_modules/svix/dist/models/integrationIn.js
var require_integrationIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IntegrationInSerializer = undefined;
  exports.IntegrationInSerializer = {
    _fromJsonObject(object) {
      return {
        featureFlags: object["featureFlags"],
        name: object["name"]
      };
    },
    _toJsonObject(self) {
      return {
        featureFlags: self.featureFlags,
        name: self.name
      };
    }
  };
});

// ../../node_modules/svix/dist/models/integrationKeyOut.js
var require_integrationKeyOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IntegrationKeyOutSerializer = undefined;
  exports.IntegrationKeyOutSerializer = {
    _fromJsonObject(object) {
      return {
        key: object["key"]
      };
    },
    _toJsonObject(self) {
      return {
        key: self.key
      };
    }
  };
});

// ../../node_modules/svix/dist/models/integrationOut.js
var require_integrationOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IntegrationOutSerializer = undefined;
  exports.IntegrationOutSerializer = {
    _fromJsonObject(object) {
      return {
        createdAt: new Date(object["createdAt"]),
        featureFlags: object["featureFlags"],
        id: object["id"],
        name: object["name"],
        updatedAt: new Date(object["updatedAt"])
      };
    },
    _toJsonObject(self) {
      return {
        createdAt: self.createdAt,
        featureFlags: self.featureFlags,
        id: self.id,
        name: self.name,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/integrationUpdate.js
var require_integrationUpdate = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.IntegrationUpdateSerializer = undefined;
  exports.IntegrationUpdateSerializer = {
    _fromJsonObject(object) {
      return {
        featureFlags: object["featureFlags"],
        name: object["name"]
      };
    },
    _toJsonObject(self) {
      return {
        featureFlags: self.featureFlags,
        name: self.name
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseIntegrationOut.js
var require_listResponseIntegrationOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseIntegrationOutSerializer = undefined;
  var integrationOut_1 = require_integrationOut();
  exports.ListResponseIntegrationOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => integrationOut_1.IntegrationOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => integrationOut_1.IntegrationOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/api/integration.js
var require_integration = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Integration = undefined;
  var integrationIn_1 = require_integrationIn();
  var integrationKeyOut_1 = require_integrationKeyOut();
  var integrationOut_1 = require_integrationOut();
  var integrationUpdate_1 = require_integrationUpdate();
  var listResponseIntegrationOut_1 = require_listResponseIntegrationOut();
  var request_1 = require_request();

  class Integration {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(appId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/integration");
      request.setPathParam("app_id", appId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseIntegrationOut_1.ListResponseIntegrationOutSerializer._fromJsonObject);
    }
    create(appId, integrationIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/integration");
      request.setPathParam("app_id", appId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(integrationIn_1.IntegrationInSerializer._toJsonObject(integrationIn));
      return request.send(this.requestCtx, integrationOut_1.IntegrationOutSerializer._fromJsonObject);
    }
    get(appId, integId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/integration/{integ_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("integ_id", integId);
      return request.send(this.requestCtx, integrationOut_1.IntegrationOutSerializer._fromJsonObject);
    }
    update(appId, integId, integrationUpdate) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/app/{app_id}/integration/{integ_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("integ_id", integId);
      request.setBody(integrationUpdate_1.IntegrationUpdateSerializer._toJsonObject(integrationUpdate));
      return request.send(this.requestCtx, integrationOut_1.IntegrationOutSerializer._fromJsonObject);
    }
    delete(appId, integId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/app/{app_id}/integration/{integ_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("integ_id", integId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    getKey(appId, integId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/integration/{integ_id}/key");
      request.setPathParam("app_id", appId);
      request.setPathParam("integ_id", integId);
      return request.send(this.requestCtx, integrationKeyOut_1.IntegrationKeyOutSerializer._fromJsonObject);
    }
    rotateKey(appId, integId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");
      request.setPathParam("app_id", appId);
      request.setPathParam("integ_id", integId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      return request.send(this.requestCtx, integrationKeyOut_1.IntegrationKeyOutSerializer._fromJsonObject);
    }
  }
  exports.Integration = Integration;
});

// ../../node_modules/svix/dist/models/expungeAllContentsOut.js
var require_expungeAllContentsOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ExpungeAllContentsOutSerializer = undefined;
  var backgroundTaskStatus_1 = require_backgroundTaskStatus();
  var backgroundTaskType_1 = require_backgroundTaskType();
  exports.ExpungeAllContentsOutSerializer = {
    _fromJsonObject(object) {
      return {
        id: object["id"],
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._fromJsonObject(object["status"]),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._fromJsonObject(object["task"])
      };
    },
    _toJsonObject(self) {
      return {
        id: self.id,
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._toJsonObject(self.status),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._toJsonObject(self.task)
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseMessageOut.js
var require_listResponseMessageOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseMessageOutSerializer = undefined;
  var messageOut_1 = require_messageOut();
  exports.ListResponseMessageOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => messageOut_1.MessageOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => messageOut_1.MessageOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/pollingEndpointConsumerSeekIn.js
var require_pollingEndpointConsumerSeekIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.PollingEndpointConsumerSeekInSerializer = undefined;
  exports.PollingEndpointConsumerSeekInSerializer = {
    _fromJsonObject(object) {
      return {
        after: new Date(object["after"])
      };
    },
    _toJsonObject(self) {
      return {
        after: self.after
      };
    }
  };
});

// ../../node_modules/svix/dist/models/pollingEndpointConsumerSeekOut.js
var require_pollingEndpointConsumerSeekOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.PollingEndpointConsumerSeekOutSerializer = undefined;
  exports.PollingEndpointConsumerSeekOutSerializer = {
    _fromJsonObject(object) {
      return {
        iterator: object["iterator"]
      };
    },
    _toJsonObject(self) {
      return {
        iterator: self.iterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/pollingEndpointMessageOut.js
var require_pollingEndpointMessageOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.PollingEndpointMessageOutSerializer = undefined;
  exports.PollingEndpointMessageOutSerializer = {
    _fromJsonObject(object) {
      return {
        channels: object["channels"],
        deliverAt: object["deliverAt"] ? new Date(object["deliverAt"]) : null,
        eventId: object["eventId"],
        eventType: object["eventType"],
        headers: object["headers"],
        id: object["id"],
        payload: object["payload"],
        tags: object["tags"],
        timestamp: new Date(object["timestamp"])
      };
    },
    _toJsonObject(self) {
      return {
        channels: self.channels,
        deliverAt: self.deliverAt,
        eventId: self.eventId,
        eventType: self.eventType,
        headers: self.headers,
        id: self.id,
        payload: self.payload,
        tags: self.tags,
        timestamp: self.timestamp
      };
    }
  };
});

// ../../node_modules/svix/dist/models/pollingEndpointOut.js
var require_pollingEndpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.PollingEndpointOutSerializer = undefined;
  var pollingEndpointMessageOut_1 = require_pollingEndpointMessageOut();
  exports.PollingEndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => pollingEndpointMessageOut_1.PollingEndpointMessageOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => pollingEndpointMessageOut_1.PollingEndpointMessageOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator
      };
    }
  };
});

// ../../node_modules/svix/dist/api/messagePoller.js
var require_messagePoller = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessagePoller = undefined;
  var pollingEndpointConsumerSeekIn_1 = require_pollingEndpointConsumerSeekIn();
  var pollingEndpointConsumerSeekOut_1 = require_pollingEndpointConsumerSeekOut();
  var pollingEndpointOut_1 = require_pollingEndpointOut();
  var request_1 = require_request();

  class MessagePoller {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    poll(appId, sinkId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/poller/{sink_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("sink_id", sinkId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        event_type: options === null || options === undefined ? undefined : options.eventType,
        channel: options === null || options === undefined ? undefined : options.channel,
        after: options === null || options === undefined ? undefined : options.after
      });
      return request.send(this.requestCtx, pollingEndpointOut_1.PollingEndpointOutSerializer._fromJsonObject);
    }
    consumerPoll(appId, sinkId, consumerId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("sink_id", sinkId);
      request.setPathParam("consumer_id", consumerId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator
      });
      return request.send(this.requestCtx, pollingEndpointOut_1.PollingEndpointOutSerializer._fromJsonObject);
    }
    consumerSeek(appId, sinkId, consumerId, pollingEndpointConsumerSeekIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");
      request.setPathParam("app_id", appId);
      request.setPathParam("sink_id", sinkId);
      request.setPathParam("consumer_id", consumerId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(pollingEndpointConsumerSeekIn_1.PollingEndpointConsumerSeekInSerializer._toJsonObject(pollingEndpointConsumerSeekIn));
      return request.send(this.requestCtx, pollingEndpointConsumerSeekOut_1.PollingEndpointConsumerSeekOutSerializer._fromJsonObject);
    }
  }
  exports.MessagePoller = MessagePoller;
});

// ../../node_modules/svix/dist/models/messageIn.js
var require_messageIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessageInSerializer = undefined;
  var applicationIn_1 = require_applicationIn();
  exports.MessageInSerializer = {
    _fromJsonObject(object) {
      return {
        application: object["application"] ? applicationIn_1.ApplicationInSerializer._fromJsonObject(object["application"]) : undefined,
        channels: object["channels"],
        deliverAt: object["deliverAt"] ? new Date(object["deliverAt"]) : null,
        eventId: object["eventId"],
        eventType: object["eventType"],
        payload: object["payload"],
        payloadRetentionHours: object["payloadRetentionHours"],
        payloadRetentionPeriod: object["payloadRetentionPeriod"],
        tags: object["tags"],
        transformationsParams: object["transformationsParams"]
      };
    },
    _toJsonObject(self) {
      return {
        application: self.application ? applicationIn_1.ApplicationInSerializer._toJsonObject(self.application) : undefined,
        channels: self.channels,
        deliverAt: self.deliverAt,
        eventId: self.eventId,
        eventType: self.eventType,
        payload: self.payload,
        payloadRetentionHours: self.payloadRetentionHours,
        payloadRetentionPeriod: self.payloadRetentionPeriod,
        tags: self.tags,
        transformationsParams: self.transformationsParams
      };
    }
  };
});

// ../../node_modules/svix/dist/api/message.js
var require_message = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.messageInRaw = exports.Message = undefined;
  var expungeAllContentsOut_1 = require_expungeAllContentsOut();
  var listResponseMessageOut_1 = require_listResponseMessageOut();
  var messageOut_1 = require_messageOut();
  var messagePoller_1 = require_messagePoller();
  var request_1 = require_request();
  var messageIn_1 = require_messageIn();

  class Message {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    get poller() {
      return new messagePoller_1.MessagePoller(this.requestCtx);
    }
    list(appId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/msg");
      request.setPathParam("app_id", appId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        channel: options === null || options === undefined ? undefined : options.channel,
        before: options === null || options === undefined ? undefined : options.before,
        after: options === null || options === undefined ? undefined : options.after,
        with_content: options === null || options === undefined ? undefined : options.withContent,
        tag: options === null || options === undefined ? undefined : options.tag,
        event_types: options === null || options === undefined ? undefined : options.eventTypes
      });
      return request.send(this.requestCtx, listResponseMessageOut_1.ListResponseMessageOutSerializer._fromJsonObject);
    }
    create(appId, messageIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/msg");
      request.setPathParam("app_id", appId);
      request.setQueryParams({
        with_content: options === null || options === undefined ? undefined : options.withContent
      });
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(messageIn_1.MessageInSerializer._toJsonObject(messageIn));
      return request.send(this.requestCtx, messageOut_1.MessageOutSerializer._fromJsonObject);
    }
    expungeAllContents(appId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/msg/expunge-all-contents");
      request.setPathParam("app_id", appId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      return request.send(this.requestCtx, expungeAllContentsOut_1.ExpungeAllContentsOutSerializer._fromJsonObject);
    }
    get(appId, msgId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/msg/{msg_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("msg_id", msgId);
      request.setQueryParams({
        with_content: options === null || options === undefined ? undefined : options.withContent
      });
      return request.send(this.requestCtx, messageOut_1.MessageOutSerializer._fromJsonObject);
    }
    expungeContent(appId, msgId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/app/{app_id}/msg/{msg_id}/content");
      request.setPathParam("app_id", appId);
      request.setPathParam("msg_id", msgId);
      return request.sendNoResponseBody(this.requestCtx);
    }
  }
  exports.Message = Message;
  function messageInRaw(eventType, payload, contentType) {
    const headers = contentType ? { "content-type": contentType } : undefined;
    return {
      eventType,
      payload: {},
      transformationsParams: {
        rawPayload: payload,
        headers
      }
    };
  }
  exports.messageInRaw = messageInRaw;
});

// ../../node_modules/svix/dist/models/emptyResponse.js
var require_emptyResponse = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EmptyResponseSerializer = undefined;
  exports.EmptyResponseSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/messageStatus.js
var require_messageStatus = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessageStatusSerializer = exports.MessageStatus = undefined;
  var MessageStatus;
  (function(MessageStatus2) {
    MessageStatus2[MessageStatus2["Success"] = 0] = "Success";
    MessageStatus2[MessageStatus2["Pending"] = 1] = "Pending";
    MessageStatus2[MessageStatus2["Fail"] = 2] = "Fail";
    MessageStatus2[MessageStatus2["Sending"] = 3] = "Sending";
  })(MessageStatus = exports.MessageStatus || (exports.MessageStatus = {}));
  exports.MessageStatusSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/messageStatusText.js
var require_messageStatusText = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessageStatusTextSerializer = exports.MessageStatusText = undefined;
  var MessageStatusText;
  (function(MessageStatusText2) {
    MessageStatusText2["Success"] = "success";
    MessageStatusText2["Pending"] = "pending";
    MessageStatusText2["Fail"] = "fail";
    MessageStatusText2["Sending"] = "sending";
  })(MessageStatusText = exports.MessageStatusText || (exports.MessageStatusText = {}));
  exports.MessageStatusTextSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/endpointMessageOut.js
var require_endpointMessageOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointMessageOutSerializer = undefined;
  var messageStatus_1 = require_messageStatus();
  var messageStatusText_1 = require_messageStatusText();
  exports.EndpointMessageOutSerializer = {
    _fromJsonObject(object) {
      return {
        channels: object["channels"],
        deliverAt: object["deliverAt"] ? new Date(object["deliverAt"]) : null,
        eventId: object["eventId"],
        eventType: object["eventType"],
        id: object["id"],
        nextAttempt: object["nextAttempt"] ? new Date(object["nextAttempt"]) : null,
        payload: object["payload"],
        status: messageStatus_1.MessageStatusSerializer._fromJsonObject(object["status"]),
        statusText: messageStatusText_1.MessageStatusTextSerializer._fromJsonObject(object["statusText"]),
        tags: object["tags"],
        timestamp: new Date(object["timestamp"])
      };
    },
    _toJsonObject(self) {
      return {
        channels: self.channels,
        deliverAt: self.deliverAt,
        eventId: self.eventId,
        eventType: self.eventType,
        id: self.id,
        nextAttempt: self.nextAttempt,
        payload: self.payload,
        status: messageStatus_1.MessageStatusSerializer._toJsonObject(self.status),
        statusText: messageStatusText_1.MessageStatusTextSerializer._toJsonObject(self.statusText),
        tags: self.tags,
        timestamp: self.timestamp
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseEndpointMessageOut.js
var require_listResponseEndpointMessageOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseEndpointMessageOutSerializer = undefined;
  var endpointMessageOut_1 = require_endpointMessageOut();
  exports.ListResponseEndpointMessageOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => endpointMessageOut_1.EndpointMessageOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => endpointMessageOut_1.EndpointMessageOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/messageAttemptTriggerType.js
var require_messageAttemptTriggerType = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessageAttemptTriggerTypeSerializer = exports.MessageAttemptTriggerType = undefined;
  var MessageAttemptTriggerType;
  (function(MessageAttemptTriggerType2) {
    MessageAttemptTriggerType2[MessageAttemptTriggerType2["Scheduled"] = 0] = "Scheduled";
    MessageAttemptTriggerType2[MessageAttemptTriggerType2["Manual"] = 1] = "Manual";
  })(MessageAttemptTriggerType = exports.MessageAttemptTriggerType || (exports.MessageAttemptTriggerType = {}));
  exports.MessageAttemptTriggerTypeSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/messageAttemptOut.js
var require_messageAttemptOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessageAttemptOutSerializer = undefined;
  var messageAttemptTriggerType_1 = require_messageAttemptTriggerType();
  var messageOut_1 = require_messageOut();
  var messageStatus_1 = require_messageStatus();
  var messageStatusText_1 = require_messageStatusText();
  exports.MessageAttemptOutSerializer = {
    _fromJsonObject(object) {
      return {
        endpointId: object["endpointId"],
        id: object["id"],
        msg: object["msg"] ? messageOut_1.MessageOutSerializer._fromJsonObject(object["msg"]) : undefined,
        msgId: object["msgId"],
        response: object["response"],
        responseDurationMs: object["responseDurationMs"],
        responseStatusCode: object["responseStatusCode"],
        status: messageStatus_1.MessageStatusSerializer._fromJsonObject(object["status"]),
        statusText: messageStatusText_1.MessageStatusTextSerializer._fromJsonObject(object["statusText"]),
        timestamp: new Date(object["timestamp"]),
        triggerType: messageAttemptTriggerType_1.MessageAttemptTriggerTypeSerializer._fromJsonObject(object["triggerType"]),
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        endpointId: self.endpointId,
        id: self.id,
        msg: self.msg ? messageOut_1.MessageOutSerializer._toJsonObject(self.msg) : undefined,
        msgId: self.msgId,
        response: self.response,
        responseDurationMs: self.responseDurationMs,
        responseStatusCode: self.responseStatusCode,
        status: messageStatus_1.MessageStatusSerializer._toJsonObject(self.status),
        statusText: messageStatusText_1.MessageStatusTextSerializer._toJsonObject(self.statusText),
        timestamp: self.timestamp,
        triggerType: messageAttemptTriggerType_1.MessageAttemptTriggerTypeSerializer._toJsonObject(self.triggerType),
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseMessageAttemptOut.js
var require_listResponseMessageAttemptOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseMessageAttemptOutSerializer = undefined;
  var messageAttemptOut_1 = require_messageAttemptOut();
  exports.ListResponseMessageAttemptOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => messageAttemptOut_1.MessageAttemptOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => messageAttemptOut_1.MessageAttemptOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/messageEndpointOut.js
var require_messageEndpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessageEndpointOutSerializer = undefined;
  var messageStatus_1 = require_messageStatus();
  var messageStatusText_1 = require_messageStatusText();
  exports.MessageEndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        channels: object["channels"],
        createdAt: new Date(object["createdAt"]),
        description: object["description"],
        disabled: object["disabled"],
        filterTypes: object["filterTypes"],
        id: object["id"],
        nextAttempt: object["nextAttempt"] ? new Date(object["nextAttempt"]) : null,
        rateLimit: object["rateLimit"],
        status: messageStatus_1.MessageStatusSerializer._fromJsonObject(object["status"]),
        statusText: messageStatusText_1.MessageStatusTextSerializer._fromJsonObject(object["statusText"]),
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"]),
        url: object["url"],
        version: object["version"]
      };
    },
    _toJsonObject(self) {
      return {
        channels: self.channels,
        createdAt: self.createdAt,
        description: self.description,
        disabled: self.disabled,
        filterTypes: self.filterTypes,
        id: self.id,
        nextAttempt: self.nextAttempt,
        rateLimit: self.rateLimit,
        status: messageStatus_1.MessageStatusSerializer._toJsonObject(self.status),
        statusText: messageStatusText_1.MessageStatusTextSerializer._toJsonObject(self.statusText),
        uid: self.uid,
        updatedAt: self.updatedAt,
        url: self.url,
        version: self.version
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseMessageEndpointOut.js
var require_listResponseMessageEndpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseMessageEndpointOutSerializer = undefined;
  var messageEndpointOut_1 = require_messageEndpointOut();
  exports.ListResponseMessageEndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => messageEndpointOut_1.MessageEndpointOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => messageEndpointOut_1.MessageEndpointOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/api/messageAttempt.js
var require_messageAttempt = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MessageAttempt = undefined;
  var emptyResponse_1 = require_emptyResponse();
  var listResponseEndpointMessageOut_1 = require_listResponseEndpointMessageOut();
  var listResponseMessageAttemptOut_1 = require_listResponseMessageAttemptOut();
  var listResponseMessageEndpointOut_1 = require_listResponseMessageEndpointOut();
  var messageAttemptOut_1 = require_messageAttemptOut();
  var request_1 = require_request();

  class MessageAttempt {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    listByEndpoint(appId, endpointId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        status: options === null || options === undefined ? undefined : options.status,
        status_code_class: options === null || options === undefined ? undefined : options.statusCodeClass,
        channel: options === null || options === undefined ? undefined : options.channel,
        tag: options === null || options === undefined ? undefined : options.tag,
        before: options === null || options === undefined ? undefined : options.before,
        after: options === null || options === undefined ? undefined : options.after,
        with_content: options === null || options === undefined ? undefined : options.withContent,
        with_msg: options === null || options === undefined ? undefined : options.withMsg,
        event_types: options === null || options === undefined ? undefined : options.eventTypes
      });
      return request.send(this.requestCtx, listResponseMessageAttemptOut_1.ListResponseMessageAttemptOutSerializer._fromJsonObject);
    }
    listByMsg(appId, msgId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/attempt/msg/{msg_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("msg_id", msgId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        status: options === null || options === undefined ? undefined : options.status,
        status_code_class: options === null || options === undefined ? undefined : options.statusCodeClass,
        channel: options === null || options === undefined ? undefined : options.channel,
        tag: options === null || options === undefined ? undefined : options.tag,
        endpoint_id: options === null || options === undefined ? undefined : options.endpointId,
        before: options === null || options === undefined ? undefined : options.before,
        after: options === null || options === undefined ? undefined : options.after,
        with_content: options === null || options === undefined ? undefined : options.withContent,
        event_types: options === null || options === undefined ? undefined : options.eventTypes
      });
      return request.send(this.requestCtx, listResponseMessageAttemptOut_1.ListResponseMessageAttemptOutSerializer._fromJsonObject);
    }
    listAttemptedMessages(appId, endpointId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");
      request.setPathParam("app_id", appId);
      request.setPathParam("endpoint_id", endpointId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        channel: options === null || options === undefined ? undefined : options.channel,
        tag: options === null || options === undefined ? undefined : options.tag,
        status: options === null || options === undefined ? undefined : options.status,
        before: options === null || options === undefined ? undefined : options.before,
        after: options === null || options === undefined ? undefined : options.after,
        with_content: options === null || options === undefined ? undefined : options.withContent,
        event_types: options === null || options === undefined ? undefined : options.eventTypes
      });
      return request.send(this.requestCtx, listResponseEndpointMessageOut_1.ListResponseEndpointMessageOutSerializer._fromJsonObject);
    }
    get(appId, msgId, attemptId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");
      request.setPathParam("app_id", appId);
      request.setPathParam("msg_id", msgId);
      request.setPathParam("attempt_id", attemptId);
      return request.send(this.requestCtx, messageAttemptOut_1.MessageAttemptOutSerializer._fromJsonObject);
    }
    expungeContent(appId, msgId, attemptId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");
      request.setPathParam("app_id", appId);
      request.setPathParam("msg_id", msgId);
      request.setPathParam("attempt_id", attemptId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    listAttemptedDestinations(appId, msgId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/app/{app_id}/msg/{msg_id}/endpoint");
      request.setPathParam("app_id", appId);
      request.setPathParam("msg_id", msgId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator
      });
      return request.send(this.requestCtx, listResponseMessageEndpointOut_1.ListResponseMessageEndpointOutSerializer._fromJsonObject);
    }
    resend(appId, msgId, endpointId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");
      request.setPathParam("app_id", appId);
      request.setPathParam("msg_id", msgId);
      request.setPathParam("endpoint_id", endpointId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      return request.send(this.requestCtx, emptyResponse_1.EmptyResponseSerializer._fromJsonObject);
    }
  }
  exports.MessageAttempt = MessageAttempt;
});

// ../../node_modules/svix/dist/models/operationalWebhookEndpointOut.js
var require_operationalWebhookEndpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhookEndpointOutSerializer = undefined;
  exports.OperationalWebhookEndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        createdAt: new Date(object["createdAt"]),
        description: object["description"],
        disabled: object["disabled"],
        filterTypes: object["filterTypes"],
        id: object["id"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"]),
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        createdAt: self.createdAt,
        description: self.description,
        disabled: self.disabled,
        filterTypes: self.filterTypes,
        id: self.id,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        uid: self.uid,
        updatedAt: self.updatedAt,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseOperationalWebhookEndpointOut.js
var require_listResponseOperationalWebhookEndpointOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseOperationalWebhookEndpointOutSerializer = undefined;
  var operationalWebhookEndpointOut_1 = require_operationalWebhookEndpointOut();
  exports.ListResponseOperationalWebhookEndpointOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => operationalWebhookEndpointOut_1.OperationalWebhookEndpointOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => operationalWebhookEndpointOut_1.OperationalWebhookEndpointOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/operationalWebhookEndpointHeadersIn.js
var require_operationalWebhookEndpointHeadersIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhookEndpointHeadersInSerializer = undefined;
  exports.OperationalWebhookEndpointHeadersInSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers
      };
    }
  };
});

// ../../node_modules/svix/dist/models/operationalWebhookEndpointHeadersOut.js
var require_operationalWebhookEndpointHeadersOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhookEndpointHeadersOutSerializer = undefined;
  exports.OperationalWebhookEndpointHeadersOutSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"],
        sensitive: object["sensitive"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers,
        sensitive: self.sensitive
      };
    }
  };
});

// ../../node_modules/svix/dist/models/operationalWebhookEndpointIn.js
var require_operationalWebhookEndpointIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhookEndpointInSerializer = undefined;
  exports.OperationalWebhookEndpointInSerializer = {
    _fromJsonObject(object) {
      return {
        description: object["description"],
        disabled: object["disabled"],
        filterTypes: object["filterTypes"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        secret: object["secret"],
        uid: object["uid"],
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        description: self.description,
        disabled: self.disabled,
        filterTypes: self.filterTypes,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        secret: self.secret,
        uid: self.uid,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/operationalWebhookEndpointSecretIn.js
var require_operationalWebhookEndpointSecretIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhookEndpointSecretInSerializer = undefined;
  exports.OperationalWebhookEndpointSecretInSerializer = {
    _fromJsonObject(object) {
      return {
        key: object["key"]
      };
    },
    _toJsonObject(self) {
      return {
        key: self.key
      };
    }
  };
});

// ../../node_modules/svix/dist/models/operationalWebhookEndpointSecretOut.js
var require_operationalWebhookEndpointSecretOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhookEndpointSecretOutSerializer = undefined;
  exports.OperationalWebhookEndpointSecretOutSerializer = {
    _fromJsonObject(object) {
      return {
        key: object["key"]
      };
    },
    _toJsonObject(self) {
      return {
        key: self.key
      };
    }
  };
});

// ../../node_modules/svix/dist/models/operationalWebhookEndpointUpdate.js
var require_operationalWebhookEndpointUpdate = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhookEndpointUpdateSerializer = undefined;
  exports.OperationalWebhookEndpointUpdateSerializer = {
    _fromJsonObject(object) {
      return {
        description: object["description"],
        disabled: object["disabled"],
        filterTypes: object["filterTypes"],
        metadata: object["metadata"],
        rateLimit: object["rateLimit"],
        uid: object["uid"],
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        description: self.description,
        disabled: self.disabled,
        filterTypes: self.filterTypes,
        metadata: self.metadata,
        rateLimit: self.rateLimit,
        uid: self.uid,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/api/operationalWebhookEndpoint.js
var require_operationalWebhookEndpoint = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhookEndpoint = undefined;
  var listResponseOperationalWebhookEndpointOut_1 = require_listResponseOperationalWebhookEndpointOut();
  var operationalWebhookEndpointHeadersIn_1 = require_operationalWebhookEndpointHeadersIn();
  var operationalWebhookEndpointHeadersOut_1 = require_operationalWebhookEndpointHeadersOut();
  var operationalWebhookEndpointIn_1 = require_operationalWebhookEndpointIn();
  var operationalWebhookEndpointOut_1 = require_operationalWebhookEndpointOut();
  var operationalWebhookEndpointSecretIn_1 = require_operationalWebhookEndpointSecretIn();
  var operationalWebhookEndpointSecretOut_1 = require_operationalWebhookEndpointSecretOut();
  var operationalWebhookEndpointUpdate_1 = require_operationalWebhookEndpointUpdate();
  var request_1 = require_request();

  class OperationalWebhookEndpoint {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/operational-webhook/endpoint");
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseOperationalWebhookEndpointOut_1.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject);
    }
    create(operationalWebhookEndpointIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/operational-webhook/endpoint");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(operationalWebhookEndpointIn_1.OperationalWebhookEndpointInSerializer._toJsonObject(operationalWebhookEndpointIn));
      return request.send(this.requestCtx, operationalWebhookEndpointOut_1.OperationalWebhookEndpointOutSerializer._fromJsonObject);
    }
    get(endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/operational-webhook/endpoint/{endpoint_id}");
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, operationalWebhookEndpointOut_1.OperationalWebhookEndpointOutSerializer._fromJsonObject);
    }
    update(endpointId, operationalWebhookEndpointUpdate) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/operational-webhook/endpoint/{endpoint_id}");
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(operationalWebhookEndpointUpdate_1.OperationalWebhookEndpointUpdateSerializer._toJsonObject(operationalWebhookEndpointUpdate));
      return request.send(this.requestCtx, operationalWebhookEndpointOut_1.OperationalWebhookEndpointOutSerializer._fromJsonObject);
    }
    delete(endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/operational-webhook/endpoint/{endpoint_id}");
      request.setPathParam("endpoint_id", endpointId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    getHeaders(endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, operationalWebhookEndpointHeadersOut_1.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject);
    }
    updateHeaders(endpointId, operationalWebhookEndpointHeadersIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");
      request.setPathParam("endpoint_id", endpointId);
      request.setBody(operationalWebhookEndpointHeadersIn_1.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(operationalWebhookEndpointHeadersIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
    getSecret(endpointId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");
      request.setPathParam("endpoint_id", endpointId);
      return request.send(this.requestCtx, operationalWebhookEndpointSecretOut_1.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject);
    }
    rotateSecret(endpointId, operationalWebhookEndpointSecretIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");
      request.setPathParam("endpoint_id", endpointId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(operationalWebhookEndpointSecretIn_1.OperationalWebhookEndpointSecretInSerializer._toJsonObject(operationalWebhookEndpointSecretIn));
      return request.sendNoResponseBody(this.requestCtx);
    }
  }
  exports.OperationalWebhookEndpoint = OperationalWebhookEndpoint;
});

// ../../node_modules/svix/dist/api/operationalWebhook.js
var require_operationalWebhook = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OperationalWebhook = undefined;
  var operationalWebhookEndpoint_1 = require_operationalWebhookEndpoint();

  class OperationalWebhook {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    get endpoint() {
      return new operationalWebhookEndpoint_1.OperationalWebhookEndpoint(this.requestCtx);
    }
  }
  exports.OperationalWebhook = OperationalWebhook;
});

// ../../node_modules/svix/dist/models/aggregateEventTypesOut.js
var require_aggregateEventTypesOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AggregateEventTypesOutSerializer = undefined;
  var backgroundTaskStatus_1 = require_backgroundTaskStatus();
  var backgroundTaskType_1 = require_backgroundTaskType();
  exports.AggregateEventTypesOutSerializer = {
    _fromJsonObject(object) {
      return {
        id: object["id"],
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._fromJsonObject(object["status"]),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._fromJsonObject(object["task"])
      };
    },
    _toJsonObject(self) {
      return {
        id: self.id,
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._toJsonObject(self.status),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._toJsonObject(self.task)
      };
    }
  };
});

// ../../node_modules/svix/dist/models/appUsageStatsIn.js
var require_appUsageStatsIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AppUsageStatsInSerializer = undefined;
  exports.AppUsageStatsInSerializer = {
    _fromJsonObject(object) {
      return {
        appIds: object["appIds"],
        since: new Date(object["since"]),
        until: new Date(object["until"])
      };
    },
    _toJsonObject(self) {
      return {
        appIds: self.appIds,
        since: self.since,
        until: self.until
      };
    }
  };
});

// ../../node_modules/svix/dist/models/appUsageStatsOut.js
var require_appUsageStatsOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AppUsageStatsOutSerializer = undefined;
  var backgroundTaskStatus_1 = require_backgroundTaskStatus();
  var backgroundTaskType_1 = require_backgroundTaskType();
  exports.AppUsageStatsOutSerializer = {
    _fromJsonObject(object) {
      return {
        id: object["id"],
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._fromJsonObject(object["status"]),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._fromJsonObject(object["task"]),
        unresolvedAppIds: object["unresolvedAppIds"]
      };
    },
    _toJsonObject(self) {
      return {
        id: self.id,
        status: backgroundTaskStatus_1.BackgroundTaskStatusSerializer._toJsonObject(self.status),
        task: backgroundTaskType_1.BackgroundTaskTypeSerializer._toJsonObject(self.task),
        unresolvedAppIds: self.unresolvedAppIds
      };
    }
  };
});

// ../../node_modules/svix/dist/api/statistics.js
var require_statistics = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Statistics = undefined;
  var aggregateEventTypesOut_1 = require_aggregateEventTypesOut();
  var appUsageStatsIn_1 = require_appUsageStatsIn();
  var appUsageStatsOut_1 = require_appUsageStatsOut();
  var request_1 = require_request();

  class Statistics {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    aggregateAppStats(appUsageStatsIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/stats/usage/app");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(appUsageStatsIn_1.AppUsageStatsInSerializer._toJsonObject(appUsageStatsIn));
      return request.send(this.requestCtx, appUsageStatsOut_1.AppUsageStatsOutSerializer._fromJsonObject);
    }
    aggregateEventTypes() {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/stats/usage/event-types");
      return request.send(this.requestCtx, aggregateEventTypesOut_1.AggregateEventTypesOutSerializer._fromJsonObject);
    }
  }
  exports.Statistics = Statistics;
});

// ../../node_modules/svix/dist/models/httpSinkHeadersPatchIn.js
var require_httpSinkHeadersPatchIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.HttpSinkHeadersPatchInSerializer = undefined;
  exports.HttpSinkHeadersPatchInSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers
      };
    }
  };
});

// ../../node_modules/svix/dist/models/sinkTransformationOut.js
var require_sinkTransformationOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SinkTransformationOutSerializer = undefined;
  exports.SinkTransformationOutSerializer = {
    _fromJsonObject(object) {
      return {
        code: object["code"],
        enabled: object["enabled"]
      };
    },
    _toJsonObject(self) {
      return {
        code: self.code,
        enabled: self.enabled
      };
    }
  };
});

// ../../node_modules/svix/dist/models/streamEventTypeOut.js
var require_streamEventTypeOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamEventTypeOutSerializer = undefined;
  exports.StreamEventTypeOutSerializer = {
    _fromJsonObject(object) {
      return {
        archived: object["archived"],
        createdAt: new Date(object["createdAt"]),
        deprecated: object["deprecated"],
        description: object["description"],
        featureFlags: object["featureFlags"],
        name: object["name"],
        updatedAt: new Date(object["updatedAt"])
      };
    },
    _toJsonObject(self) {
      return {
        archived: self.archived,
        createdAt: self.createdAt,
        deprecated: self.deprecated,
        description: self.description,
        featureFlags: self.featureFlags,
        name: self.name,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseStreamEventTypeOut.js
var require_listResponseStreamEventTypeOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseStreamEventTypeOutSerializer = undefined;
  var streamEventTypeOut_1 = require_streamEventTypeOut();
  exports.ListResponseStreamEventTypeOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => streamEventTypeOut_1.StreamEventTypeOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => streamEventTypeOut_1.StreamEventTypeOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/streamEventTypeIn.js
var require_streamEventTypeIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamEventTypeInSerializer = undefined;
  exports.StreamEventTypeInSerializer = {
    _fromJsonObject(object) {
      return {
        archived: object["archived"],
        deprecated: object["deprecated"],
        description: object["description"],
        featureFlags: object["featureFlags"],
        name: object["name"]
      };
    },
    _toJsonObject(self) {
      return {
        archived: self.archived,
        deprecated: self.deprecated,
        description: self.description,
        featureFlags: self.featureFlags,
        name: self.name
      };
    }
  };
});

// ../../node_modules/svix/dist/models/streamEventTypePatch.js
var require_streamEventTypePatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamEventTypePatchSerializer = undefined;
  exports.StreamEventTypePatchSerializer = {
    _fromJsonObject(object) {
      return {
        archived: object["archived"],
        deprecated: object["deprecated"],
        description: object["description"],
        featureFlags: object["featureFlags"],
        name: object["name"]
      };
    },
    _toJsonObject(self) {
      return {
        archived: self.archived,
        deprecated: self.deprecated,
        description: self.description,
        featureFlags: self.featureFlags,
        name: self.name
      };
    }
  };
});

// ../../node_modules/svix/dist/api/streamingEventType.js
var require_streamingEventType = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamingEventType = undefined;
  var listResponseStreamEventTypeOut_1 = require_listResponseStreamEventTypeOut();
  var streamEventTypeIn_1 = require_streamEventTypeIn();
  var streamEventTypeOut_1 = require_streamEventTypeOut();
  var streamEventTypePatch_1 = require_streamEventTypePatch();
  var request_1 = require_request();

  class StreamingEventType {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/event-type");
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order,
        include_archived: options === null || options === undefined ? undefined : options.includeArchived
      });
      return request.send(this.requestCtx, listResponseStreamEventTypeOut_1.ListResponseStreamEventTypeOutSerializer._fromJsonObject);
    }
    create(streamEventTypeIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/stream/event-type");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(streamEventTypeIn_1.StreamEventTypeInSerializer._toJsonObject(streamEventTypeIn));
      return request.send(this.requestCtx, streamEventTypeOut_1.StreamEventTypeOutSerializer._fromJsonObject);
    }
    get(name) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/event-type/{name}");
      request.setPathParam("name", name);
      return request.send(this.requestCtx, streamEventTypeOut_1.StreamEventTypeOutSerializer._fromJsonObject);
    }
    update(name, streamEventTypeIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/stream/event-type/{name}");
      request.setPathParam("name", name);
      request.setBody(streamEventTypeIn_1.StreamEventTypeInSerializer._toJsonObject(streamEventTypeIn));
      return request.send(this.requestCtx, streamEventTypeOut_1.StreamEventTypeOutSerializer._fromJsonObject);
    }
    delete(name, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/stream/event-type/{name}");
      request.setPathParam("name", name);
      request.setQueryParams({
        expunge: options === null || options === undefined ? undefined : options.expunge
      });
      return request.sendNoResponseBody(this.requestCtx);
    }
    patch(name, streamEventTypePatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/stream/event-type/{name}");
      request.setPathParam("name", name);
      request.setBody(streamEventTypePatch_1.StreamEventTypePatchSerializer._toJsonObject(streamEventTypePatch));
      return request.send(this.requestCtx, streamEventTypeOut_1.StreamEventTypeOutSerializer._fromJsonObject);
    }
  }
  exports.StreamingEventType = StreamingEventType;
});

// ../../node_modules/svix/dist/models/eventIn.js
var require_eventIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventInSerializer = undefined;
  exports.EventInSerializer = {
    _fromJsonObject(object) {
      return {
        eventType: object["eventType"],
        payload: object["payload"]
      };
    },
    _toJsonObject(self) {
      return {
        eventType: self.eventType,
        payload: self.payload
      };
    }
  };
});

// ../../node_modules/svix/dist/models/streamIn.js
var require_streamIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamInSerializer = undefined;
  exports.StreamInSerializer = {
    _fromJsonObject(object) {
      return {
        metadata: object["metadata"],
        name: object["name"],
        uid: object["uid"]
      };
    },
    _toJsonObject(self) {
      return {
        metadata: self.metadata,
        name: self.name,
        uid: self.uid
      };
    }
  };
});

// ../../node_modules/svix/dist/models/createStreamEventsIn.js
var require_createStreamEventsIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.CreateStreamEventsInSerializer = undefined;
  var eventIn_1 = require_eventIn();
  var streamIn_1 = require_streamIn();
  exports.CreateStreamEventsInSerializer = {
    _fromJsonObject(object) {
      return {
        events: object["events"].map((item) => eventIn_1.EventInSerializer._fromJsonObject(item)),
        stream: object["stream"] ? streamIn_1.StreamInSerializer._fromJsonObject(object["stream"]) : undefined
      };
    },
    _toJsonObject(self) {
      return {
        events: self.events.map((item) => eventIn_1.EventInSerializer._toJsonObject(item)),
        stream: self.stream ? streamIn_1.StreamInSerializer._toJsonObject(self.stream) : undefined
      };
    }
  };
});

// ../../node_modules/svix/dist/models/createStreamEventsOut.js
var require_createStreamEventsOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.CreateStreamEventsOutSerializer = undefined;
  exports.CreateStreamEventsOutSerializer = {
    _fromJsonObject(_object) {
      return {};
    },
    _toJsonObject(_self) {
      return {};
    }
  };
});

// ../../node_modules/svix/dist/models/eventOut.js
var require_eventOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventOutSerializer = undefined;
  exports.EventOutSerializer = {
    _fromJsonObject(object) {
      return {
        eventType: object["eventType"],
        payload: object["payload"],
        timestamp: new Date(object["timestamp"])
      };
    },
    _toJsonObject(self) {
      return {
        eventType: self.eventType,
        payload: self.payload,
        timestamp: self.timestamp
      };
    }
  };
});

// ../../node_modules/svix/dist/models/eventStreamOut.js
var require_eventStreamOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EventStreamOutSerializer = undefined;
  var eventOut_1 = require_eventOut();
  exports.EventStreamOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => eventOut_1.EventOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => eventOut_1.EventOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator
      };
    }
  };
});

// ../../node_modules/svix/dist/api/streamingEvents.js
var require_streamingEvents = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamingEvents = undefined;
  var createStreamEventsIn_1 = require_createStreamEventsIn();
  var createStreamEventsOut_1 = require_createStreamEventsOut();
  var eventStreamOut_1 = require_eventStreamOut();
  var request_1 = require_request();

  class StreamingEvents {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    create(streamId, createStreamEventsIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/stream/{stream_id}/events");
      request.setPathParam("stream_id", streamId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(createStreamEventsIn_1.CreateStreamEventsInSerializer._toJsonObject(createStreamEventsIn));
      return request.send(this.requestCtx, createStreamEventsOut_1.CreateStreamEventsOutSerializer._fromJsonObject);
    }
    get(streamId, sinkId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/{stream_id}/sink/{sink_id}/events");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        after: options === null || options === undefined ? undefined : options.after
      });
      return request.send(this.requestCtx, eventStreamOut_1.EventStreamOutSerializer._fromJsonObject);
    }
  }
  exports.StreamingEvents = StreamingEvents;
});

// ../../node_modules/svix/dist/models/azureBlobStorageConfig.js
var require_azureBlobStorageConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AzureBlobStorageConfigSerializer = undefined;
  exports.AzureBlobStorageConfigSerializer = {
    _fromJsonObject(object) {
      return {
        accessKey: object["accessKey"],
        account: object["account"],
        container: object["container"]
      };
    },
    _toJsonObject(self) {
      return {
        accessKey: self.accessKey,
        account: self.account,
        container: self.container
      };
    }
  };
});

// ../../node_modules/svix/dist/models/googleCloudStorageConfig.js
var require_googleCloudStorageConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.GoogleCloudStorageConfigSerializer = undefined;
  exports.GoogleCloudStorageConfigSerializer = {
    _fromJsonObject(object) {
      return {
        bucket: object["bucket"],
        credentials: object["credentials"]
      };
    },
    _toJsonObject(self) {
      return {
        bucket: self.bucket,
        credentials: self.credentials
      };
    }
  };
});

// ../../node_modules/svix/dist/models/s3Config.js
var require_s3Config = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.S3ConfigSerializer = undefined;
  exports.S3ConfigSerializer = {
    _fromJsonObject(object) {
      return {
        accessKeyId: object["accessKeyId"],
        bucket: object["bucket"],
        region: object["region"],
        secretAccessKey: object["secretAccessKey"]
      };
    },
    _toJsonObject(self) {
      return {
        accessKeyId: self.accessKeyId,
        bucket: self.bucket,
        region: self.region,
        secretAccessKey: self.secretAccessKey
      };
    }
  };
});

// ../../node_modules/svix/dist/models/sinkHttpConfig.js
var require_sinkHttpConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SinkHttpConfigSerializer = undefined;
  exports.SinkHttpConfigSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"],
        key: object["key"],
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers,
        key: self.key,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/sinkOtelV1Config.js
var require_sinkOtelV1Config = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SinkOtelV1ConfigSerializer = undefined;
  exports.SinkOtelV1ConfigSerializer = {
    _fromJsonObject(object) {
      return {
        headers: object["headers"],
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        headers: self.headers,
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/sinkStatus.js
var require_sinkStatus = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SinkStatusSerializer = exports.SinkStatus = undefined;
  var SinkStatus;
  (function(SinkStatus2) {
    SinkStatus2["Enabled"] = "enabled";
    SinkStatus2["Paused"] = "paused";
    SinkStatus2["Disabled"] = "disabled";
    SinkStatus2["Retrying"] = "retrying";
  })(SinkStatus = exports.SinkStatus || (exports.SinkStatus = {}));
  exports.SinkStatusSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/streamSinkOut.js
var require_streamSinkOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamSinkOutSerializer = undefined;
  var azureBlobStorageConfig_1 = require_azureBlobStorageConfig();
  var googleCloudStorageConfig_1 = require_googleCloudStorageConfig();
  var s3Config_1 = require_s3Config();
  var sinkHttpConfig_1 = require_sinkHttpConfig();
  var sinkOtelV1Config_1 = require_sinkOtelV1Config();
  var sinkStatus_1 = require_sinkStatus();
  exports.StreamSinkOutSerializer = {
    _fromJsonObject(object) {
      const type = object["type"];
      function getConfig(type2) {
        switch (type2) {
          case "poller":
            return {};
          case "azureBlobStorage":
            return azureBlobStorageConfig_1.AzureBlobStorageConfigSerializer._fromJsonObject(object["config"]);
          case "otelTracing":
            return sinkOtelV1Config_1.SinkOtelV1ConfigSerializer._fromJsonObject(object["config"]);
          case "http":
            return sinkHttpConfig_1.SinkHttpConfigSerializer._fromJsonObject(object["config"]);
          case "amazonS3":
            return s3Config_1.S3ConfigSerializer._fromJsonObject(object["config"]);
          case "googleCloudStorage":
            return googleCloudStorageConfig_1.GoogleCloudStorageConfigSerializer._fromJsonObject(object["config"]);
          default:
            throw new Error(`Unexpected type: ${type2}`);
        }
      }
      return {
        type,
        config: getConfig(type),
        batchSize: object["batchSize"],
        createdAt: new Date(object["createdAt"]),
        currentIterator: object["currentIterator"],
        eventTypes: object["eventTypes"],
        failureReason: object["failureReason"],
        id: object["id"],
        maxWaitSecs: object["maxWaitSecs"],
        metadata: object["metadata"],
        nextRetryAt: object["nextRetryAt"] ? new Date(object["nextRetryAt"]) : null,
        status: sinkStatus_1.SinkStatusSerializer._fromJsonObject(object["status"]),
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"])
      };
    },
    _toJsonObject(self) {
      let config;
      switch (self.type) {
        case "poller":
          config = {};
          break;
        case "azureBlobStorage":
          config = azureBlobStorageConfig_1.AzureBlobStorageConfigSerializer._toJsonObject(self.config);
          break;
        case "otelTracing":
          config = sinkOtelV1Config_1.SinkOtelV1ConfigSerializer._toJsonObject(self.config);
          break;
        case "http":
          config = sinkHttpConfig_1.SinkHttpConfigSerializer._toJsonObject(self.config);
          break;
        case "amazonS3":
          config = s3Config_1.S3ConfigSerializer._toJsonObject(self.config);
          break;
        case "googleCloudStorage":
          config = googleCloudStorageConfig_1.GoogleCloudStorageConfigSerializer._toJsonObject(self.config);
          break;
      }
      return {
        type: self.type,
        config,
        batchSize: self.batchSize,
        createdAt: self.createdAt,
        currentIterator: self.currentIterator,
        eventTypes: self.eventTypes,
        failureReason: self.failureReason,
        id: self.id,
        maxWaitSecs: self.maxWaitSecs,
        metadata: self.metadata,
        nextRetryAt: self.nextRetryAt,
        status: sinkStatus_1.SinkStatusSerializer._toJsonObject(self.status),
        uid: self.uid,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseStreamSinkOut.js
var require_listResponseStreamSinkOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseStreamSinkOutSerializer = undefined;
  var streamSinkOut_1 = require_streamSinkOut();
  exports.ListResponseStreamSinkOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => streamSinkOut_1.StreamSinkOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => streamSinkOut_1.StreamSinkOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/sinkSecretOut.js
var require_sinkSecretOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SinkSecretOutSerializer = undefined;
  exports.SinkSecretOutSerializer = {
    _fromJsonObject(object) {
      return {
        key: object["key"]
      };
    },
    _toJsonObject(self) {
      return {
        key: self.key
      };
    }
  };
});

// ../../node_modules/svix/dist/models/sinkTransformIn.js
var require_sinkTransformIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SinkTransformInSerializer = undefined;
  exports.SinkTransformInSerializer = {
    _fromJsonObject(object) {
      return {
        code: object["code"]
      };
    },
    _toJsonObject(self) {
      return {
        code: self.code
      };
    }
  };
});

// ../../node_modules/svix/dist/models/sinkStatusIn.js
var require_sinkStatusIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SinkStatusInSerializer = exports.SinkStatusIn = undefined;
  var SinkStatusIn;
  (function(SinkStatusIn2) {
    SinkStatusIn2["Enabled"] = "enabled";
    SinkStatusIn2["Disabled"] = "disabled";
  })(SinkStatusIn = exports.SinkStatusIn || (exports.SinkStatusIn = {}));
  exports.SinkStatusInSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/streamSinkIn.js
var require_streamSinkIn = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamSinkInSerializer = undefined;
  var azureBlobStorageConfig_1 = require_azureBlobStorageConfig();
  var googleCloudStorageConfig_1 = require_googleCloudStorageConfig();
  var s3Config_1 = require_s3Config();
  var sinkHttpConfig_1 = require_sinkHttpConfig();
  var sinkOtelV1Config_1 = require_sinkOtelV1Config();
  var sinkStatusIn_1 = require_sinkStatusIn();
  exports.StreamSinkInSerializer = {
    _fromJsonObject(object) {
      const type = object["type"];
      function getConfig(type2) {
        switch (type2) {
          case "poller":
            return {};
          case "azureBlobStorage":
            return azureBlobStorageConfig_1.AzureBlobStorageConfigSerializer._fromJsonObject(object["config"]);
          case "otelTracing":
            return sinkOtelV1Config_1.SinkOtelV1ConfigSerializer._fromJsonObject(object["config"]);
          case "http":
            return sinkHttpConfig_1.SinkHttpConfigSerializer._fromJsonObject(object["config"]);
          case "amazonS3":
            return s3Config_1.S3ConfigSerializer._fromJsonObject(object["config"]);
          case "googleCloudStorage":
            return googleCloudStorageConfig_1.GoogleCloudStorageConfigSerializer._fromJsonObject(object["config"]);
          default:
            throw new Error(`Unexpected type: ${type2}`);
        }
      }
      return {
        type,
        config: getConfig(type),
        batchSize: object["batchSize"],
        eventTypes: object["eventTypes"],
        maxWaitSecs: object["maxWaitSecs"],
        metadata: object["metadata"],
        status: object["status"] ? sinkStatusIn_1.SinkStatusInSerializer._fromJsonObject(object["status"]) : undefined,
        uid: object["uid"]
      };
    },
    _toJsonObject(self) {
      let config;
      switch (self.type) {
        case "poller":
          config = {};
          break;
        case "azureBlobStorage":
          config = azureBlobStorageConfig_1.AzureBlobStorageConfigSerializer._toJsonObject(self.config);
          break;
        case "otelTracing":
          config = sinkOtelV1Config_1.SinkOtelV1ConfigSerializer._toJsonObject(self.config);
          break;
        case "http":
          config = sinkHttpConfig_1.SinkHttpConfigSerializer._toJsonObject(self.config);
          break;
        case "amazonS3":
          config = s3Config_1.S3ConfigSerializer._toJsonObject(self.config);
          break;
        case "googleCloudStorage":
          config = googleCloudStorageConfig_1.GoogleCloudStorageConfigSerializer._toJsonObject(self.config);
          break;
      }
      return {
        type: self.type,
        config,
        batchSize: self.batchSize,
        eventTypes: self.eventTypes,
        maxWaitSecs: self.maxWaitSecs,
        metadata: self.metadata,
        status: self.status ? sinkStatusIn_1.SinkStatusInSerializer._toJsonObject(self.status) : undefined,
        uid: self.uid
      };
    }
  };
});

// ../../node_modules/svix/dist/models/amazonS3PatchConfig.js
var require_amazonS3PatchConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AmazonS3PatchConfigSerializer = undefined;
  exports.AmazonS3PatchConfigSerializer = {
    _fromJsonObject(object) {
      return {
        accessKeyId: object["accessKeyId"],
        bucket: object["bucket"],
        region: object["region"],
        secretAccessKey: object["secretAccessKey"]
      };
    },
    _toJsonObject(self) {
      return {
        accessKeyId: self.accessKeyId,
        bucket: self.bucket,
        region: self.region,
        secretAccessKey: self.secretAccessKey
      };
    }
  };
});

// ../../node_modules/svix/dist/models/azureBlobStoragePatchConfig.js
var require_azureBlobStoragePatchConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.AzureBlobStoragePatchConfigSerializer = undefined;
  exports.AzureBlobStoragePatchConfigSerializer = {
    _fromJsonObject(object) {
      return {
        accessKey: object["accessKey"],
        account: object["account"],
        container: object["container"]
      };
    },
    _toJsonObject(self) {
      return {
        accessKey: self.accessKey,
        account: self.account,
        container: self.container
      };
    }
  };
});

// ../../node_modules/svix/dist/models/googleCloudStoragePatchConfig.js
var require_googleCloudStoragePatchConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.GoogleCloudStoragePatchConfigSerializer = undefined;
  exports.GoogleCloudStoragePatchConfigSerializer = {
    _fromJsonObject(object) {
      return {
        bucket: object["bucket"],
        credentials: object["credentials"]
      };
    },
    _toJsonObject(self) {
      return {
        bucket: self.bucket,
        credentials: self.credentials
      };
    }
  };
});

// ../../node_modules/svix/dist/models/httpPatchConfig.js
var require_httpPatchConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.HttpPatchConfigSerializer = undefined;
  exports.HttpPatchConfigSerializer = {
    _fromJsonObject(object) {
      return {
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/otelTracingPatchConfig.js
var require_otelTracingPatchConfig = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OtelTracingPatchConfigSerializer = undefined;
  exports.OtelTracingPatchConfigSerializer = {
    _fromJsonObject(object) {
      return {
        url: object["url"]
      };
    },
    _toJsonObject(self) {
      return {
        url: self.url
      };
    }
  };
});

// ../../node_modules/svix/dist/models/streamSinkPatch.js
var require_streamSinkPatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamSinkPatchSerializer = undefined;
  var amazonS3PatchConfig_1 = require_amazonS3PatchConfig();
  var azureBlobStoragePatchConfig_1 = require_azureBlobStoragePatchConfig();
  var googleCloudStoragePatchConfig_1 = require_googleCloudStoragePatchConfig();
  var httpPatchConfig_1 = require_httpPatchConfig();
  var otelTracingPatchConfig_1 = require_otelTracingPatchConfig();
  var sinkStatusIn_1 = require_sinkStatusIn();
  exports.StreamSinkPatchSerializer = {
    _fromJsonObject(object) {
      const type = object["type"];
      function getConfig(type2) {
        switch (type2) {
          case "poller":
            return {};
          case "azureBlobStorage":
            return azureBlobStoragePatchConfig_1.AzureBlobStoragePatchConfigSerializer._fromJsonObject(object["config"]);
          case "otelTracing":
            return otelTracingPatchConfig_1.OtelTracingPatchConfigSerializer._fromJsonObject(object["config"]);
          case "http":
            return httpPatchConfig_1.HttpPatchConfigSerializer._fromJsonObject(object["config"]);
          case "amazonS3":
            return amazonS3PatchConfig_1.AmazonS3PatchConfigSerializer._fromJsonObject(object["config"]);
          case "googleCloudStorage":
            return googleCloudStoragePatchConfig_1.GoogleCloudStoragePatchConfigSerializer._fromJsonObject(object["config"]);
          default:
            throw new Error(`Unexpected type: ${type2}`);
        }
      }
      return {
        type,
        config: getConfig(type),
        batchSize: object["batchSize"],
        eventTypes: object["eventTypes"],
        maxWaitSecs: object["maxWaitSecs"],
        metadata: object["metadata"],
        status: object["status"] ? sinkStatusIn_1.SinkStatusInSerializer._fromJsonObject(object["status"]) : undefined,
        uid: object["uid"]
      };
    },
    _toJsonObject(self) {
      let config;
      switch (self.type) {
        case "poller":
          config = {};
          break;
        case "azureBlobStorage":
          config = azureBlobStoragePatchConfig_1.AzureBlobStoragePatchConfigSerializer._toJsonObject(self.config);
          break;
        case "otelTracing":
          config = otelTracingPatchConfig_1.OtelTracingPatchConfigSerializer._toJsonObject(self.config);
          break;
        case "http":
          config = httpPatchConfig_1.HttpPatchConfigSerializer._toJsonObject(self.config);
          break;
        case "amazonS3":
          config = amazonS3PatchConfig_1.AmazonS3PatchConfigSerializer._toJsonObject(self.config);
          break;
        case "googleCloudStorage":
          config = googleCloudStoragePatchConfig_1.GoogleCloudStoragePatchConfigSerializer._toJsonObject(self.config);
          break;
      }
      return {
        type: self.type,
        config,
        batchSize: self.batchSize,
        eventTypes: self.eventTypes,
        maxWaitSecs: self.maxWaitSecs,
        metadata: self.metadata,
        status: self.status ? sinkStatusIn_1.SinkStatusInSerializer._toJsonObject(self.status) : undefined,
        uid: self.uid
      };
    }
  };
});

// ../../node_modules/svix/dist/api/streamingSink.js
var require_streamingSink = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamingSink = undefined;
  var emptyResponse_1 = require_emptyResponse();
  var endpointSecretRotateIn_1 = require_endpointSecretRotateIn();
  var listResponseStreamSinkOut_1 = require_listResponseStreamSinkOut();
  var sinkSecretOut_1 = require_sinkSecretOut();
  var sinkTransformIn_1 = require_sinkTransformIn();
  var streamSinkIn_1 = require_streamSinkIn();
  var streamSinkOut_1 = require_streamSinkOut();
  var streamSinkPatch_1 = require_streamSinkPatch();
  var request_1 = require_request();

  class StreamingSink {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(streamId, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/{stream_id}/sink");
      request.setPathParam("stream_id", streamId);
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseStreamSinkOut_1.ListResponseStreamSinkOutSerializer._fromJsonObject);
    }
    create(streamId, streamSinkIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/stream/{stream_id}/sink");
      request.setPathParam("stream_id", streamId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(streamSinkIn_1.StreamSinkInSerializer._toJsonObject(streamSinkIn));
      return request.send(this.requestCtx, streamSinkOut_1.StreamSinkOutSerializer._fromJsonObject);
    }
    get(streamId, sinkId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/{stream_id}/sink/{sink_id}");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      return request.send(this.requestCtx, streamSinkOut_1.StreamSinkOutSerializer._fromJsonObject);
    }
    update(streamId, sinkId, streamSinkIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/stream/{stream_id}/sink/{sink_id}");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      request.setBody(streamSinkIn_1.StreamSinkInSerializer._toJsonObject(streamSinkIn));
      return request.send(this.requestCtx, streamSinkOut_1.StreamSinkOutSerializer._fromJsonObject);
    }
    delete(streamId, sinkId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/stream/{stream_id}/sink/{sink_id}");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    patch(streamId, sinkId, streamSinkPatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/stream/{stream_id}/sink/{sink_id}");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      request.setBody(streamSinkPatch_1.StreamSinkPatchSerializer._toJsonObject(streamSinkPatch));
      return request.send(this.requestCtx, streamSinkOut_1.StreamSinkOutSerializer._fromJsonObject);
    }
    getSecret(streamId, sinkId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/{stream_id}/sink/{sink_id}/secret");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      return request.send(this.requestCtx, sinkSecretOut_1.SinkSecretOutSerializer._fromJsonObject);
    }
    rotateSecret(streamId, sinkId, endpointSecretRotateIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/stream/{stream_id}/sink/{sink_id}/secret/rotate");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(endpointSecretRotateIn_1.EndpointSecretRotateInSerializer._toJsonObject(endpointSecretRotateIn));
      return request.send(this.requestCtx, emptyResponse_1.EmptyResponseSerializer._fromJsonObject);
    }
    transformationPartialUpdate(streamId, sinkId, sinkTransformIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      request.setBody(sinkTransformIn_1.SinkTransformInSerializer._toJsonObject(sinkTransformIn));
      return request.send(this.requestCtx, emptyResponse_1.EmptyResponseSerializer._fromJsonObject);
    }
  }
  exports.StreamingSink = StreamingSink;
});

// ../../node_modules/svix/dist/models/streamOut.js
var require_streamOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamOutSerializer = undefined;
  exports.StreamOutSerializer = {
    _fromJsonObject(object) {
      return {
        createdAt: new Date(object["createdAt"]),
        id: object["id"],
        metadata: object["metadata"],
        name: object["name"],
        uid: object["uid"],
        updatedAt: new Date(object["updatedAt"])
      };
    },
    _toJsonObject(self) {
      return {
        createdAt: self.createdAt,
        id: self.id,
        metadata: self.metadata,
        name: self.name,
        uid: self.uid,
        updatedAt: self.updatedAt
      };
    }
  };
});

// ../../node_modules/svix/dist/models/listResponseStreamOut.js
var require_listResponseStreamOut = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.ListResponseStreamOutSerializer = undefined;
  var streamOut_1 = require_streamOut();
  exports.ListResponseStreamOutSerializer = {
    _fromJsonObject(object) {
      return {
        data: object["data"].map((item) => streamOut_1.StreamOutSerializer._fromJsonObject(item)),
        done: object["done"],
        iterator: object["iterator"],
        prevIterator: object["prevIterator"]
      };
    },
    _toJsonObject(self) {
      return {
        data: self.data.map((item) => streamOut_1.StreamOutSerializer._toJsonObject(item)),
        done: self.done,
        iterator: self.iterator,
        prevIterator: self.prevIterator
      };
    }
  };
});

// ../../node_modules/svix/dist/models/streamPatch.js
var require_streamPatch = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamPatchSerializer = undefined;
  exports.StreamPatchSerializer = {
    _fromJsonObject(object) {
      return {
        description: object["description"],
        metadata: object["metadata"],
        uid: object["uid"]
      };
    },
    _toJsonObject(self) {
      return {
        description: self.description,
        metadata: self.metadata,
        uid: self.uid
      };
    }
  };
});

// ../../node_modules/svix/dist/api/streamingStream.js
var require_streamingStream = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StreamingStream = undefined;
  var listResponseStreamOut_1 = require_listResponseStreamOut();
  var streamIn_1 = require_streamIn();
  var streamOut_1 = require_streamOut();
  var streamPatch_1 = require_streamPatch();
  var request_1 = require_request();

  class StreamingStream {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    list(options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream");
      request.setQueryParams({
        limit: options === null || options === undefined ? undefined : options.limit,
        iterator: options === null || options === undefined ? undefined : options.iterator,
        order: options === null || options === undefined ? undefined : options.order
      });
      return request.send(this.requestCtx, listResponseStreamOut_1.ListResponseStreamOutSerializer._fromJsonObject);
    }
    create(streamIn, options) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.POST, "/api/v1/stream");
      request.setHeaderParam("idempotency-key", options === null || options === undefined ? undefined : options.idempotencyKey);
      request.setBody(streamIn_1.StreamInSerializer._toJsonObject(streamIn));
      return request.send(this.requestCtx, streamOut_1.StreamOutSerializer._fromJsonObject);
    }
    get(streamId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/{stream_id}");
      request.setPathParam("stream_id", streamId);
      return request.send(this.requestCtx, streamOut_1.StreamOutSerializer._fromJsonObject);
    }
    update(streamId, streamIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PUT, "/api/v1/stream/{stream_id}");
      request.setPathParam("stream_id", streamId);
      request.setBody(streamIn_1.StreamInSerializer._toJsonObject(streamIn));
      return request.send(this.requestCtx, streamOut_1.StreamOutSerializer._fromJsonObject);
    }
    delete(streamId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.DELETE, "/api/v1/stream/{stream_id}");
      request.setPathParam("stream_id", streamId);
      return request.sendNoResponseBody(this.requestCtx);
    }
    patch(streamId, streamPatch) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/stream/{stream_id}");
      request.setPathParam("stream_id", streamId);
      request.setBody(streamPatch_1.StreamPatchSerializer._toJsonObject(streamPatch));
      return request.send(this.requestCtx, streamOut_1.StreamOutSerializer._fromJsonObject);
    }
  }
  exports.StreamingStream = StreamingStream;
});

// ../../node_modules/svix/dist/api/streaming.js
var require_streaming = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Streaming = undefined;
  var endpointHeadersOut_1 = require_endpointHeadersOut();
  var httpSinkHeadersPatchIn_1 = require_httpSinkHeadersPatchIn();
  var sinkTransformationOut_1 = require_sinkTransformationOut();
  var streamingEventType_1 = require_streamingEventType();
  var streamingEvents_1 = require_streamingEvents();
  var streamingSink_1 = require_streamingSink();
  var streamingStream_1 = require_streamingStream();
  var request_1 = require_request();

  class Streaming {
    constructor(requestCtx) {
      this.requestCtx = requestCtx;
    }
    get event_type() {
      return new streamingEventType_1.StreamingEventType(this.requestCtx);
    }
    get events() {
      return new streamingEvents_1.StreamingEvents(this.requestCtx);
    }
    get sink() {
      return new streamingSink_1.StreamingSink(this.requestCtx);
    }
    get stream() {
      return new streamingStream_1.StreamingStream(this.requestCtx);
    }
    sinkHeadersGet(streamId, sinkId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/{stream_id}/sink/{sink_id}/headers");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      return request.send(this.requestCtx, endpointHeadersOut_1.EndpointHeadersOutSerializer._fromJsonObject);
    }
    sinkHeadersPatch(streamId, sinkId, httpSinkHeadersPatchIn) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.PATCH, "/api/v1/stream/{stream_id}/sink/{sink_id}/headers");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      request.setBody(httpSinkHeadersPatchIn_1.HttpSinkHeadersPatchInSerializer._toJsonObject(httpSinkHeadersPatchIn));
      return request.send(this.requestCtx, endpointHeadersOut_1.EndpointHeadersOutSerializer._fromJsonObject);
    }
    sinkTransformationGet(streamId, sinkId) {
      const request = new request_1.SvixRequest(request_1.HttpMethod.GET, "/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");
      request.setPathParam("stream_id", streamId);
      request.setPathParam("sink_id", sinkId);
      return request.send(this.requestCtx, sinkTransformationOut_1.SinkTransformationOutSerializer._fromJsonObject);
    }
  }
  exports.Streaming = Streaming;
});

// ../../node_modules/svix/dist/HttpErrors.js
var require_HttpErrors = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.HTTPValidationError = exports.ValidationError = exports.HttpErrorOut = undefined;

  class HttpErrorOut {
    static getAttributeTypeMap() {
      return HttpErrorOut.attributeTypeMap;
    }
  }
  exports.HttpErrorOut = HttpErrorOut;
  HttpErrorOut.discriminator = undefined;
  HttpErrorOut.mapping = undefined;
  HttpErrorOut.attributeTypeMap = [
    {
      name: "code",
      baseName: "code",
      type: "string",
      format: ""
    },
    {
      name: "detail",
      baseName: "detail",
      type: "string",
      format: ""
    }
  ];

  class ValidationError2 {
    static getAttributeTypeMap() {
      return ValidationError2.attributeTypeMap;
    }
  }
  exports.ValidationError = ValidationError2;
  ValidationError2.discriminator = undefined;
  ValidationError2.mapping = undefined;
  ValidationError2.attributeTypeMap = [
    {
      name: "loc",
      baseName: "loc",
      type: "Array<string>",
      format: ""
    },
    {
      name: "msg",
      baseName: "msg",
      type: "string",
      format: ""
    },
    {
      name: "type",
      baseName: "type",
      type: "string",
      format: ""
    }
  ];

  class HTTPValidationError {
    static getAttributeTypeMap() {
      return HTTPValidationError.attributeTypeMap;
    }
  }
  exports.HTTPValidationError = HTTPValidationError;
  HTTPValidationError.discriminator = undefined;
  HTTPValidationError.mapping = undefined;
  HTTPValidationError.attributeTypeMap = [
    {
      name: "detail",
      baseName: "detail",
      type: "Array<ValidationError>",
      format: ""
    }
  ];
});

// ../../node_modules/standardwebhooks/dist/timing_safe_equal.js
var require_timing_safe_equal = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.timingSafeEqual = undefined;
  function assert(expr, msg = "") {
    if (!expr) {
      throw new Error(msg);
    }
  }
  function timingSafeEqual(a, b2) {
    if (a.byteLength !== b2.byteLength) {
      return false;
    }
    if (!(a instanceof DataView)) {
      a = new DataView(ArrayBuffer.isView(a) ? a.buffer : a);
    }
    if (!(b2 instanceof DataView)) {
      b2 = new DataView(ArrayBuffer.isView(b2) ? b2.buffer : b2);
    }
    assert(a instanceof DataView);
    assert(b2 instanceof DataView);
    const length = a.byteLength;
    let out = 0;
    let i = -1;
    while (++i < length) {
      out |= a.getUint8(i) ^ b2.getUint8(i);
    }
    return out === 0;
  }
  exports.timingSafeEqual = timingSafeEqual;
});

// ../../node_modules/@stablelib/base64/lib/base64.js
var require_base64 = __commonJS((exports) => {
  var __extends = exports && exports.__extends || function() {
    var extendStatics = function(d, b2) {
      extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b3) {
        d2.__proto__ = b3;
      } || function(d2, b3) {
        for (var p in b3)
          if (b3.hasOwnProperty(p))
            d2[p] = b3[p];
      };
      return extendStatics(d, b2);
    };
    return function(d, b2) {
      extendStatics(d, b2);
      function __() {
        this.constructor = d;
      }
      d.prototype = b2 === null ? Object.create(b2) : (__.prototype = b2.prototype, new __);
    };
  }();
  Object.defineProperty(exports, "__esModule", { value: true });
  var INVALID_BYTE = 256;
  var Coder = function() {
    function Coder2(_paddingCharacter) {
      if (_paddingCharacter === undefined) {
        _paddingCharacter = "=";
      }
      this._paddingCharacter = _paddingCharacter;
    }
    Coder2.prototype.encodedLength = function(length) {
      if (!this._paddingCharacter) {
        return (length * 8 + 5) / 6 | 0;
      }
      return (length + 2) / 3 * 4 | 0;
    };
    Coder2.prototype.encode = function(data) {
      var out = "";
      var i = 0;
      for (;i < data.length - 2; i += 3) {
        var c = data[i] << 16 | data[i + 1] << 8 | data[i + 2];
        out += this._encodeByte(c >>> 3 * 6 & 63);
        out += this._encodeByte(c >>> 2 * 6 & 63);
        out += this._encodeByte(c >>> 1 * 6 & 63);
        out += this._encodeByte(c >>> 0 * 6 & 63);
      }
      var left = data.length - i;
      if (left > 0) {
        var c = data[i] << 16 | (left === 2 ? data[i + 1] << 8 : 0);
        out += this._encodeByte(c >>> 3 * 6 & 63);
        out += this._encodeByte(c >>> 2 * 6 & 63);
        if (left === 2) {
          out += this._encodeByte(c >>> 1 * 6 & 63);
        } else {
          out += this._paddingCharacter || "";
        }
        out += this._paddingCharacter || "";
      }
      return out;
    };
    Coder2.prototype.maxDecodedLength = function(length) {
      if (!this._paddingCharacter) {
        return (length * 6 + 7) / 8 | 0;
      }
      return length / 4 * 3 | 0;
    };
    Coder2.prototype.decodedLength = function(s2) {
      return this.maxDecodedLength(s2.length - this._getPaddingLength(s2));
    };
    Coder2.prototype.decode = function(s2) {
      if (s2.length === 0) {
        return new Uint8Array(0);
      }
      var paddingLength = this._getPaddingLength(s2);
      var length = s2.length - paddingLength;
      var out = new Uint8Array(this.maxDecodedLength(length));
      var op = 0;
      var i = 0;
      var haveBad = 0;
      var v0 = 0, v1 = 0, v2 = 0, v3 = 0;
      for (;i < length - 4; i += 4) {
        v0 = this._decodeChar(s2.charCodeAt(i + 0));
        v1 = this._decodeChar(s2.charCodeAt(i + 1));
        v2 = this._decodeChar(s2.charCodeAt(i + 2));
        v3 = this._decodeChar(s2.charCodeAt(i + 3));
        out[op++] = v0 << 2 | v1 >>> 4;
        out[op++] = v1 << 4 | v2 >>> 2;
        out[op++] = v2 << 6 | v3;
        haveBad |= v0 & INVALID_BYTE;
        haveBad |= v1 & INVALID_BYTE;
        haveBad |= v2 & INVALID_BYTE;
        haveBad |= v3 & INVALID_BYTE;
      }
      if (i < length - 1) {
        v0 = this._decodeChar(s2.charCodeAt(i));
        v1 = this._decodeChar(s2.charCodeAt(i + 1));
        out[op++] = v0 << 2 | v1 >>> 4;
        haveBad |= v0 & INVALID_BYTE;
        haveBad |= v1 & INVALID_BYTE;
      }
      if (i < length - 2) {
        v2 = this._decodeChar(s2.charCodeAt(i + 2));
        out[op++] = v1 << 4 | v2 >>> 2;
        haveBad |= v2 & INVALID_BYTE;
      }
      if (i < length - 3) {
        v3 = this._decodeChar(s2.charCodeAt(i + 3));
        out[op++] = v2 << 6 | v3;
        haveBad |= v3 & INVALID_BYTE;
      }
      if (haveBad !== 0) {
        throw new Error("Base64Coder: incorrect characters for decoding");
      }
      return out;
    };
    Coder2.prototype._encodeByte = function(b2) {
      var result = b2;
      result += 65;
      result += 25 - b2 >>> 8 & 0 - 65 - 26 + 97;
      result += 51 - b2 >>> 8 & 26 - 97 - 52 + 48;
      result += 61 - b2 >>> 8 & 52 - 48 - 62 + 43;
      result += 62 - b2 >>> 8 & 62 - 43 - 63 + 47;
      return String.fromCharCode(result);
    };
    Coder2.prototype._decodeChar = function(c) {
      var result = INVALID_BYTE;
      result += (42 - c & c - 44) >>> 8 & -INVALID_BYTE + c - 43 + 62;
      result += (46 - c & c - 48) >>> 8 & -INVALID_BYTE + c - 47 + 63;
      result += (47 - c & c - 58) >>> 8 & -INVALID_BYTE + c - 48 + 52;
      result += (64 - c & c - 91) >>> 8 & -INVALID_BYTE + c - 65 + 0;
      result += (96 - c & c - 123) >>> 8 & -INVALID_BYTE + c - 97 + 26;
      return result;
    };
    Coder2.prototype._getPaddingLength = function(s2) {
      var paddingLength = 0;
      if (this._paddingCharacter) {
        for (var i = s2.length - 1;i >= 0; i--) {
          if (s2[i] !== this._paddingCharacter) {
            break;
          }
          paddingLength++;
        }
        if (s2.length < 4 || paddingLength > 2) {
          throw new Error("Base64Coder: incorrect padding");
        }
      }
      return paddingLength;
    };
    return Coder2;
  }();
  exports.Coder = Coder;
  var stdCoder = new Coder;
  function encode(data) {
    return stdCoder.encode(data);
  }
  exports.encode = encode;
  function decode(s2) {
    return stdCoder.decode(s2);
  }
  exports.decode = decode;
  var URLSafeCoder = function(_super) {
    __extends(URLSafeCoder2, _super);
    function URLSafeCoder2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    URLSafeCoder2.prototype._encodeByte = function(b2) {
      var result = b2;
      result += 65;
      result += 25 - b2 >>> 8 & 0 - 65 - 26 + 97;
      result += 51 - b2 >>> 8 & 26 - 97 - 52 + 48;
      result += 61 - b2 >>> 8 & 52 - 48 - 62 + 45;
      result += 62 - b2 >>> 8 & 62 - 45 - 63 + 95;
      return String.fromCharCode(result);
    };
    URLSafeCoder2.prototype._decodeChar = function(c) {
      var result = INVALID_BYTE;
      result += (44 - c & c - 46) >>> 8 & -INVALID_BYTE + c - 45 + 62;
      result += (94 - c & c - 96) >>> 8 & -INVALID_BYTE + c - 95 + 63;
      result += (47 - c & c - 58) >>> 8 & -INVALID_BYTE + c - 48 + 52;
      result += (64 - c & c - 91) >>> 8 & -INVALID_BYTE + c - 65 + 0;
      result += (96 - c & c - 123) >>> 8 & -INVALID_BYTE + c - 97 + 26;
      return result;
    };
    return URLSafeCoder2;
  }(Coder);
  exports.URLSafeCoder = URLSafeCoder;
  var urlSafeCoder = new URLSafeCoder;
  function encodeURLSafe(data) {
    return urlSafeCoder.encode(data);
  }
  exports.encodeURLSafe = encodeURLSafe;
  function decodeURLSafe(s2) {
    return urlSafeCoder.decode(s2);
  }
  exports.decodeURLSafe = decodeURLSafe;
  exports.encodedLength = function(length) {
    return stdCoder.encodedLength(length);
  };
  exports.maxDecodedLength = function(length) {
    return stdCoder.maxDecodedLength(length);
  };
  exports.decodedLength = function(s2) {
    return stdCoder.decodedLength(s2);
  };
});

// ../../node_modules/fast-sha256/sha256.js
var require_sha256 = __commonJS((exports, module) => {
  (function(root, factory) {
    var exports2 = {};
    factory(exports2);
    var sha2562 = exports2["default"];
    for (var k in exports2) {
      sha2562[k] = exports2[k];
    }
    if (typeof module === "object" && typeof module.exports === "object") {
      module.exports = sha2562;
    } else if (typeof define === "function" && define.amd) {
      define(function() {
        return sha2562;
      });
    } else {
      root.sha256 = sha2562;
    }
  })(exports, function(exports2) {
    exports2.__esModule = true;
    exports2.digestLength = 32;
    exports2.blockSize = 64;
    var K = new Uint32Array([
      1116352408,
      1899447441,
      3049323471,
      3921009573,
      961987163,
      1508970993,
      2453635748,
      2870763221,
      3624381080,
      310598401,
      607225278,
      1426881987,
      1925078388,
      2162078206,
      2614888103,
      3248222580,
      3835390401,
      4022224774,
      264347078,
      604807628,
      770255983,
      1249150122,
      1555081692,
      1996064986,
      2554220882,
      2821834349,
      2952996808,
      3210313671,
      3336571891,
      3584528711,
      113926993,
      338241895,
      666307205,
      773529912,
      1294757372,
      1396182291,
      1695183700,
      1986661051,
      2177026350,
      2456956037,
      2730485921,
      2820302411,
      3259730800,
      3345764771,
      3516065817,
      3600352804,
      4094571909,
      275423344,
      430227734,
      506948616,
      659060556,
      883997877,
      958139571,
      1322822218,
      1537002063,
      1747873779,
      1955562222,
      2024104815,
      2227730452,
      2361852424,
      2428436474,
      2756734187,
      3204031479,
      3329325298
    ]);
    function hashBlocks(w, v, p, pos, len) {
      var a, b2, c, d, e, f, g, h, u, i, j, t1, t2;
      while (len >= 64) {
        a = v[0];
        b2 = v[1];
        c = v[2];
        d = v[3];
        e = v[4];
        f = v[5];
        g = v[6];
        h = v[7];
        for (i = 0;i < 16; i++) {
          j = pos + i * 4;
          w[i] = (p[j] & 255) << 24 | (p[j + 1] & 255) << 16 | (p[j + 2] & 255) << 8 | p[j + 3] & 255;
        }
        for (i = 16;i < 64; i++) {
          u = w[i - 2];
          t1 = (u >>> 17 | u << 32 - 17) ^ (u >>> 19 | u << 32 - 19) ^ u >>> 10;
          u = w[i - 15];
          t2 = (u >>> 7 | u << 32 - 7) ^ (u >>> 18 | u << 32 - 18) ^ u >>> 3;
          w[i] = (t1 + w[i - 7] | 0) + (t2 + w[i - 16] | 0);
        }
        for (i = 0;i < 64; i++) {
          t1 = (((e >>> 6 | e << 32 - 6) ^ (e >>> 11 | e << 32 - 11) ^ (e >>> 25 | e << 32 - 25)) + (e & f ^ ~e & g) | 0) + (h + (K[i] + w[i] | 0) | 0) | 0;
          t2 = ((a >>> 2 | a << 32 - 2) ^ (a >>> 13 | a << 32 - 13) ^ (a >>> 22 | a << 32 - 22)) + (a & b2 ^ a & c ^ b2 & c) | 0;
          h = g;
          g = f;
          f = e;
          e = d + t1 | 0;
          d = c;
          c = b2;
          b2 = a;
          a = t1 + t2 | 0;
        }
        v[0] += a;
        v[1] += b2;
        v[2] += c;
        v[3] += d;
        v[4] += e;
        v[5] += f;
        v[6] += g;
        v[7] += h;
        pos += 64;
        len -= 64;
      }
      return pos;
    }
    var Hash = function() {
      function Hash2() {
        this.digestLength = exports2.digestLength;
        this.blockSize = exports2.blockSize;
        this.state = new Int32Array(8);
        this.temp = new Int32Array(64);
        this.buffer = new Uint8Array(128);
        this.bufferLength = 0;
        this.bytesHashed = 0;
        this.finished = false;
        this.reset();
      }
      Hash2.prototype.reset = function() {
        this.state[0] = 1779033703;
        this.state[1] = 3144134277;
        this.state[2] = 1013904242;
        this.state[3] = 2773480762;
        this.state[4] = 1359893119;
        this.state[5] = 2600822924;
        this.state[6] = 528734635;
        this.state[7] = 1541459225;
        this.bufferLength = 0;
        this.bytesHashed = 0;
        this.finished = false;
        return this;
      };
      Hash2.prototype.clean = function() {
        for (var i = 0;i < this.buffer.length; i++) {
          this.buffer[i] = 0;
        }
        for (var i = 0;i < this.temp.length; i++) {
          this.temp[i] = 0;
        }
        this.reset();
      };
      Hash2.prototype.update = function(data, dataLength) {
        if (dataLength === undefined) {
          dataLength = data.length;
        }
        if (this.finished) {
          throw new Error("SHA256: can't update because hash was finished.");
        }
        var dataPos = 0;
        this.bytesHashed += dataLength;
        if (this.bufferLength > 0) {
          while (this.bufferLength < 64 && dataLength > 0) {
            this.buffer[this.bufferLength++] = data[dataPos++];
            dataLength--;
          }
          if (this.bufferLength === 64) {
            hashBlocks(this.temp, this.state, this.buffer, 0, 64);
            this.bufferLength = 0;
          }
        }
        if (dataLength >= 64) {
          dataPos = hashBlocks(this.temp, this.state, data, dataPos, dataLength);
          dataLength %= 64;
        }
        while (dataLength > 0) {
          this.buffer[this.bufferLength++] = data[dataPos++];
          dataLength--;
        }
        return this;
      };
      Hash2.prototype.finish = function(out) {
        if (!this.finished) {
          var bytesHashed = this.bytesHashed;
          var left = this.bufferLength;
          var bitLenHi = bytesHashed / 536870912 | 0;
          var bitLenLo = bytesHashed << 3;
          var padLength = bytesHashed % 64 < 56 ? 64 : 128;
          this.buffer[left] = 128;
          for (var i = left + 1;i < padLength - 8; i++) {
            this.buffer[i] = 0;
          }
          this.buffer[padLength - 8] = bitLenHi >>> 24 & 255;
          this.buffer[padLength - 7] = bitLenHi >>> 16 & 255;
          this.buffer[padLength - 6] = bitLenHi >>> 8 & 255;
          this.buffer[padLength - 5] = bitLenHi >>> 0 & 255;
          this.buffer[padLength - 4] = bitLenLo >>> 24 & 255;
          this.buffer[padLength - 3] = bitLenLo >>> 16 & 255;
          this.buffer[padLength - 2] = bitLenLo >>> 8 & 255;
          this.buffer[padLength - 1] = bitLenLo >>> 0 & 255;
          hashBlocks(this.temp, this.state, this.buffer, 0, padLength);
          this.finished = true;
        }
        for (var i = 0;i < 8; i++) {
          out[i * 4 + 0] = this.state[i] >>> 24 & 255;
          out[i * 4 + 1] = this.state[i] >>> 16 & 255;
          out[i * 4 + 2] = this.state[i] >>> 8 & 255;
          out[i * 4 + 3] = this.state[i] >>> 0 & 255;
        }
        return this;
      };
      Hash2.prototype.digest = function() {
        var out = new Uint8Array(this.digestLength);
        this.finish(out);
        return out;
      };
      Hash2.prototype._saveState = function(out) {
        for (var i = 0;i < this.state.length; i++) {
          out[i] = this.state[i];
        }
      };
      Hash2.prototype._restoreState = function(from, bytesHashed) {
        for (var i = 0;i < this.state.length; i++) {
          this.state[i] = from[i];
        }
        this.bytesHashed = bytesHashed;
        this.finished = false;
        this.bufferLength = 0;
      };
      return Hash2;
    }();
    exports2.Hash = Hash;
    var HMAC = function() {
      function HMAC2(key) {
        this.inner = new Hash;
        this.outer = new Hash;
        this.blockSize = this.inner.blockSize;
        this.digestLength = this.inner.digestLength;
        var pad = new Uint8Array(this.blockSize);
        if (key.length > this.blockSize) {
          new Hash().update(key).finish(pad).clean();
        } else {
          for (var i = 0;i < key.length; i++) {
            pad[i] = key[i];
          }
        }
        for (var i = 0;i < pad.length; i++) {
          pad[i] ^= 54;
        }
        this.inner.update(pad);
        for (var i = 0;i < pad.length; i++) {
          pad[i] ^= 54 ^ 92;
        }
        this.outer.update(pad);
        this.istate = new Uint32Array(8);
        this.ostate = new Uint32Array(8);
        this.inner._saveState(this.istate);
        this.outer._saveState(this.ostate);
        for (var i = 0;i < pad.length; i++) {
          pad[i] = 0;
        }
      }
      HMAC2.prototype.reset = function() {
        this.inner._restoreState(this.istate, this.inner.blockSize);
        this.outer._restoreState(this.ostate, this.outer.blockSize);
        return this;
      };
      HMAC2.prototype.clean = function() {
        for (var i = 0;i < this.istate.length; i++) {
          this.ostate[i] = this.istate[i] = 0;
        }
        this.inner.clean();
        this.outer.clean();
      };
      HMAC2.prototype.update = function(data) {
        this.inner.update(data);
        return this;
      };
      HMAC2.prototype.finish = function(out) {
        if (this.outer.finished) {
          this.outer.finish(out);
        } else {
          this.inner.finish(out);
          this.outer.update(out, this.digestLength).finish(out);
        }
        return this;
      };
      HMAC2.prototype.digest = function() {
        var out = new Uint8Array(this.digestLength);
        this.finish(out);
        return out;
      };
      return HMAC2;
    }();
    exports2.HMAC = HMAC;
    function hash(data) {
      var h = new Hash().update(data);
      var digest = h.digest();
      h.clean();
      return digest;
    }
    exports2.hash = hash;
    exports2["default"] = hash;
    function hmac2(key, data) {
      var h = new HMAC(key).update(data);
      var digest = h.digest();
      h.clean();
      return digest;
    }
    exports2.hmac = hmac2;
    function fillBuffer(buffer2, hmac3, info, counter) {
      var num = counter[0];
      if (num === 0) {
        throw new Error("hkdf: cannot expand more");
      }
      hmac3.reset();
      if (num > 1) {
        hmac3.update(buffer2);
      }
      if (info) {
        hmac3.update(info);
      }
      hmac3.update(counter);
      hmac3.finish(buffer2);
      counter[0]++;
    }
    var hkdfSalt = new Uint8Array(exports2.digestLength);
    function hkdf(key, salt, info, length) {
      if (salt === undefined) {
        salt = hkdfSalt;
      }
      if (length === undefined) {
        length = 32;
      }
      var counter = new Uint8Array([1]);
      var okm = hmac2(salt, key);
      var hmac_ = new HMAC(okm);
      var buffer2 = new Uint8Array(hmac_.digestLength);
      var bufpos = buffer2.length;
      var out = new Uint8Array(length);
      for (var i = 0;i < length; i++) {
        if (bufpos === buffer2.length) {
          fillBuffer(buffer2, hmac_, info, counter);
          bufpos = 0;
        }
        out[i] = buffer2[bufpos++];
      }
      hmac_.clean();
      buffer2.fill(0);
      counter.fill(0);
      return out;
    }
    exports2.hkdf = hkdf;
    function pbkdf2(password, salt, iterations, dkLen) {
      var prf = new HMAC(password);
      var len = prf.digestLength;
      var ctr = new Uint8Array(4);
      var t = new Uint8Array(len);
      var u = new Uint8Array(len);
      var dk = new Uint8Array(dkLen);
      for (var i = 0;i * len < dkLen; i++) {
        var c = i + 1;
        ctr[0] = c >>> 24 & 255;
        ctr[1] = c >>> 16 & 255;
        ctr[2] = c >>> 8 & 255;
        ctr[3] = c >>> 0 & 255;
        prf.reset();
        prf.update(salt);
        prf.update(ctr);
        prf.finish(u);
        for (var j = 0;j < len; j++) {
          t[j] = u[j];
        }
        for (var j = 2;j <= iterations; j++) {
          prf.reset();
          prf.update(u).finish(u);
          for (var k = 0;k < len; k++) {
            t[k] ^= u[k];
          }
        }
        for (var j = 0;j < len && i * len + j < dkLen; j++) {
          dk[i * len + j] = t[j];
        }
      }
      for (var i = 0;i < len; i++) {
        t[i] = u[i] = 0;
      }
      for (var i = 0;i < 4; i++) {
        ctr[i] = 0;
      }
      prf.clean();
      return dk;
    }
    exports2.pbkdf2 = pbkdf2;
  });
});

// ../../node_modules/standardwebhooks/dist/index.js
var require_dist3 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Webhook = exports.WebhookVerificationError = undefined;
  var timing_safe_equal_1 = require_timing_safe_equal();
  var base64 = require_base64();
  var sha2562 = require_sha256();
  var WEBHOOK_TOLERANCE_IN_SECONDS = 5 * 60;

  class ExtendableError extends Error {
    constructor(message) {
      super(message);
      Object.setPrototypeOf(this, ExtendableError.prototype);
      this.name = "ExtendableError";
      this.stack = new Error(message).stack;
    }
  }

  class WebhookVerificationError extends ExtendableError {
    constructor(message) {
      super(message);
      Object.setPrototypeOf(this, WebhookVerificationError.prototype);
      this.name = "WebhookVerificationError";
    }
  }
  exports.WebhookVerificationError = WebhookVerificationError;

  class Webhook {
    constructor(secret, options) {
      if (!secret) {
        throw new Error("Secret can't be empty.");
      }
      if ((options === null || options === undefined ? undefined : options.format) === "raw") {
        if (secret instanceof Uint8Array) {
          this.key = secret;
        } else {
          this.key = Uint8Array.from(secret, (c) => c.charCodeAt(0));
        }
      } else {
        if (typeof secret !== "string") {
          throw new Error("Expected secret to be of type string");
        }
        if (secret.startsWith(Webhook.prefix)) {
          secret = secret.substring(Webhook.prefix.length);
        }
        this.key = base64.decode(secret);
      }
    }
    verify(payload, headers_) {
      const headers = {};
      for (const key of Object.keys(headers_)) {
        headers[key.toLowerCase()] = headers_[key];
      }
      const msgId = headers["webhook-id"];
      const msgSignature = headers["webhook-signature"];
      const msgTimestamp = headers["webhook-timestamp"];
      if (!msgSignature || !msgId || !msgTimestamp) {
        throw new WebhookVerificationError("Missing required headers");
      }
      const timestamp2 = this.verifyTimestamp(msgTimestamp);
      const computedSignature = this.sign(msgId, timestamp2, payload);
      const expectedSignature = computedSignature.split(",")[1];
      const passedSignatures = msgSignature.split(" ");
      const encoder = new globalThis.TextEncoder;
      for (const versionedSignature of passedSignatures) {
        const [version2, signature] = versionedSignature.split(",");
        if (version2 !== "v1") {
          continue;
        }
        if ((0, timing_safe_equal_1.timingSafeEqual)(encoder.encode(signature), encoder.encode(expectedSignature))) {
          return JSON.parse(payload.toString());
        }
      }
      throw new WebhookVerificationError("No matching signature found");
    }
    sign(msgId, timestamp2, payload) {
      if (typeof payload === "string") {} else if (payload.constructor.name === "Buffer") {
        payload = payload.toString();
      } else {
        throw new Error("Expected payload to be of type string or Buffer.");
      }
      const encoder = new TextEncoder;
      const timestampNumber = Math.floor(timestamp2.getTime() / 1000);
      const toSign = encoder.encode(`${msgId}.${timestampNumber}.${payload}`);
      const expectedSignature = base64.encode(sha2562.hmac(this.key, toSign));
      return `v1,${expectedSignature}`;
    }
    verifyTimestamp(timestampHeader) {
      const now = Math.floor(Date.now() / 1000);
      const timestamp2 = parseInt(timestampHeader, 10);
      if (isNaN(timestamp2)) {
        throw new WebhookVerificationError("Invalid Signature Headers");
      }
      if (now - timestamp2 > WEBHOOK_TOLERANCE_IN_SECONDS) {
        throw new WebhookVerificationError("Message timestamp too old");
      }
      if (timestamp2 > now + WEBHOOK_TOLERANCE_IN_SECONDS) {
        throw new WebhookVerificationError("Message timestamp too new");
      }
      return new Date(timestamp2 * 1000);
    }
  }
  exports.Webhook = Webhook;
  Webhook.prefix = "whsec_";
});

// ../../node_modules/svix/dist/webhook.js
var require_webhook = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Webhook = exports.WebhookVerificationError = undefined;
  var standardwebhooks_1 = require_dist3();
  var standardwebhooks_2 = require_dist3();
  Object.defineProperty(exports, "WebhookVerificationError", { enumerable: true, get: function() {
    return standardwebhooks_2.WebhookVerificationError;
  } });

  class Webhook {
    constructor(secret, options) {
      this.inner = new standardwebhooks_1.Webhook(secret, options);
    }
    verify(payload, headers_) {
      var _a, _b, _c, _d, _e, _f;
      const headers = {};
      for (const key of Object.keys(headers_)) {
        headers[key.toLowerCase()] = headers_[key];
      }
      headers["webhook-id"] = (_b = (_a = headers["svix-id"]) !== null && _a !== undefined ? _a : headers["webhook-id"]) !== null && _b !== undefined ? _b : "";
      headers["webhook-signature"] = (_d = (_c = headers["svix-signature"]) !== null && _c !== undefined ? _c : headers["webhook-signature"]) !== null && _d !== undefined ? _d : "";
      headers["webhook-timestamp"] = (_f = (_e = headers["svix-timestamp"]) !== null && _e !== undefined ? _e : headers["webhook-timestamp"]) !== null && _f !== undefined ? _f : "";
      return this.inner.verify(payload, headers);
    }
    sign(msgId, timestamp2, payload) {
      return this.inner.sign(msgId, timestamp2, payload);
    }
  }
  exports.Webhook = Webhook;
});

// ../../node_modules/svix/dist/models/endpointDisabledTrigger.js
var require_endpointDisabledTrigger = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.EndpointDisabledTriggerSerializer = exports.EndpointDisabledTrigger = undefined;
  var EndpointDisabledTrigger;
  (function(EndpointDisabledTrigger2) {
    EndpointDisabledTrigger2["Manual"] = "manual";
    EndpointDisabledTrigger2["Automatic"] = "automatic";
  })(EndpointDisabledTrigger = exports.EndpointDisabledTrigger || (exports.EndpointDisabledTrigger = {}));
  exports.EndpointDisabledTriggerSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/ordering.js
var require_ordering = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.OrderingSerializer = exports.Ordering = undefined;
  var Ordering;
  (function(Ordering2) {
    Ordering2["Ascending"] = "ascending";
    Ordering2["Descending"] = "descending";
  })(Ordering = exports.Ordering || (exports.Ordering = {}));
  exports.OrderingSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/statusCodeClass.js
var require_statusCodeClass = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StatusCodeClassSerializer = exports.StatusCodeClass = undefined;
  var StatusCodeClass;
  (function(StatusCodeClass2) {
    StatusCodeClass2[StatusCodeClass2["CodeNone"] = 0] = "CodeNone";
    StatusCodeClass2[StatusCodeClass2["Code1xx"] = 100] = "Code1xx";
    StatusCodeClass2[StatusCodeClass2["Code2xx"] = 200] = "Code2xx";
    StatusCodeClass2[StatusCodeClass2["Code3xx"] = 300] = "Code3xx";
    StatusCodeClass2[StatusCodeClass2["Code4xx"] = 400] = "Code4xx";
    StatusCodeClass2[StatusCodeClass2["Code5xx"] = 500] = "Code5xx";
  })(StatusCodeClass = exports.StatusCodeClass || (exports.StatusCodeClass = {}));
  exports.StatusCodeClassSerializer = {
    _fromJsonObject(object) {
      return object;
    },
    _toJsonObject(self) {
      return self;
    }
  };
});

// ../../node_modules/svix/dist/models/index.js
var require_models = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.StatusCodeClass = exports.SinkStatusIn = exports.SinkStatus = exports.Ordering = exports.MessageStatusText = exports.MessageStatus = exports.MessageAttemptTriggerType = exports.EndpointDisabledTrigger = exports.ConnectorProduct = exports.ConnectorKind = exports.BackgroundTaskType = exports.BackgroundTaskStatus = exports.AppPortalCapability = undefined;
  var appPortalCapability_1 = require_appPortalCapability();
  Object.defineProperty(exports, "AppPortalCapability", { enumerable: true, get: function() {
    return appPortalCapability_1.AppPortalCapability;
  } });
  var backgroundTaskStatus_1 = require_backgroundTaskStatus();
  Object.defineProperty(exports, "BackgroundTaskStatus", { enumerable: true, get: function() {
    return backgroundTaskStatus_1.BackgroundTaskStatus;
  } });
  var backgroundTaskType_1 = require_backgroundTaskType();
  Object.defineProperty(exports, "BackgroundTaskType", { enumerable: true, get: function() {
    return backgroundTaskType_1.BackgroundTaskType;
  } });
  var connectorKind_1 = require_connectorKind();
  Object.defineProperty(exports, "ConnectorKind", { enumerable: true, get: function() {
    return connectorKind_1.ConnectorKind;
  } });
  var connectorProduct_1 = require_connectorProduct();
  Object.defineProperty(exports, "ConnectorProduct", { enumerable: true, get: function() {
    return connectorProduct_1.ConnectorProduct;
  } });
  var endpointDisabledTrigger_1 = require_endpointDisabledTrigger();
  Object.defineProperty(exports, "EndpointDisabledTrigger", { enumerable: true, get: function() {
    return endpointDisabledTrigger_1.EndpointDisabledTrigger;
  } });
  var messageAttemptTriggerType_1 = require_messageAttemptTriggerType();
  Object.defineProperty(exports, "MessageAttemptTriggerType", { enumerable: true, get: function() {
    return messageAttemptTriggerType_1.MessageAttemptTriggerType;
  } });
  var messageStatus_1 = require_messageStatus();
  Object.defineProperty(exports, "MessageStatus", { enumerable: true, get: function() {
    return messageStatus_1.MessageStatus;
  } });
  var messageStatusText_1 = require_messageStatusText();
  Object.defineProperty(exports, "MessageStatusText", { enumerable: true, get: function() {
    return messageStatusText_1.MessageStatusText;
  } });
  var ordering_1 = require_ordering();
  Object.defineProperty(exports, "Ordering", { enumerable: true, get: function() {
    return ordering_1.Ordering;
  } });
  var sinkStatus_1 = require_sinkStatus();
  Object.defineProperty(exports, "SinkStatus", { enumerable: true, get: function() {
    return sinkStatus_1.SinkStatus;
  } });
  var sinkStatusIn_1 = require_sinkStatusIn();
  Object.defineProperty(exports, "SinkStatusIn", { enumerable: true, get: function() {
    return sinkStatusIn_1.SinkStatusIn;
  } });
  var statusCodeClass_1 = require_statusCodeClass();
  Object.defineProperty(exports, "StatusCodeClass", { enumerable: true, get: function() {
    return statusCodeClass_1.StatusCodeClass;
  } });
});

// ../../node_modules/svix/dist/index.js
var require_dist4 = __commonJS((exports) => {
  var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
    if (k2 === undefined)
      k2 = k;
    var desc2 = Object.getOwnPropertyDescriptor(m, k);
    if (!desc2 || ("get" in desc2 ? !m.__esModule : desc2.writable || desc2.configurable)) {
      desc2 = { enumerable: true, get: function() {
        return m[k];
      } };
    }
    Object.defineProperty(o, k2, desc2);
  } : function(o, m, k, k2) {
    if (k2 === undefined)
      k2 = k;
    o[k2] = m[k];
  });
  var __exportStar = exports && exports.__exportStar || function(m, exports2) {
    for (var p in m)
      if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports2, p))
        __createBinding(exports2, m, p);
  };
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.Svix = exports.messageInRaw = exports.ValidationError = exports.HttpErrorOut = exports.HTTPValidationError = exports.ApiException = undefined;
  var application_1 = require_application();
  var authentication_1 = require_authentication();
  var backgroundTask_1 = require_backgroundTask();
  var connector_1 = require_connector();
  var endpoint_1 = require_endpoint();
  var environment_1 = require_environment();
  var eventType_1 = require_eventType();
  var health_1 = require_health();
  var ingest_1 = require_ingest();
  var integration_1 = require_integration();
  var message_1 = require_message();
  var messageAttempt_1 = require_messageAttempt();
  var operationalWebhook_1 = require_operationalWebhook();
  var statistics_1 = require_statistics();
  var streaming_1 = require_streaming();
  var operationalWebhookEndpoint_1 = require_operationalWebhookEndpoint();
  var util_1 = require_util();
  Object.defineProperty(exports, "ApiException", { enumerable: true, get: function() {
    return util_1.ApiException;
  } });
  var HttpErrors_1 = require_HttpErrors();
  Object.defineProperty(exports, "HTTPValidationError", { enumerable: true, get: function() {
    return HttpErrors_1.HTTPValidationError;
  } });
  Object.defineProperty(exports, "HttpErrorOut", { enumerable: true, get: function() {
    return HttpErrors_1.HttpErrorOut;
  } });
  Object.defineProperty(exports, "ValidationError", { enumerable: true, get: function() {
    return HttpErrors_1.ValidationError;
  } });
  __exportStar(require_webhook(), exports);
  __exportStar(require_models(), exports);
  var message_2 = require_message();
  Object.defineProperty(exports, "messageInRaw", { enumerable: true, get: function() {
    return message_2.messageInRaw;
  } });
  var REGIONS = [
    { region: "us", url: "https://api.us.svix.com" },
    { region: "eu", url: "https://api.eu.svix.com" },
    { region: "in", url: "https://api.in.svix.com" },
    { region: "ca", url: "https://api.ca.svix.com" },
    { region: "au", url: "https://api.au.svix.com" }
  ];

  class Svix {
    constructor(token, options = {}) {
      var _a, _b, _c;
      const regionalUrl = (_a = REGIONS.find((x) => x.region === token.split(".")[1])) === null || _a === undefined ? undefined : _a.url;
      const baseUrl = (_c = (_b = options.serverUrl) !== null && _b !== undefined ? _b : regionalUrl) !== null && _c !== undefined ? _c : "https://api.svix.com";
      if (options.retryScheduleInMs) {
        this.requestCtx = {
          baseUrl,
          token,
          timeout: options.requestTimeout,
          retryScheduleInMs: options.retryScheduleInMs,
          fetch: options.fetch
        };
        return;
      }
      if (options.numRetries) {
        this.requestCtx = {
          baseUrl,
          token,
          timeout: options.requestTimeout,
          numRetries: options.numRetries,
          fetch: options.fetch
        };
        return;
      }
      this.requestCtx = {
        baseUrl,
        token,
        timeout: options.requestTimeout,
        fetch: options.fetch
      };
    }
    get application() {
      return new application_1.Application(this.requestCtx);
    }
    get authentication() {
      return new authentication_1.Authentication(this.requestCtx);
    }
    get backgroundTask() {
      return new backgroundTask_1.BackgroundTask(this.requestCtx);
    }
    get connector() {
      return new connector_1.Connector(this.requestCtx);
    }
    get endpoint() {
      return new endpoint_1.Endpoint(this.requestCtx);
    }
    get environment() {
      return new environment_1.Environment(this.requestCtx);
    }
    get eventType() {
      return new eventType_1.EventType(this.requestCtx);
    }
    get health() {
      return new health_1.Health(this.requestCtx);
    }
    get ingest() {
      return new ingest_1.Ingest(this.requestCtx);
    }
    get integration() {
      return new integration_1.Integration(this.requestCtx);
    }
    get message() {
      return new message_1.Message(this.requestCtx);
    }
    get messageAttempt() {
      return new messageAttempt_1.MessageAttempt(this.requestCtx);
    }
    get operationalWebhook() {
      return new operationalWebhook_1.OperationalWebhook(this.requestCtx);
    }
    get statistics() {
      return new statistics_1.Statistics(this.requestCtx);
    }
    get streaming() {
      return new streaming_1.Streaming(this.requestCtx);
    }
    get operationalWebhookEndpoint() {
      return new operationalWebhookEndpoint_1.OperationalWebhookEndpoint(this.requestCtx);
    }
  }
  exports.Svix = Svix;
});

// ../../node_modules/@ioredis/commands/built/commands.json
var require_commands = __commonJS((exports, module) => {
  module.exports = {
    acl: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    append: {
      arity: 3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    asking: {
      arity: 1,
      flags: [
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    auth: {
      arity: -2,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast",
        "no_auth",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    bgrewriteaof: {
      arity: 1,
      flags: [
        "admin",
        "noscript",
        "no_async_loading"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    bgsave: {
      arity: -1,
      flags: [
        "admin",
        "noscript",
        "no_async_loading"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    bitcount: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    bitfield: {
      arity: -2,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    bitfield_ro: {
      arity: -2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    bitop: {
      arity: -4,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 2,
      keyStop: -1,
      step: 1
    },
    bitpos: {
      arity: -3,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    blmove: {
      arity: 6,
      flags: [
        "write",
        "denyoom",
        "noscript",
        "blocking"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    blmpop: {
      arity: -5,
      flags: [
        "write",
        "blocking",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    blpop: {
      arity: -3,
      flags: [
        "write",
        "noscript",
        "blocking"
      ],
      keyStart: 1,
      keyStop: -2,
      step: 1
    },
    brpop: {
      arity: -3,
      flags: [
        "write",
        "noscript",
        "blocking"
      ],
      keyStart: 1,
      keyStop: -2,
      step: 1
    },
    brpoplpush: {
      arity: 4,
      flags: [
        "write",
        "denyoom",
        "noscript",
        "blocking"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    bzmpop: {
      arity: -5,
      flags: [
        "write",
        "blocking",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    bzpopmax: {
      arity: -3,
      flags: [
        "write",
        "noscript",
        "blocking",
        "fast"
      ],
      keyStart: 1,
      keyStop: -2,
      step: 1
    },
    bzpopmin: {
      arity: -3,
      flags: [
        "write",
        "noscript",
        "blocking",
        "fast"
      ],
      keyStart: 1,
      keyStop: -2,
      step: 1
    },
    client: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    cluster: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    command: {
      arity: -1,
      flags: [
        "loading",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    config: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    copy: {
      arity: -3,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    dbsize: {
      arity: 1,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    debug: {
      arity: -2,
      flags: [
        "admin",
        "noscript",
        "loading",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    decr: {
      arity: 2,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    decrby: {
      arity: 3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    del: {
      arity: -2,
      flags: [
        "write"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    discard: {
      arity: 1,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    dump: {
      arity: 2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    echo: {
      arity: 2,
      flags: [
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    eval: {
      arity: -3,
      flags: [
        "noscript",
        "stale",
        "skip_monitor",
        "no_mandatory_keys",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    eval_ro: {
      arity: -3,
      flags: [
        "readonly",
        "noscript",
        "stale",
        "skip_monitor",
        "no_mandatory_keys",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    evalsha: {
      arity: -3,
      flags: [
        "noscript",
        "stale",
        "skip_monitor",
        "no_mandatory_keys",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    evalsha_ro: {
      arity: -3,
      flags: [
        "readonly",
        "noscript",
        "stale",
        "skip_monitor",
        "no_mandatory_keys",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    exec: {
      arity: 1,
      flags: [
        "noscript",
        "loading",
        "stale",
        "skip_slowlog"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    exists: {
      arity: -2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    expire: {
      arity: -3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    expireat: {
      arity: -3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    expiretime: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    failover: {
      arity: -1,
      flags: [
        "admin",
        "noscript",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    fcall: {
      arity: -3,
      flags: [
        "noscript",
        "stale",
        "skip_monitor",
        "no_mandatory_keys",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    fcall_ro: {
      arity: -3,
      flags: [
        "readonly",
        "noscript",
        "stale",
        "skip_monitor",
        "no_mandatory_keys",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    flushall: {
      arity: -1,
      flags: [
        "write"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    flushdb: {
      arity: -1,
      flags: [
        "write"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    function: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    geoadd: {
      arity: -5,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    geodist: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    geohash: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    geopos: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    georadius: {
      arity: -6,
      flags: [
        "write",
        "denyoom",
        "movablekeys"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    georadius_ro: {
      arity: -6,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    georadiusbymember: {
      arity: -5,
      flags: [
        "write",
        "denyoom",
        "movablekeys"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    georadiusbymember_ro: {
      arity: -5,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    geosearch: {
      arity: -7,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    geosearchstore: {
      arity: -8,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    get: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    getbit: {
      arity: 3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    getdel: {
      arity: 2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    getex: {
      arity: -2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    getrange: {
      arity: 4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    getset: {
      arity: 3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hdel: {
      arity: -3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hello: {
      arity: -1,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast",
        "no_auth",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    hexists: {
      arity: 3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hexpire: {
      arity: -6,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hpexpire: {
      arity: -6,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hget: {
      arity: 3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hgetall: {
      arity: 2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hincrby: {
      arity: 4,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hincrbyfloat: {
      arity: 4,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hkeys: {
      arity: 2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hlen: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hmget: {
      arity: -3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hmset: {
      arity: -4,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hrandfield: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hscan: {
      arity: -3,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hset: {
      arity: -4,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hsetnx: {
      arity: 4,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hstrlen: {
      arity: 3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    hvals: {
      arity: 2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    incr: {
      arity: 2,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    incrby: {
      arity: 3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    incrbyfloat: {
      arity: 3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    info: {
      arity: -1,
      flags: [
        "loading",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    keys: {
      arity: 2,
      flags: [
        "readonly"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    lastsave: {
      arity: 1,
      flags: [
        "loading",
        "stale",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    latency: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    lcs: {
      arity: -3,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    lindex: {
      arity: 3,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    linsert: {
      arity: 5,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    llen: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    lmove: {
      arity: 5,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    lmpop: {
      arity: -4,
      flags: [
        "write",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    lolwut: {
      arity: -1,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    lpop: {
      arity: -2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    lpos: {
      arity: -3,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    lpush: {
      arity: -3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    lpushx: {
      arity: -3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    lrange: {
      arity: 4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    lrem: {
      arity: 4,
      flags: [
        "write"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    lset: {
      arity: 4,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    ltrim: {
      arity: 4,
      flags: [
        "write"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    memory: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    mget: {
      arity: -2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    migrate: {
      arity: -6,
      flags: [
        "write",
        "movablekeys"
      ],
      keyStart: 3,
      keyStop: 3,
      step: 1
    },
    module: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    monitor: {
      arity: 1,
      flags: [
        "admin",
        "noscript",
        "loading",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    move: {
      arity: 3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    mset: {
      arity: -3,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 2
    },
    msetnx: {
      arity: -3,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 2
    },
    multi: {
      arity: 1,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    object: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    persist: {
      arity: 2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    pexpire: {
      arity: -3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    pexpireat: {
      arity: -3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    pexpiretime: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    pfadd: {
      arity: -2,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    pfcount: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    pfdebug: {
      arity: 3,
      flags: [
        "write",
        "denyoom",
        "admin"
      ],
      keyStart: 2,
      keyStop: 2,
      step: 1
    },
    pfmerge: {
      arity: -2,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    pfselftest: {
      arity: 1,
      flags: [
        "admin"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    ping: {
      arity: -1,
      flags: [
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    psetex: {
      arity: 4,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    psubscribe: {
      arity: -2,
      flags: [
        "pubsub",
        "noscript",
        "loading",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    psync: {
      arity: -3,
      flags: [
        "admin",
        "noscript",
        "no_async_loading",
        "no_multi"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    pttl: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    publish: {
      arity: 3,
      flags: [
        "pubsub",
        "loading",
        "stale",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    pubsub: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    punsubscribe: {
      arity: -1,
      flags: [
        "pubsub",
        "noscript",
        "loading",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    quit: {
      arity: -1,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast",
        "no_auth",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    randomkey: {
      arity: 1,
      flags: [
        "readonly"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    readonly: {
      arity: 1,
      flags: [
        "loading",
        "stale",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    readwrite: {
      arity: 1,
      flags: [
        "loading",
        "stale",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    rename: {
      arity: 3,
      flags: [
        "write"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    renamenx: {
      arity: 3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    replconf: {
      arity: -1,
      flags: [
        "admin",
        "noscript",
        "loading",
        "stale",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    replicaof: {
      arity: 3,
      flags: [
        "admin",
        "noscript",
        "stale",
        "no_async_loading"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    reset: {
      arity: 1,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast",
        "no_auth",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    restore: {
      arity: -4,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    "restore-asking": {
      arity: -4,
      flags: [
        "write",
        "denyoom",
        "asking"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    role: {
      arity: 1,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    rpop: {
      arity: -2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    rpoplpush: {
      arity: 3,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    rpush: {
      arity: -3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    rpushx: {
      arity: -3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    sadd: {
      arity: -3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    save: {
      arity: 1,
      flags: [
        "admin",
        "noscript",
        "no_async_loading",
        "no_multi"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    scan: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    scard: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    script: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    sdiff: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    sdiffstore: {
      arity: -3,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    select: {
      arity: 2,
      flags: [
        "loading",
        "stale",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    set: {
      arity: -3,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    setbit: {
      arity: 4,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    setex: {
      arity: 4,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    setnx: {
      arity: 3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    setrange: {
      arity: 4,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    shutdown: {
      arity: -1,
      flags: [
        "admin",
        "noscript",
        "loading",
        "stale",
        "no_multi",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    sinter: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    sintercard: {
      arity: -3,
      flags: [
        "readonly",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    sinterstore: {
      arity: -3,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    sismember: {
      arity: 3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    slaveof: {
      arity: 3,
      flags: [
        "admin",
        "noscript",
        "stale",
        "no_async_loading"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    slowlog: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    smembers: {
      arity: 2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    smismember: {
      arity: -3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    smove: {
      arity: 4,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    sort: {
      arity: -2,
      flags: [
        "write",
        "denyoom",
        "movablekeys"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    sort_ro: {
      arity: -2,
      flags: [
        "readonly",
        "movablekeys"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    spop: {
      arity: -2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    spublish: {
      arity: 3,
      flags: [
        "pubsub",
        "loading",
        "stale",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    srandmember: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    srem: {
      arity: -3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    sscan: {
      arity: -3,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    ssubscribe: {
      arity: -2,
      flags: [
        "pubsub",
        "noscript",
        "loading",
        "stale"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    strlen: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    subscribe: {
      arity: -2,
      flags: [
        "pubsub",
        "noscript",
        "loading",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    substr: {
      arity: 4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    sunion: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    sunionstore: {
      arity: -3,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    sunsubscribe: {
      arity: -1,
      flags: [
        "pubsub",
        "noscript",
        "loading",
        "stale"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    swapdb: {
      arity: 3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    sync: {
      arity: 1,
      flags: [
        "admin",
        "noscript",
        "no_async_loading",
        "no_multi"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    time: {
      arity: 1,
      flags: [
        "loading",
        "stale",
        "fast"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    touch: {
      arity: -2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    ttl: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    type: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    unlink: {
      arity: -2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    unsubscribe: {
      arity: -1,
      flags: [
        "pubsub",
        "noscript",
        "loading",
        "stale"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    unwatch: {
      arity: 1,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast",
        "allow_busy"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    wait: {
      arity: 3,
      flags: [
        "noscript"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    watch: {
      arity: -2,
      flags: [
        "noscript",
        "loading",
        "stale",
        "fast",
        "allow_busy"
      ],
      keyStart: 1,
      keyStop: -1,
      step: 1
    },
    xack: {
      arity: -4,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xadd: {
      arity: -5,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xautoclaim: {
      arity: -6,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xclaim: {
      arity: -6,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xdel: {
      arity: -3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xdelex: {
      arity: -5,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xgroup: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    xinfo: {
      arity: -2,
      flags: [],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    xlen: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xpending: {
      arity: -3,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xrange: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xread: {
      arity: -4,
      flags: [
        "readonly",
        "blocking",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    xreadgroup: {
      arity: -7,
      flags: [
        "write",
        "blocking",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    xrevrange: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xsetid: {
      arity: -3,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    xtrim: {
      arity: -4,
      flags: [
        "write"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zadd: {
      arity: -4,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zcard: {
      arity: 2,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zcount: {
      arity: 4,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zdiff: {
      arity: -3,
      flags: [
        "readonly",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    zdiffstore: {
      arity: -4,
      flags: [
        "write",
        "denyoom",
        "movablekeys"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zincrby: {
      arity: 4,
      flags: [
        "write",
        "denyoom",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zinter: {
      arity: -3,
      flags: [
        "readonly",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    zintercard: {
      arity: -3,
      flags: [
        "readonly",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    zinterstore: {
      arity: -4,
      flags: [
        "write",
        "denyoom",
        "movablekeys"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zlexcount: {
      arity: 4,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zmpop: {
      arity: -4,
      flags: [
        "write",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    zmscore: {
      arity: -3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zpopmax: {
      arity: -2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zpopmin: {
      arity: -2,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrandmember: {
      arity: -2,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrange: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrangebylex: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrangebyscore: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrangestore: {
      arity: -5,
      flags: [
        "write",
        "denyoom"
      ],
      keyStart: 1,
      keyStop: 2,
      step: 1
    },
    zrank: {
      arity: 3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrem: {
      arity: -3,
      flags: [
        "write",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zremrangebylex: {
      arity: 4,
      flags: [
        "write"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zremrangebyrank: {
      arity: 4,
      flags: [
        "write"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zremrangebyscore: {
      arity: 4,
      flags: [
        "write"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrevrange: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrevrangebylex: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrevrangebyscore: {
      arity: -4,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zrevrank: {
      arity: 3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zscan: {
      arity: -3,
      flags: [
        "readonly"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zscore: {
      arity: 3,
      flags: [
        "readonly",
        "fast"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    },
    zunion: {
      arity: -3,
      flags: [
        "readonly",
        "movablekeys"
      ],
      keyStart: 0,
      keyStop: 0,
      step: 0
    },
    zunionstore: {
      arity: -4,
      flags: [
        "write",
        "denyoom",
        "movablekeys"
      ],
      keyStart: 1,
      keyStop: 1,
      step: 1
    }
  };
});

// ../../node_modules/@ioredis/commands/built/index.js
var require_built = __commonJS((exports) => {
  var __importDefault = exports && exports.__importDefault || function(mod) {
    return mod && mod.__esModule ? mod : { default: mod };
  };
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.getKeyIndexes = exports.hasFlag = exports.exists = exports.list = undefined;
  var commands_json_1 = __importDefault(require_commands());
  exports.list = Object.keys(commands_json_1.default);
  var flags = {};
  exports.list.forEach((commandName) => {
    flags[commandName] = commands_json_1.default[commandName].flags.reduce(function(flags2, flag) {
      flags2[flag] = true;
      return flags2;
    }, {});
  });
  function exists2(commandName, options) {
    commandName = (options === null || options === undefined ? undefined : options.caseInsensitive) ? String(commandName).toLowerCase() : commandName;
    return Boolean(commands_json_1.default[commandName]);
  }
  exports.exists = exists2;
  function hasFlag(commandName, flag, options) {
    commandName = (options === null || options === undefined ? undefined : options.nameCaseInsensitive) ? String(commandName).toLowerCase() : commandName;
    if (!flags[commandName]) {
      throw new Error("Unknown command " + commandName);
    }
    return Boolean(flags[commandName][flag]);
  }
  exports.hasFlag = hasFlag;
  function getKeyIndexes(commandName, args, options) {
    commandName = (options === null || options === undefined ? undefined : options.nameCaseInsensitive) ? String(commandName).toLowerCase() : commandName;
    const command = commands_json_1.default[commandName];
    if (!command) {
      throw new Error("Unknown command " + commandName);
    }
    if (!Array.isArray(args)) {
      throw new Error("Expect args to be an array");
    }
    const keys = [];
    const parseExternalKey = Boolean(options && options.parseExternalKey);
    const takeDynamicKeys = (args2, startIndex) => {
      const keys2 = [];
      const keyStop = Number(args2[startIndex]);
      for (let i = 0;i < keyStop; i++) {
        keys2.push(i + startIndex + 1);
      }
      return keys2;
    };
    const takeKeyAfterToken = (args2, startIndex, token) => {
      for (let i = startIndex;i < args2.length - 1; i += 1) {
        if (String(args2[i]).toLowerCase() === token.toLowerCase()) {
          return i + 1;
        }
      }
      return null;
    };
    switch (commandName) {
      case "zunionstore":
      case "zinterstore":
      case "zdiffstore":
        keys.push(0, ...takeDynamicKeys(args, 1));
        break;
      case "eval":
      case "evalsha":
      case "eval_ro":
      case "evalsha_ro":
      case "fcall":
      case "fcall_ro":
      case "blmpop":
      case "bzmpop":
        keys.push(...takeDynamicKeys(args, 1));
        break;
      case "sintercard":
      case "lmpop":
      case "zunion":
      case "zinter":
      case "zmpop":
      case "zintercard":
      case "zdiff": {
        keys.push(...takeDynamicKeys(args, 0));
        break;
      }
      case "georadius": {
        keys.push(0);
        const storeKey = takeKeyAfterToken(args, 5, "STORE");
        if (storeKey)
          keys.push(storeKey);
        const distKey = takeKeyAfterToken(args, 5, "STOREDIST");
        if (distKey)
          keys.push(distKey);
        break;
      }
      case "georadiusbymember": {
        keys.push(0);
        const storeKey = takeKeyAfterToken(args, 4, "STORE");
        if (storeKey)
          keys.push(storeKey);
        const distKey = takeKeyAfterToken(args, 4, "STOREDIST");
        if (distKey)
          keys.push(distKey);
        break;
      }
      case "sort":
      case "sort_ro":
        keys.push(0);
        for (let i = 1;i < args.length - 1; i++) {
          let arg = args[i];
          if (typeof arg !== "string") {
            continue;
          }
          const directive = arg.toUpperCase();
          if (directive === "GET") {
            i += 1;
            arg = args[i];
            if (arg !== "#") {
              if (parseExternalKey) {
                keys.push([i, getExternalKeyNameLength(arg)]);
              } else {
                keys.push(i);
              }
            }
          } else if (directive === "BY") {
            i += 1;
            if (parseExternalKey) {
              keys.push([i, getExternalKeyNameLength(args[i])]);
            } else {
              keys.push(i);
            }
          } else if (directive === "STORE") {
            i += 1;
            keys.push(i);
          }
        }
        break;
      case "migrate":
        if (args[2] === "") {
          for (let i = 5;i < args.length - 1; i++) {
            const arg = args[i];
            if (typeof arg === "string" && arg.toUpperCase() === "KEYS") {
              for (let j = i + 1;j < args.length; j++) {
                keys.push(j);
              }
              break;
            }
          }
        } else {
          keys.push(2);
        }
        break;
      case "xreadgroup":
      case "xread":
        for (let i = commandName === "xread" ? 0 : 3;i < args.length - 1; i++) {
          if (String(args[i]).toUpperCase() === "STREAMS") {
            for (let j = i + 1;j <= i + (args.length - 1 - i) / 2; j++) {
              keys.push(j);
            }
            break;
          }
        }
        break;
      default:
        if (command.step > 0) {
          const keyStart = command.keyStart - 1;
          const keyStop = command.keyStop > 0 ? command.keyStop : args.length + command.keyStop + 1;
          for (let i = keyStart;i < keyStop; i += command.step) {
            keys.push(i);
          }
        }
        break;
    }
    return keys;
  }
  exports.getKeyIndexes = getKeyIndexes;
  function getExternalKeyNameLength(key) {
    if (typeof key !== "string") {
      key = String(key);
    }
    const hashPos = key.indexOf("->");
    return hashPos === -1 ? key.length : hashPos;
  }
});

// ../../node_modules/standard-as-callback/built/utils.js
var require_utils = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.tryCatch = exports.errorObj = undefined;
  exports.errorObj = { e: {} };
  var tryCatchTarget;
  function tryCatcher(err, val) {
    try {
      const target = tryCatchTarget;
      tryCatchTarget = null;
      return target.apply(this, arguments);
    } catch (e) {
      exports.errorObj.e = e;
      return exports.errorObj;
    }
  }
  function tryCatch(fn) {
    tryCatchTarget = fn;
    return tryCatcher;
  }
  exports.tryCatch = tryCatch;
});

// ../../node_modules/standard-as-callback/built/index.js
var require_built2 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var utils_1 = require_utils();
  function throwLater(e) {
    setTimeout(function() {
      throw e;
    }, 0);
  }
  function asCallback(promise, nodeback, options) {
    if (typeof nodeback === "function") {
      promise.then((val) => {
        let ret;
        if (options !== undefined && Object(options).spread && Array.isArray(val)) {
          ret = utils_1.tryCatch(nodeback).apply(undefined, [null].concat(val));
        } else {
          ret = val === undefined ? utils_1.tryCatch(nodeback)(null) : utils_1.tryCatch(nodeback)(null, val);
        }
        if (ret === utils_1.errorObj) {
          throwLater(ret.e);
        }
      }, (cause) => {
        if (!cause) {
          const newReason = new Error(cause + "");
          Object.assign(newReason, { cause });
          cause = newReason;
        }
        const ret = utils_1.tryCatch(nodeback)(cause);
        if (ret === utils_1.errorObj) {
          throwLater(ret.e);
        }
      });
    }
    return promise;
  }
  exports.default = asCallback;
});

// ../../node_modules/redis-errors/lib/old.js
var require_old = __commonJS((exports, module) => {
  var assert = __require("assert");
  var util3 = __require("util");
  function RedisError(message) {
    Object.defineProperty(this, "message", {
      value: message || "",
      configurable: true,
      writable: true
    });
    Error.captureStackTrace(this, this.constructor);
  }
  util3.inherits(RedisError, Error);
  Object.defineProperty(RedisError.prototype, "name", {
    value: "RedisError",
    configurable: true,
    writable: true
  });
  function ParserError(message, buffer2, offset) {
    assert(buffer2);
    assert.strictEqual(typeof offset, "number");
    Object.defineProperty(this, "message", {
      value: message || "",
      configurable: true,
      writable: true
    });
    const tmp = Error.stackTraceLimit;
    Error.stackTraceLimit = 2;
    Error.captureStackTrace(this, this.constructor);
    Error.stackTraceLimit = tmp;
    this.offset = offset;
    this.buffer = buffer2;
  }
  util3.inherits(ParserError, RedisError);
  Object.defineProperty(ParserError.prototype, "name", {
    value: "ParserError",
    configurable: true,
    writable: true
  });
  function ReplyError(message) {
    Object.defineProperty(this, "message", {
      value: message || "",
      configurable: true,
      writable: true
    });
    const tmp = Error.stackTraceLimit;
    Error.stackTraceLimit = 2;
    Error.captureStackTrace(this, this.constructor);
    Error.stackTraceLimit = tmp;
  }
  util3.inherits(ReplyError, RedisError);
  Object.defineProperty(ReplyError.prototype, "name", {
    value: "ReplyError",
    configurable: true,
    writable: true
  });
  function AbortError(message) {
    Object.defineProperty(this, "message", {
      value: message || "",
      configurable: true,
      writable: true
    });
    Error.captureStackTrace(this, this.constructor);
  }
  util3.inherits(AbortError, RedisError);
  Object.defineProperty(AbortError.prototype, "name", {
    value: "AbortError",
    configurable: true,
    writable: true
  });
  function InterruptError(message) {
    Object.defineProperty(this, "message", {
      value: message || "",
      configurable: true,
      writable: true
    });
    Error.captureStackTrace(this, this.constructor);
  }
  util3.inherits(InterruptError, AbortError);
  Object.defineProperty(InterruptError.prototype, "name", {
    value: "InterruptError",
    configurable: true,
    writable: true
  });
  module.exports = {
    RedisError,
    ParserError,
    ReplyError,
    AbortError,
    InterruptError
  };
});

// ../../node_modules/redis-errors/lib/modern.js
var require_modern = __commonJS((exports, module) => {
  var assert = __require("assert");

  class RedisError extends Error {
    get name() {
      return this.constructor.name;
    }
  }

  class ParserError extends RedisError {
    constructor(message, buffer2, offset) {
      assert(buffer2);
      assert.strictEqual(typeof offset, "number");
      const tmp = Error.stackTraceLimit;
      Error.stackTraceLimit = 2;
      super(message);
      Error.stackTraceLimit = tmp;
      this.offset = offset;
      this.buffer = buffer2;
    }
    get name() {
      return this.constructor.name;
    }
  }

  class ReplyError extends RedisError {
    constructor(message) {
      const tmp = Error.stackTraceLimit;
      Error.stackTraceLimit = 2;
      super(message);
      Error.stackTraceLimit = tmp;
    }
    get name() {
      return this.constructor.name;
    }
  }

  class AbortError extends RedisError {
    get name() {
      return this.constructor.name;
    }
  }

  class InterruptError extends AbortError {
    get name() {
      return this.constructor.name;
    }
  }
  module.exports = {
    RedisError,
    ParserError,
    ReplyError,
    AbortError,
    InterruptError
  };
});

// ../../node_modules/redis-errors/index.js
var require_redis_errors = __commonJS((exports, module) => {
  var Errors2 = process.version.charCodeAt(1) < 55 && process.version.charCodeAt(2) === 46 ? require_old() : require_modern();
  module.exports = Errors2;
});

// ../../node_modules/cluster-key-slot/lib/index.js
var require_lib = __commonJS((exports, module) => {
  var lookup = [
    0,
    4129,
    8258,
    12387,
    16516,
    20645,
    24774,
    28903,
    33032,
    37161,
    41290,
    45419,
    49548,
    53677,
    57806,
    61935,
    4657,
    528,
    12915,
    8786,
    21173,
    17044,
    29431,
    25302,
    37689,
    33560,
    45947,
    41818,
    54205,
    50076,
    62463,
    58334,
    9314,
    13379,
    1056,
    5121,
    25830,
    29895,
    17572,
    21637,
    42346,
    46411,
    34088,
    38153,
    58862,
    62927,
    50604,
    54669,
    13907,
    9842,
    5649,
    1584,
    30423,
    26358,
    22165,
    18100,
    46939,
    42874,
    38681,
    34616,
    63455,
    59390,
    55197,
    51132,
    18628,
    22757,
    26758,
    30887,
    2112,
    6241,
    10242,
    14371,
    51660,
    55789,
    59790,
    63919,
    35144,
    39273,
    43274,
    47403,
    23285,
    19156,
    31415,
    27286,
    6769,
    2640,
    14899,
    10770,
    56317,
    52188,
    64447,
    60318,
    39801,
    35672,
    47931,
    43802,
    27814,
    31879,
    19684,
    23749,
    11298,
    15363,
    3168,
    7233,
    60846,
    64911,
    52716,
    56781,
    44330,
    48395,
    36200,
    40265,
    32407,
    28342,
    24277,
    20212,
    15891,
    11826,
    7761,
    3696,
    65439,
    61374,
    57309,
    53244,
    48923,
    44858,
    40793,
    36728,
    37256,
    33193,
    45514,
    41451,
    53516,
    49453,
    61774,
    57711,
    4224,
    161,
    12482,
    8419,
    20484,
    16421,
    28742,
    24679,
    33721,
    37784,
    41979,
    46042,
    49981,
    54044,
    58239,
    62302,
    689,
    4752,
    8947,
    13010,
    16949,
    21012,
    25207,
    29270,
    46570,
    42443,
    38312,
    34185,
    62830,
    58703,
    54572,
    50445,
    13538,
    9411,
    5280,
    1153,
    29798,
    25671,
    21540,
    17413,
    42971,
    47098,
    34713,
    38840,
    59231,
    63358,
    50973,
    55100,
    9939,
    14066,
    1681,
    5808,
    26199,
    30326,
    17941,
    22068,
    55628,
    51565,
    63758,
    59695,
    39368,
    35305,
    47498,
    43435,
    22596,
    18533,
    30726,
    26663,
    6336,
    2273,
    14466,
    10403,
    52093,
    56156,
    60223,
    64286,
    35833,
    39896,
    43963,
    48026,
    19061,
    23124,
    27191,
    31254,
    2801,
    6864,
    10931,
    14994,
    64814,
    60687,
    56684,
    52557,
    48554,
    44427,
    40424,
    36297,
    31782,
    27655,
    23652,
    19525,
    15522,
    11395,
    7392,
    3265,
    61215,
    65342,
    53085,
    57212,
    44955,
    49082,
    36825,
    40952,
    28183,
    32310,
    20053,
    24180,
    11923,
    16050,
    3793,
    7920
  ];
  var toUTF8Array = function toUTF8Array(str) {
    var char2;
    var i = 0;
    var p = 0;
    var utf8 = [];
    var len = str.length;
    for (;i < len; i++) {
      char2 = str.charCodeAt(i);
      if (char2 < 128) {
        utf8[p++] = char2;
      } else if (char2 < 2048) {
        utf8[p++] = char2 >> 6 | 192;
        utf8[p++] = char2 & 63 | 128;
      } else if ((char2 & 64512) === 55296 && i + 1 < str.length && (str.charCodeAt(i + 1) & 64512) === 56320) {
        char2 = 65536 + ((char2 & 1023) << 10) + (str.charCodeAt(++i) & 1023);
        utf8[p++] = char2 >> 18 | 240;
        utf8[p++] = char2 >> 12 & 63 | 128;
        utf8[p++] = char2 >> 6 & 63 | 128;
        utf8[p++] = char2 & 63 | 128;
      } else {
        utf8[p++] = char2 >> 12 | 224;
        utf8[p++] = char2 >> 6 & 63 | 128;
        utf8[p++] = char2 & 63 | 128;
      }
    }
    return utf8;
  };
  var generate = module.exports = function generate(str) {
    var char2;
    var i = 0;
    var start = -1;
    var result = 0;
    var resultHash = 0;
    var utf8 = typeof str === "string" ? toUTF8Array(str) : str;
    var len = utf8.length;
    while (i < len) {
      char2 = utf8[i++];
      if (start === -1) {
        if (char2 === 123) {
          start = i;
        }
      } else if (char2 !== 125) {
        resultHash = lookup[(char2 ^ resultHash >> 8) & 255] ^ resultHash << 8;
      } else if (i - 1 !== start) {
        return resultHash & 16383;
      }
      result = lookup[(char2 ^ result >> 8) & 255] ^ result << 8;
    }
    return result & 16383;
  };
  module.exports.generateMulti = function generateMulti(keys) {
    var i = 1;
    var len = keys.length;
    var base = generate(keys[0]);
    while (i < len) {
      if (generate(keys[i++]) !== base)
        return -1;
    }
    return base;
  };
});

// ../../node_modules/lodash.defaults/index.js
var require_lodash = __commonJS((exports, module) => {
  var MAX_SAFE_INTEGER = 9007199254740991;
  var argsTag = "[object Arguments]";
  var funcTag = "[object Function]";
  var genTag = "[object GeneratorFunction]";
  var reIsUint = /^(?:0|[1-9]\d*)$/;
  function apply(func, thisArg, args) {
    switch (args.length) {
      case 0:
        return func.call(thisArg);
      case 1:
        return func.call(thisArg, args[0]);
      case 2:
        return func.call(thisArg, args[0], args[1]);
      case 3:
        return func.call(thisArg, args[0], args[1], args[2]);
    }
    return func.apply(thisArg, args);
  }
  function baseTimes(n, iteratee) {
    var index2 = -1, result = Array(n);
    while (++index2 < n) {
      result[index2] = iteratee(index2);
    }
    return result;
  }
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var objectToString = objectProto.toString;
  var propertyIsEnumerable = objectProto.propertyIsEnumerable;
  var nativeMax = Math.max;
  function arrayLikeKeys(value, inherited) {
    var result = isArray(value) || isArguments(value) ? baseTimes(value.length, String) : [];
    var length = result.length, skipIndexes = !!length;
    for (var key in value) {
      if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == "length" || isIndex(key, length)))) {
        result.push(key);
      }
    }
    return result;
  }
  function assignInDefaults(objValue, srcValue, key, object) {
    if (objValue === undefined || eq2(objValue, objectProto[key]) && !hasOwnProperty.call(object, key)) {
      return srcValue;
    }
    return objValue;
  }
  function assignValue(object, key, value) {
    var objValue = object[key];
    if (!(hasOwnProperty.call(object, key) && eq2(objValue, value)) || value === undefined && !(key in object)) {
      object[key] = value;
    }
  }
  function baseKeysIn(object) {
    if (!isObject2(object)) {
      return nativeKeysIn(object);
    }
    var isProto = isPrototype(object), result = [];
    for (var key in object) {
      if (!(key == "constructor" && (isProto || !hasOwnProperty.call(object, key)))) {
        result.push(key);
      }
    }
    return result;
  }
  function baseRest(func, start) {
    start = nativeMax(start === undefined ? func.length - 1 : start, 0);
    return function() {
      var args = arguments, index2 = -1, length = nativeMax(args.length - start, 0), array = Array(length);
      while (++index2 < length) {
        array[index2] = args[start + index2];
      }
      index2 = -1;
      var otherArgs = Array(start + 1);
      while (++index2 < start) {
        otherArgs[index2] = args[index2];
      }
      otherArgs[start] = array;
      return apply(func, this, otherArgs);
    };
  }
  function copyObject(source, props, object, customizer) {
    object || (object = {});
    var index2 = -1, length = props.length;
    while (++index2 < length) {
      var key = props[index2];
      var newValue = customizer ? customizer(object[key], source[key], key, object, source) : undefined;
      assignValue(object, key, newValue === undefined ? source[key] : newValue);
    }
    return object;
  }
  function createAssigner(assigner) {
    return baseRest(function(object, sources) {
      var index2 = -1, length = sources.length, customizer = length > 1 ? sources[length - 1] : undefined, guard = length > 2 ? sources[2] : undefined;
      customizer = assigner.length > 3 && typeof customizer == "function" ? (length--, customizer) : undefined;
      if (guard && isIterateeCall(sources[0], sources[1], guard)) {
        customizer = length < 3 ? undefined : customizer;
        length = 1;
      }
      object = Object(object);
      while (++index2 < length) {
        var source = sources[index2];
        if (source) {
          assigner(object, source, index2, customizer);
        }
      }
      return object;
    });
  }
  function isIndex(value, length) {
    length = length == null ? MAX_SAFE_INTEGER : length;
    return !!length && (typeof value == "number" || reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);
  }
  function isIterateeCall(value, index2, object) {
    if (!isObject2(object)) {
      return false;
    }
    var type = typeof index2;
    if (type == "number" ? isArrayLike(object) && isIndex(index2, object.length) : type == "string" && (index2 in object)) {
      return eq2(object[index2], value);
    }
    return false;
  }
  function isPrototype(value) {
    var Ctor = value && value.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
    return value === proto;
  }
  function nativeKeysIn(object) {
    var result = [];
    if (object != null) {
      for (var key in Object(object)) {
        result.push(key);
      }
    }
    return result;
  }
  function eq2(value, other) {
    return value === other || value !== value && other !== other;
  }
  function isArguments(value) {
    return isArrayLikeObject(value) && hasOwnProperty.call(value, "callee") && (!propertyIsEnumerable.call(value, "callee") || objectToString.call(value) == argsTag);
  }
  var isArray = Array.isArray;
  function isArrayLike(value) {
    return value != null && isLength(value.length) && !isFunction(value);
  }
  function isArrayLikeObject(value) {
    return isObjectLike(value) && isArrayLike(value);
  }
  function isFunction(value) {
    var tag = isObject2(value) ? objectToString.call(value) : "";
    return tag == funcTag || tag == genTag;
  }
  function isLength(value) {
    return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
  }
  function isObject2(value) {
    var type = typeof value;
    return !!value && (type == "object" || type == "function");
  }
  function isObjectLike(value) {
    return !!value && typeof value == "object";
  }
  var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {
    copyObject(source, keysIn(source), object, customizer);
  });
  var defaults = baseRest(function(args) {
    args.push(undefined, assignInDefaults);
    return apply(assignInWith, undefined, args);
  });
  function keysIn(object) {
    return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
  }
  module.exports = defaults;
});

// ../../node_modules/lodash.isarguments/index.js
var require_lodash2 = __commonJS((exports, module) => {
  var MAX_SAFE_INTEGER = 9007199254740991;
  var argsTag = "[object Arguments]";
  var funcTag = "[object Function]";
  var genTag = "[object GeneratorFunction]";
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var objectToString = objectProto.toString;
  var propertyIsEnumerable = objectProto.propertyIsEnumerable;
  function isArguments(value) {
    return isArrayLikeObject(value) && hasOwnProperty.call(value, "callee") && (!propertyIsEnumerable.call(value, "callee") || objectToString.call(value) == argsTag);
  }
  function isArrayLike(value) {
    return value != null && isLength(value.length) && !isFunction(value);
  }
  function isArrayLikeObject(value) {
    return isObjectLike(value) && isArrayLike(value);
  }
  function isFunction(value) {
    var tag = isObject2(value) ? objectToString.call(value) : "";
    return tag == funcTag || tag == genTag;
  }
  function isLength(value) {
    return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
  }
  function isObject2(value) {
    var type = typeof value;
    return !!value && (type == "object" || type == "function");
  }
  function isObjectLike(value) {
    return !!value && typeof value == "object";
  }
  module.exports = isArguments;
});

// ../../node_modules/ioredis/built/utils/lodash.js
var require_lodash3 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.isArguments = exports.defaults = exports.noop = undefined;
  var defaults = require_lodash();
  exports.defaults = defaults;
  var isArguments = require_lodash2();
  exports.isArguments = isArguments;
  function noop3() {}
  exports.noop = noop3;
});

// ../../node_modules/ms/index.js
var require_ms = __commonJS((exports, module) => {
  var s2 = 1000;
  var m = s2 * 60;
  var h = m * 60;
  var d = h * 24;
  var w = d * 7;
  var y = d * 365.25;
  module.exports = function(val, options) {
    options = options || {};
    var type = typeof val;
    if (type === "string" && val.length > 0) {
      return parse4(val);
    } else if (type === "number" && isFinite(val)) {
      return options.long ? fmtLong(val) : fmtShort(val);
    }
    throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(val));
  };
  function parse4(str) {
    str = String(str);
    if (str.length > 100) {
      return;
    }
    var match3 = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);
    if (!match3) {
      return;
    }
    var n = parseFloat(match3[1]);
    var type = (match3[2] || "ms").toLowerCase();
    switch (type) {
      case "years":
      case "year":
      case "yrs":
      case "yr":
      case "y":
        return n * y;
      case "weeks":
      case "week":
      case "w":
        return n * w;
      case "days":
      case "day":
      case "d":
        return n * d;
      case "hours":
      case "hour":
      case "hrs":
      case "hr":
      case "h":
        return n * h;
      case "minutes":
      case "minute":
      case "mins":
      case "min":
      case "m":
        return n * m;
      case "seconds":
      case "second":
      case "secs":
      case "sec":
      case "s":
        return n * s2;
      case "milliseconds":
      case "millisecond":
      case "msecs":
      case "msec":
      case "ms":
        return n;
      default:
        return;
    }
  }
  function fmtShort(ms) {
    var msAbs = Math.abs(ms);
    if (msAbs >= d) {
      return Math.round(ms / d) + "d";
    }
    if (msAbs >= h) {
      return Math.round(ms / h) + "h";
    }
    if (msAbs >= m) {
      return Math.round(ms / m) + "m";
    }
    if (msAbs >= s2) {
      return Math.round(ms / s2) + "s";
    }
    return ms + "ms";
  }
  function fmtLong(ms) {
    var msAbs = Math.abs(ms);
    if (msAbs >= d) {
      return plural(ms, msAbs, d, "day");
    }
    if (msAbs >= h) {
      return plural(ms, msAbs, h, "hour");
    }
    if (msAbs >= m) {
      return plural(ms, msAbs, m, "minute");
    }
    if (msAbs >= s2) {
      return plural(ms, msAbs, s2, "second");
    }
    return ms + " ms";
  }
  function plural(ms, msAbs, n, name) {
    var isPlural = msAbs >= n * 1.5;
    return Math.round(ms / n) + " " + name + (isPlural ? "s" : "");
  }
});

// ../../node_modules/debug/src/common.js
var require_common = __commonJS((exports, module) => {
  function setup(env2) {
    createDebug2.debug = createDebug2;
    createDebug2.default = createDebug2;
    createDebug2.coerce = coerce2;
    createDebug2.disable = disable;
    createDebug2.enable = enable;
    createDebug2.enabled = enabled;
    createDebug2.humanize = require_ms();
    createDebug2.destroy = destroy;
    Object.keys(env2).forEach((key) => {
      createDebug2[key] = env2[key];
    });
    createDebug2.names = [];
    createDebug2.skips = [];
    createDebug2.formatters = {};
    function selectColor(namespace) {
      let hash = 0;
      for (let i = 0;i < namespace.length; i++) {
        hash = (hash << 5) - hash + namespace.charCodeAt(i);
        hash |= 0;
      }
      return createDebug2.colors[Math.abs(hash) % createDebug2.colors.length];
    }
    createDebug2.selectColor = selectColor;
    function createDebug2(namespace) {
      let prevTime;
      let enableOverride = null;
      let namespacesCache;
      let enabledCache;
      function debug(...args) {
        if (!debug.enabled) {
          return;
        }
        const self = debug;
        const curr = Number(new Date);
        const ms = curr - (prevTime || curr);
        self.diff = ms;
        self.prev = prevTime;
        self.curr = curr;
        prevTime = curr;
        args[0] = createDebug2.coerce(args[0]);
        if (typeof args[0] !== "string") {
          args.unshift("%O");
        }
        let index2 = 0;
        args[0] = args[0].replace(/%([a-zA-Z%])/g, (match3, format) => {
          if (match3 === "%%") {
            return "%";
          }
          index2++;
          const formatter = createDebug2.formatters[format];
          if (typeof formatter === "function") {
            const val = args[index2];
            match3 = formatter.call(self, val);
            args.splice(index2, 1);
            index2--;
          }
          return match3;
        });
        createDebug2.formatArgs.call(self, args);
        const logFn = self.log || createDebug2.log;
        logFn.apply(self, args);
      }
      debug.namespace = namespace;
      debug.useColors = createDebug2.useColors();
      debug.color = createDebug2.selectColor(namespace);
      debug.extend = extend;
      debug.destroy = createDebug2.destroy;
      Object.defineProperty(debug, "enabled", {
        enumerable: true,
        configurable: false,
        get: () => {
          if (enableOverride !== null) {
            return enableOverride;
          }
          if (namespacesCache !== createDebug2.namespaces) {
            namespacesCache = createDebug2.namespaces;
            enabledCache = createDebug2.enabled(namespace);
          }
          return enabledCache;
        },
        set: (v) => {
          enableOverride = v;
        }
      });
      if (typeof createDebug2.init === "function") {
        createDebug2.init(debug);
      }
      return debug;
    }
    function extend(namespace, delimiter) {
      const newDebug = createDebug2(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);
      newDebug.log = this.log;
      return newDebug;
    }
    function enable(namespaces) {
      createDebug2.save(namespaces);
      createDebug2.namespaces = namespaces;
      createDebug2.names = [];
      createDebug2.skips = [];
      const split2 = (typeof namespaces === "string" ? namespaces : "").trim().replace(/\s+/g, ",").split(",").filter(Boolean);
      for (const ns of split2) {
        if (ns[0] === "-") {
          createDebug2.skips.push(ns.slice(1));
        } else {
          createDebug2.names.push(ns);
        }
      }
    }
    function matchesTemplate(search, template) {
      let searchIndex = 0;
      let templateIndex = 0;
      let starIndex = -1;
      let matchIndex = 0;
      while (searchIndex < search.length) {
        if (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === "*")) {
          if (template[templateIndex] === "*") {
            starIndex = templateIndex;
            matchIndex = searchIndex;
            templateIndex++;
          } else {
            searchIndex++;
            templateIndex++;
          }
        } else if (starIndex !== -1) {
          templateIndex = starIndex + 1;
          matchIndex++;
          searchIndex = matchIndex;
        } else {
          return false;
        }
      }
      while (templateIndex < template.length && template[templateIndex] === "*") {
        templateIndex++;
      }
      return templateIndex === template.length;
    }
    function disable() {
      const namespaces = [
        ...createDebug2.names,
        ...createDebug2.skips.map((namespace) => "-" + namespace)
      ].join(",");
      createDebug2.enable("");
      return namespaces;
    }
    function enabled(name) {
      for (const skip of createDebug2.skips) {
        if (matchesTemplate(name, skip)) {
          return false;
        }
      }
      for (const ns of createDebug2.names) {
        if (matchesTemplate(name, ns)) {
          return true;
        }
      }
      return false;
    }
    function coerce2(val) {
      if (val instanceof Error) {
        return val.stack || val.message;
      }
      return val;
    }
    function destroy() {
      console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
    }
    createDebug2.enable(createDebug2.load());
    return createDebug2;
  }
  module.exports = setup;
});

// ../../node_modules/debug/src/browser.js
var require_browser = __commonJS((exports, module) => {
  exports.formatArgs = formatArgs;
  exports.save = save;
  exports.load = load;
  exports.useColors = useColors;
  exports.storage = localstorage();
  exports.destroy = (() => {
    let warned = false;
    return () => {
      if (!warned) {
        warned = true;
        console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
      }
    };
  })();
  exports.colors = [
    "#0000CC",
    "#0000FF",
    "#0033CC",
    "#0033FF",
    "#0066CC",
    "#0066FF",
    "#0099CC",
    "#0099FF",
    "#00CC00",
    "#00CC33",
    "#00CC66",
    "#00CC99",
    "#00CCCC",
    "#00CCFF",
    "#3300CC",
    "#3300FF",
    "#3333CC",
    "#3333FF",
    "#3366CC",
    "#3366FF",
    "#3399CC",
    "#3399FF",
    "#33CC00",
    "#33CC33",
    "#33CC66",
    "#33CC99",
    "#33CCCC",
    "#33CCFF",
    "#6600CC",
    "#6600FF",
    "#6633CC",
    "#6633FF",
    "#66CC00",
    "#66CC33",
    "#9900CC",
    "#9900FF",
    "#9933CC",
    "#9933FF",
    "#99CC00",
    "#99CC33",
    "#CC0000",
    "#CC0033",
    "#CC0066",
    "#CC0099",
    "#CC00CC",
    "#CC00FF",
    "#CC3300",
    "#CC3333",
    "#CC3366",
    "#CC3399",
    "#CC33CC",
    "#CC33FF",
    "#CC6600",
    "#CC6633",
    "#CC9900",
    "#CC9933",
    "#CCCC00",
    "#CCCC33",
    "#FF0000",
    "#FF0033",
    "#FF0066",
    "#FF0099",
    "#FF00CC",
    "#FF00FF",
    "#FF3300",
    "#FF3333",
    "#FF3366",
    "#FF3399",
    "#FF33CC",
    "#FF33FF",
    "#FF6600",
    "#FF6633",
    "#FF9900",
    "#FF9933",
    "#FFCC00",
    "#FFCC33"
  ];
  function useColors() {
    if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {
      return true;
    }
    if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
      return false;
    }
    let m;
    return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator !== "undefined" && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(m[1], 10) >= 31 || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
  }
  function formatArgs(args) {
    args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + module.exports.humanize(this.diff);
    if (!this.useColors) {
      return;
    }
    const c = "color: " + this.color;
    args.splice(1, 0, c, "color: inherit");
    let index2 = 0;
    let lastC = 0;
    args[0].replace(/%[a-zA-Z%]/g, (match3) => {
      if (match3 === "%%") {
        return;
      }
      index2++;
      if (match3 === "%c") {
        lastC = index2;
      }
    });
    args.splice(lastC, 0, c);
  }
  exports.log = console.debug || console.log || (() => {});
  function save(namespaces) {
    try {
      if (namespaces) {
        exports.storage.setItem("debug", namespaces);
      } else {
        exports.storage.removeItem("debug");
      }
    } catch (error) {}
  }
  function load() {
    let r;
    try {
      r = exports.storage.getItem("debug") || exports.storage.getItem("DEBUG");
    } catch (error) {}
    if (!r && typeof process !== "undefined" && "env" in process) {
      r = process.env.DEBUG;
    }
    return r;
  }
  function localstorage() {
    try {
      return localStorage;
    } catch (error) {}
  }
  module.exports = require_common()(exports);
  var { formatters } = module.exports;
  formatters.j = function(v) {
    try {
      return JSON.stringify(v);
    } catch (error) {
      return "[UnexpectedJSONParseError]: " + error.message;
    }
  };
});

// ../../node_modules/debug/src/node.js
var require_node = __commonJS((exports, module) => {
  var tty = __require("tty");
  var util3 = __require("util");
  exports.init = init;
  exports.log = log2;
  exports.formatArgs = formatArgs;
  exports.save = save;
  exports.load = load;
  exports.useColors = useColors;
  exports.destroy = util3.deprecate(() => {}, "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
  exports.colors = [6, 2, 3, 4, 5, 1];
  try {
    const supportsColor = (()=>{throw new Error("Cannot require module "+"supports-color");})();
    if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {
      exports.colors = [
        20,
        21,
        26,
        27,
        32,
        33,
        38,
        39,
        40,
        41,
        42,
        43,
        44,
        45,
        56,
        57,
        62,
        63,
        68,
        69,
        74,
        75,
        76,
        77,
        78,
        79,
        80,
        81,
        92,
        93,
        98,
        99,
        112,
        113,
        128,
        129,
        134,
        135,
        148,
        149,
        160,
        161,
        162,
        163,
        164,
        165,
        166,
        167,
        168,
        169,
        170,
        171,
        172,
        173,
        178,
        179,
        184,
        185,
        196,
        197,
        198,
        199,
        200,
        201,
        202,
        203,
        204,
        205,
        206,
        207,
        208,
        209,
        214,
        215,
        220,
        221
      ];
    }
  } catch (error) {}
  exports.inspectOpts = Object.keys(process.env).filter((key) => {
    return /^debug_/i.test(key);
  }).reduce((obj, key) => {
    const prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, (_2, k) => {
      return k.toUpperCase();
    });
    let val = process.env[key];
    if (/^(yes|on|true|enabled)$/i.test(val)) {
      val = true;
    } else if (/^(no|off|false|disabled)$/i.test(val)) {
      val = false;
    } else if (val === "null") {
      val = null;
    } else {
      val = Number(val);
    }
    obj[prop] = val;
    return obj;
  }, {});
  function useColors() {
    return "colors" in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);
  }
  function formatArgs(args) {
    const { namespace: name, useColors: useColors2 } = this;
    if (useColors2) {
      const c = this.color;
      const colorCode = "\x1B[3" + (c < 8 ? c : "8;5;" + c);
      const prefix = `  ${colorCode};1m${name} \x1B[0m`;
      args[0] = prefix + args[0].split(`
`).join(`
` + prefix);
      args.push(colorCode + "m+" + module.exports.humanize(this.diff) + "\x1B[0m");
    } else {
      args[0] = getDate() + name + " " + args[0];
    }
  }
  function getDate() {
    if (exports.inspectOpts.hideDate) {
      return "";
    }
    return new Date().toISOString() + " ";
  }
  function log2(...args) {
    return process.stderr.write(util3.formatWithOptions(exports.inspectOpts, ...args) + `
`);
  }
  function save(namespaces) {
    if (namespaces) {
      process.env.DEBUG = namespaces;
    } else {
      delete process.env.DEBUG;
    }
  }
  function load() {
    return process.env.DEBUG;
  }
  function init(debug) {
    debug.inspectOpts = {};
    const keys = Object.keys(exports.inspectOpts);
    for (let i = 0;i < keys.length; i++) {
      debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];
    }
  }
  module.exports = require_common()(exports);
  var { formatters } = module.exports;
  formatters.o = function(v) {
    this.inspectOpts.colors = this.useColors;
    return util3.inspect(v, this.inspectOpts).split(`
`).map((str) => str.trim()).join(" ");
  };
  formatters.O = function(v) {
    this.inspectOpts.colors = this.useColors;
    return util3.inspect(v, this.inspectOpts);
  };
});

// ../../node_modules/debug/src/index.js
var require_src = __commonJS((exports, module) => {
  if (typeof process === "undefined" || process.type === "renderer" || false || process.__nwjs) {
    module.exports = require_browser();
  } else {
    module.exports = require_node();
  }
});

// ../../node_modules/ioredis/built/utils/debug.js
var require_debug = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.genRedactedString = exports.getStringValue = exports.MAX_ARGUMENT_LENGTH = undefined;
  var debug_1 = require_src();
  var MAX_ARGUMENT_LENGTH = 200;
  exports.MAX_ARGUMENT_LENGTH = MAX_ARGUMENT_LENGTH;
  var NAMESPACE_PREFIX = "ioredis";
  function getStringValue(v) {
    if (v === null) {
      return;
    }
    switch (typeof v) {
      case "boolean":
        return;
      case "number":
        return;
      case "object":
        if (Buffer.isBuffer(v)) {
          return v.toString("hex");
        }
        if (Array.isArray(v)) {
          return v.join(",");
        }
        try {
          return JSON.stringify(v);
        } catch (e) {
          return;
        }
      case "string":
        return v;
    }
  }
  exports.getStringValue = getStringValue;
  function genRedactedString(str, maxLen) {
    const { length } = str;
    return length <= maxLen ? str : str.slice(0, maxLen) + ' ... <REDACTED full-length="' + length + '">';
  }
  exports.genRedactedString = genRedactedString;
  function genDebugFunction(namespace) {
    const fn = (0, debug_1.default)(`${NAMESPACE_PREFIX}:${namespace}`);
    function wrappedDebug(...args) {
      if (!fn.enabled) {
        return;
      }
      for (let i = 1;i < args.length; i++) {
        const str = getStringValue(args[i]);
        if (typeof str === "string" && str.length > MAX_ARGUMENT_LENGTH) {
          args[i] = genRedactedString(str, MAX_ARGUMENT_LENGTH);
        }
      }
      return fn.apply(null, args);
    }
    Object.defineProperties(wrappedDebug, {
      namespace: {
        get() {
          return fn.namespace;
        }
      },
      enabled: {
        get() {
          return fn.enabled;
        }
      },
      destroy: {
        get() {
          return fn.destroy;
        }
      },
      log: {
        get() {
          return fn.log;
        },
        set(l) {
          fn.log = l;
        }
      }
    });
    return wrappedDebug;
  }
  exports.default = genDebugFunction;
});

// ../../node_modules/ioredis/built/constants/TLSProfiles.js
var require_TLSProfiles = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var RedisCloudCA = `-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`;
  var TLSProfiles = {
    RedisCloudFixed: { ca: RedisCloudCA },
    RedisCloudFlexible: { ca: RedisCloudCA }
  };
  exports.default = TLSProfiles;
});

// ../../node_modules/ioredis/built/utils/index.js
var require_utils2 = __commonJS((exports) => {
  var __dirname = "/mnt/k/Work/nexa-task/node_modules/ioredis/built/utils";
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.noop = exports.defaults = exports.Debug = exports.getPackageMeta = exports.zipMap = exports.CONNECTION_CLOSED_ERROR_MSG = exports.shuffle = exports.sample = exports.resolveTLSProfile = exports.parseURL = exports.optimizeErrorStack = exports.toArg = exports.convertMapToArray = exports.convertObjectToArray = exports.timeout = exports.packObject = exports.isInt = exports.wrapMultiResult = exports.convertBufferToString = undefined;
  var fs_1 = __require("fs");
  var path_1 = __require("path");
  var url_1 = __require("url");
  var lodash_1 = require_lodash3();
  Object.defineProperty(exports, "defaults", { enumerable: true, get: function() {
    return lodash_1.defaults;
  } });
  Object.defineProperty(exports, "noop", { enumerable: true, get: function() {
    return lodash_1.noop;
  } });
  var debug_1 = require_debug();
  exports.Debug = debug_1.default;
  var TLSProfiles_1 = require_TLSProfiles();
  function convertBufferToString(value, encoding) {
    if (value instanceof Buffer) {
      return value.toString(encoding);
    }
    if (Array.isArray(value)) {
      const length = value.length;
      const res = Array(length);
      for (let i = 0;i < length; ++i) {
        res[i] = value[i] instanceof Buffer && encoding === "utf8" ? value[i].toString() : convertBufferToString(value[i], encoding);
      }
      return res;
    }
    return value;
  }
  exports.convertBufferToString = convertBufferToString;
  function wrapMultiResult(arr) {
    if (!arr) {
      return null;
    }
    const result = [];
    const length = arr.length;
    for (let i = 0;i < length; ++i) {
      const item = arr[i];
      if (item instanceof Error) {
        result.push([item]);
      } else {
        result.push([null, item]);
      }
    }
    return result;
  }
  exports.wrapMultiResult = wrapMultiResult;
  function isInt(value) {
    const x = parseFloat(value);
    return !isNaN(value) && (x | 0) === x;
  }
  exports.isInt = isInt;
  function packObject(array) {
    const result = {};
    const length = array.length;
    for (let i = 1;i < length; i += 2) {
      result[array[i - 1]] = array[i];
    }
    return result;
  }
  exports.packObject = packObject;
  function timeout(callback, timeout2) {
    let timer2 = null;
    const run = function() {
      if (timer2) {
        clearTimeout(timer2);
        timer2 = null;
        callback.apply(this, arguments);
      }
    };
    timer2 = setTimeout(run, timeout2, new Error("timeout"));
    return run;
  }
  exports.timeout = timeout;
  function convertObjectToArray(obj) {
    const result = [];
    const keys = Object.keys(obj);
    for (let i = 0, l = keys.length;i < l; i++) {
      result.push(keys[i], obj[keys[i]]);
    }
    return result;
  }
  exports.convertObjectToArray = convertObjectToArray;
  function convertMapToArray(map) {
    const result = [];
    let pos = 0;
    map.forEach(function(value, key) {
      result[pos] = key;
      result[pos + 1] = value;
      pos += 2;
    });
    return result;
  }
  exports.convertMapToArray = convertMapToArray;
  function toArg(arg) {
    if (arg === null || typeof arg === "undefined") {
      return "";
    }
    return String(arg);
  }
  exports.toArg = toArg;
  function optimizeErrorStack(error, friendlyStack, filterPath) {
    const stacks = friendlyStack.split(`
`);
    let lines = "";
    let i;
    for (i = 1;i < stacks.length; ++i) {
      if (stacks[i].indexOf(filterPath) === -1) {
        break;
      }
    }
    for (let j = i;j < stacks.length; ++j) {
      lines += `
` + stacks[j];
    }
    if (error.stack) {
      const pos = error.stack.indexOf(`
`);
      error.stack = error.stack.slice(0, pos) + lines;
    }
    return error;
  }
  exports.optimizeErrorStack = optimizeErrorStack;
  function parseURL(url) {
    if (isInt(url)) {
      return { port: url };
    }
    let parsed = (0, url_1.parse)(url, true, true);
    if (!parsed.slashes && url[0] !== "/") {
      url = "//" + url;
      parsed = (0, url_1.parse)(url, true, true);
    }
    const options = parsed.query || {};
    const result = {};
    if (parsed.auth) {
      const index2 = parsed.auth.indexOf(":");
      result.username = index2 === -1 ? parsed.auth : parsed.auth.slice(0, index2);
      result.password = index2 === -1 ? "" : parsed.auth.slice(index2 + 1);
    }
    if (parsed.pathname) {
      if (parsed.protocol === "redis:" || parsed.protocol === "rediss:") {
        if (parsed.pathname.length > 1) {
          result.db = parsed.pathname.slice(1);
        }
      } else {
        result.path = parsed.pathname;
      }
    }
    if (parsed.host) {
      result.host = parsed.hostname;
    }
    if (parsed.port) {
      result.port = parsed.port;
    }
    if (typeof options.family === "string") {
      const intFamily = Number.parseInt(options.family, 10);
      if (!Number.isNaN(intFamily)) {
        result.family = intFamily;
      }
    }
    (0, lodash_1.defaults)(result, options);
    return result;
  }
  exports.parseURL = parseURL;
  function resolveTLSProfile(options) {
    let tls2 = options === null || options === undefined ? undefined : options.tls;
    if (typeof tls2 === "string")
      tls2 = { profile: tls2 };
    const profile = TLSProfiles_1.default[tls2 === null || tls2 === undefined ? undefined : tls2.profile];
    if (profile) {
      tls2 = Object.assign({}, profile, tls2);
      delete tls2.profile;
      options = Object.assign({}, options, { tls: tls2 });
    }
    return options;
  }
  exports.resolveTLSProfile = resolveTLSProfile;
  function sample(array, from = 0) {
    const length = array.length;
    if (from >= length) {
      return null;
    }
    return array[from + Math.floor(Math.random() * (length - from))];
  }
  exports.sample = sample;
  function shuffle(array) {
    let counter = array.length;
    while (counter > 0) {
      const index2 = Math.floor(Math.random() * counter);
      counter--;
      [array[counter], array[index2]] = [array[index2], array[counter]];
    }
    return array;
  }
  exports.shuffle = shuffle;
  exports.CONNECTION_CLOSED_ERROR_MSG = "Connection is closed.";
  function zipMap(keys, values2) {
    const map = new Map;
    keys.forEach((key, index2) => {
      map.set(key, values2[index2]);
    });
    return map;
  }
  exports.zipMap = zipMap;
  var cachedPackageMeta = null;
  async function getPackageMeta() {
    if (cachedPackageMeta) {
      return cachedPackageMeta;
    }
    try {
      const filePath = (0, path_1.resolve)(__dirname, "..", "..", "package.json");
      const data = await fs_1.promises.readFile(filePath, "utf8");
      const parsed = JSON.parse(data);
      cachedPackageMeta = {
        version: parsed.version
      };
      return cachedPackageMeta;
    } catch (err) {
      cachedPackageMeta = {
        version: "error-fetching-version"
      };
      return cachedPackageMeta;
    }
  }
  exports.getPackageMeta = getPackageMeta;
});

// ../../node_modules/ioredis/built/utils/argumentParsers.js
var require_argumentParsers = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.parseBlockOption = exports.parseSecondsArgument = undefined;
  var parseNumberArgument = (arg) => {
    if (typeof arg === "number") {
      return arg;
    }
    if (Buffer.isBuffer(arg)) {
      return parseNumberArgument(arg.toString());
    }
    if (typeof arg === "string") {
      const value = Number(arg);
      return Number.isFinite(value) ? value : undefined;
    }
    return;
  };
  var parseStringArgument = (arg) => {
    if (typeof arg === "string") {
      return arg;
    }
    if (Buffer.isBuffer(arg)) {
      return arg.toString();
    }
    return;
  };
  var parseSecondsArgument = (arg) => {
    const value = parseNumberArgument(arg);
    if (value === undefined) {
      return;
    }
    if (value <= 0) {
      return 0;
    }
    return value * 1000;
  };
  exports.parseSecondsArgument = parseSecondsArgument;
  var parseBlockOption = (args) => {
    for (let i = 0;i < args.length; i++) {
      const token = parseStringArgument(args[i]);
      if (token && token.toLowerCase() === "block") {
        const duration = parseNumberArgument(args[i + 1]);
        if (duration === undefined) {
          return;
        }
        if (duration <= 0) {
          return 0;
        }
        return duration;
      }
    }
    return null;
  };
  exports.parseBlockOption = parseBlockOption;
});

// ../../node_modules/ioredis/built/Command.js
var require_Command = __commonJS((exports) => {
  var __dirname = "/mnt/k/Work/nexa-task/node_modules/ioredis/built";
  Object.defineProperty(exports, "__esModule", { value: true });
  var commands_1 = require_built();
  var calculateSlot = require_lib();
  var standard_as_callback_1 = require_built2();
  var utils_1 = require_utils2();
  var argumentParsers_1 = require_argumentParsers();

  class Command {
    constructor(name, args = [], options = {}, callback) {
      this.name = name;
      this.inTransaction = false;
      this.isResolved = false;
      this.transformed = false;
      this.replyEncoding = options.replyEncoding;
      this.errorStack = options.errorStack;
      this.args = args.flat();
      this.callback = callback;
      this.initPromise();
      if (options.keyPrefix) {
        const isBufferKeyPrefix = options.keyPrefix instanceof Buffer;
        let keyPrefixBuffer = isBufferKeyPrefix ? options.keyPrefix : null;
        this._iterateKeys((key) => {
          if (key instanceof Buffer) {
            if (keyPrefixBuffer === null) {
              keyPrefixBuffer = Buffer.from(options.keyPrefix);
            }
            return Buffer.concat([keyPrefixBuffer, key]);
          } else if (isBufferKeyPrefix) {
            return Buffer.concat([options.keyPrefix, Buffer.from(String(key))]);
          }
          return options.keyPrefix + key;
        });
      }
      if (options.readOnly) {
        this.isReadOnly = true;
      }
    }
    static checkFlag(flagName, commandName) {
      commandName = commandName.toLowerCase();
      return !!this.getFlagMap()[flagName][commandName];
    }
    static setArgumentTransformer(name, func) {
      this._transformer.argument[name] = func;
    }
    static setReplyTransformer(name, func) {
      this._transformer.reply[name] = func;
    }
    static getFlagMap() {
      if (!this.flagMap) {
        this.flagMap = Object.keys(Command.FLAGS).reduce((map, flagName) => {
          map[flagName] = {};
          Command.FLAGS[flagName].forEach((commandName) => {
            map[flagName][commandName] = true;
          });
          return map;
        }, {});
      }
      return this.flagMap;
    }
    getSlot() {
      if (typeof this.slot === "undefined") {
        const key = this.getKeys()[0];
        this.slot = key == null ? null : calculateSlot(key);
      }
      return this.slot;
    }
    getKeys() {
      return this._iterateKeys();
    }
    toWritable(_socket) {
      let result;
      const commandStr = "*" + (this.args.length + 1) + `\r
$` + Buffer.byteLength(this.name) + `\r
` + this.name + `\r
`;
      if (this.bufferMode) {
        const buffers = new MixedBuffers;
        buffers.push(commandStr);
        for (let i = 0;i < this.args.length; ++i) {
          const arg = this.args[i];
          if (arg instanceof Buffer) {
            if (arg.length === 0) {
              buffers.push(`$0\r
\r
`);
            } else {
              buffers.push("$" + arg.length + `\r
`);
              buffers.push(arg);
              buffers.push(`\r
`);
            }
          } else {
            buffers.push("$" + Buffer.byteLength(arg) + `\r
` + arg + `\r
`);
          }
        }
        result = buffers.toBuffer();
      } else {
        result = commandStr;
        for (let i = 0;i < this.args.length; ++i) {
          const arg = this.args[i];
          result += "$" + Buffer.byteLength(arg) + `\r
` + arg + `\r
`;
        }
      }
      return result;
    }
    stringifyArguments() {
      for (let i = 0;i < this.args.length; ++i) {
        const arg = this.args[i];
        if (typeof arg === "string") {} else if (arg instanceof Buffer) {
          this.bufferMode = true;
        } else {
          this.args[i] = (0, utils_1.toArg)(arg);
        }
      }
    }
    transformReply(result) {
      if (this.replyEncoding) {
        result = (0, utils_1.convertBufferToString)(result, this.replyEncoding);
      }
      const transformer = Command._transformer.reply[this.name];
      if (transformer) {
        result = transformer(result);
      }
      return result;
    }
    setTimeout(ms) {
      if (!this._commandTimeoutTimer) {
        this._commandTimeoutTimer = setTimeout(() => {
          if (!this.isResolved) {
            this.reject(new Error("Command timed out"));
          }
        }, ms);
      }
    }
    setBlockingTimeout(ms) {
      if (ms <= 0) {
        return;
      }
      if (this._blockingTimeoutTimer) {
        clearTimeout(this._blockingTimeoutTimer);
        this._blockingTimeoutTimer = undefined;
      }
      const now = Date.now();
      if (this._blockingDeadline === undefined) {
        this._blockingDeadline = now + ms;
      }
      const remaining = this._blockingDeadline - now;
      if (remaining <= 0) {
        this.resolve(null);
        return;
      }
      this._blockingTimeoutTimer = setTimeout(() => {
        if (this.isResolved) {
          this._blockingTimeoutTimer = undefined;
          return;
        }
        this._blockingTimeoutTimer = undefined;
        this.resolve(null);
      }, remaining);
    }
    extractBlockingTimeout() {
      const args = this.args;
      if (!args || args.length === 0) {
        return;
      }
      const name = this.name.toLowerCase();
      if (Command.checkFlag("LAST_ARG_TIMEOUT_COMMANDS", name)) {
        return (0, argumentParsers_1.parseSecondsArgument)(args[args.length - 1]);
      }
      if (Command.checkFlag("FIRST_ARG_TIMEOUT_COMMANDS", name)) {
        return (0, argumentParsers_1.parseSecondsArgument)(args[0]);
      }
      if (Command.checkFlag("BLOCK_OPTION_COMMANDS", name)) {
        return (0, argumentParsers_1.parseBlockOption)(args);
      }
      return;
    }
    _clearTimers() {
      const existingTimer = this._commandTimeoutTimer;
      if (existingTimer) {
        clearTimeout(existingTimer);
        delete this._commandTimeoutTimer;
      }
      const blockingTimer = this._blockingTimeoutTimer;
      if (blockingTimer) {
        clearTimeout(blockingTimer);
        delete this._blockingTimeoutTimer;
      }
    }
    initPromise() {
      const promise = new Promise((resolve, reject) => {
        if (!this.transformed) {
          this.transformed = true;
          const transformer = Command._transformer.argument[this.name];
          if (transformer) {
            this.args = transformer(this.args);
          }
          this.stringifyArguments();
        }
        this.resolve = this._convertValue(resolve);
        this.reject = (err) => {
          this._clearTimers();
          if (this.errorStack) {
            reject((0, utils_1.optimizeErrorStack)(err, this.errorStack.stack, __dirname));
          } else {
            reject(err);
          }
        };
      });
      this.promise = (0, standard_as_callback_1.default)(promise, this.callback);
    }
    _iterateKeys(transform = (key) => key) {
      if (typeof this.keys === "undefined") {
        this.keys = [];
        if ((0, commands_1.exists)(this.name, { caseInsensitive: true })) {
          const keyIndexes = (0, commands_1.getKeyIndexes)(this.name, this.args, {
            nameCaseInsensitive: true
          });
          for (const index2 of keyIndexes) {
            this.args[index2] = transform(this.args[index2]);
            this.keys.push(this.args[index2]);
          }
        }
      }
      return this.keys;
    }
    _convertValue(resolve) {
      return (value) => {
        try {
          this._clearTimers();
          resolve(this.transformReply(value));
          this.isResolved = true;
        } catch (err) {
          this.reject(err);
        }
        return this.promise;
      };
    }
  }
  exports.default = Command;
  Command.FLAGS = {
    VALID_IN_SUBSCRIBER_MODE: [
      "subscribe",
      "psubscribe",
      "unsubscribe",
      "punsubscribe",
      "ssubscribe",
      "sunsubscribe",
      "ping",
      "quit"
    ],
    VALID_IN_MONITOR_MODE: ["monitor", "auth"],
    ENTER_SUBSCRIBER_MODE: ["subscribe", "psubscribe", "ssubscribe"],
    EXIT_SUBSCRIBER_MODE: ["unsubscribe", "punsubscribe", "sunsubscribe"],
    WILL_DISCONNECT: ["quit"],
    HANDSHAKE_COMMANDS: ["auth", "select", "client", "readonly", "info"],
    IGNORE_RECONNECT_ON_ERROR: ["client"],
    BLOCKING_COMMANDS: [
      "blpop",
      "brpop",
      "brpoplpush",
      "blmove",
      "bzpopmin",
      "bzpopmax",
      "bzmpop",
      "blmpop",
      "xread",
      "xreadgroup"
    ],
    LAST_ARG_TIMEOUT_COMMANDS: [
      "blpop",
      "brpop",
      "brpoplpush",
      "blmove",
      "bzpopmin",
      "bzpopmax"
    ],
    FIRST_ARG_TIMEOUT_COMMANDS: ["bzmpop", "blmpop"],
    BLOCK_OPTION_COMMANDS: ["xread", "xreadgroup"]
  };
  Command._transformer = {
    argument: {},
    reply: {}
  };
  var msetArgumentTransformer = function(args) {
    if (args.length === 1) {
      if (args[0] instanceof Map) {
        return (0, utils_1.convertMapToArray)(args[0]);
      }
      if (typeof args[0] === "object" && args[0] !== null) {
        return (0, utils_1.convertObjectToArray)(args[0]);
      }
    }
    return args;
  };
  var hsetArgumentTransformer = function(args) {
    if (args.length === 2) {
      if (args[1] instanceof Map) {
        return [args[0]].concat((0, utils_1.convertMapToArray)(args[1]));
      }
      if (typeof args[1] === "object" && args[1] !== null) {
        return [args[0]].concat((0, utils_1.convertObjectToArray)(args[1]));
      }
    }
    return args;
  };
  Command.setArgumentTransformer("mset", msetArgumentTransformer);
  Command.setArgumentTransformer("msetnx", msetArgumentTransformer);
  Command.setArgumentTransformer("hset", hsetArgumentTransformer);
  Command.setArgumentTransformer("hmset", hsetArgumentTransformer);
  Command.setReplyTransformer("hgetall", function(result) {
    if (Array.isArray(result)) {
      const obj = {};
      for (let i = 0;i < result.length; i += 2) {
        const key = result[i];
        const value = result[i + 1];
        if (key in obj) {
          Object.defineProperty(obj, key, {
            value,
            configurable: true,
            enumerable: true,
            writable: true
          });
        } else {
          obj[key] = value;
        }
      }
      return obj;
    }
    return result;
  });

  class MixedBuffers {
    constructor() {
      this.length = 0;
      this.items = [];
    }
    push(x) {
      this.length += Buffer.byteLength(x);
      this.items.push(x);
    }
    toBuffer() {
      const result = Buffer.allocUnsafe(this.length);
      let offset = 0;
      for (const item of this.items) {
        const length = Buffer.byteLength(item);
        Buffer.isBuffer(item) ? item.copy(result, offset) : result.write(item, offset, length);
        offset += length;
      }
      return result;
    }
  }
});

// ../../node_modules/ioredis/built/errors/ClusterAllFailedError.js
var require_ClusterAllFailedError = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var redis_errors_1 = require_redis_errors();

  class ClusterAllFailedError extends redis_errors_1.RedisError {
    constructor(message, lastNodeError) {
      super(message);
      this.lastNodeError = lastNodeError;
      Error.captureStackTrace(this, this.constructor);
    }
    get name() {
      return this.constructor.name;
    }
  }
  exports.default = ClusterAllFailedError;
  ClusterAllFailedError.defaultMessage = "Failed to refresh slots cache.";
});

// ../../node_modules/ioredis/built/ScanStream.js
var require_ScanStream = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var stream_1 = __require("stream");

  class ScanStream extends stream_1.Readable {
    constructor(opt) {
      super(opt);
      this.opt = opt;
      this._redisCursor = "0";
      this._redisDrained = false;
    }
    _read() {
      if (this._redisDrained) {
        this.push(null);
        return;
      }
      const args = [this._redisCursor];
      if (this.opt.key) {
        args.unshift(this.opt.key);
      }
      if (this.opt.match) {
        args.push("MATCH", this.opt.match);
      }
      if (this.opt.type) {
        args.push("TYPE", this.opt.type);
      }
      if (this.opt.count) {
        args.push("COUNT", String(this.opt.count));
      }
      if (this.opt.noValues) {
        args.push("NOVALUES");
      }
      this.opt.redis[this.opt.command](args, (err, res) => {
        if (err) {
          this.emit("error", err);
          return;
        }
        this._redisCursor = res[0] instanceof Buffer ? res[0].toString() : res[0];
        if (this._redisCursor === "0") {
          this._redisDrained = true;
        }
        this.push(res[1]);
      });
    }
    close() {
      this._redisDrained = true;
    }
  }
  exports.default = ScanStream;
});

// ../../node_modules/ioredis/built/autoPipelining.js
var require_autoPipelining = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.executeWithAutoPipelining = exports.getFirstValueInFlattenedArray = exports.shouldUseAutoPipelining = exports.notAllowedAutoPipelineCommands = exports.kCallbacks = exports.kExec = undefined;
  var lodash_1 = require_lodash3();
  var calculateSlot = require_lib();
  var standard_as_callback_1 = require_built2();
  exports.kExec = Symbol("exec");
  exports.kCallbacks = Symbol("callbacks");
  exports.notAllowedAutoPipelineCommands = [
    "auth",
    "info",
    "script",
    "quit",
    "cluster",
    "pipeline",
    "multi",
    "subscribe",
    "psubscribe",
    "unsubscribe",
    "unpsubscribe",
    "select",
    "client"
  ];
  function executeAutoPipeline(client2, slotKey) {
    if (client2._runningAutoPipelines.has(slotKey)) {
      return;
    }
    if (!client2._autoPipelines.has(slotKey)) {
      return;
    }
    client2._runningAutoPipelines.add(slotKey);
    const pipeline = client2._autoPipelines.get(slotKey);
    client2._autoPipelines.delete(slotKey);
    const callbacks = pipeline[exports.kCallbacks];
    pipeline[exports.kCallbacks] = null;
    pipeline.exec(function(err, results) {
      client2._runningAutoPipelines.delete(slotKey);
      if (err) {
        for (let i = 0;i < callbacks.length; i++) {
          process.nextTick(callbacks[i], err);
        }
      } else {
        for (let i = 0;i < callbacks.length; i++) {
          process.nextTick(callbacks[i], ...results[i]);
        }
      }
      if (client2._autoPipelines.has(slotKey)) {
        executeAutoPipeline(client2, slotKey);
      }
    });
  }
  function shouldUseAutoPipelining(client2, functionName, commandName) {
    return functionName && client2.options.enableAutoPipelining && !client2.isPipeline && !exports.notAllowedAutoPipelineCommands.includes(commandName) && !client2.options.autoPipeliningIgnoredCommands.includes(commandName);
  }
  exports.shouldUseAutoPipelining = shouldUseAutoPipelining;
  function getFirstValueInFlattenedArray(args) {
    for (let i = 0;i < args.length; i++) {
      const arg = args[i];
      if (typeof arg === "string") {
        return arg;
      } else if (Array.isArray(arg) || (0, lodash_1.isArguments)(arg)) {
        if (arg.length === 0) {
          continue;
        }
        return arg[0];
      }
      const flattened = [arg].flat();
      if (flattened.length > 0) {
        return flattened[0];
      }
    }
    return;
  }
  exports.getFirstValueInFlattenedArray = getFirstValueInFlattenedArray;
  function executeWithAutoPipelining(client2, functionName, commandName, args, callback) {
    if (client2.isCluster && !client2.slots.length) {
      if (client2.status === "wait")
        client2.connect().catch(lodash_1.noop);
      return (0, standard_as_callback_1.default)(new Promise(function(resolve, reject) {
        client2.delayUntilReady((err) => {
          if (err) {
            reject(err);
            return;
          }
          executeWithAutoPipelining(client2, functionName, commandName, args, null).then(resolve, reject);
        });
      }), callback);
    }
    const prefix = client2.options.keyPrefix || "";
    const slotKey = client2.isCluster ? client2.slots[calculateSlot(`${prefix}${getFirstValueInFlattenedArray(args)}`)].join(",") : "main";
    if (!client2._autoPipelines.has(slotKey)) {
      const pipeline2 = client2.pipeline();
      pipeline2[exports.kExec] = false;
      pipeline2[exports.kCallbacks] = [];
      client2._autoPipelines.set(slotKey, pipeline2);
    }
    const pipeline = client2._autoPipelines.get(slotKey);
    if (!pipeline[exports.kExec]) {
      pipeline[exports.kExec] = true;
      setImmediate(executeAutoPipeline, client2, slotKey);
    }
    const autoPipelinePromise = new Promise(function(resolve, reject) {
      pipeline[exports.kCallbacks].push(function(err, value) {
        if (err) {
          reject(err);
          return;
        }
        resolve(value);
      });
      if (functionName === "call") {
        args.unshift(commandName);
      }
      pipeline[functionName](...args);
    });
    return (0, standard_as_callback_1.default)(autoPipelinePromise, callback);
  }
  exports.executeWithAutoPipelining = executeWithAutoPipelining;
});

// ../../node_modules/ioredis/built/Script.js
var require_Script = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var crypto_1 = __require("crypto");
  var Command_1 = require_Command();
  var standard_as_callback_1 = require_built2();

  class Script {
    constructor(lua, numberOfKeys = null, keyPrefix = "", readOnly = false) {
      this.lua = lua;
      this.numberOfKeys = numberOfKeys;
      this.keyPrefix = keyPrefix;
      this.readOnly = readOnly;
      this.sha = (0, crypto_1.createHash)("sha1").update(lua).digest("hex");
      const sha = this.sha;
      const socketHasScriptLoaded = new WeakSet;
      this.Command = class CustomScriptCommand extends Command_1.default {
        toWritable(socket) {
          const origReject = this.reject;
          this.reject = (err) => {
            if (err.message.indexOf("NOSCRIPT") !== -1) {
              socketHasScriptLoaded.delete(socket);
            }
            origReject.call(this, err);
          };
          if (!socketHasScriptLoaded.has(socket)) {
            socketHasScriptLoaded.add(socket);
            this.name = "eval";
            this.args[0] = lua;
          } else if (this.name === "eval") {
            this.name = "evalsha";
            this.args[0] = sha;
          }
          return super.toWritable(socket);
        }
      };
    }
    execute(container, args, options, callback) {
      if (typeof this.numberOfKeys === "number") {
        args.unshift(this.numberOfKeys);
      }
      if (this.keyPrefix) {
        options.keyPrefix = this.keyPrefix;
      }
      if (this.readOnly) {
        options.readOnly = true;
      }
      const evalsha = new this.Command("evalsha", [this.sha, ...args], options);
      evalsha.promise = evalsha.promise.catch((err) => {
        if (err.message.indexOf("NOSCRIPT") === -1) {
          throw err;
        }
        const resend = new this.Command("evalsha", [this.sha, ...args], options);
        const client2 = container.isPipeline ? container.redis : container;
        return client2.sendCommand(resend);
      });
      (0, standard_as_callback_1.default)(evalsha.promise, callback);
      return container.sendCommand(evalsha);
    }
  }
  exports.default = Script;
});

// ../../node_modules/ioredis/built/utils/Commander.js
var require_Commander = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var commands_1 = require_built();
  var autoPipelining_1 = require_autoPipelining();
  var Command_1 = require_Command();
  var Script_1 = require_Script();

  class Commander {
    constructor() {
      this.options = {};
      this.scriptsSet = {};
      this.addedBuiltinSet = new Set;
    }
    getBuiltinCommands() {
      return commands.slice(0);
    }
    createBuiltinCommand(commandName) {
      return {
        string: generateFunction(null, commandName, "utf8"),
        buffer: generateFunction(null, commandName, null)
      };
    }
    addBuiltinCommand(commandName) {
      this.addedBuiltinSet.add(commandName);
      this[commandName] = generateFunction(commandName, commandName, "utf8");
      this[commandName + "Buffer"] = generateFunction(commandName + "Buffer", commandName, null);
    }
    defineCommand(name, definition) {
      const script = new Script_1.default(definition.lua, definition.numberOfKeys, this.options.keyPrefix, definition.readOnly);
      this.scriptsSet[name] = script;
      this[name] = generateScriptingFunction(name, name, script, "utf8");
      this[name + "Buffer"] = generateScriptingFunction(name + "Buffer", name, script, null);
    }
    sendCommand(command, stream, node) {
      throw new Error('"sendCommand" is not implemented');
    }
  }
  var commands = commands_1.list.filter((command) => command !== "monitor");
  commands.push("sentinel");
  commands.forEach(function(commandName) {
    Commander.prototype[commandName] = generateFunction(commandName, commandName, "utf8");
    Commander.prototype[commandName + "Buffer"] = generateFunction(commandName + "Buffer", commandName, null);
  });
  Commander.prototype.call = generateFunction("call", "utf8");
  Commander.prototype.callBuffer = generateFunction("callBuffer", null);
  Commander.prototype.send_command = Commander.prototype.call;
  function generateFunction(functionName, _commandName, _encoding) {
    if (typeof _encoding === "undefined") {
      _encoding = _commandName;
      _commandName = null;
    }
    return function(...args) {
      const commandName = _commandName || args.shift();
      let callback = args[args.length - 1];
      if (typeof callback === "function") {
        args.pop();
      } else {
        callback = undefined;
      }
      const options = {
        errorStack: this.options.showFriendlyErrorStack ? new Error : undefined,
        keyPrefix: this.options.keyPrefix,
        replyEncoding: _encoding
      };
      if (!(0, autoPipelining_1.shouldUseAutoPipelining)(this, functionName, commandName)) {
        return this.sendCommand(new Command_1.default(commandName, args, options, callback));
      }
      return (0, autoPipelining_1.executeWithAutoPipelining)(this, functionName, commandName, args, callback);
    };
  }
  function generateScriptingFunction(functionName, commandName, script, encoding) {
    return function(...args) {
      const callback = typeof args[args.length - 1] === "function" ? args.pop() : undefined;
      const options = {
        replyEncoding: encoding
      };
      if (this.options.showFriendlyErrorStack) {
        options.errorStack = new Error;
      }
      if (!(0, autoPipelining_1.shouldUseAutoPipelining)(this, functionName, commandName)) {
        return script.execute(this, args, options, callback);
      }
      return (0, autoPipelining_1.executeWithAutoPipelining)(this, functionName, commandName, args, callback);
    };
  }
  exports.default = Commander;
});

// ../../node_modules/ioredis/built/Pipeline.js
var require_Pipeline = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var calculateSlot = require_lib();
  var commands_1 = require_built();
  var standard_as_callback_1 = require_built2();
  var util_1 = __require("util");
  var Command_1 = require_Command();
  var utils_1 = require_utils2();
  var Commander_1 = require_Commander();
  function generateMultiWithNodes(redis, keys) {
    const slot = calculateSlot(keys[0]);
    const target = redis._groupsBySlot[slot];
    for (let i = 1;i < keys.length; i++) {
      if (redis._groupsBySlot[calculateSlot(keys[i])] !== target) {
        return -1;
      }
    }
    return slot;
  }

  class Pipeline extends Commander_1.default {
    constructor(redis) {
      super();
      this.redis = redis;
      this.isPipeline = true;
      this.replyPending = 0;
      this._queue = [];
      this._result = [];
      this._transactions = 0;
      this._shaToScript = {};
      this.isCluster = this.redis.constructor.name === "Cluster" || this.redis.isCluster;
      this.options = redis.options;
      Object.keys(redis.scriptsSet).forEach((name) => {
        const script = redis.scriptsSet[name];
        this._shaToScript[script.sha] = script;
        this[name] = redis[name];
        this[name + "Buffer"] = redis[name + "Buffer"];
      });
      redis.addedBuiltinSet.forEach((name) => {
        this[name] = redis[name];
        this[name + "Buffer"] = redis[name + "Buffer"];
      });
      this.promise = new Promise((resolve, reject) => {
        this.resolve = resolve;
        this.reject = reject;
      });
      const _this = this;
      Object.defineProperty(this, "length", {
        get: function() {
          return _this._queue.length;
        }
      });
    }
    fillResult(value, position) {
      if (this._queue[position].name === "exec" && Array.isArray(value[1])) {
        const execLength = value[1].length;
        for (let i = 0;i < execLength; i++) {
          if (value[1][i] instanceof Error) {
            continue;
          }
          const cmd = this._queue[position - (execLength - i)];
          try {
            value[1][i] = cmd.transformReply(value[1][i]);
          } catch (err) {
            value[1][i] = err;
          }
        }
      }
      this._result[position] = value;
      if (--this.replyPending) {
        return;
      }
      if (this.isCluster) {
        let retriable = true;
        let commonError;
        for (let i = 0;i < this._result.length; ++i) {
          const error = this._result[i][0];
          const command = this._queue[i];
          if (error) {
            if (command.name === "exec" && error.message === "EXECABORT Transaction discarded because of previous errors.") {
              continue;
            }
            if (!commonError) {
              commonError = {
                name: error.name,
                message: error.message
              };
            } else if (commonError.name !== error.name || commonError.message !== error.message) {
              retriable = false;
              break;
            }
          } else if (!command.inTransaction) {
            const isReadOnly = (0, commands_1.exists)(command.name, { caseInsensitive: true }) && (0, commands_1.hasFlag)(command.name, "readonly", { nameCaseInsensitive: true });
            if (!isReadOnly) {
              retriable = false;
              break;
            }
          }
        }
        if (commonError && retriable) {
          const _this = this;
          const errv = commonError.message.split(" ");
          const queue = this._queue;
          let inTransaction = false;
          this._queue = [];
          for (let i = 0;i < queue.length; ++i) {
            if (errv[0] === "ASK" && !inTransaction && queue[i].name !== "asking" && (!queue[i - 1] || queue[i - 1].name !== "asking")) {
              const asking = new Command_1.default("asking");
              asking.ignore = true;
              this.sendCommand(asking);
            }
            queue[i].initPromise();
            this.sendCommand(queue[i]);
            inTransaction = queue[i].inTransaction;
          }
          let matched = true;
          if (typeof this.leftRedirections === "undefined") {
            this.leftRedirections = {};
          }
          const exec = function() {
            _this.exec();
          };
          const cluster = this.redis;
          cluster.handleError(commonError, this.leftRedirections, {
            moved: function(_slot, key) {
              _this.preferKey = key;
              cluster.slots[errv[1]] = [key];
              cluster._groupsBySlot[errv[1]] = cluster._groupsIds[cluster.slots[errv[1]].join(";")];
              cluster.refreshSlotsCache();
              _this.exec();
            },
            ask: function(_slot, key) {
              _this.preferKey = key;
              _this.exec();
            },
            tryagain: exec,
            clusterDown: exec,
            connectionClosed: exec,
            maxRedirections: () => {
              matched = false;
            },
            defaults: () => {
              matched = false;
            }
          });
          if (matched) {
            return;
          }
        }
      }
      let ignoredCount = 0;
      for (let i = 0;i < this._queue.length - ignoredCount; ++i) {
        if (this._queue[i + ignoredCount].ignore) {
          ignoredCount += 1;
        }
        this._result[i] = this._result[i + ignoredCount];
      }
      this.resolve(this._result.slice(0, this._result.length - ignoredCount));
    }
    sendCommand(command) {
      if (this._transactions > 0) {
        command.inTransaction = true;
      }
      const position = this._queue.length;
      command.pipelineIndex = position;
      command.promise.then((result) => {
        this.fillResult([null, result], position);
      }).catch((error) => {
        this.fillResult([error], position);
      });
      this._queue.push(command);
      return this;
    }
    addBatch(commands) {
      let command, commandName, args;
      for (let i = 0;i < commands.length; ++i) {
        command = commands[i];
        commandName = command[0];
        args = command.slice(1);
        this[commandName].apply(this, args);
      }
      return this;
    }
  }
  exports.default = Pipeline;
  var multi = Pipeline.prototype.multi;
  Pipeline.prototype.multi = function() {
    this._transactions += 1;
    return multi.apply(this, arguments);
  };
  var execBuffer = Pipeline.prototype.execBuffer;
  Pipeline.prototype.execBuffer = (0, util_1.deprecate)(function() {
    if (this._transactions > 0) {
      this._transactions -= 1;
    }
    return execBuffer.apply(this, arguments);
  }, "Pipeline#execBuffer: Use Pipeline#exec instead");
  Pipeline.prototype.exec = function(callback) {
    if (this.isCluster && !this.redis.slots.length) {
      if (this.redis.status === "wait")
        this.redis.connect().catch(utils_1.noop);
      if (callback && !this.nodeifiedPromise) {
        this.nodeifiedPromise = true;
        (0, standard_as_callback_1.default)(this.promise, callback);
      }
      this.redis.delayUntilReady((err) => {
        if (err) {
          this.reject(err);
          return;
        }
        this.exec(callback);
      });
      return this.promise;
    }
    if (this._transactions > 0) {
      this._transactions -= 1;
      return execBuffer.apply(this, arguments);
    }
    if (!this.nodeifiedPromise) {
      this.nodeifiedPromise = true;
      (0, standard_as_callback_1.default)(this.promise, callback);
    }
    if (!this._queue.length) {
      this.resolve([]);
    }
    let pipelineSlot;
    if (this.isCluster) {
      const sampleKeys = [];
      for (let i = 0;i < this._queue.length; i++) {
        const keys = this._queue[i].getKeys();
        if (keys.length) {
          sampleKeys.push(keys[0]);
        }
        if (keys.length && calculateSlot.generateMulti(keys) < 0) {
          this.reject(new Error("All the keys in a pipeline command should belong to the same slot"));
          return this.promise;
        }
      }
      if (sampleKeys.length) {
        pipelineSlot = generateMultiWithNodes(this.redis, sampleKeys);
        if (pipelineSlot < 0) {
          this.reject(new Error("All keys in the pipeline should belong to the same slots allocation group"));
          return this.promise;
        }
      } else {
        pipelineSlot = Math.random() * 16384 | 0;
      }
    }
    const _this = this;
    execPipeline();
    return this.promise;
    function execPipeline() {
      let writePending = _this.replyPending = _this._queue.length;
      let node;
      if (_this.isCluster) {
        node = {
          slot: pipelineSlot,
          redis: _this.redis.connectionPool.nodes.all[_this.preferKey]
        };
      }
      let data = "";
      let buffers;
      const stream = {
        isPipeline: true,
        destination: _this.isCluster ? node : { redis: _this.redis },
        write(writable) {
          if (typeof writable !== "string") {
            if (!buffers) {
              buffers = [];
            }
            if (data) {
              buffers.push(Buffer.from(data, "utf8"));
              data = "";
            }
            buffers.push(writable);
          } else {
            data += writable;
          }
          if (!--writePending) {
            if (buffers) {
              if (data) {
                buffers.push(Buffer.from(data, "utf8"));
              }
              stream.destination.redis.stream.write(Buffer.concat(buffers));
            } else {
              stream.destination.redis.stream.write(data);
            }
            writePending = _this._queue.length;
            data = "";
            buffers = undefined;
          }
        }
      };
      for (let i = 0;i < _this._queue.length; ++i) {
        _this.redis.sendCommand(_this._queue[i], stream, node);
      }
      return _this.promise;
    }
  };
});

// ../../node_modules/ioredis/built/transaction.js
var require_transaction = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.addTransactionSupport = undefined;
  var utils_1 = require_utils2();
  var standard_as_callback_1 = require_built2();
  var Pipeline_1 = require_Pipeline();
  function addTransactionSupport(redis) {
    redis.pipeline = function(commands) {
      const pipeline = new Pipeline_1.default(this);
      if (Array.isArray(commands)) {
        pipeline.addBatch(commands);
      }
      return pipeline;
    };
    const { multi } = redis;
    redis.multi = function(commands, options) {
      if (typeof options === "undefined" && !Array.isArray(commands)) {
        options = commands;
        commands = null;
      }
      if (options && options.pipeline === false) {
        return multi.call(this);
      }
      const pipeline = new Pipeline_1.default(this);
      pipeline.multi();
      if (Array.isArray(commands)) {
        pipeline.addBatch(commands);
      }
      const exec2 = pipeline.exec;
      pipeline.exec = function(callback) {
        if (this.isCluster && !this.redis.slots.length) {
          if (this.redis.status === "wait")
            this.redis.connect().catch(utils_1.noop);
          return (0, standard_as_callback_1.default)(new Promise((resolve, reject) => {
            this.redis.delayUntilReady((err) => {
              if (err) {
                reject(err);
                return;
              }
              this.exec(pipeline).then(resolve, reject);
            });
          }), callback);
        }
        if (this._transactions > 0) {
          exec2.call(pipeline);
        }
        if (this.nodeifiedPromise) {
          return exec2.call(pipeline);
        }
        const promise = exec2.call(pipeline);
        return (0, standard_as_callback_1.default)(promise.then(function(result) {
          const execResult = result[result.length - 1];
          if (typeof execResult === "undefined") {
            throw new Error("Pipeline cannot be used to send any commands when the `exec()` has been called on it.");
          }
          if (execResult[0]) {
            execResult[0].previousErrors = [];
            for (let i = 0;i < result.length - 1; ++i) {
              if (result[i][0]) {
                execResult[0].previousErrors.push(result[i][0]);
              }
            }
            throw execResult[0];
          }
          return (0, utils_1.wrapMultiResult)(execResult[1]);
        }), callback);
      };
      const { execBuffer } = pipeline;
      pipeline.execBuffer = function(callback) {
        if (this._transactions > 0) {
          execBuffer.call(pipeline);
        }
        return pipeline.exec(callback);
      };
      return pipeline;
    };
    const { exec } = redis;
    redis.exec = function(callback) {
      return (0, standard_as_callback_1.default)(exec.call(this).then(function(results) {
        if (Array.isArray(results)) {
          results = (0, utils_1.wrapMultiResult)(results);
        }
        return results;
      }), callback);
    };
  }
  exports.addTransactionSupport = addTransactionSupport;
});

// ../../node_modules/ioredis/built/utils/applyMixin.js
var require_applyMixin = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  function applyMixin(derivedConstructor, mixinConstructor) {
    Object.getOwnPropertyNames(mixinConstructor.prototype).forEach((name) => {
      Object.defineProperty(derivedConstructor.prototype, name, Object.getOwnPropertyDescriptor(mixinConstructor.prototype, name));
    });
  }
  exports.default = applyMixin;
});

// ../../node_modules/ioredis/built/cluster/ClusterOptions.js
var require_ClusterOptions = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.DEFAULT_CLUSTER_OPTIONS = undefined;
  var dns_1 = __require("dns");
  exports.DEFAULT_CLUSTER_OPTIONS = {
    clusterRetryStrategy: (times) => Math.min(100 + times * 2, 2000),
    enableOfflineQueue: true,
    enableReadyCheck: true,
    scaleReads: "master",
    maxRedirections: 16,
    retryDelayOnMoved: 0,
    retryDelayOnFailover: 100,
    retryDelayOnClusterDown: 100,
    retryDelayOnTryAgain: 100,
    slotsRefreshTimeout: 1000,
    useSRVRecords: false,
    resolveSrv: dns_1.resolveSrv,
    dnsLookup: dns_1.lookup,
    enableAutoPipelining: false,
    autoPipeliningIgnoredCommands: [],
    shardedSubscribers: false
  };
});

// ../../node_modules/ioredis/built/cluster/util.js
var require_util2 = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.getConnectionName = exports.weightSrvRecords = exports.groupSrvRecords = exports.getUniqueHostnamesFromOptions = exports.normalizeNodeOptions = exports.nodeKeyToRedisOptions = exports.getNodeKey = undefined;
  var utils_1 = require_utils2();
  var net_1 = __require("net");
  function getNodeKey(node) {
    node.port = node.port || 6379;
    node.host = node.host || "127.0.0.1";
    return node.host + ":" + node.port;
  }
  exports.getNodeKey = getNodeKey;
  function nodeKeyToRedisOptions(nodeKey) {
    const portIndex = nodeKey.lastIndexOf(":");
    if (portIndex === -1) {
      throw new Error(`Invalid node key ${nodeKey}`);
    }
    return {
      host: nodeKey.slice(0, portIndex),
      port: Number(nodeKey.slice(portIndex + 1))
    };
  }
  exports.nodeKeyToRedisOptions = nodeKeyToRedisOptions;
  function normalizeNodeOptions(nodes) {
    return nodes.map((node) => {
      const options = {};
      if (typeof node === "object") {
        Object.assign(options, node);
      } else if (typeof node === "string") {
        Object.assign(options, (0, utils_1.parseURL)(node));
      } else if (typeof node === "number") {
        options.port = node;
      } else {
        throw new Error("Invalid argument " + node);
      }
      if (typeof options.port === "string") {
        options.port = parseInt(options.port, 10);
      }
      delete options.db;
      if (!options.port) {
        options.port = 6379;
      }
      if (!options.host) {
        options.host = "127.0.0.1";
      }
      return (0, utils_1.resolveTLSProfile)(options);
    });
  }
  exports.normalizeNodeOptions = normalizeNodeOptions;
  function getUniqueHostnamesFromOptions(nodes) {
    const uniqueHostsMap = {};
    nodes.forEach((node) => {
      uniqueHostsMap[node.host] = true;
    });
    return Object.keys(uniqueHostsMap).filter((host) => !(0, net_1.isIP)(host));
  }
  exports.getUniqueHostnamesFromOptions = getUniqueHostnamesFromOptions;
  function groupSrvRecords(records) {
    const recordsByPriority = {};
    for (const record of records) {
      if (!recordsByPriority.hasOwnProperty(record.priority)) {
        recordsByPriority[record.priority] = {
          totalWeight: record.weight,
          records: [record]
        };
      } else {
        recordsByPriority[record.priority].totalWeight += record.weight;
        recordsByPriority[record.priority].records.push(record);
      }
    }
    return recordsByPriority;
  }
  exports.groupSrvRecords = groupSrvRecords;
  function weightSrvRecords(recordsGroup) {
    if (recordsGroup.records.length === 1) {
      recordsGroup.totalWeight = 0;
      return recordsGroup.records.shift();
    }
    const random = Math.floor(Math.random() * (recordsGroup.totalWeight + recordsGroup.records.length));
    let total = 0;
    for (const [i, record] of recordsGroup.records.entries()) {
      total += 1 + record.weight;
      if (total > random) {
        recordsGroup.totalWeight -= record.weight;
        recordsGroup.records.splice(i, 1);
        return record;
      }
    }
  }
  exports.weightSrvRecords = weightSrvRecords;
  function getConnectionName(component, nodeConnectionName) {
    const prefix = `ioredis-cluster(${component})`;
    return nodeConnectionName ? `${prefix}:${nodeConnectionName}` : prefix;
  }
  exports.getConnectionName = getConnectionName;
});

// ../../node_modules/ioredis/built/cluster/ClusterSubscriber.js
var require_ClusterSubscriber = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var util_1 = require_util2();
  var utils_1 = require_utils2();
  var Redis_1 = require_Redis();
  var debug = (0, utils_1.Debug)("cluster:subscriber");

  class ClusterSubscriber {
    constructor(connectionPool, emitter, isSharded = false) {
      this.connectionPool = connectionPool;
      this.emitter = emitter;
      this.isSharded = isSharded;
      this.started = false;
      this.subscriber = null;
      this.slotRange = [];
      this.onSubscriberEnd = () => {
        if (!this.started) {
          debug("subscriber has disconnected, but ClusterSubscriber is not started, so not reconnecting.");
          return;
        }
        debug("subscriber has disconnected, selecting a new one...");
        this.selectSubscriber();
      };
      this.connectionPool.on("-node", (_2, key) => {
        if (!this.started || !this.subscriber) {
          return;
        }
        if ((0, util_1.getNodeKey)(this.subscriber.options) === key) {
          debug("subscriber has left, selecting a new one...");
          this.selectSubscriber();
        }
      });
      this.connectionPool.on("+node", () => {
        if (!this.started || this.subscriber) {
          return;
        }
        debug("a new node is discovered and there is no subscriber, selecting a new one...");
        this.selectSubscriber();
      });
    }
    getInstance() {
      return this.subscriber;
    }
    associateSlotRange(range) {
      if (this.isSharded) {
        this.slotRange = range;
      }
      return this.slotRange;
    }
    start() {
      this.started = true;
      this.selectSubscriber();
      debug("started");
    }
    stop() {
      this.started = false;
      if (this.subscriber) {
        this.subscriber.disconnect();
        this.subscriber = null;
      }
    }
    isStarted() {
      return this.started;
    }
    selectSubscriber() {
      const lastActiveSubscriber = this.lastActiveSubscriber;
      if (lastActiveSubscriber) {
        lastActiveSubscriber.off("end", this.onSubscriberEnd);
        lastActiveSubscriber.disconnect();
      }
      if (this.subscriber) {
        this.subscriber.off("end", this.onSubscriberEnd);
        this.subscriber.disconnect();
      }
      const sampleNode = (0, utils_1.sample)(this.connectionPool.getNodes());
      if (!sampleNode) {
        debug("selecting subscriber failed since there is no node discovered in the cluster yet");
        this.subscriber = null;
        return;
      }
      const { options } = sampleNode;
      debug("selected a subscriber %s:%s", options.host, options.port);
      let connectionPrefix = "subscriber";
      if (this.isSharded)
        connectionPrefix = "ssubscriber";
      this.subscriber = new Redis_1.default({
        port: options.port,
        host: options.host,
        username: options.username,
        password: options.password,
        enableReadyCheck: true,
        connectionName: (0, util_1.getConnectionName)(connectionPrefix, options.connectionName),
        lazyConnect: true,
        tls: options.tls,
        retryStrategy: null
      });
      this.subscriber.on("error", utils_1.noop);
      this.subscriber.on("moved", () => {
        this.emitter.emit("forceRefresh");
      });
      this.subscriber.once("end", this.onSubscriberEnd);
      const previousChannels = { subscribe: [], psubscribe: [], ssubscribe: [] };
      if (lastActiveSubscriber) {
        const condition = lastActiveSubscriber.condition || lastActiveSubscriber.prevCondition;
        if (condition && condition.subscriber) {
          previousChannels.subscribe = condition.subscriber.channels("subscribe");
          previousChannels.psubscribe = condition.subscriber.channels("psubscribe");
          previousChannels.ssubscribe = condition.subscriber.channels("ssubscribe");
        }
      }
      if (previousChannels.subscribe.length || previousChannels.psubscribe.length || previousChannels.ssubscribe.length) {
        let pending = 0;
        for (const type of ["subscribe", "psubscribe", "ssubscribe"]) {
          const channels = previousChannels[type];
          if (channels.length == 0) {
            continue;
          }
          debug("%s %d channels", type, channels.length);
          if (type === "ssubscribe") {
            for (const channel of channels) {
              pending += 1;
              this.subscriber[type](channel).then(() => {
                if (!--pending) {
                  this.lastActiveSubscriber = this.subscriber;
                }
              }).catch(() => {
                debug("failed to ssubscribe to channel: %s", channel);
              });
            }
          } else {
            pending += 1;
            this.subscriber[type](channels).then(() => {
              if (!--pending) {
                this.lastActiveSubscriber = this.subscriber;
              }
            }).catch(() => {
              debug("failed to %s %d channels", type, channels.length);
            });
          }
        }
      } else {
        this.lastActiveSubscriber = this.subscriber;
      }
      for (const event of [
        "message",
        "messageBuffer"
      ]) {
        this.subscriber.on(event, (arg1, arg2) => {
          this.emitter.emit(event, arg1, arg2);
        });
      }
      for (const event of ["pmessage", "pmessageBuffer"]) {
        this.subscriber.on(event, (arg1, arg2, arg3) => {
          this.emitter.emit(event, arg1, arg2, arg3);
        });
      }
      if (this.isSharded == true) {
        for (const event of [
          "smessage",
          "smessageBuffer"
        ]) {
          this.subscriber.on(event, (arg1, arg2) => {
            this.emitter.emit(event, arg1, arg2);
          });
        }
      }
    }
  }
  exports.default = ClusterSubscriber;
});

// ../../node_modules/ioredis/built/cluster/ConnectionPool.js
var require_ConnectionPool = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var events_1 = __require("events");
  var utils_1 = require_utils2();
  var util_1 = require_util2();
  var Redis_1 = require_Redis();
  var debug = (0, utils_1.Debug)("cluster:connectionPool");

  class ConnectionPool extends events_1.EventEmitter {
    constructor(redisOptions) {
      super();
      this.redisOptions = redisOptions;
      this.nodes = {
        all: {},
        master: {},
        slave: {}
      };
      this.specifiedOptions = {};
    }
    getNodes(role = "all") {
      const nodes = this.nodes[role];
      return Object.keys(nodes).map((key) => nodes[key]);
    }
    getInstanceByKey(key) {
      return this.nodes.all[key];
    }
    getSampleInstance(role) {
      const keys = Object.keys(this.nodes[role]);
      const sampleKey = (0, utils_1.sample)(keys);
      return this.nodes[role][sampleKey];
    }
    addMasterNode(node) {
      const key = (0, util_1.getNodeKey)(node.options);
      const redis = this.createRedisFromOptions(node, node.options.readOnly);
      if (!node.options.readOnly) {
        this.nodes.all[key] = redis;
        this.nodes.master[key] = redis;
        return true;
      }
      return false;
    }
    createRedisFromOptions(node, readOnly) {
      const redis = new Redis_1.default((0, utils_1.defaults)({
        retryStrategy: null,
        enableOfflineQueue: true,
        readOnly
      }, node, this.redisOptions, { lazyConnect: true }));
      return redis;
    }
    findOrCreate(node, readOnly = false) {
      const key = (0, util_1.getNodeKey)(node);
      readOnly = Boolean(readOnly);
      if (this.specifiedOptions[key]) {
        Object.assign(node, this.specifiedOptions[key]);
      } else {
        this.specifiedOptions[key] = node;
      }
      let redis;
      if (this.nodes.all[key]) {
        redis = this.nodes.all[key];
        if (redis.options.readOnly !== readOnly) {
          redis.options.readOnly = readOnly;
          debug("Change role of %s to %s", key, readOnly ? "slave" : "master");
          redis[readOnly ? "readonly" : "readwrite"]().catch(utils_1.noop);
          if (readOnly) {
            delete this.nodes.master[key];
            this.nodes.slave[key] = redis;
          } else {
            delete this.nodes.slave[key];
            this.nodes.master[key] = redis;
          }
        }
      } else {
        debug("Connecting to %s as %s", key, readOnly ? "slave" : "master");
        redis = this.createRedisFromOptions(node, readOnly);
        this.nodes.all[key] = redis;
        this.nodes[readOnly ? "slave" : "master"][key] = redis;
        redis.once("end", () => {
          this.removeNode(key);
          this.emit("-node", redis, key);
          if (!Object.keys(this.nodes.all).length) {
            this.emit("drain");
          }
        });
        this.emit("+node", redis, key);
        redis.on("error", function(error) {
          this.emit("nodeError", error, key);
        });
      }
      return redis;
    }
    reset(nodes) {
      debug("Reset with %O", nodes);
      const newNodes = {};
      nodes.forEach((node) => {
        const key = (0, util_1.getNodeKey)(node);
        if (!(node.readOnly && newNodes[key])) {
          newNodes[key] = node;
        }
      });
      Object.keys(this.nodes.all).forEach((key) => {
        if (!newNodes[key]) {
          debug("Disconnect %s because the node does not hold any slot", key);
          this.nodes.all[key].disconnect();
          this.removeNode(key);
        }
      });
      Object.keys(newNodes).forEach((key) => {
        const node = newNodes[key];
        this.findOrCreate(node, node.readOnly);
      });
    }
    removeNode(key) {
      const { nodes } = this;
      if (nodes.all[key]) {
        debug("Remove %s from the pool", key);
        delete nodes.all[key];
      }
      delete nodes.master[key];
      delete nodes.slave[key];
    }
  }
  exports.default = ConnectionPool;
});

// ../../node_modules/denque/index.js
var require_denque = __commonJS((exports, module) => {
  function Denque(array, options) {
    var options = options || {};
    this._capacity = options.capacity;
    this._head = 0;
    this._tail = 0;
    if (Array.isArray(array)) {
      this._fromArray(array);
    } else {
      this._capacityMask = 3;
      this._list = new Array(4);
    }
  }
  Denque.prototype.peekAt = function peekAt(index2) {
    var i = index2;
    if (i !== (i | 0)) {
      return;
    }
    var len = this.size();
    if (i >= len || i < -len)
      return;
    if (i < 0)
      i += len;
    i = this._head + i & this._capacityMask;
    return this._list[i];
  };
  Denque.prototype.get = function get(i) {
    return this.peekAt(i);
  };
  Denque.prototype.peek = function peek() {
    if (this._head === this._tail)
      return;
    return this._list[this._head];
  };
  Denque.prototype.peekFront = function peekFront() {
    return this.peek();
  };
  Denque.prototype.peekBack = function peekBack() {
    return this.peekAt(-1);
  };
  Object.defineProperty(Denque.prototype, "length", {
    get: function length() {
      return this.size();
    }
  });
  Denque.prototype.size = function size() {
    if (this._head === this._tail)
      return 0;
    if (this._head < this._tail)
      return this._tail - this._head;
    else
      return this._capacityMask + 1 - (this._head - this._tail);
  };
  Denque.prototype.unshift = function unshift(item) {
    if (arguments.length === 0)
      return this.size();
    var len = this._list.length;
    this._head = this._head - 1 + len & this._capacityMask;
    this._list[this._head] = item;
    if (this._tail === this._head)
      this._growArray();
    if (this._capacity && this.size() > this._capacity)
      this.pop();
    if (this._head < this._tail)
      return this._tail - this._head;
    else
      return this._capacityMask + 1 - (this._head - this._tail);
  };
  Denque.prototype.shift = function shift() {
    var head = this._head;
    if (head === this._tail)
      return;
    var item = this._list[head];
    this._list[head] = undefined;
    this._head = head + 1 & this._capacityMask;
    if (head < 2 && this._tail > 1e4 && this._tail <= this._list.length >>> 2)
      this._shrinkArray();
    return item;
  };
  Denque.prototype.push = function push(item) {
    if (arguments.length === 0)
      return this.size();
    var tail = this._tail;
    this._list[tail] = item;
    this._tail = tail + 1 & this._capacityMask;
    if (this._tail === this._head) {
      this._growArray();
    }
    if (this._capacity && this.size() > this._capacity) {
      this.shift();
    }
    if (this._head < this._tail)
      return this._tail - this._head;
    else
      return this._capacityMask + 1 - (this._head - this._tail);
  };
  Denque.prototype.pop = function pop() {
    var tail = this._tail;
    if (tail === this._head)
      return;
    var len = this._list.length;
    this._tail = tail - 1 + len & this._capacityMask;
    var item = this._list[this._tail];
    this._list[this._tail] = undefined;
    if (this._head < 2 && tail > 1e4 && tail <= len >>> 2)
      this._shrinkArray();
    return item;
  };
  Denque.prototype.removeOne = function removeOne(index2) {
    var i = index2;
    if (i !== (i | 0)) {
      return;
    }
    if (this._head === this._tail)
      return;
    var size2 = this.size();
    var len = this._list.length;
    if (i >= size2 || i < -size2)
      return;
    if (i < 0)
      i += size2;
    i = this._head + i & this._capacityMask;
    var item = this._list[i];
    var k;
    if (index2 < size2 / 2) {
      for (k = index2;k > 0; k--) {
        this._list[i] = this._list[i = i - 1 + len & this._capacityMask];
      }
      this._list[i] = undefined;
      this._head = this._head + 1 + len & this._capacityMask;
    } else {
      for (k = size2 - 1 - index2;k > 0; k--) {
        this._list[i] = this._list[i = i + 1 + len & this._capacityMask];
      }
      this._list[i] = undefined;
      this._tail = this._tail - 1 + len & this._capacityMask;
    }
    return item;
  };
  Denque.prototype.remove = function remove(index2, count) {
    var i = index2;
    var removed;
    var del_count = count;
    if (i !== (i | 0)) {
      return;
    }
    if (this._head === this._tail)
      return;
    var size2 = this.size();
    var len = this._list.length;
    if (i >= size2 || i < -size2 || count < 1)
      return;
    if (i < 0)
      i += size2;
    if (count === 1 || !count) {
      removed = new Array(1);
      removed[0] = this.removeOne(i);
      return removed;
    }
    if (i === 0 && i + count >= size2) {
      removed = this.toArray();
      this.clear();
      return removed;
    }
    if (i + count > size2)
      count = size2 - i;
    var k;
    removed = new Array(count);
    for (k = 0;k < count; k++) {
      removed[k] = this._list[this._head + i + k & this._capacityMask];
    }
    i = this._head + i & this._capacityMask;
    if (index2 + count === size2) {
      this._tail = this._tail - count + len & this._capacityMask;
      for (k = count;k > 0; k--) {
        this._list[i = i + 1 + len & this._capacityMask] = undefined;
      }
      return removed;
    }
    if (index2 === 0) {
      this._head = this._head + count + len & this._capacityMask;
      for (k = count - 1;k > 0; k--) {
        this._list[i = i + 1 + len & this._capacityMask] = undefined;
      }
      return removed;
    }
    if (i < size2 / 2) {
      this._head = this._head + index2 + count + len & this._capacityMask;
      for (k = index2;k > 0; k--) {
        this.unshift(this._list[i = i - 1 + len & this._capacityMask]);
      }
      i = this._head - 1 + len & this._capacityMask;
      while (del_count > 0) {
        this._list[i = i - 1 + len & this._capacityMask] = undefined;
        del_count--;
      }
      if (index2 < 0)
        this._tail = i;
    } else {
      this._tail = i;
      i = i + count + len & this._capacityMask;
      for (k = size2 - (count + index2);k > 0; k--) {
        this.push(this._list[i++]);
      }
      i = this._tail;
      while (del_count > 0) {
        this._list[i = i + 1 + len & this._capacityMask] = undefined;
        del_count--;
      }
    }
    if (this._head < 2 && this._tail > 1e4 && this._tail <= len >>> 2)
      this._shrinkArray();
    return removed;
  };
  Denque.prototype.splice = function splice(index2, count) {
    var i = index2;
    if (i !== (i | 0)) {
      return;
    }
    var size2 = this.size();
    if (i < 0)
      i += size2;
    if (i > size2)
      return;
    if (arguments.length > 2) {
      var k;
      var temp;
      var removed;
      var arg_len = arguments.length;
      var len = this._list.length;
      var arguments_index = 2;
      if (!size2 || i < size2 / 2) {
        temp = new Array(i);
        for (k = 0;k < i; k++) {
          temp[k] = this._list[this._head + k & this._capacityMask];
        }
        if (count === 0) {
          removed = [];
          if (i > 0) {
            this._head = this._head + i + len & this._capacityMask;
          }
        } else {
          removed = this.remove(i, count);
          this._head = this._head + i + len & this._capacityMask;
        }
        while (arg_len > arguments_index) {
          this.unshift(arguments[--arg_len]);
        }
        for (k = i;k > 0; k--) {
          this.unshift(temp[k - 1]);
        }
      } else {
        temp = new Array(size2 - (i + count));
        var leng = temp.length;
        for (k = 0;k < leng; k++) {
          temp[k] = this._list[this._head + i + count + k & this._capacityMask];
        }
        if (count === 0) {
          removed = [];
          if (i != size2) {
            this._tail = this._head + i + len & this._capacityMask;
          }
        } else {
          removed = this.remove(i, count);
          this._tail = this._tail - leng + len & this._capacityMask;
        }
        while (arguments_index < arg_len) {
          this.push(arguments[arguments_index++]);
        }
        for (k = 0;k < leng; k++) {
          this.push(temp[k]);
        }
      }
      return removed;
    } else {
      return this.remove(i, count);
    }
  };
  Denque.prototype.clear = function clear() {
    this._list = new Array(this._list.length);
    this._head = 0;
    this._tail = 0;
  };
  Denque.prototype.isEmpty = function isEmpty() {
    return this._head === this._tail;
  };
  Denque.prototype.toArray = function toArray() {
    return this._copyArray(false);
  };
  Denque.prototype._fromArray = function _fromArray(array) {
    var length = array.length;
    var capacity = this._nextPowerOf2(length);
    this._list = new Array(capacity);
    this._capacityMask = capacity - 1;
    this._tail = length;
    for (var i = 0;i < length; i++)
      this._list[i] = array[i];
  };
  Denque.prototype._copyArray = function _copyArray(fullCopy, size2) {
    var src = this._list;
    var capacity = src.length;
    var length = this.length;
    size2 = size2 | length;
    if (size2 == length && this._head < this._tail) {
      return this._list.slice(this._head, this._tail);
    }
    var dest = new Array(size2);
    var k = 0;
    var i;
    if (fullCopy || this._head > this._tail) {
      for (i = this._head;i < capacity; i++)
        dest[k++] = src[i];
      for (i = 0;i < this._tail; i++)
        dest[k++] = src[i];
    } else {
      for (i = this._head;i < this._tail; i++)
        dest[k++] = src[i];
    }
    return dest;
  };
  Denque.prototype._growArray = function _growArray() {
    if (this._head != 0) {
      var newList = this._copyArray(true, this._list.length << 1);
      this._tail = this._list.length;
      this._head = 0;
      this._list = newList;
    } else {
      this._tail = this._list.length;
      this._list.length <<= 1;
    }
    this._capacityMask = this._capacityMask << 1 | 1;
  };
  Denque.prototype._shrinkArray = function _shrinkArray() {
    this._list.length >>>= 1;
    this._capacityMask >>>= 1;
  };
  Denque.prototype._nextPowerOf2 = function _nextPowerOf2(num) {
    var log2 = Math.log(num) / Math.log(2);
    var nextPow2 = 1 << log2 + 1;
    return Math.max(nextPow2, 4);
  };
  module.exports = Denque;
});

// ../../node_modules/ioredis/built/cluster/DelayQueue.js
var require_DelayQueue = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var utils_1 = require_utils2();
  var Deque = require_denque();
  var debug = (0, utils_1.Debug)("delayqueue");

  class DelayQueue {
    constructor() {
      this.queues = {};
      this.timeouts = {};
    }
    push(bucket, item, options) {
      const callback = options.callback || process.nextTick;
      if (!this.queues[bucket]) {
        this.queues[bucket] = new Deque;
      }
      const queue = this.queues[bucket];
      queue.push(item);
      if (!this.timeouts[bucket]) {
        this.timeouts[bucket] = setTimeout(() => {
          callback(() => {
            this.timeouts[bucket] = null;
            this.execute(bucket);
          });
        }, options.timeout);
      }
    }
    execute(bucket) {
      const queue = this.queues[bucket];
      if (!queue) {
        return;
      }
      const { length } = queue;
      if (!length) {
        return;
      }
      debug("send %d commands in %s queue", length, bucket);
      this.queues[bucket] = null;
      while (queue.length > 0) {
        queue.shift()();
      }
    }
  }
  exports.default = DelayQueue;
});

// ../../node_modules/ioredis/built/cluster/ShardedSubscriber.js
var require_ShardedSubscriber = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var util_1 = require_util2();
  var utils_1 = require_utils2();
  var Redis_1 = require_Redis();
  var debug = (0, utils_1.Debug)("cluster:subscriberGroup:shardedSubscriber");

  class ShardedSubscriber {
    constructor(emitter, options) {
      this.emitter = emitter;
      this.started = false;
      this.instance = null;
      this.messageListeners = new Map;
      this.onEnd = () => {
        this.started = false;
        this.emitter.emit("-node", this.instance, this.nodeKey);
      };
      this.onError = (error) => {
        this.emitter.emit("nodeError", error, this.nodeKey);
      };
      this.onMoved = () => {
        this.emitter.emit("moved");
      };
      this.instance = new Redis_1.default({
        port: options.port,
        host: options.host,
        username: options.username,
        password: options.password,
        enableReadyCheck: false,
        offlineQueue: true,
        connectionName: (0, util_1.getConnectionName)("ssubscriber", options.connectionName),
        lazyConnect: true,
        tls: options.tls,
        retryStrategy: null
      });
      this.nodeKey = (0, util_1.getNodeKey)(options);
      this.instance.once("end", this.onEnd);
      this.instance.on("error", this.onError);
      this.instance.on("moved", this.onMoved);
      for (const event of ["smessage", "smessageBuffer"]) {
        const listener = (...args) => {
          this.emitter.emit(event, ...args);
        };
        this.messageListeners.set(event, listener);
        this.instance.on(event, listener);
      }
    }
    async start() {
      if (this.started) {
        debug("already started %s", this.nodeKey);
        return;
      }
      try {
        await this.instance.connect();
        debug("started %s", this.nodeKey);
        this.started = true;
      } catch (err) {
        debug("failed to start %s: %s", this.nodeKey, err);
        this.started = false;
        throw err;
      }
    }
    stop() {
      this.started = false;
      if (this.instance) {
        this.instance.disconnect();
        this.instance.removeAllListeners();
        this.messageListeners.clear();
        this.instance = null;
      }
      debug("stopped %s", this.nodeKey);
    }
    isStarted() {
      return this.started;
    }
    getInstance() {
      return this.instance;
    }
    getNodeKey() {
      return this.nodeKey;
    }
  }
  exports.default = ShardedSubscriber;
});

// ../../node_modules/ioredis/built/cluster/ClusterSubscriberGroup.js
var require_ClusterSubscriberGroup = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var utils_1 = require_utils2();
  var util_1 = require_util2();
  var calculateSlot = require_lib();
  var ShardedSubscriber_1 = require_ShardedSubscriber();
  var debug = (0, utils_1.Debug)("cluster:subscriberGroup");

  class ClusterSubscriberGroup {
    constructor(subscriberGroupEmitter) {
      this.subscriberGroupEmitter = subscriberGroupEmitter;
      this.shardedSubscribers = new Map;
      this.clusterSlots = [];
      this.subscriberToSlotsIndex = new Map;
      this.channels = new Map;
      this.failedAttemptsByNode = new Map;
      this.isResetting = false;
      this.pendingReset = null;
      this.handleSubscriberConnectFailed = (error, nodeKey) => {
        const currentAttempts = this.failedAttemptsByNode.get(nodeKey) || 0;
        const failedAttempts = currentAttempts + 1;
        this.failedAttemptsByNode.set(nodeKey, failedAttempts);
        const attempts = Math.min(failedAttempts, ClusterSubscriberGroup.MAX_RETRY_ATTEMPTS);
        const backoff2 = Math.min(ClusterSubscriberGroup.BASE_BACKOFF_MS * 2 ** attempts, ClusterSubscriberGroup.MAX_BACKOFF_MS);
        const jitter = Math.floor((Math.random() - 0.5) * (backoff2 * 0.5));
        const delay = Math.max(0, backoff2 + jitter);
        debug("Failed to connect subscriber for %s. Refreshing slots in %dms", nodeKey, delay);
        this.subscriberGroupEmitter.emit("subscriberConnectFailed", {
          delay,
          error
        });
      };
      this.handleSubscriberConnectSucceeded = (nodeKey) => {
        this.failedAttemptsByNode.delete(nodeKey);
      };
    }
    getResponsibleSubscriber(slot) {
      const nodeKey = this.clusterSlots[slot][0];
      return this.shardedSubscribers.get(nodeKey);
    }
    addChannels(channels) {
      const slot = calculateSlot(channels[0]);
      for (const c of channels) {
        if (calculateSlot(c) !== slot) {
          return -1;
        }
      }
      const currChannels = this.channels.get(slot);
      if (!currChannels) {
        this.channels.set(slot, channels);
      } else {
        this.channels.set(slot, currChannels.concat(channels));
      }
      return Array.from(this.channels.values()).reduce((sum, array) => sum + array.length, 0);
    }
    removeChannels(channels) {
      const slot = calculateSlot(channels[0]);
      for (const c of channels) {
        if (calculateSlot(c) !== slot) {
          return -1;
        }
      }
      const slotChannels = this.channels.get(slot);
      if (slotChannels) {
        const updatedChannels = slotChannels.filter((c) => !channels.includes(c));
        this.channels.set(slot, updatedChannels);
      }
      return Array.from(this.channels.values()).reduce((sum, array) => sum + array.length, 0);
    }
    stop() {
      for (const s2 of this.shardedSubscribers.values()) {
        s2.stop();
      }
      this.pendingReset = null;
      this.shardedSubscribers.clear();
      this.subscriberToSlotsIndex.clear();
    }
    start() {
      const startPromises = [];
      for (const s2 of this.shardedSubscribers.values()) {
        if (!s2.isStarted()) {
          startPromises.push(s2.start().then(() => {
            this.handleSubscriberConnectSucceeded(s2.getNodeKey());
          }).catch((err) => {
            this.handleSubscriberConnectFailed(err, s2.getNodeKey());
          }));
        }
      }
      return Promise.all(startPromises);
    }
    async reset(clusterSlots, clusterNodes) {
      if (this.isResetting) {
        this.pendingReset = { slots: clusterSlots, nodes: clusterNodes };
        return;
      }
      this.isResetting = true;
      try {
        const hasTopologyChanged = this._refreshSlots(clusterSlots);
        const hasFailedSubscribers = this.hasUnhealthySubscribers();
        if (!hasTopologyChanged && !hasFailedSubscribers) {
          debug("No topology change detected or failed subscribers. Skipping reset.");
          return;
        }
        for (const [nodeKey, shardedSubscriber] of this.shardedSubscribers) {
          if (this.subscriberToSlotsIndex.has(nodeKey) && shardedSubscriber.isStarted()) {
            debug("Skipping deleting subscriber for %s", nodeKey);
            continue;
          }
          debug("Removing subscriber for %s", nodeKey);
          shardedSubscriber.stop();
          this.shardedSubscribers.delete(nodeKey);
          this.subscriberGroupEmitter.emit("-subscriber");
        }
        const startPromises = [];
        for (const [nodeKey, _2] of this.subscriberToSlotsIndex) {
          if (this.shardedSubscribers.has(nodeKey)) {
            debug("Skipping creating new subscriber for %s", nodeKey);
            continue;
          }
          debug("Creating new subscriber for %s", nodeKey);
          const redis = clusterNodes.find((node) => {
            return (0, util_1.getNodeKey)(node.options) === nodeKey;
          });
          if (!redis) {
            debug("Failed to find node for key %s", nodeKey);
            continue;
          }
          const sub = new ShardedSubscriber_1.default(this.subscriberGroupEmitter, redis.options);
          this.shardedSubscribers.set(nodeKey, sub);
          startPromises.push(sub.start().then(() => {
            this.handleSubscriberConnectSucceeded(nodeKey);
          }).catch((error) => {
            this.handleSubscriberConnectFailed(error, nodeKey);
          }));
          this.subscriberGroupEmitter.emit("+subscriber");
        }
        await Promise.all(startPromises);
        this._resubscribe();
        this.subscriberGroupEmitter.emit("subscribersReady");
      } finally {
        this.isResetting = false;
        if (this.pendingReset) {
          const { slots, nodes } = this.pendingReset;
          this.pendingReset = null;
          await this.reset(slots, nodes);
        }
      }
    }
    _refreshSlots(targetSlots) {
      if (this._slotsAreEqual(targetSlots)) {
        debug("Nothing to refresh because the new cluster map is equal to the previous one.");
        return false;
      }
      debug("Refreshing the slots of the subscriber group.");
      this.subscriberToSlotsIndex = new Map;
      for (let slot = 0;slot < targetSlots.length; slot++) {
        const node = targetSlots[slot][0];
        if (!this.subscriberToSlotsIndex.has(node)) {
          this.subscriberToSlotsIndex.set(node, []);
        }
        this.subscriberToSlotsIndex.get(node).push(Number(slot));
      }
      this.clusterSlots = JSON.parse(JSON.stringify(targetSlots));
      return true;
    }
    _resubscribe() {
      if (this.shardedSubscribers) {
        this.shardedSubscribers.forEach((s2, nodeKey) => {
          const subscriberSlots = this.subscriberToSlotsIndex.get(nodeKey);
          if (subscriberSlots) {
            subscriberSlots.forEach((ss) => {
              const redis = s2.getInstance();
              const channels = this.channels.get(ss);
              if (channels && channels.length > 0) {
                if (redis.status === "end") {
                  return;
                }
                if (redis.status === "ready") {
                  redis.ssubscribe(...channels).catch((err) => {
                    debug("Failed to ssubscribe on node %s: %s", nodeKey, err);
                  });
                } else {
                  redis.once("ready", () => {
                    redis.ssubscribe(...channels).catch((err) => {
                      debug("Failed to ssubscribe on node %s: %s", nodeKey, err);
                    });
                  });
                }
              }
            });
          }
        });
      }
    }
    _slotsAreEqual(other) {
      if (this.clusterSlots === undefined) {
        return false;
      } else {
        return JSON.stringify(this.clusterSlots) === JSON.stringify(other);
      }
    }
    hasUnhealthySubscribers() {
      const hasFailedSubscribers = Array.from(this.shardedSubscribers.values()).some((sub) => !sub.isStarted());
      const hasMissingSubscribers = Array.from(this.subscriberToSlotsIndex.keys()).some((nodeKey) => !this.shardedSubscribers.has(nodeKey));
      return hasFailedSubscribers || hasMissingSubscribers;
    }
  }
  exports.default = ClusterSubscriberGroup;
  ClusterSubscriberGroup.MAX_RETRY_ATTEMPTS = 10;
  ClusterSubscriberGroup.MAX_BACKOFF_MS = 2000;
  ClusterSubscriberGroup.BASE_BACKOFF_MS = 100;
});

// ../../node_modules/ioredis/built/cluster/index.js
var require_cluster = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var commands_1 = require_built();
  var events_1 = __require("events");
  var redis_errors_1 = require_redis_errors();
  var standard_as_callback_1 = require_built2();
  var Command_1 = require_Command();
  var ClusterAllFailedError_1 = require_ClusterAllFailedError();
  var Redis_1 = require_Redis();
  var ScanStream_1 = require_ScanStream();
  var transaction_1 = require_transaction();
  var utils_1 = require_utils2();
  var applyMixin_1 = require_applyMixin();
  var Commander_1 = require_Commander();
  var ClusterOptions_1 = require_ClusterOptions();
  var ClusterSubscriber_1 = require_ClusterSubscriber();
  var ConnectionPool_1 = require_ConnectionPool();
  var DelayQueue_1 = require_DelayQueue();
  var util_1 = require_util2();
  var Deque = require_denque();
  var ClusterSubscriberGroup_1 = require_ClusterSubscriberGroup();
  var debug = (0, utils_1.Debug)("cluster");
  var REJECT_OVERWRITTEN_COMMANDS = new WeakSet;

  class Cluster extends Commander_1.default {
    constructor(startupNodes, options = {}) {
      super();
      this.slots = [];
      this._groupsIds = {};
      this._groupsBySlot = Array(16384);
      this.isCluster = true;
      this.retryAttempts = 0;
      this.delayQueue = new DelayQueue_1.default;
      this.offlineQueue = new Deque;
      this.isRefreshing = false;
      this._refreshSlotsCacheCallbacks = [];
      this._autoPipelines = new Map;
      this._runningAutoPipelines = new Set;
      this._readyDelayedCallbacks = [];
      this.connectionEpoch = 0;
      events_1.EventEmitter.call(this);
      this.startupNodes = startupNodes;
      this.options = (0, utils_1.defaults)({}, options, ClusterOptions_1.DEFAULT_CLUSTER_OPTIONS, this.options);
      if (this.options.shardedSubscribers) {
        this.createShardedSubscriberGroup();
      }
      if (this.options.redisOptions && this.options.redisOptions.keyPrefix && !this.options.keyPrefix) {
        this.options.keyPrefix = this.options.redisOptions.keyPrefix;
      }
      if (typeof this.options.scaleReads !== "function" && ["all", "master", "slave"].indexOf(this.options.scaleReads) === -1) {
        throw new Error('Invalid option scaleReads "' + this.options.scaleReads + '". Expected "all", "master", "slave" or a custom function');
      }
      this.connectionPool = new ConnectionPool_1.default(this.options.redisOptions);
      this.connectionPool.on("-node", (redis, key) => {
        this.emit("-node", redis);
      });
      this.connectionPool.on("+node", (redis) => {
        this.emit("+node", redis);
      });
      this.connectionPool.on("drain", () => {
        this.setStatus("close");
      });
      this.connectionPool.on("nodeError", (error, key) => {
        this.emit("node error", error, key);
      });
      this.subscriber = new ClusterSubscriber_1.default(this.connectionPool, this);
      if (this.options.scripts) {
        Object.entries(this.options.scripts).forEach(([name, definition]) => {
          this.defineCommand(name, definition);
        });
      }
      if (this.options.lazyConnect) {
        this.setStatus("wait");
      } else {
        this.connect().catch((err) => {
          debug("connecting failed: %s", err);
        });
      }
    }
    connect() {
      return new Promise((resolve, reject) => {
        if (this.status === "connecting" || this.status === "connect" || this.status === "ready") {
          reject(new Error("Redis is already connecting/connected"));
          return;
        }
        const epoch = ++this.connectionEpoch;
        this.setStatus("connecting");
        this.resolveStartupNodeHostnames().then((nodes) => {
          if (this.connectionEpoch !== epoch) {
            debug("discard connecting after resolving startup nodes because epoch not match: %d != %d", epoch, this.connectionEpoch);
            reject(new redis_errors_1.RedisError("Connection is discarded because a new connection is made"));
            return;
          }
          if (this.status !== "connecting") {
            debug("discard connecting after resolving startup nodes because the status changed to %s", this.status);
            reject(new redis_errors_1.RedisError("Connection is aborted"));
            return;
          }
          this.connectionPool.reset(nodes);
          if (this.options.shardedSubscribers) {
            this.shardedSubscribers.reset(this.slots, this.connectionPool.getNodes("all")).catch((err) => {
              debug("Error while starting subscribers: %s", err);
            });
          }
          const readyHandler = () => {
            this.setStatus("ready");
            this.retryAttempts = 0;
            this.executeOfflineCommands();
            this.resetNodesRefreshInterval();
            resolve();
          };
          let closeListener = undefined;
          const refreshListener = () => {
            this.invokeReadyDelayedCallbacks(undefined);
            this.removeListener("close", closeListener);
            this.manuallyClosing = false;
            this.setStatus("connect");
            if (this.options.enableReadyCheck) {
              this.readyCheck((err, fail) => {
                if (err || fail) {
                  debug("Ready check failed (%s). Reconnecting...", err || fail);
                  if (this.status === "connect") {
                    this.disconnect(true);
                  }
                } else {
                  readyHandler();
                }
              });
            } else {
              readyHandler();
            }
          };
          closeListener = () => {
            const error = new Error("None of startup nodes is available");
            this.removeListener("refresh", refreshListener);
            this.invokeReadyDelayedCallbacks(error);
            reject(error);
          };
          this.once("refresh", refreshListener);
          this.once("close", closeListener);
          this.once("close", this.handleCloseEvent.bind(this));
          this.refreshSlotsCache((err) => {
            if (err && err.message === ClusterAllFailedError_1.default.defaultMessage) {
              Redis_1.default.prototype.silentEmit.call(this, "error", err);
              this.connectionPool.reset([]);
            }
          });
          this.subscriber.start();
          if (this.options.shardedSubscribers) {
            this.shardedSubscribers.start().catch((err) => {
              debug("Error while starting subscribers: %s", err);
            });
          }
        }).catch((err) => {
          this.setStatus("close");
          this.handleCloseEvent(err);
          this.invokeReadyDelayedCallbacks(err);
          reject(err);
        });
      });
    }
    disconnect(reconnect = false) {
      const status = this.status;
      this.setStatus("disconnecting");
      if (!reconnect) {
        this.manuallyClosing = true;
      }
      if (this.reconnectTimeout && !reconnect) {
        clearTimeout(this.reconnectTimeout);
        this.reconnectTimeout = null;
        debug("Canceled reconnecting attempts");
      }
      this.clearNodesRefreshInterval();
      this.subscriber.stop();
      if (this.options.shardedSubscribers) {
        this.shardedSubscribers.stop();
      }
      if (status === "wait") {
        this.setStatus("close");
        this.handleCloseEvent();
      } else {
        this.connectionPool.reset([]);
      }
    }
    quit(callback) {
      const status = this.status;
      this.setStatus("disconnecting");
      this.manuallyClosing = true;
      if (this.reconnectTimeout) {
        clearTimeout(this.reconnectTimeout);
        this.reconnectTimeout = null;
      }
      this.clearNodesRefreshInterval();
      this.subscriber.stop();
      if (this.options.shardedSubscribers) {
        this.shardedSubscribers.stop();
      }
      if (status === "wait") {
        const ret = (0, standard_as_callback_1.default)(Promise.resolve("OK"), callback);
        setImmediate(function() {
          this.setStatus("close");
          this.handleCloseEvent();
        }.bind(this));
        return ret;
      }
      return (0, standard_as_callback_1.default)(Promise.all(this.nodes().map((node) => node.quit().catch((err) => {
        if (err.message === utils_1.CONNECTION_CLOSED_ERROR_MSG) {
          return "OK";
        }
        throw err;
      }))).then(() => "OK"), callback);
    }
    duplicate(overrideStartupNodes = [], overrideOptions = {}) {
      const startupNodes = overrideStartupNodes.length > 0 ? overrideStartupNodes : this.startupNodes.slice(0);
      const options = Object.assign({}, this.options, overrideOptions);
      return new Cluster(startupNodes, options);
    }
    nodes(role = "all") {
      if (role !== "all" && role !== "master" && role !== "slave") {
        throw new Error('Invalid role "' + role + '". Expected "all", "master" or "slave"');
      }
      return this.connectionPool.getNodes(role);
    }
    delayUntilReady(callback) {
      this._readyDelayedCallbacks.push(callback);
    }
    get autoPipelineQueueSize() {
      let queued = 0;
      for (const pipeline of this._autoPipelines.values()) {
        queued += pipeline.length;
      }
      return queued;
    }
    refreshSlotsCache(callback) {
      if (callback) {
        this._refreshSlotsCacheCallbacks.push(callback);
      }
      if (this.isRefreshing) {
        return;
      }
      this.isRefreshing = true;
      const _this = this;
      const wrapper = (error) => {
        this.isRefreshing = false;
        for (const callback2 of this._refreshSlotsCacheCallbacks) {
          callback2(error);
        }
        this._refreshSlotsCacheCallbacks = [];
      };
      const nodes = (0, utils_1.shuffle)(this.connectionPool.getNodes());
      let lastNodeError = null;
      function tryNode(index2) {
        if (index2 === nodes.length) {
          const error = new ClusterAllFailedError_1.default(ClusterAllFailedError_1.default.defaultMessage, lastNodeError);
          return wrapper(error);
        }
        const node = nodes[index2];
        const key = `${node.options.host}:${node.options.port}`;
        debug("getting slot cache from %s", key);
        _this.getInfoFromNode(node, function(err) {
          switch (_this.status) {
            case "close":
            case "end":
              return wrapper(new Error("Cluster is disconnected."));
            case "disconnecting":
              return wrapper(new Error("Cluster is disconnecting."));
          }
          if (err) {
            _this.emit("node error", err, key);
            lastNodeError = err;
            tryNode(index2 + 1);
          } else {
            _this.emit("refresh");
            wrapper();
          }
        });
      }
      tryNode(0);
    }
    sendCommand(command, stream, node) {
      if (this.status === "wait") {
        this.connect().catch(utils_1.noop);
      }
      if (this.status === "end") {
        command.reject(new Error(utils_1.CONNECTION_CLOSED_ERROR_MSG));
        return command.promise;
      }
      let to = this.options.scaleReads;
      if (to !== "master") {
        const isCommandReadOnly = command.isReadOnly || (0, commands_1.exists)(command.name) && (0, commands_1.hasFlag)(command.name, "readonly");
        if (!isCommandReadOnly) {
          to = "master";
        }
      }
      let targetSlot = node ? node.slot : command.getSlot();
      const ttl = {};
      const _this = this;
      if (!node && !REJECT_OVERWRITTEN_COMMANDS.has(command)) {
        REJECT_OVERWRITTEN_COMMANDS.add(command);
        const reject = command.reject;
        command.reject = function(err) {
          const partialTry = tryConnection.bind(null, true);
          _this.handleError(err, ttl, {
            moved: function(slot, key) {
              debug("command %s is moved to %s", command.name, key);
              targetSlot = Number(slot);
              if (_this.slots[slot]) {
                _this.slots[slot][0] = key;
              } else {
                _this.slots[slot] = [key];
              }
              _this._groupsBySlot[slot] = _this._groupsIds[_this.slots[slot].join(";")];
              _this.connectionPool.findOrCreate(_this.natMapper(key));
              tryConnection();
              debug("refreshing slot caches... (triggered by MOVED error)");
              _this.refreshSlotsCache();
            },
            ask: function(slot, key) {
              debug("command %s is required to ask %s:%s", command.name, key);
              const mapped = _this.natMapper(key);
              _this.connectionPool.findOrCreate(mapped);
              tryConnection(false, `${mapped.host}:${mapped.port}`);
            },
            tryagain: partialTry,
            clusterDown: partialTry,
            connectionClosed: partialTry,
            maxRedirections: function(redirectionError) {
              reject.call(command, redirectionError);
            },
            defaults: function() {
              reject.call(command, err);
            }
          });
        };
      }
      tryConnection();
      function tryConnection(random, asking) {
        if (_this.status === "end") {
          command.reject(new redis_errors_1.AbortError("Cluster is ended."));
          return;
        }
        let redis;
        if (_this.status === "ready" || command.name === "cluster") {
          if (node && node.redis) {
            redis = node.redis;
          } else if (Command_1.default.checkFlag("ENTER_SUBSCRIBER_MODE", command.name) || Command_1.default.checkFlag("EXIT_SUBSCRIBER_MODE", command.name)) {
            if (_this.options.shardedSubscribers && (command.name == "ssubscribe" || command.name == "sunsubscribe")) {
              const sub = _this.shardedSubscribers.getResponsibleSubscriber(targetSlot);
              if (!sub) {
                command.reject(new redis_errors_1.AbortError(`No sharded subscriber for slot: ${targetSlot}`));
                return;
              }
              let status = -1;
              if (command.name == "ssubscribe") {
                status = _this.shardedSubscribers.addChannels(command.getKeys());
              }
              if (command.name == "sunsubscribe") {
                status = _this.shardedSubscribers.removeChannels(command.getKeys());
              }
              if (status !== -1) {
                redis = sub.getInstance();
              } else {
                command.reject(new redis_errors_1.AbortError("Possible CROSSSLOT error: All channels must hash to the same slot"));
              }
            } else {
              redis = _this.subscriber.getInstance();
            }
            if (!redis) {
              command.reject(new redis_errors_1.AbortError("No subscriber for the cluster"));
              return;
            }
          } else {
            if (!random) {
              if (typeof targetSlot === "number" && _this.slots[targetSlot]) {
                const nodeKeys = _this.slots[targetSlot];
                if (typeof to === "function") {
                  const nodes = nodeKeys.map(function(key) {
                    return _this.connectionPool.getInstanceByKey(key);
                  });
                  redis = to(nodes, command);
                  if (Array.isArray(redis)) {
                    redis = (0, utils_1.sample)(redis);
                  }
                  if (!redis) {
                    redis = nodes[0];
                  }
                } else {
                  let key;
                  if (to === "all") {
                    key = (0, utils_1.sample)(nodeKeys);
                  } else if (to === "slave" && nodeKeys.length > 1) {
                    key = (0, utils_1.sample)(nodeKeys, 1);
                  } else {
                    key = nodeKeys[0];
                  }
                  redis = _this.connectionPool.getInstanceByKey(key);
                }
              }
              if (asking) {
                redis = _this.connectionPool.getInstanceByKey(asking);
                redis.asking();
              }
            }
            if (!redis) {
              redis = (typeof to === "function" ? null : _this.connectionPool.getSampleInstance(to)) || _this.connectionPool.getSampleInstance("all");
            }
          }
          if (node && !node.redis) {
            node.redis = redis;
          }
        }
        if (redis) {
          redis.sendCommand(command, stream);
        } else if (_this.options.enableOfflineQueue) {
          _this.offlineQueue.push({
            command,
            stream,
            node
          });
        } else {
          command.reject(new Error("Cluster isn't ready and enableOfflineQueue options is false"));
        }
      }
      return command.promise;
    }
    sscanStream(key, options) {
      return this.createScanStream("sscan", { key, options });
    }
    sscanBufferStream(key, options) {
      return this.createScanStream("sscanBuffer", { key, options });
    }
    hscanStream(key, options) {
      return this.createScanStream("hscan", { key, options });
    }
    hscanBufferStream(key, options) {
      return this.createScanStream("hscanBuffer", { key, options });
    }
    zscanStream(key, options) {
      return this.createScanStream("zscan", { key, options });
    }
    zscanBufferStream(key, options) {
      return this.createScanStream("zscanBuffer", { key, options });
    }
    handleError(error, ttl, handlers) {
      if (typeof ttl.value === "undefined") {
        ttl.value = this.options.maxRedirections;
      } else {
        ttl.value -= 1;
      }
      if (ttl.value <= 0) {
        handlers.maxRedirections(new Error("Too many Cluster redirections. Last error: " + error));
        return;
      }
      const errv = error.message.split(" ");
      if (errv[0] === "MOVED") {
        const timeout = this.options.retryDelayOnMoved;
        if (timeout && typeof timeout === "number") {
          this.delayQueue.push("moved", handlers.moved.bind(null, errv[1], errv[2]), { timeout });
        } else {
          handlers.moved(errv[1], errv[2]);
        }
      } else if (errv[0] === "ASK") {
        handlers.ask(errv[1], errv[2]);
      } else if (errv[0] === "TRYAGAIN") {
        this.delayQueue.push("tryagain", handlers.tryagain, {
          timeout: this.options.retryDelayOnTryAgain
        });
      } else if (errv[0] === "CLUSTERDOWN" && this.options.retryDelayOnClusterDown > 0) {
        this.delayQueue.push("clusterdown", handlers.connectionClosed, {
          timeout: this.options.retryDelayOnClusterDown,
          callback: this.refreshSlotsCache.bind(this)
        });
      } else if (error.message === utils_1.CONNECTION_CLOSED_ERROR_MSG && this.options.retryDelayOnFailover > 0 && this.status === "ready") {
        this.delayQueue.push("failover", handlers.connectionClosed, {
          timeout: this.options.retryDelayOnFailover,
          callback: this.refreshSlotsCache.bind(this)
        });
      } else {
        handlers.defaults();
      }
    }
    resetOfflineQueue() {
      this.offlineQueue = new Deque;
    }
    clearNodesRefreshInterval() {
      if (this.slotsTimer) {
        clearTimeout(this.slotsTimer);
        this.slotsTimer = null;
      }
    }
    resetNodesRefreshInterval() {
      if (this.slotsTimer || !this.options.slotsRefreshInterval) {
        return;
      }
      const nextRound = () => {
        this.slotsTimer = setTimeout(() => {
          debug('refreshing slot caches... (triggered by "slotsRefreshInterval" option)');
          this.refreshSlotsCache(() => {
            nextRound();
          });
        }, this.options.slotsRefreshInterval);
      };
      nextRound();
    }
    setStatus(status) {
      debug("status: %s -> %s", this.status || "[empty]", status);
      this.status = status;
      process.nextTick(() => {
        this.emit(status);
      });
    }
    handleCloseEvent(reason) {
      var _a;
      if (reason) {
        debug("closed because %s", reason);
      }
      let retryDelay;
      if (!this.manuallyClosing && typeof this.options.clusterRetryStrategy === "function") {
        retryDelay = this.options.clusterRetryStrategy.call(this, ++this.retryAttempts, reason);
      }
      if (typeof retryDelay === "number") {
        this.setStatus("reconnecting");
        this.reconnectTimeout = setTimeout(() => {
          this.reconnectTimeout = null;
          debug("Cluster is disconnected. Retrying after %dms", retryDelay);
          this.connect().catch(function(err) {
            debug("Got error %s when reconnecting. Ignoring...", err);
          });
        }, retryDelay);
      } else {
        if (this.options.shardedSubscribers) {
          (_a = this.subscriberGroupEmitter) === null || _a === undefined || _a.removeAllListeners();
        }
        this.setStatus("end");
        this.flushQueue(new Error("None of startup nodes is available"));
      }
    }
    flushQueue(error) {
      let item;
      while (item = this.offlineQueue.shift()) {
        item.command.reject(error);
      }
    }
    executeOfflineCommands() {
      if (this.offlineQueue.length) {
        debug("send %d commands in offline queue", this.offlineQueue.length);
        const offlineQueue = this.offlineQueue;
        this.resetOfflineQueue();
        let item;
        while (item = offlineQueue.shift()) {
          this.sendCommand(item.command, item.stream, item.node);
        }
      }
    }
    natMapper(nodeKey) {
      const key = typeof nodeKey === "string" ? nodeKey : `${nodeKey.host}:${nodeKey.port}`;
      let mapped = null;
      if (this.options.natMap && typeof this.options.natMap === "function") {
        mapped = this.options.natMap(key);
      } else if (this.options.natMap && typeof this.options.natMap === "object") {
        mapped = this.options.natMap[key];
      }
      if (mapped) {
        debug("NAT mapping %s -> %O", key, mapped);
        return Object.assign({}, mapped);
      }
      return typeof nodeKey === "string" ? (0, util_1.nodeKeyToRedisOptions)(nodeKey) : nodeKey;
    }
    getInfoFromNode(redis, callback) {
      if (!redis) {
        return callback(new Error("Node is disconnected"));
      }
      const duplicatedConnection = redis.duplicate({
        enableOfflineQueue: true,
        enableReadyCheck: false,
        retryStrategy: null,
        connectionName: (0, util_1.getConnectionName)("refresher", this.options.redisOptions && this.options.redisOptions.connectionName)
      });
      duplicatedConnection.on("error", utils_1.noop);
      duplicatedConnection.cluster("SLOTS", (0, utils_1.timeout)((err, result) => {
        duplicatedConnection.disconnect();
        if (err) {
          debug("error encountered running CLUSTER.SLOTS: %s", err);
          return callback(err);
        }
        if (this.status === "disconnecting" || this.status === "close" || this.status === "end") {
          debug("ignore CLUSTER.SLOTS results (count: %d) since cluster status is %s", result.length, this.status);
          callback();
          return;
        }
        const nodes = [];
        debug("cluster slots result count: %d", result.length);
        for (let i = 0;i < result.length; ++i) {
          const items = result[i];
          const slotRangeStart = items[0];
          const slotRangeEnd = items[1];
          const keys = [];
          for (let j2 = 2;j2 < items.length; j2++) {
            if (!items[j2][0]) {
              continue;
            }
            const node = this.natMapper({
              host: items[j2][0],
              port: items[j2][1]
            });
            node.readOnly = j2 !== 2;
            nodes.push(node);
            keys.push(node.host + ":" + node.port);
          }
          debug("cluster slots result [%d]: slots %d~%d served by %s", i, slotRangeStart, slotRangeEnd, keys);
          for (let slot = slotRangeStart;slot <= slotRangeEnd; slot++) {
            this.slots[slot] = keys;
          }
        }
        this._groupsIds = Object.create(null);
        let j = 0;
        for (let i = 0;i < 16384; i++) {
          const target = (this.slots[i] || []).join(";");
          if (!target.length) {
            this._groupsBySlot[i] = undefined;
            continue;
          }
          if (!this._groupsIds[target]) {
            this._groupsIds[target] = ++j;
          }
          this._groupsBySlot[i] = this._groupsIds[target];
        }
        this.connectionPool.reset(nodes);
        if (this.options.shardedSubscribers) {
          this.shardedSubscribers.reset(this.slots, this.connectionPool.getNodes("all")).catch((err2) => {
            debug("Error while starting subscribers: %s", err2);
          });
        }
        callback();
      }, this.options.slotsRefreshTimeout));
    }
    invokeReadyDelayedCallbacks(err) {
      for (const c of this._readyDelayedCallbacks) {
        process.nextTick(c, err);
      }
      this._readyDelayedCallbacks = [];
    }
    readyCheck(callback) {
      this.cluster("INFO", (err, res) => {
        if (err) {
          return callback(err);
        }
        if (typeof res !== "string") {
          return callback();
        }
        let state;
        const lines = res.split(`\r
`);
        for (let i = 0;i < lines.length; ++i) {
          const parts = lines[i].split(":");
          if (parts[0] === "cluster_state") {
            state = parts[1];
            break;
          }
        }
        if (state === "fail") {
          debug("cluster state not ok (%s)", state);
          callback(null, state);
        } else {
          callback();
        }
      });
    }
    resolveSrv(hostname) {
      return new Promise((resolve, reject) => {
        this.options.resolveSrv(hostname, (err, records) => {
          if (err) {
            return reject(err);
          }
          const self = this, groupedRecords = (0, util_1.groupSrvRecords)(records), sortedKeys = Object.keys(groupedRecords).sort((a, b2) => parseInt(a) - parseInt(b2));
          function tryFirstOne(err2) {
            if (!sortedKeys.length) {
              return reject(err2);
            }
            const key = sortedKeys[0], group = groupedRecords[key], record = (0, util_1.weightSrvRecords)(group);
            if (!group.records.length) {
              sortedKeys.shift();
            }
            self.dnsLookup(record.name).then((host) => resolve({
              host,
              port: record.port
            }), tryFirstOne);
          }
          tryFirstOne();
        });
      });
    }
    dnsLookup(hostname) {
      return new Promise((resolve, reject) => {
        this.options.dnsLookup(hostname, (err, address) => {
          if (err) {
            debug("failed to resolve hostname %s to IP: %s", hostname, err.message);
            reject(err);
          } else {
            debug("resolved hostname %s to IP %s", hostname, address);
            resolve(address);
          }
        });
      });
    }
    async resolveStartupNodeHostnames() {
      if (!Array.isArray(this.startupNodes) || this.startupNodes.length === 0) {
        throw new Error("`startupNodes` should contain at least one node.");
      }
      const startupNodes = (0, util_1.normalizeNodeOptions)(this.startupNodes);
      const hostnames = (0, util_1.getUniqueHostnamesFromOptions)(startupNodes);
      if (hostnames.length === 0) {
        return startupNodes;
      }
      const configs = await Promise.all(hostnames.map((this.options.useSRVRecords ? this.resolveSrv : this.dnsLookup).bind(this)));
      const hostnameToConfig = (0, utils_1.zipMap)(hostnames, configs);
      return startupNodes.map((node) => {
        const config = hostnameToConfig.get(node.host);
        if (!config) {
          return node;
        }
        if (this.options.useSRVRecords) {
          return Object.assign({}, node, config);
        }
        return Object.assign({}, node, { host: config });
      });
    }
    createScanStream(command, { key, options = {} }) {
      return new ScanStream_1.default({
        objectMode: true,
        key,
        redis: this,
        command,
        ...options
      });
    }
    createShardedSubscriberGroup() {
      this.subscriberGroupEmitter = new events_1.EventEmitter;
      this.shardedSubscribers = new ClusterSubscriberGroup_1.default(this.subscriberGroupEmitter);
      const refreshSlotsCacheCallback = (err) => {
        if (err instanceof ClusterAllFailedError_1.default) {
          this.disconnect(true);
        }
      };
      this.subscriberGroupEmitter.on("-node", (redis, nodeKey) => {
        this.emit("-node", redis, nodeKey);
        this.refreshSlotsCache(refreshSlotsCacheCallback);
      });
      this.subscriberGroupEmitter.on("subscriberConnectFailed", ({ delay, error }) => {
        this.emit("error", error);
        setTimeout(() => {
          this.refreshSlotsCache(refreshSlotsCacheCallback);
        }, delay);
      });
      this.subscriberGroupEmitter.on("moved", () => {
        this.refreshSlotsCache(refreshSlotsCacheCallback);
      });
      this.subscriberGroupEmitter.on("-subscriber", () => {
        this.emit("-subscriber");
      });
      this.subscriberGroupEmitter.on("+subscriber", () => {
        this.emit("+subscriber");
      });
      this.subscriberGroupEmitter.on("nodeError", (error, nodeKey) => {
        this.emit("nodeError", error, nodeKey);
      });
      this.subscriberGroupEmitter.on("subscribersReady", () => {
        this.emit("subscribersReady");
      });
      for (const event of ["smessage", "smessageBuffer"]) {
        this.subscriberGroupEmitter.on(event, (arg1, arg2, arg3) => {
          this.emit(event, arg1, arg2, arg3);
        });
      }
    }
  }
  (0, applyMixin_1.default)(Cluster, events_1.EventEmitter);
  (0, transaction_1.addTransactionSupport)(Cluster.prototype);
  exports.default = Cluster;
});

// ../../node_modules/ioredis/built/connectors/AbstractConnector.js
var require_AbstractConnector = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var utils_1 = require_utils2();
  var debug = (0, utils_1.Debug)("AbstractConnector");

  class AbstractConnector {
    constructor(disconnectTimeout) {
      this.connecting = false;
      this.disconnectTimeout = disconnectTimeout;
    }
    check(info) {
      return true;
    }
    disconnect() {
      this.connecting = false;
      if (this.stream) {
        const stream = this.stream;
        const timeout = setTimeout(() => {
          debug("stream %s:%s still open, destroying it", stream.remoteAddress, stream.remotePort);
          stream.destroy();
        }, this.disconnectTimeout);
        stream.on("close", () => clearTimeout(timeout));
        stream.end();
      }
    }
  }
  exports.default = AbstractConnector;
});

// ../../node_modules/ioredis/built/connectors/StandaloneConnector.js
var require_StandaloneConnector = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var net_1 = __require("net");
  var tls_1 = __require("tls");
  var utils_1 = require_utils2();
  var AbstractConnector_1 = require_AbstractConnector();

  class StandaloneConnector extends AbstractConnector_1.default {
    constructor(options) {
      super(options.disconnectTimeout);
      this.options = options;
    }
    connect(_2) {
      const { options } = this;
      this.connecting = true;
      let connectionOptions;
      if ("path" in options && options.path) {
        connectionOptions = {
          path: options.path
        };
      } else {
        connectionOptions = {};
        if ("port" in options && options.port != null) {
          connectionOptions.port = options.port;
        }
        if ("host" in options && options.host != null) {
          connectionOptions.host = options.host;
        }
        if ("family" in options && options.family != null) {
          connectionOptions.family = options.family;
        }
      }
      if (options.tls) {
        Object.assign(connectionOptions, options.tls);
      }
      return new Promise((resolve, reject) => {
        process.nextTick(() => {
          if (!this.connecting) {
            reject(new Error(utils_1.CONNECTION_CLOSED_ERROR_MSG));
            return;
          }
          try {
            if (options.tls) {
              this.stream = (0, tls_1.connect)(connectionOptions);
            } else {
              this.stream = (0, net_1.createConnection)(connectionOptions);
            }
          } catch (err) {
            reject(err);
            return;
          }
          this.stream.once("error", (err) => {
            this.firstError = err;
          });
          resolve(this.stream);
        });
      });
    }
  }
  exports.default = StandaloneConnector;
});

// ../../node_modules/ioredis/built/connectors/SentinelConnector/SentinelIterator.js
var require_SentinelIterator = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  function isSentinelEql(a, b2) {
    return (a.host || "127.0.0.1") === (b2.host || "127.0.0.1") && (a.port || 26379) === (b2.port || 26379);
  }

  class SentinelIterator {
    constructor(sentinels) {
      this.cursor = 0;
      this.sentinels = sentinels.slice(0);
    }
    next() {
      const done = this.cursor >= this.sentinels.length;
      return { done, value: done ? undefined : this.sentinels[this.cursor++] };
    }
    reset(moveCurrentEndpointToFirst) {
      if (moveCurrentEndpointToFirst && this.sentinels.length > 1 && this.cursor !== 1) {
        this.sentinels.unshift(...this.sentinels.splice(this.cursor - 1));
      }
      this.cursor = 0;
    }
    add(sentinel) {
      for (let i = 0;i < this.sentinels.length; i++) {
        if (isSentinelEql(sentinel, this.sentinels[i])) {
          return false;
        }
      }
      this.sentinels.push(sentinel);
      return true;
    }
    toString() {
      return `${JSON.stringify(this.sentinels)} @${this.cursor}`;
    }
  }
  exports.default = SentinelIterator;
});

// ../../node_modules/ioredis/built/connectors/SentinelConnector/FailoverDetector.js
var require_FailoverDetector = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.FailoverDetector = undefined;
  var utils_1 = require_utils2();
  var debug = (0, utils_1.Debug)("FailoverDetector");
  var CHANNEL_NAME = "+switch-master";

  class FailoverDetector {
    constructor(connector, sentinels) {
      this.isDisconnected = false;
      this.connector = connector;
      this.sentinels = sentinels;
    }
    cleanup() {
      this.isDisconnected = true;
      for (const sentinel of this.sentinels) {
        sentinel.client.disconnect();
      }
    }
    async subscribe() {
      debug("Starting FailoverDetector");
      const promises = [];
      for (const sentinel of this.sentinels) {
        const promise = sentinel.client.subscribe(CHANNEL_NAME).catch((err) => {
          debug("Failed to subscribe to failover messages on sentinel %s:%s (%s)", sentinel.address.host || "127.0.0.1", sentinel.address.port || 26739, err.message);
        });
        promises.push(promise);
        sentinel.client.on("message", (channel) => {
          if (!this.isDisconnected && channel === CHANNEL_NAME) {
            this.disconnect();
          }
        });
      }
      await Promise.all(promises);
    }
    disconnect() {
      this.isDisconnected = true;
      debug("Failover detected, disconnecting");
      this.connector.disconnect();
    }
  }
  exports.FailoverDetector = FailoverDetector;
});

// ../../node_modules/ioredis/built/connectors/SentinelConnector/index.js
var require_SentinelConnector = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SentinelIterator = undefined;
  var net_1 = __require("net");
  var utils_1 = require_utils2();
  var tls_1 = __require("tls");
  var SentinelIterator_1 = require_SentinelIterator();
  exports.SentinelIterator = SentinelIterator_1.default;
  var AbstractConnector_1 = require_AbstractConnector();
  var Redis_1 = require_Redis();
  var FailoverDetector_1 = require_FailoverDetector();
  var debug = (0, utils_1.Debug)("SentinelConnector");

  class SentinelConnector extends AbstractConnector_1.default {
    constructor(options) {
      super(options.disconnectTimeout);
      this.options = options;
      this.emitter = null;
      this.failoverDetector = null;
      if (!this.options.sentinels.length) {
        throw new Error("Requires at least one sentinel to connect to.");
      }
      if (!this.options.name) {
        throw new Error("Requires the name of master.");
      }
      this.sentinelIterator = new SentinelIterator_1.default(this.options.sentinels);
    }
    check(info) {
      const roleMatches = !info.role || this.options.role === info.role;
      if (!roleMatches) {
        debug("role invalid, expected %s, but got %s", this.options.role, info.role);
        this.sentinelIterator.next();
        this.sentinelIterator.next();
        this.sentinelIterator.reset(true);
      }
      return roleMatches;
    }
    disconnect() {
      super.disconnect();
      if (this.failoverDetector) {
        this.failoverDetector.cleanup();
      }
    }
    connect(eventEmitter) {
      this.connecting = true;
      this.retryAttempts = 0;
      let lastError;
      const connectToNext = async () => {
        const endpoint = this.sentinelIterator.next();
        if (endpoint.done) {
          this.sentinelIterator.reset(false);
          const retryDelay = typeof this.options.sentinelRetryStrategy === "function" ? this.options.sentinelRetryStrategy(++this.retryAttempts) : null;
          let errorMsg = typeof retryDelay !== "number" ? "All sentinels are unreachable and retry is disabled." : `All sentinels are unreachable. Retrying from scratch after ${retryDelay}ms.`;
          if (lastError) {
            errorMsg += ` Last error: ${lastError.message}`;
          }
          debug(errorMsg);
          const error = new Error(errorMsg);
          if (typeof retryDelay === "number") {
            eventEmitter("error", error);
            await new Promise((resolve) => setTimeout(resolve, retryDelay));
            return connectToNext();
          } else {
            throw error;
          }
        }
        let resolved = null;
        let err = null;
        try {
          resolved = await this.resolve(endpoint.value);
        } catch (error) {
          err = error;
        }
        if (!this.connecting) {
          throw new Error(utils_1.CONNECTION_CLOSED_ERROR_MSG);
        }
        const endpointAddress = endpoint.value.host + ":" + endpoint.value.port;
        if (resolved) {
          debug("resolved: %s:%s from sentinel %s", resolved.host, resolved.port, endpointAddress);
          if (this.options.enableTLSForSentinelMode && this.options.tls) {
            Object.assign(resolved, this.options.tls);
            this.stream = (0, tls_1.connect)(resolved);
            this.stream.once("secureConnect", this.initFailoverDetector.bind(this));
          } else {
            this.stream = (0, net_1.createConnection)(resolved);
            this.stream.once("connect", this.initFailoverDetector.bind(this));
          }
          this.stream.once("error", (err2) => {
            this.firstError = err2;
          });
          return this.stream;
        } else {
          const errorMsg = err ? "failed to connect to sentinel " + endpointAddress + " because " + err.message : "connected to sentinel " + endpointAddress + " successfully, but got an invalid reply: " + resolved;
          debug(errorMsg);
          eventEmitter("sentinelError", new Error(errorMsg));
          if (err) {
            lastError = err;
          }
          return connectToNext();
        }
      };
      return connectToNext();
    }
    async updateSentinels(client2) {
      if (!this.options.updateSentinels) {
        return;
      }
      const result = await client2.sentinel("sentinels", this.options.name);
      if (!Array.isArray(result)) {
        return;
      }
      result.map(utils_1.packObject).forEach((sentinel) => {
        const flags = sentinel.flags ? sentinel.flags.split(",") : [];
        if (flags.indexOf("disconnected") === -1 && sentinel.ip && sentinel.port) {
          const endpoint = this.sentinelNatResolve(addressResponseToAddress(sentinel));
          if (this.sentinelIterator.add(endpoint)) {
            debug("adding sentinel %s:%s", endpoint.host, endpoint.port);
          }
        }
      });
      debug("Updated internal sentinels: %s", this.sentinelIterator);
    }
    async resolveMaster(client2) {
      const result = await client2.sentinel("get-master-addr-by-name", this.options.name);
      await this.updateSentinels(client2);
      return this.sentinelNatResolve(Array.isArray(result) ? { host: result[0], port: Number(result[1]) } : null);
    }
    async resolveSlave(client2) {
      const result = await client2.sentinel("slaves", this.options.name);
      if (!Array.isArray(result)) {
        return null;
      }
      const availableSlaves = result.map(utils_1.packObject).filter((slave) => slave.flags && !slave.flags.match(/(disconnected|s_down|o_down)/));
      return this.sentinelNatResolve(selectPreferredSentinel(availableSlaves, this.options.preferredSlaves));
    }
    sentinelNatResolve(item) {
      if (!item || !this.options.natMap)
        return item;
      const key = `${item.host}:${item.port}`;
      let result = item;
      if (typeof this.options.natMap === "function") {
        result = this.options.natMap(key) || item;
      } else if (typeof this.options.natMap === "object") {
        result = this.options.natMap[key] || item;
      }
      return result;
    }
    connectToSentinel(endpoint, options) {
      const redis = new Redis_1.default({
        port: endpoint.port || 26379,
        host: endpoint.host,
        username: this.options.sentinelUsername || null,
        password: this.options.sentinelPassword || null,
        family: endpoint.family || ("path" in this.options && this.options.path ? undefined : this.options.family),
        tls: this.options.sentinelTLS,
        retryStrategy: null,
        enableReadyCheck: false,
        connectTimeout: this.options.connectTimeout,
        commandTimeout: this.options.sentinelCommandTimeout,
        ...options
      });
      return redis;
    }
    async resolve(endpoint) {
      const client2 = this.connectToSentinel(endpoint);
      client2.on("error", noop3);
      try {
        if (this.options.role === "slave") {
          return await this.resolveSlave(client2);
        } else {
          return await this.resolveMaster(client2);
        }
      } finally {
        client2.disconnect();
      }
    }
    async initFailoverDetector() {
      var _a;
      if (!this.options.failoverDetector) {
        return;
      }
      this.sentinelIterator.reset(true);
      const sentinels = [];
      while (sentinels.length < this.options.sentinelMaxConnections) {
        const { done, value } = this.sentinelIterator.next();
        if (done) {
          break;
        }
        const client2 = this.connectToSentinel(value, {
          lazyConnect: true,
          retryStrategy: this.options.sentinelReconnectStrategy
        });
        client2.on("reconnecting", () => {
          var _a2;
          (_a2 = this.emitter) === null || _a2 === undefined || _a2.emit("sentinelReconnecting");
        });
        sentinels.push({ address: value, client: client2 });
      }
      this.sentinelIterator.reset(false);
      if (this.failoverDetector) {
        this.failoverDetector.cleanup();
      }
      this.failoverDetector = new FailoverDetector_1.FailoverDetector(this, sentinels);
      await this.failoverDetector.subscribe();
      (_a = this.emitter) === null || _a === undefined || _a.emit("failoverSubscribed");
    }
  }
  exports.default = SentinelConnector;
  function selectPreferredSentinel(availableSlaves, preferredSlaves) {
    if (availableSlaves.length === 0) {
      return null;
    }
    let selectedSlave;
    if (typeof preferredSlaves === "function") {
      selectedSlave = preferredSlaves(availableSlaves);
    } else if (preferredSlaves !== null && typeof preferredSlaves === "object") {
      const preferredSlavesArray = Array.isArray(preferredSlaves) ? preferredSlaves : [preferredSlaves];
      preferredSlavesArray.sort((a, b2) => {
        if (!a.prio) {
          a.prio = 1;
        }
        if (!b2.prio) {
          b2.prio = 1;
        }
        if (a.prio < b2.prio) {
          return -1;
        }
        if (a.prio > b2.prio) {
          return 1;
        }
        return 0;
      });
      for (let p = 0;p < preferredSlavesArray.length; p++) {
        for (let a = 0;a < availableSlaves.length; a++) {
          const slave = availableSlaves[a];
          if (slave.ip === preferredSlavesArray[p].ip) {
            if (slave.port === preferredSlavesArray[p].port) {
              selectedSlave = slave;
              break;
            }
          }
        }
        if (selectedSlave) {
          break;
        }
      }
    }
    if (!selectedSlave) {
      selectedSlave = (0, utils_1.sample)(availableSlaves);
    }
    return addressResponseToAddress(selectedSlave);
  }
  function addressResponseToAddress(input) {
    return { host: input.ip, port: Number(input.port) };
  }
  function noop3() {}
});

// ../../node_modules/ioredis/built/connectors/index.js
var require_connectors = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.SentinelConnector = exports.StandaloneConnector = undefined;
  var StandaloneConnector_1 = require_StandaloneConnector();
  exports.StandaloneConnector = StandaloneConnector_1.default;
  var SentinelConnector_1 = require_SentinelConnector();
  exports.SentinelConnector = SentinelConnector_1.default;
});

// ../../node_modules/ioredis/built/errors/MaxRetriesPerRequestError.js
var require_MaxRetriesPerRequestError = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var redis_errors_1 = require_redis_errors();

  class MaxRetriesPerRequestError extends redis_errors_1.AbortError {
    constructor(maxRetriesPerRequest) {
      const message = `Reached the max retries per request limit (which is ${maxRetriesPerRequest}). Refer to "maxRetriesPerRequest" option for details.`;
      super(message);
      Error.captureStackTrace(this, this.constructor);
    }
    get name() {
      return this.constructor.name;
    }
  }
  exports.default = MaxRetriesPerRequestError;
});

// ../../node_modules/ioredis/built/errors/index.js
var require_errors = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.MaxRetriesPerRequestError = undefined;
  var MaxRetriesPerRequestError_1 = require_MaxRetriesPerRequestError();
  exports.MaxRetriesPerRequestError = MaxRetriesPerRequestError_1.default;
});

// ../../node_modules/redis-parser/lib/parser.js
var require_parser = __commonJS((exports, module) => {
  var Buffer2 = __require("buffer").Buffer;
  var StringDecoder = __require("string_decoder").StringDecoder;
  var decoder = new StringDecoder;
  var errors2 = require_redis_errors();
  var ReplyError = errors2.ReplyError;
  var ParserError = errors2.ParserError;
  var bufferPool = Buffer2.allocUnsafe(32 * 1024);
  var bufferOffset = 0;
  var interval2 = null;
  var counter = 0;
  var notDecreased = 0;
  function parseSimpleNumbers(parser) {
    const length = parser.buffer.length - 1;
    var offset = parser.offset;
    var number = 0;
    var sign = 1;
    if (parser.buffer[offset] === 45) {
      sign = -1;
      offset++;
    }
    while (offset < length) {
      const c1 = parser.buffer[offset++];
      if (c1 === 13) {
        parser.offset = offset + 1;
        return sign * number;
      }
      number = number * 10 + (c1 - 48);
    }
  }
  function parseStringNumbers(parser) {
    const length = parser.buffer.length - 1;
    var offset = parser.offset;
    var number = 0;
    var res = "";
    if (parser.buffer[offset] === 45) {
      res += "-";
      offset++;
    }
    while (offset < length) {
      var c1 = parser.buffer[offset++];
      if (c1 === 13) {
        parser.offset = offset + 1;
        if (number !== 0) {
          res += number;
        }
        return res;
      } else if (number > 429496728) {
        res += number * 10 + (c1 - 48);
        number = 0;
      } else if (c1 === 48 && number === 0) {
        res += 0;
      } else {
        number = number * 10 + (c1 - 48);
      }
    }
  }
  function parseSimpleString(parser) {
    const start = parser.offset;
    const buffer2 = parser.buffer;
    const length = buffer2.length - 1;
    var offset = start;
    while (offset < length) {
      if (buffer2[offset++] === 13) {
        parser.offset = offset + 1;
        if (parser.optionReturnBuffers === true) {
          return parser.buffer.slice(start, offset - 1);
        }
        return parser.buffer.toString("utf8", start, offset - 1);
      }
    }
  }
  function parseLength(parser) {
    const length = parser.buffer.length - 1;
    var offset = parser.offset;
    var number = 0;
    while (offset < length) {
      const c1 = parser.buffer[offset++];
      if (c1 === 13) {
        parser.offset = offset + 1;
        return number;
      }
      number = number * 10 + (c1 - 48);
    }
  }
  function parseInteger(parser) {
    if (parser.optionStringNumbers === true) {
      return parseStringNumbers(parser);
    }
    return parseSimpleNumbers(parser);
  }
  function parseBulkString(parser) {
    const length = parseLength(parser);
    if (length === undefined) {
      return;
    }
    if (length < 0) {
      return null;
    }
    const offset = parser.offset + length;
    if (offset + 2 > parser.buffer.length) {
      parser.bigStrSize = offset + 2;
      parser.totalChunkSize = parser.buffer.length;
      parser.bufferCache.push(parser.buffer);
      return;
    }
    const start = parser.offset;
    parser.offset = offset + 2;
    if (parser.optionReturnBuffers === true) {
      return parser.buffer.slice(start, offset);
    }
    return parser.buffer.toString("utf8", start, offset);
  }
  function parseError3(parser) {
    var string = parseSimpleString(parser);
    if (string !== undefined) {
      if (parser.optionReturnBuffers === true) {
        string = string.toString();
      }
      return new ReplyError(string);
    }
  }
  function handleError(parser, type) {
    const err = new ParserError("Protocol error, got " + JSON.stringify(String.fromCharCode(type)) + " as reply type byte", JSON.stringify(parser.buffer), parser.offset);
    parser.buffer = null;
    parser.returnFatalError(err);
  }
  function parseArray(parser) {
    const length = parseLength(parser);
    if (length === undefined) {
      return;
    }
    if (length < 0) {
      return null;
    }
    const responses = new Array(length);
    return parseArrayElements(parser, responses, 0);
  }
  function pushArrayCache(parser, array, pos) {
    parser.arrayCache.push(array);
    parser.arrayPos.push(pos);
  }
  function parseArrayChunks(parser) {
    const tmp = parser.arrayCache.pop();
    var pos = parser.arrayPos.pop();
    if (parser.arrayCache.length) {
      const res = parseArrayChunks(parser);
      if (res === undefined) {
        pushArrayCache(parser, tmp, pos);
        return;
      }
      tmp[pos++] = res;
    }
    return parseArrayElements(parser, tmp, pos);
  }
  function parseArrayElements(parser, responses, i) {
    const bufferLength = parser.buffer.length;
    while (i < responses.length) {
      const offset = parser.offset;
      if (parser.offset >= bufferLength) {
        pushArrayCache(parser, responses, i);
        return;
      }
      const response = parseType(parser, parser.buffer[parser.offset++]);
      if (response === undefined) {
        if (!(parser.arrayCache.length || parser.bufferCache.length)) {
          parser.offset = offset;
        }
        pushArrayCache(parser, responses, i);
        return;
      }
      responses[i] = response;
      i++;
    }
    return responses;
  }
  function parseType(parser, type) {
    switch (type) {
      case 36:
        return parseBulkString(parser);
      case 43:
        return parseSimpleString(parser);
      case 42:
        return parseArray(parser);
      case 58:
        return parseInteger(parser);
      case 45:
        return parseError3(parser);
      default:
        return handleError(parser, type);
    }
  }
  function decreaseBufferPool() {
    if (bufferPool.length > 50 * 1024) {
      if (counter === 1 || notDecreased > counter * 2) {
        const minSliceLen = Math.floor(bufferPool.length / 10);
        const sliceLength = minSliceLen < bufferOffset ? bufferOffset : minSliceLen;
        bufferOffset = 0;
        bufferPool = bufferPool.slice(sliceLength, bufferPool.length);
      } else {
        notDecreased++;
        counter--;
      }
    } else {
      clearInterval(interval2);
      counter = 0;
      notDecreased = 0;
      interval2 = null;
    }
  }
  function resizeBuffer(length) {
    if (bufferPool.length < length + bufferOffset) {
      const multiplier = length > 1024 * 1024 * 75 ? 2 : 3;
      if (bufferOffset > 1024 * 1024 * 111) {
        bufferOffset = 1024 * 1024 * 50;
      }
      bufferPool = Buffer2.allocUnsafe(length * multiplier + bufferOffset);
      bufferOffset = 0;
      counter++;
      if (interval2 === null) {
        interval2 = setInterval(decreaseBufferPool, 50);
      }
    }
  }
  function concatBulkString(parser) {
    const list = parser.bufferCache;
    const oldOffset = parser.offset;
    var chunks = list.length;
    var offset = parser.bigStrSize - parser.totalChunkSize;
    parser.offset = offset;
    if (offset <= 2) {
      if (chunks === 2) {
        return list[0].toString("utf8", oldOffset, list[0].length + offset - 2);
      }
      chunks--;
      offset = list[list.length - 2].length + offset;
    }
    var res = decoder.write(list[0].slice(oldOffset));
    for (var i = 1;i < chunks - 1; i++) {
      res += decoder.write(list[i]);
    }
    res += decoder.end(list[i].slice(0, offset - 2));
    return res;
  }
  function concatBulkBuffer(parser) {
    const list = parser.bufferCache;
    const oldOffset = parser.offset;
    const length = parser.bigStrSize - oldOffset - 2;
    var chunks = list.length;
    var offset = parser.bigStrSize - parser.totalChunkSize;
    parser.offset = offset;
    if (offset <= 2) {
      if (chunks === 2) {
        return list[0].slice(oldOffset, list[0].length + offset - 2);
      }
      chunks--;
      offset = list[list.length - 2].length + offset;
    }
    resizeBuffer(length);
    const start = bufferOffset;
    list[0].copy(bufferPool, start, oldOffset, list[0].length);
    bufferOffset += list[0].length - oldOffset;
    for (var i = 1;i < chunks - 1; i++) {
      list[i].copy(bufferPool, bufferOffset);
      bufferOffset += list[i].length;
    }
    list[i].copy(bufferPool, bufferOffset, 0, offset - 2);
    bufferOffset += offset - 2;
    return bufferPool.slice(start, bufferOffset);
  }

  class JavascriptRedisParser {
    constructor(options) {
      if (!options) {
        throw new TypeError("Options are mandatory.");
      }
      if (typeof options.returnError !== "function" || typeof options.returnReply !== "function") {
        throw new TypeError("The returnReply and returnError options have to be functions.");
      }
      this.setReturnBuffers(!!options.returnBuffers);
      this.setStringNumbers(!!options.stringNumbers);
      this.returnError = options.returnError;
      this.returnFatalError = options.returnFatalError || options.returnError;
      this.returnReply = options.returnReply;
      this.reset();
    }
    reset() {
      this.offset = 0;
      this.buffer = null;
      this.bigStrSize = 0;
      this.totalChunkSize = 0;
      this.bufferCache = [];
      this.arrayCache = [];
      this.arrayPos = [];
    }
    setReturnBuffers(returnBuffers) {
      if (typeof returnBuffers !== "boolean") {
        throw new TypeError("The returnBuffers argument has to be a boolean");
      }
      this.optionReturnBuffers = returnBuffers;
    }
    setStringNumbers(stringNumbers) {
      if (typeof stringNumbers !== "boolean") {
        throw new TypeError("The stringNumbers argument has to be a boolean");
      }
      this.optionStringNumbers = stringNumbers;
    }
    execute(buffer2) {
      if (this.buffer === null) {
        this.buffer = buffer2;
        this.offset = 0;
      } else if (this.bigStrSize === 0) {
        const oldLength = this.buffer.length;
        const remainingLength = oldLength - this.offset;
        const newBuffer = Buffer2.allocUnsafe(remainingLength + buffer2.length);
        this.buffer.copy(newBuffer, 0, this.offset, oldLength);
        buffer2.copy(newBuffer, remainingLength, 0, buffer2.length);
        this.buffer = newBuffer;
        this.offset = 0;
        if (this.arrayCache.length) {
          const arr = parseArrayChunks(this);
          if (arr === undefined) {
            return;
          }
          this.returnReply(arr);
        }
      } else if (this.totalChunkSize + buffer2.length >= this.bigStrSize) {
        this.bufferCache.push(buffer2);
        var tmp = this.optionReturnBuffers ? concatBulkBuffer(this) : concatBulkString(this);
        this.bigStrSize = 0;
        this.bufferCache = [];
        this.buffer = buffer2;
        if (this.arrayCache.length) {
          this.arrayCache[0][this.arrayPos[0]++] = tmp;
          tmp = parseArrayChunks(this);
          if (tmp === undefined) {
            return;
          }
        }
        this.returnReply(tmp);
      } else {
        this.bufferCache.push(buffer2);
        this.totalChunkSize += buffer2.length;
        return;
      }
      while (this.offset < this.buffer.length) {
        const offset = this.offset;
        const type = this.buffer[this.offset++];
        const response = parseType(this, type);
        if (response === undefined) {
          if (!(this.arrayCache.length || this.bufferCache.length)) {
            this.offset = offset;
          }
          return;
        }
        if (type === 45) {
          this.returnError(response);
        } else {
          this.returnReply(response);
        }
      }
      this.buffer = null;
    }
  }
  module.exports = JavascriptRedisParser;
});

// ../../node_modules/ioredis/built/SubscriptionSet.js
var require_SubscriptionSet = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });

  class SubscriptionSet {
    constructor() {
      this.set = {
        subscribe: {},
        psubscribe: {},
        ssubscribe: {}
      };
    }
    add(set, channel) {
      this.set[mapSet(set)][channel] = true;
    }
    del(set, channel) {
      delete this.set[mapSet(set)][channel];
    }
    channels(set) {
      return Object.keys(this.set[mapSet(set)]);
    }
    isEmpty() {
      return this.channels("subscribe").length === 0 && this.channels("psubscribe").length === 0 && this.channels("ssubscribe").length === 0;
    }
  }
  exports.default = SubscriptionSet;
  function mapSet(set) {
    if (set === "unsubscribe") {
      return "subscribe";
    }
    if (set === "punsubscribe") {
      return "psubscribe";
    }
    if (set === "sunsubscribe") {
      return "ssubscribe";
    }
    return set;
  }
});

// ../../node_modules/ioredis/built/DataHandler.js
var require_DataHandler = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var Command_1 = require_Command();
  var utils_1 = require_utils2();
  var RedisParser = require_parser();
  var SubscriptionSet_1 = require_SubscriptionSet();
  var debug = (0, utils_1.Debug)("dataHandler");

  class DataHandler {
    constructor(redis, parserOptions) {
      this.redis = redis;
      const parser = new RedisParser({
        stringNumbers: parserOptions.stringNumbers,
        returnBuffers: true,
        returnError: (err) => {
          this.returnError(err);
        },
        returnFatalError: (err) => {
          this.returnFatalError(err);
        },
        returnReply: (reply) => {
          this.returnReply(reply);
        }
      });
      redis.stream.prependListener("data", (data) => {
        parser.execute(data);
      });
      redis.stream.resume();
    }
    returnFatalError(err) {
      err.message += ". Please report this.";
      this.redis.recoverFromFatalError(err, err, { offlineQueue: false });
    }
    returnError(err) {
      const item = this.shiftCommand(err);
      if (!item) {
        return;
      }
      err.command = {
        name: item.command.name,
        args: item.command.args
      };
      if (item.command.name == "ssubscribe" && err.message.includes("MOVED")) {
        this.redis.emit("moved");
        return;
      }
      this.redis.handleReconnection(err, item);
    }
    returnReply(reply) {
      if (this.handleMonitorReply(reply)) {
        return;
      }
      if (this.handleSubscriberReply(reply)) {
        return;
      }
      const item = this.shiftCommand(reply);
      if (!item) {
        return;
      }
      if (Command_1.default.checkFlag("ENTER_SUBSCRIBER_MODE", item.command.name)) {
        this.redis.condition.subscriber = new SubscriptionSet_1.default;
        this.redis.condition.subscriber.add(item.command.name, reply[1].toString());
        if (!fillSubCommand(item.command, reply[2])) {
          this.redis.commandQueue.unshift(item);
        }
      } else if (Command_1.default.checkFlag("EXIT_SUBSCRIBER_MODE", item.command.name)) {
        if (!fillUnsubCommand(item.command, reply[2])) {
          this.redis.commandQueue.unshift(item);
        }
      } else {
        item.command.resolve(reply);
      }
    }
    handleSubscriberReply(reply) {
      if (!this.redis.condition.subscriber) {
        return false;
      }
      const replyType = Array.isArray(reply) ? reply[0].toString() : null;
      debug('receive reply "%s" in subscriber mode', replyType);
      switch (replyType) {
        case "message":
          if (this.redis.listeners("message").length > 0) {
            this.redis.emit("message", reply[1].toString(), reply[2] ? reply[2].toString() : "");
          }
          this.redis.emit("messageBuffer", reply[1], reply[2]);
          break;
        case "pmessage": {
          const pattern = reply[1].toString();
          if (this.redis.listeners("pmessage").length > 0) {
            this.redis.emit("pmessage", pattern, reply[2].toString(), reply[3].toString());
          }
          this.redis.emit("pmessageBuffer", pattern, reply[2], reply[3]);
          break;
        }
        case "smessage": {
          if (this.redis.listeners("smessage").length > 0) {
            this.redis.emit("smessage", reply[1].toString(), reply[2] ? reply[2].toString() : "");
          }
          this.redis.emit("smessageBuffer", reply[1], reply[2]);
          break;
        }
        case "ssubscribe":
        case "subscribe":
        case "psubscribe": {
          const channel = reply[1].toString();
          this.redis.condition.subscriber.add(replyType, channel);
          const item = this.shiftCommand(reply);
          if (!item) {
            return;
          }
          if (!fillSubCommand(item.command, reply[2])) {
            this.redis.commandQueue.unshift(item);
          }
          break;
        }
        case "sunsubscribe":
        case "unsubscribe":
        case "punsubscribe": {
          const channel = reply[1] ? reply[1].toString() : null;
          if (channel) {
            this.redis.condition.subscriber.del(replyType, channel);
          }
          const count = reply[2];
          if (Number(count) === 0) {
            this.redis.condition.subscriber = false;
          }
          const item = this.shiftCommand(reply);
          if (!item) {
            return;
          }
          if (!fillUnsubCommand(item.command, count)) {
            this.redis.commandQueue.unshift(item);
          }
          break;
        }
        default: {
          const item = this.shiftCommand(reply);
          if (!item) {
            return;
          }
          item.command.resolve(reply);
        }
      }
      return true;
    }
    handleMonitorReply(reply) {
      if (this.redis.status !== "monitoring") {
        return false;
      }
      const replyStr = reply.toString();
      if (replyStr === "OK") {
        return false;
      }
      const len = replyStr.indexOf(" ");
      const timestamp2 = replyStr.slice(0, len);
      const argIndex = replyStr.indexOf('"');
      const args = replyStr.slice(argIndex + 1, -1).split('" "').map((elem) => elem.replace(/\\"/g, '"'));
      const dbAndSource = replyStr.slice(len + 2, argIndex - 2).split(" ");
      this.redis.emit("monitor", timestamp2, args, dbAndSource[1], dbAndSource[0]);
      return true;
    }
    shiftCommand(reply) {
      const item = this.redis.commandQueue.shift();
      if (!item) {
        const message = "Command queue state error. If you can reproduce this, please report it.";
        const error = new Error(message + (reply instanceof Error ? ` Last error: ${reply.message}` : ` Last reply: ${reply.toString()}`));
        this.redis.emit("error", error);
        return null;
      }
      return item;
    }
  }
  exports.default = DataHandler;
  var remainingRepliesMap = new WeakMap;
  function fillSubCommand(command, count) {
    let remainingReplies = remainingRepliesMap.has(command) ? remainingRepliesMap.get(command) : command.args.length;
    remainingReplies -= 1;
    if (remainingReplies <= 0) {
      command.resolve(count);
      remainingRepliesMap.delete(command);
      return true;
    }
    remainingRepliesMap.set(command, remainingReplies);
    return false;
  }
  function fillUnsubCommand(command, count) {
    let remainingReplies = remainingRepliesMap.has(command) ? remainingRepliesMap.get(command) : command.args.length;
    if (remainingReplies === 0) {
      if (Number(count) === 0) {
        remainingRepliesMap.delete(command);
        command.resolve(count);
        return true;
      }
      return false;
    }
    remainingReplies -= 1;
    if (remainingReplies <= 0) {
      command.resolve(count);
      return true;
    }
    remainingRepliesMap.set(command, remainingReplies);
    return false;
  }
});

// ../../node_modules/ioredis/built/redis/event_handler.js
var require_event_handler = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.readyHandler = exports.errorHandler = exports.closeHandler = exports.connectHandler = undefined;
  var redis_errors_1 = require_redis_errors();
  var Command_1 = require_Command();
  var errors_1 = require_errors();
  var utils_1 = require_utils2();
  var DataHandler_1 = require_DataHandler();
  var debug = (0, utils_1.Debug)("connection");
  function connectHandler(self) {
    return function() {
      var _a;
      self.setStatus("connect");
      self.resetCommandQueue();
      let flushed = false;
      const { connectionEpoch } = self;
      if (self.condition.auth) {
        self.auth(self.condition.auth, function(err) {
          if (connectionEpoch !== self.connectionEpoch) {
            return;
          }
          if (err) {
            if (err.message.indexOf("no password is set") !== -1) {
              console.warn("[WARN] Redis server does not require a password, but a password was supplied.");
            } else if (err.message.indexOf("without any password configured for the default user") !== -1) {
              console.warn("[WARN] This Redis server's `default` user does not require a password, but a password was supplied");
            } else if (err.message.indexOf("wrong number of arguments for 'auth' command") !== -1) {
              console.warn(`[ERROR] The server returned "wrong number of arguments for 'auth' command". You are probably passing both username and password to Redis version 5 or below. You should only pass the 'password' option for Redis version 5 and under.`);
            } else {
              flushed = true;
              self.recoverFromFatalError(err, err);
            }
          }
        });
      }
      if (self.condition.select) {
        self.select(self.condition.select).catch((err) => {
          self.silentEmit("error", err);
        });
      }
      new DataHandler_1.default(self, {
        stringNumbers: self.options.stringNumbers
      });
      const clientCommandPromises = [];
      if (self.options.connectionName) {
        debug("set the connection name [%s]", self.options.connectionName);
        clientCommandPromises.push(self.client("setname", self.options.connectionName).catch(utils_1.noop));
      }
      if (!self.options.disableClientInfo) {
        debug("set the client info");
        clientCommandPromises.push((0, utils_1.getPackageMeta)().then((packageMeta) => {
          return self.client("SETINFO", "LIB-VER", packageMeta.version).catch(utils_1.noop);
        }).catch(utils_1.noop));
        clientCommandPromises.push(self.client("SETINFO", "LIB-NAME", ((_a = self.options) === null || _a === undefined ? undefined : _a.clientInfoTag) ? `ioredis(${self.options.clientInfoTag})` : "ioredis").catch(utils_1.noop));
      }
      Promise.all(clientCommandPromises).catch(utils_1.noop).finally(() => {
        if (!self.options.enableReadyCheck) {
          exports.readyHandler(self)();
        }
        if (self.options.enableReadyCheck) {
          self._readyCheck(function(err, info) {
            if (connectionEpoch !== self.connectionEpoch) {
              return;
            }
            if (err) {
              if (!flushed) {
                self.recoverFromFatalError(new Error("Ready check failed: " + err.message), err);
              }
            } else {
              if (self.connector.check(info)) {
                exports.readyHandler(self)();
              } else {
                self.disconnect(true);
              }
            }
          });
        }
      });
    };
  }
  exports.connectHandler = connectHandler;
  function abortError(command) {
    const err = new redis_errors_1.AbortError("Command aborted due to connection close");
    err.command = {
      name: command.name,
      args: command.args
    };
    return err;
  }
  function abortIncompletePipelines(commandQueue) {
    var _a;
    let expectedIndex = 0;
    for (let i = 0;i < commandQueue.length; ) {
      const command = (_a = commandQueue.peekAt(i)) === null || _a === undefined ? undefined : _a.command;
      const pipelineIndex = command.pipelineIndex;
      if (pipelineIndex === undefined || pipelineIndex === 0) {
        expectedIndex = 0;
      }
      if (pipelineIndex !== undefined && pipelineIndex !== expectedIndex++) {
        commandQueue.remove(i, 1);
        command.reject(abortError(command));
        continue;
      }
      i++;
    }
  }
  function abortTransactionFragments(commandQueue) {
    var _a;
    for (let i = 0;i < commandQueue.length; ) {
      const command = (_a = commandQueue.peekAt(i)) === null || _a === undefined ? undefined : _a.command;
      if (command.name === "multi") {
        break;
      }
      if (command.name === "exec") {
        commandQueue.remove(i, 1);
        command.reject(abortError(command));
        break;
      }
      if (command.inTransaction) {
        commandQueue.remove(i, 1);
        command.reject(abortError(command));
      } else {
        i++;
      }
    }
  }
  function closeHandler(self) {
    return function() {
      const prevStatus = self.status;
      self.setStatus("close");
      if (self.commandQueue.length) {
        abortIncompletePipelines(self.commandQueue);
      }
      if (self.offlineQueue.length) {
        abortTransactionFragments(self.offlineQueue);
      }
      if (prevStatus === "ready") {
        if (!self.prevCondition) {
          self.prevCondition = self.condition;
        }
        if (self.commandQueue.length) {
          self.prevCommandQueue = self.commandQueue;
        }
      }
      if (self.manuallyClosing) {
        self.manuallyClosing = false;
        debug("skip reconnecting since the connection is manually closed.");
        return close();
      }
      if (typeof self.options.retryStrategy !== "function") {
        debug("skip reconnecting because `retryStrategy` is not a function");
        return close();
      }
      const retryDelay = self.options.retryStrategy(++self.retryAttempts);
      if (typeof retryDelay !== "number") {
        debug("skip reconnecting because `retryStrategy` doesn't return a number");
        return close();
      }
      debug("reconnect in %sms", retryDelay);
      self.setStatus("reconnecting", retryDelay);
      self.reconnectTimeout = setTimeout(function() {
        self.reconnectTimeout = null;
        self.connect().catch(utils_1.noop);
      }, retryDelay);
      const { maxRetriesPerRequest } = self.options;
      if (typeof maxRetriesPerRequest === "number") {
        if (maxRetriesPerRequest < 0) {
          debug("maxRetriesPerRequest is negative, ignoring...");
        } else {
          const remainder = self.retryAttempts % (maxRetriesPerRequest + 1);
          if (remainder === 0) {
            debug("reach maxRetriesPerRequest limitation, flushing command queue...");
            self.flushQueue(new errors_1.MaxRetriesPerRequestError(maxRetriesPerRequest));
          }
        }
      }
    };
    function close() {
      self.setStatus("end");
      self.flushQueue(new Error(utils_1.CONNECTION_CLOSED_ERROR_MSG));
    }
  }
  exports.closeHandler = closeHandler;
  function errorHandler3(self) {
    return function(error) {
      debug("error: %s", error);
      self.silentEmit("error", error);
    };
  }
  exports.errorHandler = errorHandler3;
  function readyHandler(self) {
    return function() {
      self.setStatus("ready");
      self.retryAttempts = 0;
      if (self.options.monitor) {
        self.call("monitor").then(() => self.setStatus("monitoring"), (error) => self.emit("error", error));
        const { sendCommand } = self;
        self.sendCommand = function(command) {
          if (Command_1.default.checkFlag("VALID_IN_MONITOR_MODE", command.name)) {
            return sendCommand.call(self, command);
          }
          command.reject(new Error("Connection is in monitoring mode, can't process commands."));
          return command.promise;
        };
        self.once("close", function() {
          delete self.sendCommand;
        });
        return;
      }
      const finalSelect = self.prevCondition ? self.prevCondition.select : self.condition.select;
      if (self.options.readOnly) {
        debug("set the connection to readonly mode");
        self.readonly().catch(utils_1.noop);
      }
      if (self.prevCondition) {
        const condition = self.prevCondition;
        self.prevCondition = null;
        if (condition.subscriber && self.options.autoResubscribe) {
          if (self.condition.select !== finalSelect) {
            debug("connect to db [%d]", finalSelect);
            self.select(finalSelect);
          }
          const subscribeChannels = condition.subscriber.channels("subscribe");
          if (subscribeChannels.length) {
            debug("subscribe %d channels", subscribeChannels.length);
            self.subscribe(subscribeChannels);
          }
          const psubscribeChannels = condition.subscriber.channels("psubscribe");
          if (psubscribeChannels.length) {
            debug("psubscribe %d channels", psubscribeChannels.length);
            self.psubscribe(psubscribeChannels);
          }
          const ssubscribeChannels = condition.subscriber.channels("ssubscribe");
          if (ssubscribeChannels.length) {
            debug("ssubscribe %s", ssubscribeChannels.length);
            for (const channel of ssubscribeChannels) {
              self.ssubscribe(channel);
            }
          }
        }
      }
      if (self.prevCommandQueue) {
        if (self.options.autoResendUnfulfilledCommands) {
          debug("resend %d unfulfilled commands", self.prevCommandQueue.length);
          while (self.prevCommandQueue.length > 0) {
            const item = self.prevCommandQueue.shift();
            if (item.select !== self.condition.select && item.command.name !== "select") {
              self.select(item.select);
            }
            self.sendCommand(item.command, item.stream);
          }
        } else {
          self.prevCommandQueue = null;
        }
      }
      if (self.offlineQueue.length) {
        debug("send %d commands in offline queue", self.offlineQueue.length);
        const offlineQueue = self.offlineQueue;
        self.resetOfflineQueue();
        while (offlineQueue.length > 0) {
          const item = offlineQueue.shift();
          if (item.select !== self.condition.select && item.command.name !== "select") {
            self.select(item.select);
          }
          self.sendCommand(item.command, item.stream);
        }
      }
      if (self.condition.select !== finalSelect) {
        debug("connect to db [%d]", finalSelect);
        self.select(finalSelect);
      }
    };
  }
  exports.readyHandler = readyHandler;
});

// ../../node_modules/ioredis/built/redis/RedisOptions.js
var require_RedisOptions = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.DEFAULT_REDIS_OPTIONS = undefined;
  exports.DEFAULT_REDIS_OPTIONS = {
    port: 6379,
    host: "localhost",
    family: 0,
    connectTimeout: 1e4,
    disconnectTimeout: 2000,
    retryStrategy: function(times) {
      return Math.min(times * 50, 2000);
    },
    keepAlive: 0,
    noDelay: true,
    connectionName: null,
    disableClientInfo: false,
    clientInfoTag: undefined,
    sentinels: null,
    name: null,
    role: "master",
    sentinelRetryStrategy: function(times) {
      return Math.min(times * 10, 1000);
    },
    sentinelReconnectStrategy: function() {
      return 60000;
    },
    natMap: null,
    enableTLSForSentinelMode: false,
    updateSentinels: true,
    failoverDetector: false,
    username: null,
    password: null,
    db: 0,
    enableOfflineQueue: true,
    enableReadyCheck: true,
    autoResubscribe: true,
    autoResendUnfulfilledCommands: true,
    lazyConnect: false,
    keyPrefix: "",
    reconnectOnError: null,
    readOnly: false,
    stringNumbers: false,
    maxRetriesPerRequest: 20,
    maxLoadingRetryTime: 1e4,
    enableAutoPipelining: false,
    autoPipeliningIgnoredCommands: [],
    sentinelMaxConnections: 10,
    blockingTimeoutGrace: 100
  };
});

// ../../node_modules/ioredis/built/Redis.js
var require_Redis = __commonJS((exports) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  var commands_1 = require_built();
  var events_1 = __require("events");
  var standard_as_callback_1 = require_built2();
  var cluster_1 = require_cluster();
  var Command_1 = require_Command();
  var connectors_1 = require_connectors();
  var SentinelConnector_1 = require_SentinelConnector();
  var eventHandler = require_event_handler();
  var RedisOptions_1 = require_RedisOptions();
  var ScanStream_1 = require_ScanStream();
  var transaction_1 = require_transaction();
  var utils_1 = require_utils2();
  var applyMixin_1 = require_applyMixin();
  var Commander_1 = require_Commander();
  var lodash_1 = require_lodash3();
  var Deque = require_denque();
  var debug = (0, utils_1.Debug)("redis");

  class Redis extends Commander_1.default {
    constructor(arg1, arg2, arg3) {
      super();
      this.status = "wait";
      this.isCluster = false;
      this.reconnectTimeout = null;
      this.connectionEpoch = 0;
      this.retryAttempts = 0;
      this.manuallyClosing = false;
      this._autoPipelines = new Map;
      this._runningAutoPipelines = new Set;
      this.parseOptions(arg1, arg2, arg3);
      events_1.EventEmitter.call(this);
      this.resetCommandQueue();
      this.resetOfflineQueue();
      if (this.options.Connector) {
        this.connector = new this.options.Connector(this.options);
      } else if (this.options.sentinels) {
        const sentinelConnector = new SentinelConnector_1.default(this.options);
        sentinelConnector.emitter = this;
        this.connector = sentinelConnector;
      } else {
        this.connector = new connectors_1.StandaloneConnector(this.options);
      }
      if (this.options.scripts) {
        Object.entries(this.options.scripts).forEach(([name, definition]) => {
          this.defineCommand(name, definition);
        });
      }
      if (this.options.lazyConnect) {
        this.setStatus("wait");
      } else {
        this.connect().catch(lodash_1.noop);
      }
    }
    static createClient(...args) {
      return new Redis(...args);
    }
    get autoPipelineQueueSize() {
      let queued = 0;
      for (const pipeline of this._autoPipelines.values()) {
        queued += pipeline.length;
      }
      return queued;
    }
    connect(callback) {
      const promise = new Promise((resolve, reject) => {
        if (this.status === "connecting" || this.status === "connect" || this.status === "ready") {
          reject(new Error("Redis is already connecting/connected"));
          return;
        }
        this.connectionEpoch += 1;
        this.setStatus("connecting");
        const { options } = this;
        this.condition = {
          select: options.db,
          auth: options.username ? [options.username, options.password] : options.password,
          subscriber: false
        };
        const _this = this;
        (0, standard_as_callback_1.default)(this.connector.connect(function(type, err) {
          _this.silentEmit(type, err);
        }), function(err, stream) {
          if (err) {
            _this.flushQueue(err);
            _this.silentEmit("error", err);
            reject(err);
            _this.setStatus("end");
            return;
          }
          let CONNECT_EVENT = options.tls ? "secureConnect" : "connect";
          if ("sentinels" in options && options.sentinels && !options.enableTLSForSentinelMode) {
            CONNECT_EVENT = "connect";
          }
          _this.stream = stream;
          if (options.noDelay) {
            stream.setNoDelay(true);
          }
          if (typeof options.keepAlive === "number") {
            if (stream.connecting) {
              stream.once(CONNECT_EVENT, () => {
                stream.setKeepAlive(true, options.keepAlive);
              });
            } else {
              stream.setKeepAlive(true, options.keepAlive);
            }
          }
          if (stream.connecting) {
            stream.once(CONNECT_EVENT, eventHandler.connectHandler(_this));
            if (options.connectTimeout) {
              let connectTimeoutCleared = false;
              stream.setTimeout(options.connectTimeout, function() {
                if (connectTimeoutCleared) {
                  return;
                }
                stream.setTimeout(0);
                stream.destroy();
                const err2 = new Error("connect ETIMEDOUT");
                err2.errorno = "ETIMEDOUT";
                err2.code = "ETIMEDOUT";
                err2.syscall = "connect";
                eventHandler.errorHandler(_this)(err2);
              });
              stream.once(CONNECT_EVENT, function() {
                connectTimeoutCleared = true;
                stream.setTimeout(0);
              });
            }
          } else if (stream.destroyed) {
            const firstError = _this.connector.firstError;
            if (firstError) {
              process.nextTick(() => {
                eventHandler.errorHandler(_this)(firstError);
              });
            }
            process.nextTick(eventHandler.closeHandler(_this));
          } else {
            process.nextTick(eventHandler.connectHandler(_this));
          }
          if (!stream.destroyed) {
            stream.once("error", eventHandler.errorHandler(_this));
            stream.once("close", eventHandler.closeHandler(_this));
          }
          const connectionReadyHandler = function() {
            _this.removeListener("close", connectionCloseHandler);
            resolve();
          };
          var connectionCloseHandler = function() {
            _this.removeListener("ready", connectionReadyHandler);
            reject(new Error(utils_1.CONNECTION_CLOSED_ERROR_MSG));
          };
          _this.once("ready", connectionReadyHandler);
          _this.once("close", connectionCloseHandler);
        });
      });
      return (0, standard_as_callback_1.default)(promise, callback);
    }
    disconnect(reconnect = false) {
      if (!reconnect) {
        this.manuallyClosing = true;
      }
      if (this.reconnectTimeout && !reconnect) {
        clearTimeout(this.reconnectTimeout);
        this.reconnectTimeout = null;
      }
      if (this.status === "wait") {
        eventHandler.closeHandler(this)();
      } else {
        this.connector.disconnect();
      }
    }
    end() {
      this.disconnect();
    }
    duplicate(override) {
      return new Redis({ ...this.options, ...override });
    }
    get mode() {
      var _a;
      return this.options.monitor ? "monitor" : ((_a = this.condition) === null || _a === undefined ? undefined : _a.subscriber) ? "subscriber" : "normal";
    }
    monitor(callback) {
      const monitorInstance = this.duplicate({
        monitor: true,
        lazyConnect: false
      });
      return (0, standard_as_callback_1.default)(new Promise(function(resolve, reject) {
        monitorInstance.once("error", reject);
        monitorInstance.once("monitoring", function() {
          resolve(monitorInstance);
        });
      }), callback);
    }
    sendCommand(command, stream) {
      var _a, _b;
      if (this.status === "wait") {
        this.connect().catch(lodash_1.noop);
      }
      if (this.status === "end") {
        command.reject(new Error(utils_1.CONNECTION_CLOSED_ERROR_MSG));
        return command.promise;
      }
      if (((_a = this.condition) === null || _a === undefined ? undefined : _a.subscriber) && !Command_1.default.checkFlag("VALID_IN_SUBSCRIBER_MODE", command.name)) {
        command.reject(new Error("Connection in subscriber mode, only subscriber commands may be used"));
        return command.promise;
      }
      if (typeof this.options.commandTimeout === "number") {
        command.setTimeout(this.options.commandTimeout);
      }
      const blockingTimeout = this.getBlockingTimeoutInMs(command);
      let writable = this.status === "ready" || !stream && this.status === "connect" && (0, commands_1.exists)(command.name, { caseInsensitive: true }) && ((0, commands_1.hasFlag)(command.name, "loading", { nameCaseInsensitive: true }) || Command_1.default.checkFlag("HANDSHAKE_COMMANDS", command.name));
      if (!this.stream) {
        writable = false;
      } else if (!this.stream.writable) {
        writable = false;
      } else if (this.stream._writableState && this.stream._writableState.ended) {
        writable = false;
      }
      if (!writable) {
        if (!this.options.enableOfflineQueue) {
          command.reject(new Error("Stream isn't writeable and enableOfflineQueue options is false"));
          return command.promise;
        }
        if (command.name === "quit" && this.offlineQueue.length === 0) {
          this.disconnect();
          command.resolve(Buffer.from("OK"));
          return command.promise;
        }
        if (debug.enabled) {
          debug("queue command[%s]: %d -> %s(%o)", this._getDescription(), this.condition.select, command.name, command.args);
        }
        this.offlineQueue.push({
          command,
          stream,
          select: this.condition.select
        });
        if (Command_1.default.checkFlag("BLOCKING_COMMANDS", command.name)) {
          const offlineTimeout = this.getConfiguredBlockingTimeout();
          if (offlineTimeout !== undefined) {
            command.setBlockingTimeout(offlineTimeout);
          }
        }
      } else {
        if (debug.enabled) {
          debug("write command[%s]: %d -> %s(%o)", this._getDescription(), (_b = this.condition) === null || _b === undefined ? undefined : _b.select, command.name, command.args);
        }
        if (stream) {
          if ("isPipeline" in stream && stream.isPipeline) {
            stream.write(command.toWritable(stream.destination.redis.stream));
          } else {
            stream.write(command.toWritable(stream));
          }
        } else {
          this.stream.write(command.toWritable(this.stream));
        }
        this.commandQueue.push({
          command,
          stream,
          select: this.condition.select
        });
        if (blockingTimeout !== undefined) {
          command.setBlockingTimeout(blockingTimeout);
        }
        if (Command_1.default.checkFlag("WILL_DISCONNECT", command.name)) {
          this.manuallyClosing = true;
        }
        if (this.options.socketTimeout !== undefined && this.socketTimeoutTimer === undefined) {
          this.setSocketTimeout();
        }
      }
      if (command.name === "select" && (0, utils_1.isInt)(command.args[0])) {
        const db2 = parseInt(command.args[0], 10);
        if (this.condition.select !== db2) {
          this.condition.select = db2;
          this.emit("select", db2);
          debug("switch to db [%d]", this.condition.select);
        }
      }
      return command.promise;
    }
    getBlockingTimeoutInMs(command) {
      var _a;
      if (!Command_1.default.checkFlag("BLOCKING_COMMANDS", command.name)) {
        return;
      }
      const configuredTimeout = this.getConfiguredBlockingTimeout();
      if (configuredTimeout === undefined) {
        return;
      }
      const timeout = command.extractBlockingTimeout();
      if (typeof timeout === "number") {
        if (timeout > 0) {
          return timeout + ((_a = this.options.blockingTimeoutGrace) !== null && _a !== undefined ? _a : RedisOptions_1.DEFAULT_REDIS_OPTIONS.blockingTimeoutGrace);
        }
        return configuredTimeout;
      }
      if (timeout === null) {
        return configuredTimeout;
      }
      return;
    }
    getConfiguredBlockingTimeout() {
      if (typeof this.options.blockingTimeout === "number" && this.options.blockingTimeout > 0) {
        return this.options.blockingTimeout;
      }
      return;
    }
    setSocketTimeout() {
      this.socketTimeoutTimer = setTimeout(() => {
        this.stream.destroy(new Error(`Socket timeout. Expecting data, but didn't receive any in ${this.options.socketTimeout}ms.`));
        this.socketTimeoutTimer = undefined;
      }, this.options.socketTimeout);
      this.stream.once("data", () => {
        clearTimeout(this.socketTimeoutTimer);
        this.socketTimeoutTimer = undefined;
        if (this.commandQueue.length === 0)
          return;
        this.setSocketTimeout();
      });
    }
    scanStream(options) {
      return this.createScanStream("scan", { options });
    }
    scanBufferStream(options) {
      return this.createScanStream("scanBuffer", { options });
    }
    sscanStream(key, options) {
      return this.createScanStream("sscan", { key, options });
    }
    sscanBufferStream(key, options) {
      return this.createScanStream("sscanBuffer", { key, options });
    }
    hscanStream(key, options) {
      return this.createScanStream("hscan", { key, options });
    }
    hscanBufferStream(key, options) {
      return this.createScanStream("hscanBuffer", { key, options });
    }
    zscanStream(key, options) {
      return this.createScanStream("zscan", { key, options });
    }
    zscanBufferStream(key, options) {
      return this.createScanStream("zscanBuffer", { key, options });
    }
    silentEmit(eventName, arg) {
      let error;
      if (eventName === "error") {
        error = arg;
        if (this.status === "end") {
          return;
        }
        if (this.manuallyClosing) {
          if (error instanceof Error && (error.message === utils_1.CONNECTION_CLOSED_ERROR_MSG || error.syscall === "connect" || error.syscall === "read")) {
            return;
          }
        }
      }
      if (this.listeners(eventName).length > 0) {
        return this.emit.apply(this, arguments);
      }
      if (error && error instanceof Error) {
        console.error("[ioredis] Unhandled error event:", error.stack);
      }
      return false;
    }
    recoverFromFatalError(_commandError, err, options) {
      this.flushQueue(err, options);
      this.silentEmit("error", err);
      this.disconnect(true);
    }
    handleReconnection(err, item) {
      var _a;
      let needReconnect = false;
      if (this.options.reconnectOnError && !Command_1.default.checkFlag("IGNORE_RECONNECT_ON_ERROR", item.command.name)) {
        needReconnect = this.options.reconnectOnError(err);
      }
      switch (needReconnect) {
        case 1:
        case true:
          if (this.status !== "reconnecting") {
            this.disconnect(true);
          }
          item.command.reject(err);
          break;
        case 2:
          if (this.status !== "reconnecting") {
            this.disconnect(true);
          }
          if (((_a = this.condition) === null || _a === undefined ? undefined : _a.select) !== item.select && item.command.name !== "select") {
            this.select(item.select);
          }
          this.sendCommand(item.command);
          break;
        default:
          item.command.reject(err);
      }
    }
    _getDescription() {
      let description;
      if ("path" in this.options && this.options.path) {
        description = this.options.path;
      } else if (this.stream && this.stream.remoteAddress && this.stream.remotePort) {
        description = this.stream.remoteAddress + ":" + this.stream.remotePort;
      } else if ("host" in this.options && this.options.host) {
        description = this.options.host + ":" + this.options.port;
      } else {
        description = "";
      }
      if (this.options.connectionName) {
        description += ` (${this.options.connectionName})`;
      }
      return description;
    }
    resetCommandQueue() {
      this.commandQueue = new Deque;
    }
    resetOfflineQueue() {
      this.offlineQueue = new Deque;
    }
    parseOptions(...args) {
      const options = {};
      let isTls = false;
      for (let i = 0;i < args.length; ++i) {
        const arg = args[i];
        if (arg === null || typeof arg === "undefined") {
          continue;
        }
        if (typeof arg === "object") {
          (0, lodash_1.defaults)(options, arg);
        } else if (typeof arg === "string") {
          (0, lodash_1.defaults)(options, (0, utils_1.parseURL)(arg));
          if (arg.startsWith("rediss://")) {
            isTls = true;
          }
        } else if (typeof arg === "number") {
          options.port = arg;
        } else {
          throw new Error("Invalid argument " + arg);
        }
      }
      if (isTls) {
        (0, lodash_1.defaults)(options, { tls: true });
      }
      (0, lodash_1.defaults)(options, Redis.defaultOptions);
      if (typeof options.port === "string") {
        options.port = parseInt(options.port, 10);
      }
      if (typeof options.db === "string") {
        options.db = parseInt(options.db, 10);
      }
      this.options = (0, utils_1.resolveTLSProfile)(options);
    }
    setStatus(status, arg) {
      if (debug.enabled) {
        debug("status[%s]: %s -> %s", this._getDescription(), this.status || "[empty]", status);
      }
      this.status = status;
      process.nextTick(this.emit.bind(this, status, arg));
    }
    createScanStream(command, { key, options = {} }) {
      return new ScanStream_1.default({
        objectMode: true,
        key,
        redis: this,
        command,
        ...options
      });
    }
    flushQueue(error, options) {
      options = (0, lodash_1.defaults)({}, options, {
        offlineQueue: true,
        commandQueue: true
      });
      let item;
      if (options.offlineQueue) {
        while (item = this.offlineQueue.shift()) {
          item.command.reject(error);
        }
      }
      if (options.commandQueue) {
        if (this.commandQueue.length > 0) {
          if (this.stream) {
            this.stream.removeAllListeners("data");
          }
          while (item = this.commandQueue.shift()) {
            item.command.reject(error);
          }
        }
      }
    }
    _readyCheck(callback) {
      const _this = this;
      this.info(function(err, res) {
        if (err) {
          if (err.message && err.message.includes("NOPERM")) {
            console.warn(`Skipping the ready check because INFO command fails: "${err.message}". You can disable ready check with "enableReadyCheck". More: https://github.com/luin/ioredis/wiki/Disable-ready-check.`);
            return callback(null, {});
          }
          return callback(err);
        }
        if (typeof res !== "string") {
          return callback(null, res);
        }
        const info = {};
        const lines = res.split(`\r
`);
        for (let i = 0;i < lines.length; ++i) {
          const [fieldName, ...fieldValueParts] = lines[i].split(":");
          const fieldValue = fieldValueParts.join(":");
          if (fieldValue) {
            info[fieldName] = fieldValue;
          }
        }
        if (!info.loading || info.loading === "0") {
          callback(null, info);
        } else {
          const loadingEtaMs = (info.loading_eta_seconds || 1) * 1000;
          const retryTime = _this.options.maxLoadingRetryTime && _this.options.maxLoadingRetryTime < loadingEtaMs ? _this.options.maxLoadingRetryTime : loadingEtaMs;
          debug("Redis server still loading, trying again in " + retryTime + "ms");
          setTimeout(function() {
            _this._readyCheck(callback);
          }, retryTime);
        }
      }).catch(lodash_1.noop);
    }
  }
  Redis.Cluster = cluster_1.default;
  Redis.Command = Command_1.default;
  Redis.defaultOptions = RedisOptions_1.DEFAULT_REDIS_OPTIONS;
  (0, applyMixin_1.default)(Redis, events_1.EventEmitter);
  (0, transaction_1.addTransactionSupport)(Redis.prototype);
  exports.default = Redis;
});

// ../../node_modules/ioredis/built/index.js
var require_built3 = __commonJS((exports, module) => {
  Object.defineProperty(exports, "__esModule", { value: true });
  exports.print = exports.ReplyError = exports.SentinelIterator = exports.SentinelConnector = exports.AbstractConnector = exports.Pipeline = exports.ScanStream = exports.Command = exports.Cluster = exports.Redis = exports.default = undefined;
  exports = module.exports = require_Redis().default;
  var Redis_1 = require_Redis();
  Object.defineProperty(exports, "default", { enumerable: true, get: function() {
    return Redis_1.default;
  } });
  var Redis_2 = require_Redis();
  Object.defineProperty(exports, "Redis", { enumerable: true, get: function() {
    return Redis_2.default;
  } });
  var cluster_1 = require_cluster();
  Object.defineProperty(exports, "Cluster", { enumerable: true, get: function() {
    return cluster_1.default;
  } });
  var Command_1 = require_Command();
  Object.defineProperty(exports, "Command", { enumerable: true, get: function() {
    return Command_1.default;
  } });
  var ScanStream_1 = require_ScanStream();
  Object.defineProperty(exports, "ScanStream", { enumerable: true, get: function() {
    return ScanStream_1.default;
  } });
  var Pipeline_1 = require_Pipeline();
  Object.defineProperty(exports, "Pipeline", { enumerable: true, get: function() {
    return Pipeline_1.default;
  } });
  var AbstractConnector_1 = require_AbstractConnector();
  Object.defineProperty(exports, "AbstractConnector", { enumerable: true, get: function() {
    return AbstractConnector_1.default;
  } });
  var SentinelConnector_1 = require_SentinelConnector();
  Object.defineProperty(exports, "SentinelConnector", { enumerable: true, get: function() {
    return SentinelConnector_1.default;
  } });
  Object.defineProperty(exports, "SentinelIterator", { enumerable: true, get: function() {
    return SentinelConnector_1.SentinelIterator;
  } });
  exports.ReplyError = require_redis_errors().ReplyError;
  Object.defineProperty(exports, "Promise", {
    get() {
      console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.");
      return Promise;
    },
    set(_lib) {
      console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.");
    }
  });
  function print(err, reply) {
    if (err) {
      console.log("Error: " + err);
    } else {
      console.log("Reply: " + reply);
    }
  }
  exports.print = print;
});

// ../../node_modules/hono/dist/compose.js
var compose = (middleware, onError, onNotFound) => {
  return (context, next) => {
    let index = -1;
    return dispatch(0);
    async function dispatch(i) {
      if (i <= index) {
        throw new Error("next() called multiple times");
      }
      index = i;
      let res;
      let isError = false;
      let handler;
      if (middleware[i]) {
        handler = middleware[i][0][0];
        context.req.routeIndex = i;
      } else {
        handler = i === middleware.length && next || undefined;
      }
      if (handler) {
        try {
          res = await handler(context, () => dispatch(i + 1));
        } catch (err) {
          if (err instanceof Error && onError) {
            context.error = err;
            res = await onError(err, context);
            isError = true;
          } else {
            throw err;
          }
        }
      } else {
        if (context.finalized === false && onNotFound) {
          res = await onNotFound(context);
        }
      }
      if (res && (context.finalized === false || isError)) {
        context.res = res;
      }
      return context;
    }
  };
};

// ../../node_modules/hono/dist/http-exception.js
var HTTPException = class extends Error {
  res;
  status;
  constructor(status = 500, options) {
    super(options?.message, { cause: options?.cause });
    this.res = options?.res;
    this.status = status;
  }
  getResponse() {
    if (this.res) {
      const newResponse = new Response(this.res.body, {
        status: this.status,
        headers: this.res.headers
      });
      return newResponse;
    }
    return new Response(this.message, {
      status: this.status
    });
  }
};

// ../../node_modules/hono/dist/request/constants.js
var GET_MATCH_RESULT = /* @__PURE__ */ Symbol();

// ../../node_modules/hono/dist/utils/body.js
var parseBody = async (request, options = /* @__PURE__ */ Object.create(null)) => {
  const { all = false, dot = false } = options;
  const headers = request instanceof HonoRequest ? request.raw.headers : request.headers;
  const contentType = headers.get("Content-Type");
  if (contentType?.startsWith("multipart/form-data") || contentType?.startsWith("application/x-www-form-urlencoded")) {
    return parseFormData(request, { all, dot });
  }
  return {};
};
async function parseFormData(request, options) {
  const formData = await request.formData();
  if (formData) {
    return convertFormDataToBodyData(formData, options);
  }
  return {};
}
function convertFormDataToBodyData(formData, options) {
  const form = /* @__PURE__ */ Object.create(null);
  formData.forEach((value, key) => {
    const shouldParseAllValues = options.all || key.endsWith("[]");
    if (!shouldParseAllValues) {
      form[key] = value;
    } else {
      handleParsingAllValues(form, key, value);
    }
  });
  if (options.dot) {
    Object.entries(form).forEach(([key, value]) => {
      const shouldParseDotValues = key.includes(".");
      if (shouldParseDotValues) {
        handleParsingNestedValues(form, key, value);
        delete form[key];
      }
    });
  }
  return form;
}
var handleParsingAllValues = (form, key, value) => {
  if (form[key] !== undefined) {
    if (Array.isArray(form[key])) {
      form[key].push(value);
    } else {
      form[key] = [form[key], value];
    }
  } else {
    if (!key.endsWith("[]")) {
      form[key] = value;
    } else {
      form[key] = [value];
    }
  }
};
var handleParsingNestedValues = (form, key, value) => {
  let nestedForm = form;
  const keys = key.split(".");
  keys.forEach((key2, index) => {
    if (index === keys.length - 1) {
      nestedForm[key2] = value;
    } else {
      if (!nestedForm[key2] || typeof nestedForm[key2] !== "object" || Array.isArray(nestedForm[key2]) || nestedForm[key2] instanceof File) {
        nestedForm[key2] = /* @__PURE__ */ Object.create(null);
      }
      nestedForm = nestedForm[key2];
    }
  });
};

// ../../node_modules/hono/dist/utils/url.js
var splitPath = (path) => {
  const paths = path.split("/");
  if (paths[0] === "") {
    paths.shift();
  }
  return paths;
};
var splitRoutingPath = (routePath) => {
  const { groups, path } = extractGroupsFromPath(routePath);
  const paths = splitPath(path);
  return replaceGroupMarks(paths, groups);
};
var extractGroupsFromPath = (path) => {
  const groups = [];
  path = path.replace(/\{[^}]+\}/g, (match, index) => {
    const mark = `@${index}`;
    groups.push([mark, match]);
    return mark;
  });
  return { groups, path };
};
var replaceGroupMarks = (paths, groups) => {
  for (let i = groups.length - 1;i >= 0; i--) {
    const [mark] = groups[i];
    for (let j = paths.length - 1;j >= 0; j--) {
      if (paths[j].includes(mark)) {
        paths[j] = paths[j].replace(mark, groups[i][1]);
        break;
      }
    }
  }
  return paths;
};
var patternCache = {};
var getPattern = (label, next) => {
  if (label === "*") {
    return "*";
  }
  const match = label.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);
  if (match) {
    const cacheKey = `${label}#${next}`;
    if (!patternCache[cacheKey]) {
      if (match[2]) {
        patternCache[cacheKey] = next && next[0] !== ":" && next[0] !== "*" ? [cacheKey, match[1], new RegExp(`^${match[2]}(?=/${next})`)] : [label, match[1], new RegExp(`^${match[2]}$`)];
      } else {
        patternCache[cacheKey] = [label, match[1], true];
      }
    }
    return patternCache[cacheKey];
  }
  return null;
};
var tryDecode = (str, decoder) => {
  try {
    return decoder(str);
  } catch {
    return str.replace(/(?:%[0-9A-Fa-f]{2})+/g, (match) => {
      try {
        return decoder(match);
      } catch {
        return match;
      }
    });
  }
};
var tryDecodeURI = (str) => tryDecode(str, decodeURI);
var getPath = (request) => {
  const url = request.url;
  const start = url.indexOf("/", url.indexOf(":") + 4);
  let i = start;
  for (;i < url.length; i++) {
    const charCode = url.charCodeAt(i);
    if (charCode === 37) {
      const queryIndex = url.indexOf("?", i);
      const path = url.slice(start, queryIndex === -1 ? undefined : queryIndex);
      return tryDecodeURI(path.includes("%25") ? path.replace(/%25/g, "%2525") : path);
    } else if (charCode === 63) {
      break;
    }
  }
  return url.slice(start, i);
};
var getPathNoStrict = (request) => {
  const result = getPath(request);
  return result.length > 1 && result.at(-1) === "/" ? result.slice(0, -1) : result;
};
var mergePath = (base, sub, ...rest) => {
  if (rest.length) {
    sub = mergePath(sub, ...rest);
  }
  return `${base?.[0] === "/" ? "" : "/"}${base}${sub === "/" ? "" : `${base?.at(-1) === "/" ? "" : "/"}${sub?.[0] === "/" ? sub.slice(1) : sub}`}`;
};
var checkOptionalParameter = (path) => {
  if (path.charCodeAt(path.length - 1) !== 63 || !path.includes(":")) {
    return null;
  }
  const segments = path.split("/");
  const results = [];
  let basePath = "";
  segments.forEach((segment) => {
    if (segment !== "" && !/\:/.test(segment)) {
      basePath += "/" + segment;
    } else if (/\:/.test(segment)) {
      if (/\?/.test(segment)) {
        if (results.length === 0 && basePath === "") {
          results.push("/");
        } else {
          results.push(basePath);
        }
        const optionalSegment = segment.replace("?", "");
        basePath += "/" + optionalSegment;
        results.push(basePath);
      } else {
        basePath += "/" + segment;
      }
    }
  });
  return results.filter((v, i, a) => a.indexOf(v) === i);
};
var _decodeURI = (value) => {
  if (!/[%+]/.test(value)) {
    return value;
  }
  if (value.indexOf("+") !== -1) {
    value = value.replace(/\+/g, " ");
  }
  return value.indexOf("%") !== -1 ? tryDecode(value, decodeURIComponent_) : value;
};
var _getQueryParam = (url, key, multiple) => {
  let encoded;
  if (!multiple && key && !/[%+]/.test(key)) {
    let keyIndex2 = url.indexOf("?", 8);
    if (keyIndex2 === -1) {
      return;
    }
    if (!url.startsWith(key, keyIndex2 + 1)) {
      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);
    }
    while (keyIndex2 !== -1) {
      const trailingKeyCode = url.charCodeAt(keyIndex2 + key.length + 1);
      if (trailingKeyCode === 61) {
        const valueIndex = keyIndex2 + key.length + 2;
        const endIndex = url.indexOf("&", valueIndex);
        return _decodeURI(url.slice(valueIndex, endIndex === -1 ? undefined : endIndex));
      } else if (trailingKeyCode == 38 || isNaN(trailingKeyCode)) {
        return "";
      }
      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);
    }
    encoded = /[%+]/.test(url);
    if (!encoded) {
      return;
    }
  }
  const results = {};
  encoded ??= /[%+]/.test(url);
  let keyIndex = url.indexOf("?", 8);
  while (keyIndex !== -1) {
    const nextKeyIndex = url.indexOf("&", keyIndex + 1);
    let valueIndex = url.indexOf("=", keyIndex);
    if (valueIndex > nextKeyIndex && nextKeyIndex !== -1) {
      valueIndex = -1;
    }
    let name = url.slice(keyIndex + 1, valueIndex === -1 ? nextKeyIndex === -1 ? undefined : nextKeyIndex : valueIndex);
    if (encoded) {
      name = _decodeURI(name);
    }
    keyIndex = nextKeyIndex;
    if (name === "") {
      continue;
    }
    let value;
    if (valueIndex === -1) {
      value = "";
    } else {
      value = url.slice(valueIndex + 1, nextKeyIndex === -1 ? undefined : nextKeyIndex);
      if (encoded) {
        value = _decodeURI(value);
      }
    }
    if (multiple) {
      if (!(results[name] && Array.isArray(results[name]))) {
        results[name] = [];
      }
      results[name].push(value);
    } else {
      results[name] ??= value;
    }
  }
  return key ? results[key] : results;
};
var getQueryParam = _getQueryParam;
var getQueryParams = (url, key) => {
  return _getQueryParam(url, key, true);
};
var decodeURIComponent_ = decodeURIComponent;

// ../../node_modules/hono/dist/request.js
var tryDecodeURIComponent = (str) => tryDecode(str, decodeURIComponent_);
var HonoRequest = class {
  raw;
  #validatedData;
  #matchResult;
  routeIndex = 0;
  path;
  bodyCache = {};
  constructor(request, path = "/", matchResult = [[]]) {
    this.raw = request;
    this.path = path;
    this.#matchResult = matchResult;
    this.#validatedData = {};
  }
  param(key) {
    return key ? this.#getDecodedParam(key) : this.#getAllDecodedParams();
  }
  #getDecodedParam(key) {
    const paramKey = this.#matchResult[0][this.routeIndex][1][key];
    const param = this.#getParamValue(paramKey);
    return param && /\%/.test(param) ? tryDecodeURIComponent(param) : param;
  }
  #getAllDecodedParams() {
    const decoded = {};
    const keys = Object.keys(this.#matchResult[0][this.routeIndex][1]);
    for (const key of keys) {
      const value = this.#getParamValue(this.#matchResult[0][this.routeIndex][1][key]);
      if (value !== undefined) {
        decoded[key] = /\%/.test(value) ? tryDecodeURIComponent(value) : value;
      }
    }
    return decoded;
  }
  #getParamValue(paramKey) {
    return this.#matchResult[1] ? this.#matchResult[1][paramKey] : paramKey;
  }
  query(key) {
    return getQueryParam(this.url, key);
  }
  queries(key) {
    return getQueryParams(this.url, key);
  }
  header(name) {
    if (name) {
      return this.raw.headers.get(name) ?? undefined;
    }
    const headerData = {};
    this.raw.headers.forEach((value, key) => {
      headerData[key] = value;
    });
    return headerData;
  }
  async parseBody(options) {
    return this.bodyCache.parsedBody ??= await parseBody(this, options);
  }
  #cachedBody = (key) => {
    const { bodyCache, raw } = this;
    const cachedBody = bodyCache[key];
    if (cachedBody) {
      return cachedBody;
    }
    const anyCachedKey = Object.keys(bodyCache)[0];
    if (anyCachedKey) {
      return bodyCache[anyCachedKey].then((body) => {
        if (anyCachedKey === "json") {
          body = JSON.stringify(body);
        }
        return new Response(body)[key]();
      });
    }
    return bodyCache[key] = raw[key]();
  };
  json() {
    return this.#cachedBody("text").then((text) => JSON.parse(text));
  }
  text() {
    return this.#cachedBody("text");
  }
  arrayBuffer() {
    return this.#cachedBody("arrayBuffer");
  }
  blob() {
    return this.#cachedBody("blob");
  }
  formData() {
    return this.#cachedBody("formData");
  }
  addValidatedData(target, data) {
    this.#validatedData[target] = data;
  }
  valid(target) {
    return this.#validatedData[target];
  }
  get url() {
    return this.raw.url;
  }
  get method() {
    return this.raw.method;
  }
  get [GET_MATCH_RESULT]() {
    return this.#matchResult;
  }
  get matchedRoutes() {
    return this.#matchResult[0].map(([[, route]]) => route);
  }
  get routePath() {
    return this.#matchResult[0].map(([[, route]]) => route)[this.routeIndex].path;
  }
};

// ../../node_modules/hono/dist/utils/html.js
var HtmlEscapedCallbackPhase = {
  Stringify: 1,
  BeforeStream: 2,
  Stream: 3
};
var raw = (value, callbacks) => {
  const escapedString = new String(value);
  escapedString.isEscaped = true;
  escapedString.callbacks = callbacks;
  return escapedString;
};
var resolveCallback = async (str, phase, preserveCallbacks, context, buffer) => {
  if (typeof str === "object" && !(str instanceof String)) {
    if (!(str instanceof Promise)) {
      str = str.toString();
    }
    if (str instanceof Promise) {
      str = await str;
    }
  }
  const callbacks = str.callbacks;
  if (!callbacks?.length) {
    return Promise.resolve(str);
  }
  if (buffer) {
    buffer[0] += str;
  } else {
    buffer = [str];
  }
  const resStr = Promise.all(callbacks.map((c) => c({ phase, buffer, context }))).then((res) => Promise.all(res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))).then(() => buffer[0]));
  if (preserveCallbacks) {
    return raw(await resStr, callbacks);
  } else {
    return resStr;
  }
};

// ../../node_modules/hono/dist/context.js
var TEXT_PLAIN = "text/plain; charset=UTF-8";
var setDefaultContentType = (contentType, headers) => {
  return {
    "Content-Type": contentType,
    ...headers
  };
};
var Context = class {
  #rawRequest;
  #req;
  env = {};
  #var;
  finalized = false;
  error;
  #status;
  #executionCtx;
  #res;
  #layout;
  #renderer;
  #notFoundHandler;
  #preparedHeaders;
  #matchResult;
  #path;
  constructor(req, options) {
    this.#rawRequest = req;
    if (options) {
      this.#executionCtx = options.executionCtx;
      this.env = options.env;
      this.#notFoundHandler = options.notFoundHandler;
      this.#path = options.path;
      this.#matchResult = options.matchResult;
    }
  }
  get req() {
    this.#req ??= new HonoRequest(this.#rawRequest, this.#path, this.#matchResult);
    return this.#req;
  }
  get event() {
    if (this.#executionCtx && "respondWith" in this.#executionCtx) {
      return this.#executionCtx;
    } else {
      throw Error("This context has no FetchEvent");
    }
  }
  get executionCtx() {
    if (this.#executionCtx) {
      return this.#executionCtx;
    } else {
      throw Error("This context has no ExecutionContext");
    }
  }
  get res() {
    return this.#res ||= new Response(null, {
      headers: this.#preparedHeaders ??= new Headers
    });
  }
  set res(_res) {
    if (this.#res && _res) {
      _res = new Response(_res.body, _res);
      for (const [k, v] of this.#res.headers.entries()) {
        if (k === "content-type") {
          continue;
        }
        if (k === "set-cookie") {
          const cookies = this.#res.headers.getSetCookie();
          _res.headers.delete("set-cookie");
          for (const cookie of cookies) {
            _res.headers.append("set-cookie", cookie);
          }
        } else {
          _res.headers.set(k, v);
        }
      }
    }
    this.#res = _res;
    this.finalized = true;
  }
  render = (...args) => {
    this.#renderer ??= (content) => this.html(content);
    return this.#renderer(...args);
  };
  setLayout = (layout) => this.#layout = layout;
  getLayout = () => this.#layout;
  setRenderer = (renderer) => {
    this.#renderer = renderer;
  };
  header = (name, value, options) => {
    if (this.finalized) {
      this.#res = new Response(this.#res.body, this.#res);
    }
    const headers = this.#res ? this.#res.headers : this.#preparedHeaders ??= new Headers;
    if (value === undefined) {
      headers.delete(name);
    } else if (options?.append) {
      headers.append(name, value);
    } else {
      headers.set(name, value);
    }
  };
  status = (status) => {
    this.#status = status;
  };
  set = (key, value) => {
    this.#var ??= /* @__PURE__ */ new Map;
    this.#var.set(key, value);
  };
  get = (key) => {
    return this.#var ? this.#var.get(key) : undefined;
  };
  get var() {
    if (!this.#var) {
      return {};
    }
    return Object.fromEntries(this.#var);
  }
  #newResponse(data, arg, headers) {
    const responseHeaders = this.#res ? new Headers(this.#res.headers) : this.#preparedHeaders ?? new Headers;
    if (typeof arg === "object" && "headers" in arg) {
      const argHeaders = arg.headers instanceof Headers ? arg.headers : new Headers(arg.headers);
      for (const [key, value] of argHeaders) {
        if (key.toLowerCase() === "set-cookie") {
          responseHeaders.append(key, value);
        } else {
          responseHeaders.set(key, value);
        }
      }
    }
    if (headers) {
      for (const [k, v] of Object.entries(headers)) {
        if (typeof v === "string") {
          responseHeaders.set(k, v);
        } else {
          responseHeaders.delete(k);
          for (const v2 of v) {
            responseHeaders.append(k, v2);
          }
        }
      }
    }
    const status = typeof arg === "number" ? arg : arg?.status ?? this.#status;
    return new Response(data, { status, headers: responseHeaders });
  }
  newResponse = (...args) => this.#newResponse(...args);
  body = (data, arg, headers) => this.#newResponse(data, arg, headers);
  text = (text, arg, headers) => {
    return !this.#preparedHeaders && !this.#status && !arg && !headers && !this.finalized ? new Response(text) : this.#newResponse(text, arg, setDefaultContentType(TEXT_PLAIN, headers));
  };
  json = (object, arg, headers) => {
    return this.#newResponse(JSON.stringify(object), arg, setDefaultContentType("application/json", headers));
  };
  html = (html, arg, headers) => {
    const res = (html2) => this.#newResponse(html2, arg, setDefaultContentType("text/html; charset=UTF-8", headers));
    return typeof html === "object" ? resolveCallback(html, HtmlEscapedCallbackPhase.Stringify, false, {}).then(res) : res(html);
  };
  redirect = (location, status) => {
    const locationString = String(location);
    this.header("Location", !/[^\x00-\xFF]/.test(locationString) ? locationString : encodeURI(locationString));
    return this.newResponse(null, status ?? 302);
  };
  notFound = () => {
    this.#notFoundHandler ??= () => new Response;
    return this.#notFoundHandler(this);
  };
};

// ../../node_modules/hono/dist/router.js
var METHOD_NAME_ALL = "ALL";
var METHOD_NAME_ALL_LOWERCASE = "all";
var METHODS = ["get", "post", "put", "delete", "options", "patch"];
var MESSAGE_MATCHER_IS_ALREADY_BUILT = "Can not add a route since the matcher is already built.";
var UnsupportedPathError = class extends Error {
};

// ../../node_modules/hono/dist/utils/constants.js
var COMPOSED_HANDLER = "__COMPOSED_HANDLER";

// ../../node_modules/hono/dist/hono-base.js
var notFoundHandler = (c) => {
  return c.text("404 Not Found", 404);
};
var errorHandler = (err, c) => {
  if ("getResponse" in err) {
    const res = err.getResponse();
    return c.newResponse(res.body, res);
  }
  console.error(err);
  return c.text("Internal Server Error", 500);
};
var Hono = class _Hono {
  get;
  post;
  put;
  delete;
  options;
  patch;
  all;
  on;
  use;
  router;
  getPath;
  _basePath = "/";
  #path = "/";
  routes = [];
  constructor(options = {}) {
    const allMethods = [...METHODS, METHOD_NAME_ALL_LOWERCASE];
    allMethods.forEach((method) => {
      this[method] = (args1, ...args) => {
        if (typeof args1 === "string") {
          this.#path = args1;
        } else {
          this.#addRoute(method, this.#path, args1);
        }
        args.forEach((handler) => {
          this.#addRoute(method, this.#path, handler);
        });
        return this;
      };
    });
    this.on = (method, path, ...handlers) => {
      for (const p of [path].flat()) {
        this.#path = p;
        for (const m of [method].flat()) {
          handlers.map((handler) => {
            this.#addRoute(m.toUpperCase(), this.#path, handler);
          });
        }
      }
      return this;
    };
    this.use = (arg1, ...handlers) => {
      if (typeof arg1 === "string") {
        this.#path = arg1;
      } else {
        this.#path = "*";
        handlers.unshift(arg1);
      }
      handlers.forEach((handler) => {
        this.#addRoute(METHOD_NAME_ALL, this.#path, handler);
      });
      return this;
    };
    const { strict, ...optionsWithoutStrict } = options;
    Object.assign(this, optionsWithoutStrict);
    this.getPath = strict ?? true ? options.getPath ?? getPath : getPathNoStrict;
  }
  #clone() {
    const clone = new _Hono({
      router: this.router,
      getPath: this.getPath
    });
    clone.errorHandler = this.errorHandler;
    clone.#notFoundHandler = this.#notFoundHandler;
    clone.routes = this.routes;
    return clone;
  }
  #notFoundHandler = notFoundHandler;
  errorHandler = errorHandler;
  route(path, app) {
    const subApp = this.basePath(path);
    app.routes.map((r) => {
      let handler;
      if (app.errorHandler === errorHandler) {
        handler = r.handler;
      } else {
        handler = async (c, next) => (await compose([], app.errorHandler)(c, () => r.handler(c, next))).res;
        handler[COMPOSED_HANDLER] = r.handler;
      }
      subApp.#addRoute(r.method, r.path, handler);
    });
    return this;
  }
  basePath(path) {
    const subApp = this.#clone();
    subApp._basePath = mergePath(this._basePath, path);
    return subApp;
  }
  onError = (handler) => {
    this.errorHandler = handler;
    return this;
  };
  notFound = (handler) => {
    this.#notFoundHandler = handler;
    return this;
  };
  mount(path, applicationHandler, options) {
    let replaceRequest;
    let optionHandler;
    if (options) {
      if (typeof options === "function") {
        optionHandler = options;
      } else {
        optionHandler = options.optionHandler;
        if (options.replaceRequest === false) {
          replaceRequest = (request) => request;
        } else {
          replaceRequest = options.replaceRequest;
        }
      }
    }
    const getOptions = optionHandler ? (c) => {
      const options2 = optionHandler(c);
      return Array.isArray(options2) ? options2 : [options2];
    } : (c) => {
      let executionContext = undefined;
      try {
        executionContext = c.executionCtx;
      } catch {}
      return [c.env, executionContext];
    };
    replaceRequest ||= (() => {
      const mergedPath = mergePath(this._basePath, path);
      const pathPrefixLength = mergedPath === "/" ? 0 : mergedPath.length;
      return (request) => {
        const url = new URL(request.url);
        url.pathname = url.pathname.slice(pathPrefixLength) || "/";
        return new Request(url, request);
      };
    })();
    const handler = async (c, next) => {
      const res = await applicationHandler(replaceRequest(c.req.raw), ...getOptions(c));
      if (res) {
        return res;
      }
      await next();
    };
    this.#addRoute(METHOD_NAME_ALL, mergePath(path, "*"), handler);
    return this;
  }
  #addRoute(method, path, handler) {
    method = method.toUpperCase();
    path = mergePath(this._basePath, path);
    const r = { basePath: this._basePath, path, method, handler };
    this.router.add(method, path, [handler, r]);
    this.routes.push(r);
  }
  #handleError(err, c) {
    if (err instanceof Error) {
      return this.errorHandler(err, c);
    }
    throw err;
  }
  #dispatch(request, executionCtx, env, method) {
    if (method === "HEAD") {
      return (async () => new Response(null, await this.#dispatch(request, executionCtx, env, "GET")))();
    }
    const path = this.getPath(request, { env });
    const matchResult = this.router.match(method, path);
    const c = new Context(request, {
      path,
      matchResult,
      env,
      executionCtx,
      notFoundHandler: this.#notFoundHandler
    });
    if (matchResult[0].length === 1) {
      let res;
      try {
        res = matchResult[0][0][0][0](c, async () => {
          c.res = await this.#notFoundHandler(c);
        });
      } catch (err) {
        return this.#handleError(err, c);
      }
      return res instanceof Promise ? res.then((resolved) => resolved || (c.finalized ? c.res : this.#notFoundHandler(c))).catch((err) => this.#handleError(err, c)) : res ?? this.#notFoundHandler(c);
    }
    const composed = compose(matchResult[0], this.errorHandler, this.#notFoundHandler);
    return (async () => {
      try {
        const context = await composed(c);
        if (!context.finalized) {
          throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");
        }
        return context.res;
      } catch (err) {
        return this.#handleError(err, c);
      }
    })();
  }
  fetch = (request, ...rest) => {
    return this.#dispatch(request, rest[1], rest[0], request.method);
  };
  request = (input, requestInit, Env, executionCtx) => {
    if (input instanceof Request) {
      return this.fetch(requestInit ? new Request(input, requestInit) : input, Env, executionCtx);
    }
    input = input.toString();
    return this.fetch(new Request(/^https?:\/\//.test(input) ? input : `http://localhost${mergePath("/", input)}`, requestInit), Env, executionCtx);
  };
  fire = () => {
    addEventListener("fetch", (event) => {
      event.respondWith(this.#dispatch(event.request, event, undefined, event.request.method));
    });
  };
};

// ../../node_modules/hono/dist/router/reg-exp-router/matcher.js
var emptyParam = [];
function match(method, path) {
  const matchers = this.buildAllMatchers();
  const match2 = (method2, path2) => {
    const matcher = matchers[method2] || matchers[METHOD_NAME_ALL];
    const staticMatch = matcher[2][path2];
    if (staticMatch) {
      return staticMatch;
    }
    const match3 = path2.match(matcher[0]);
    if (!match3) {
      return [[], emptyParam];
    }
    const index = match3.indexOf("", 1);
    return [matcher[1][index], match3];
  };
  this.match = match2;
  return match2(method, path);
}

// ../../node_modules/hono/dist/router/reg-exp-router/node.js
var LABEL_REG_EXP_STR = "[^/]+";
var ONLY_WILDCARD_REG_EXP_STR = ".*";
var TAIL_WILDCARD_REG_EXP_STR = "(?:|/.*)";
var PATH_ERROR = /* @__PURE__ */ Symbol();
var regExpMetaChars = new Set(".\\+*[^]$()");
function compareKey(a, b) {
  if (a.length === 1) {
    return b.length === 1 ? a < b ? -1 : 1 : -1;
  }
  if (b.length === 1) {
    return 1;
  }
  if (a === ONLY_WILDCARD_REG_EXP_STR || a === TAIL_WILDCARD_REG_EXP_STR) {
    return 1;
  } else if (b === ONLY_WILDCARD_REG_EXP_STR || b === TAIL_WILDCARD_REG_EXP_STR) {
    return -1;
  }
  if (a === LABEL_REG_EXP_STR) {
    return 1;
  } else if (b === LABEL_REG_EXP_STR) {
    return -1;
  }
  return a.length === b.length ? a < b ? -1 : 1 : b.length - a.length;
}
var Node = class _Node {
  #index;
  #varIndex;
  #children = /* @__PURE__ */ Object.create(null);
  insert(tokens, index, paramMap, context, pathErrorCheckOnly) {
    if (tokens.length === 0) {
      if (this.#index !== undefined) {
        throw PATH_ERROR;
      }
      if (pathErrorCheckOnly) {
        return;
      }
      this.#index = index;
      return;
    }
    const [token, ...restTokens] = tokens;
    const pattern = token === "*" ? restTokens.length === 0 ? ["", "", ONLY_WILDCARD_REG_EXP_STR] : ["", "", LABEL_REG_EXP_STR] : token === "/*" ? ["", "", TAIL_WILDCARD_REG_EXP_STR] : token.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);
    let node;
    if (pattern) {
      const name = pattern[1];
      let regexpStr = pattern[2] || LABEL_REG_EXP_STR;
      if (name && pattern[2]) {
        if (regexpStr === ".*") {
          throw PATH_ERROR;
        }
        regexpStr = regexpStr.replace(/^\((?!\?:)(?=[^)]+\)$)/, "(?:");
        if (/\((?!\?:)/.test(regexpStr)) {
          throw PATH_ERROR;
        }
      }
      node = this.#children[regexpStr];
      if (!node) {
        if (Object.keys(this.#children).some((k) => k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR)) {
          throw PATH_ERROR;
        }
        if (pathErrorCheckOnly) {
          return;
        }
        node = this.#children[regexpStr] = new _Node;
        if (name !== "") {
          node.#varIndex = context.varIndex++;
        }
      }
      if (!pathErrorCheckOnly && name !== "") {
        paramMap.push([name, node.#varIndex]);
      }
    } else {
      node = this.#children[token];
      if (!node) {
        if (Object.keys(this.#children).some((k) => k.length > 1 && k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR)) {
          throw PATH_ERROR;
        }
        if (pathErrorCheckOnly) {
          return;
        }
        node = this.#children[token] = new _Node;
      }
    }
    node.insert(restTokens, index, paramMap, context, pathErrorCheckOnly);
  }
  buildRegExpStr() {
    const childKeys = Object.keys(this.#children).sort(compareKey);
    const strList = childKeys.map((k) => {
      const c = this.#children[k];
      return (typeof c.#varIndex === "number" ? `(${k})@${c.#varIndex}` : regExpMetaChars.has(k) ? `\\${k}` : k) + c.buildRegExpStr();
    });
    if (typeof this.#index === "number") {
      strList.unshift(`#${this.#index}`);
    }
    if (strList.length === 0) {
      return "";
    }
    if (strList.length === 1) {
      return strList[0];
    }
    return "(?:" + strList.join("|") + ")";
  }
};

// ../../node_modules/hono/dist/router/reg-exp-router/trie.js
var Trie = class {
  #context = { varIndex: 0 };
  #root = new Node;
  insert(path, index, pathErrorCheckOnly) {
    const paramAssoc = [];
    const groups = [];
    for (let i = 0;; ) {
      let replaced = false;
      path = path.replace(/\{[^}]+\}/g, (m) => {
        const mark = `@\\${i}`;
        groups[i] = [mark, m];
        i++;
        replaced = true;
        return mark;
      });
      if (!replaced) {
        break;
      }
    }
    const tokens = path.match(/(?::[^\/]+)|(?:\/\*$)|./g) || [];
    for (let i = groups.length - 1;i >= 0; i--) {
      const [mark] = groups[i];
      for (let j = tokens.length - 1;j >= 0; j--) {
        if (tokens[j].indexOf(mark) !== -1) {
          tokens[j] = tokens[j].replace(mark, groups[i][1]);
          break;
        }
      }
    }
    this.#root.insert(tokens, index, paramAssoc, this.#context, pathErrorCheckOnly);
    return paramAssoc;
  }
  buildRegExp() {
    let regexp = this.#root.buildRegExpStr();
    if (regexp === "") {
      return [/^$/, [], []];
    }
    let captureIndex = 0;
    const indexReplacementMap = [];
    const paramReplacementMap = [];
    regexp = regexp.replace(/#(\d+)|@(\d+)|\.\*\$/g, (_, handlerIndex, paramIndex) => {
      if (handlerIndex !== undefined) {
        indexReplacementMap[++captureIndex] = Number(handlerIndex);
        return "$()";
      }
      if (paramIndex !== undefined) {
        paramReplacementMap[Number(paramIndex)] = ++captureIndex;
        return "";
      }
      return "";
    });
    return [new RegExp(`^${regexp}`), indexReplacementMap, paramReplacementMap];
  }
};

// ../../node_modules/hono/dist/router/reg-exp-router/router.js
var nullMatcher = [/^$/, [], /* @__PURE__ */ Object.create(null)];
var wildcardRegExpCache = /* @__PURE__ */ Object.create(null);
function buildWildcardRegExp(path) {
  return wildcardRegExpCache[path] ??= new RegExp(path === "*" ? "" : `^${path.replace(/\/\*$|([.\\+*[^\]$()])/g, (_, metaChar) => metaChar ? `\\${metaChar}` : "(?:|/.*)")}$`);
}
function clearWildcardRegExpCache() {
  wildcardRegExpCache = /* @__PURE__ */ Object.create(null);
}
function buildMatcherFromPreprocessedRoutes(routes) {
  const trie = new Trie;
  const handlerData = [];
  if (routes.length === 0) {
    return nullMatcher;
  }
  const routesWithStaticPathFlag = routes.map((route) => [!/\*|\/:/.test(route[0]), ...route]).sort(([isStaticA, pathA], [isStaticB, pathB]) => isStaticA ? 1 : isStaticB ? -1 : pathA.length - pathB.length);
  const staticMap = /* @__PURE__ */ Object.create(null);
  for (let i = 0, j = -1, len = routesWithStaticPathFlag.length;i < len; i++) {
    const [pathErrorCheckOnly, path, handlers] = routesWithStaticPathFlag[i];
    if (pathErrorCheckOnly) {
      staticMap[path] = [handlers.map(([h]) => [h, /* @__PURE__ */ Object.create(null)]), emptyParam];
    } else {
      j++;
    }
    let paramAssoc;
    try {
      paramAssoc = trie.insert(path, j, pathErrorCheckOnly);
    } catch (e) {
      throw e === PATH_ERROR ? new UnsupportedPathError(path) : e;
    }
    if (pathErrorCheckOnly) {
      continue;
    }
    handlerData[j] = handlers.map(([h, paramCount]) => {
      const paramIndexMap = /* @__PURE__ */ Object.create(null);
      paramCount -= 1;
      for (;paramCount >= 0; paramCount--) {
        const [key, value] = paramAssoc[paramCount];
        paramIndexMap[key] = value;
      }
      return [h, paramIndexMap];
    });
  }
  const [regexp, indexReplacementMap, paramReplacementMap] = trie.buildRegExp();
  for (let i = 0, len = handlerData.length;i < len; i++) {
    for (let j = 0, len2 = handlerData[i].length;j < len2; j++) {
      const map = handlerData[i][j]?.[1];
      if (!map) {
        continue;
      }
      const keys = Object.keys(map);
      for (let k = 0, len3 = keys.length;k < len3; k++) {
        map[keys[k]] = paramReplacementMap[map[keys[k]]];
      }
    }
  }
  const handlerMap = [];
  for (const i in indexReplacementMap) {
    handlerMap[i] = handlerData[indexReplacementMap[i]];
  }
  return [regexp, handlerMap, staticMap];
}
function findMiddleware(middleware, path) {
  if (!middleware) {
    return;
  }
  for (const k of Object.keys(middleware).sort((a, b) => b.length - a.length)) {
    if (buildWildcardRegExp(k).test(path)) {
      return [...middleware[k]];
    }
  }
  return;
}
var RegExpRouter = class {
  name = "RegExpRouter";
  #middleware;
  #routes;
  constructor() {
    this.#middleware = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };
    this.#routes = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };
  }
  add(method, path, handler) {
    const middleware = this.#middleware;
    const routes = this.#routes;
    if (!middleware || !routes) {
      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);
    }
    if (!middleware[method]) {
      [middleware, routes].forEach((handlerMap) => {
        handlerMap[method] = /* @__PURE__ */ Object.create(null);
        Object.keys(handlerMap[METHOD_NAME_ALL]).forEach((p) => {
          handlerMap[method][p] = [...handlerMap[METHOD_NAME_ALL][p]];
        });
      });
    }
    if (path === "/*") {
      path = "*";
    }
    const paramCount = (path.match(/\/:/g) || []).length;
    if (/\*$/.test(path)) {
      const re = buildWildcardRegExp(path);
      if (method === METHOD_NAME_ALL) {
        Object.keys(middleware).forEach((m) => {
          middleware[m][path] ||= findMiddleware(middleware[m], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];
        });
      } else {
        middleware[method][path] ||= findMiddleware(middleware[method], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];
      }
      Object.keys(middleware).forEach((m) => {
        if (method === METHOD_NAME_ALL || method === m) {
          Object.keys(middleware[m]).forEach((p) => {
            re.test(p) && middleware[m][p].push([handler, paramCount]);
          });
        }
      });
      Object.keys(routes).forEach((m) => {
        if (method === METHOD_NAME_ALL || method === m) {
          Object.keys(routes[m]).forEach((p) => re.test(p) && routes[m][p].push([handler, paramCount]));
        }
      });
      return;
    }
    const paths = checkOptionalParameter(path) || [path];
    for (let i = 0, len = paths.length;i < len; i++) {
      const path2 = paths[i];
      Object.keys(routes).forEach((m) => {
        if (method === METHOD_NAME_ALL || method === m) {
          routes[m][path2] ||= [
            ...findMiddleware(middleware[m], path2) || findMiddleware(middleware[METHOD_NAME_ALL], path2) || []
          ];
          routes[m][path2].push([handler, paramCount - len + i + 1]);
        }
      });
    }
  }
  match = match;
  buildAllMatchers() {
    const matchers = /* @__PURE__ */ Object.create(null);
    Object.keys(this.#routes).concat(Object.keys(this.#middleware)).forEach((method) => {
      matchers[method] ||= this.#buildMatcher(method);
    });
    this.#middleware = this.#routes = undefined;
    clearWildcardRegExpCache();
    return matchers;
  }
  #buildMatcher(method) {
    const routes = [];
    let hasOwnRoute = method === METHOD_NAME_ALL;
    [this.#middleware, this.#routes].forEach((r) => {
      const ownRoute = r[method] ? Object.keys(r[method]).map((path) => [path, r[method][path]]) : [];
      if (ownRoute.length !== 0) {
        hasOwnRoute ||= true;
        routes.push(...ownRoute);
      } else if (method !== METHOD_NAME_ALL) {
        routes.push(...Object.keys(r[METHOD_NAME_ALL]).map((path) => [path, r[METHOD_NAME_ALL][path]]));
      }
    });
    if (!hasOwnRoute) {
      return null;
    } else {
      return buildMatcherFromPreprocessedRoutes(routes);
    }
  }
};

// ../../node_modules/hono/dist/router/reg-exp-router/prepared-router.js
var PreparedRegExpRouter = class {
  name = "PreparedRegExpRouter";
  #matchers;
  #relocateMap;
  constructor(matchers, relocateMap) {
    this.#matchers = matchers;
    this.#relocateMap = relocateMap;
  }
  #addWildcard(method, handlerData) {
    const matcher = this.#matchers[method];
    matcher[1].forEach((list) => list && list.push(handlerData));
    Object.values(matcher[2]).forEach((list) => list[0].push(handlerData));
  }
  #addPath(method, path, handler, indexes, map) {
    const matcher = this.#matchers[method];
    if (!map) {
      matcher[2][path][0].push([handler, {}]);
    } else {
      indexes.forEach((index) => {
        if (typeof index === "number") {
          matcher[1][index].push([handler, map]);
        } else {
          matcher[2][index || path][0].push([handler, map]);
        }
      });
    }
  }
  add(method, path, handler) {
    if (!this.#matchers[method]) {
      const all = this.#matchers[METHOD_NAME_ALL];
      const staticMap = {};
      for (const key in all[2]) {
        staticMap[key] = [all[2][key][0].slice(), emptyParam];
      }
      this.#matchers[method] = [
        all[0],
        all[1].map((list) => Array.isArray(list) ? list.slice() : 0),
        staticMap
      ];
    }
    if (path === "/*" || path === "*") {
      const handlerData = [handler, {}];
      if (method === METHOD_NAME_ALL) {
        for (const m in this.#matchers) {
          this.#addWildcard(m, handlerData);
        }
      } else {
        this.#addWildcard(method, handlerData);
      }
      return;
    }
    const data = this.#relocateMap[path];
    if (!data) {
      throw new Error(`Path ${path} is not registered`);
    }
    for (const [indexes, map] of data) {
      if (method === METHOD_NAME_ALL) {
        for (const m in this.#matchers) {
          this.#addPath(m, path, handler, indexes, map);
        }
      } else {
        this.#addPath(method, path, handler, indexes, map);
      }
    }
  }
  buildAllMatchers() {
    return this.#matchers;
  }
  match = match;
};

// ../../node_modules/hono/dist/router/smart-router/router.js
var SmartRouter = class {
  name = "SmartRouter";
  #routers = [];
  #routes = [];
  constructor(init) {
    this.#routers = init.routers;
  }
  add(method, path, handler) {
    if (!this.#routes) {
      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);
    }
    this.#routes.push([method, path, handler]);
  }
  match(method, path) {
    if (!this.#routes) {
      throw new Error("Fatal error");
    }
    const routers = this.#routers;
    const routes = this.#routes;
    const len = routers.length;
    let i = 0;
    let res;
    for (;i < len; i++) {
      const router = routers[i];
      try {
        for (let i2 = 0, len2 = routes.length;i2 < len2; i2++) {
          router.add(...routes[i2]);
        }
        res = router.match(method, path);
      } catch (e) {
        if (e instanceof UnsupportedPathError) {
          continue;
        }
        throw e;
      }
      this.match = router.match.bind(router);
      this.#routers = [router];
      this.#routes = undefined;
      break;
    }
    if (i === len) {
      throw new Error("Fatal error");
    }
    this.name = `SmartRouter + ${this.activeRouter.name}`;
    return res;
  }
  get activeRouter() {
    if (this.#routes || this.#routers.length !== 1) {
      throw new Error("No active router has been determined yet.");
    }
    return this.#routers[0];
  }
};

// ../../node_modules/hono/dist/router/trie-router/node.js
var emptyParams = /* @__PURE__ */ Object.create(null);
var Node2 = class _Node2 {
  #methods;
  #children;
  #patterns;
  #order = 0;
  #params = emptyParams;
  constructor(method, handler, children) {
    this.#children = children || /* @__PURE__ */ Object.create(null);
    this.#methods = [];
    if (method && handler) {
      const m = /* @__PURE__ */ Object.create(null);
      m[method] = { handler, possibleKeys: [], score: 0 };
      this.#methods = [m];
    }
    this.#patterns = [];
  }
  insert(method, path, handler) {
    this.#order = ++this.#order;
    let curNode = this;
    const parts = splitRoutingPath(path);
    const possibleKeys = [];
    for (let i = 0, len = parts.length;i < len; i++) {
      const p = parts[i];
      const nextP = parts[i + 1];
      const pattern = getPattern(p, nextP);
      const key = Array.isArray(pattern) ? pattern[0] : p;
      if (key in curNode.#children) {
        curNode = curNode.#children[key];
        if (pattern) {
          possibleKeys.push(pattern[1]);
        }
        continue;
      }
      curNode.#children[key] = new _Node2;
      if (pattern) {
        curNode.#patterns.push(pattern);
        possibleKeys.push(pattern[1]);
      }
      curNode = curNode.#children[key];
    }
    curNode.#methods.push({
      [method]: {
        handler,
        possibleKeys: possibleKeys.filter((v, i, a) => a.indexOf(v) === i),
        score: this.#order
      }
    });
    return curNode;
  }
  #getHandlerSets(node, method, nodeParams, params) {
    const handlerSets = [];
    for (let i = 0, len = node.#methods.length;i < len; i++) {
      const m = node.#methods[i];
      const handlerSet = m[method] || m[METHOD_NAME_ALL];
      const processedSet = {};
      if (handlerSet !== undefined) {
        handlerSet.params = /* @__PURE__ */ Object.create(null);
        handlerSets.push(handlerSet);
        if (nodeParams !== emptyParams || params && params !== emptyParams) {
          for (let i2 = 0, len2 = handlerSet.possibleKeys.length;i2 < len2; i2++) {
            const key = handlerSet.possibleKeys[i2];
            const processed = processedSet[handlerSet.score];
            handlerSet.params[key] = params?.[key] && !processed ? params[key] : nodeParams[key] ?? params?.[key];
            processedSet[handlerSet.score] = true;
          }
        }
      }
    }
    return handlerSets;
  }
  search(method, path) {
    const handlerSets = [];
    this.#params = emptyParams;
    const curNode = this;
    let curNodes = [curNode];
    const parts = splitPath(path);
    const curNodesQueue = [];
    for (let i = 0, len = parts.length;i < len; i++) {
      const part = parts[i];
      const isLast = i === len - 1;
      const tempNodes = [];
      for (let j = 0, len2 = curNodes.length;j < len2; j++) {
        const node = curNodes[j];
        const nextNode = node.#children[part];
        if (nextNode) {
          nextNode.#params = node.#params;
          if (isLast) {
            if (nextNode.#children["*"]) {
              handlerSets.push(...this.#getHandlerSets(nextNode.#children["*"], method, node.#params));
            }
            handlerSets.push(...this.#getHandlerSets(nextNode, method, node.#params));
          } else {
            tempNodes.push(nextNode);
          }
        }
        for (let k = 0, len3 = node.#patterns.length;k < len3; k++) {
          const pattern = node.#patterns[k];
          const params = node.#params === emptyParams ? {} : { ...node.#params };
          if (pattern === "*") {
            const astNode = node.#children["*"];
            if (astNode) {
              handlerSets.push(...this.#getHandlerSets(astNode, method, node.#params));
              astNode.#params = params;
              tempNodes.push(astNode);
            }
            continue;
          }
          const [key, name, matcher] = pattern;
          if (!part && !(matcher instanceof RegExp)) {
            continue;
          }
          const child = node.#children[key];
          const restPathString = parts.slice(i).join("/");
          if (matcher instanceof RegExp) {
            const m = matcher.exec(restPathString);
            if (m) {
              params[name] = m[0];
              handlerSets.push(...this.#getHandlerSets(child, method, node.#params, params));
              if (Object.keys(child.#children).length) {
                child.#params = params;
                const componentCount = m[0].match(/\//)?.length ?? 0;
                const targetCurNodes = curNodesQueue[componentCount] ||= [];
                targetCurNodes.push(child);
              }
              continue;
            }
          }
          if (matcher === true || matcher.test(part)) {
            params[name] = part;
            if (isLast) {
              handlerSets.push(...this.#getHandlerSets(child, method, params, node.#params));
              if (child.#children["*"]) {
                handlerSets.push(...this.#getHandlerSets(child.#children["*"], method, params, node.#params));
              }
            } else {
              child.#params = params;
              tempNodes.push(child);
            }
          }
        }
      }
      curNodes = tempNodes.concat(curNodesQueue.shift() ?? []);
    }
    if (handlerSets.length > 1) {
      handlerSets.sort((a, b) => {
        return a.score - b.score;
      });
    }
    return [handlerSets.map(({ handler, params }) => [handler, params])];
  }
};

// ../../node_modules/hono/dist/router/trie-router/router.js
var TrieRouter = class {
  name = "TrieRouter";
  #node;
  constructor() {
    this.#node = new Node2;
  }
  add(method, path, handler) {
    const results = checkOptionalParameter(path);
    if (results) {
      for (let i = 0, len = results.length;i < len; i++) {
        this.#node.insert(method, results[i], handler);
      }
      return;
    }
    this.#node.insert(method, path, handler);
  }
  match(method, path) {
    return this.#node.search(method, path);
  }
};

// ../../node_modules/hono/dist/hono.js
var Hono2 = class extends Hono {
  constructor(options = {}) {
    super(options);
    this.router = options.router ?? new SmartRouter({
      routers: [new RegExpRouter, new TrieRouter]
    });
  }
};

// ../../node_modules/hono/dist/middleware/cors/index.js
var cors = (options) => {
  const defaults = {
    origin: "*",
    allowMethods: ["GET", "HEAD", "PUT", "POST", "DELETE", "PATCH"],
    allowHeaders: [],
    exposeHeaders: []
  };
  const opts = {
    ...defaults,
    ...options
  };
  const findAllowOrigin = ((optsOrigin) => {
    if (typeof optsOrigin === "string") {
      if (optsOrigin === "*") {
        return () => optsOrigin;
      } else {
        return (origin) => optsOrigin === origin ? origin : null;
      }
    } else if (typeof optsOrigin === "function") {
      return optsOrigin;
    } else {
      return (origin) => optsOrigin.includes(origin) ? origin : null;
    }
  })(opts.origin);
  const findAllowMethods = ((optsAllowMethods) => {
    if (typeof optsAllowMethods === "function") {
      return optsAllowMethods;
    } else if (Array.isArray(optsAllowMethods)) {
      return () => optsAllowMethods;
    } else {
      return () => [];
    }
  })(opts.allowMethods);
  return async function cors2(c, next) {
    function set(key, value) {
      c.res.headers.set(key, value);
    }
    const allowOrigin = await findAllowOrigin(c.req.header("origin") || "", c);
    if (allowOrigin) {
      set("Access-Control-Allow-Origin", allowOrigin);
    }
    if (opts.credentials) {
      set("Access-Control-Allow-Credentials", "true");
    }
    if (opts.exposeHeaders?.length) {
      set("Access-Control-Expose-Headers", opts.exposeHeaders.join(","));
    }
    if (c.req.method === "OPTIONS") {
      if (opts.origin !== "*") {
        set("Vary", "Origin");
      }
      if (opts.maxAge != null) {
        set("Access-Control-Max-Age", opts.maxAge.toString());
      }
      const allowMethods = await findAllowMethods(c.req.header("origin") || "", c);
      if (allowMethods.length) {
        set("Access-Control-Allow-Methods", allowMethods.join(","));
      }
      let headers = opts.allowHeaders;
      if (!headers?.length) {
        const requestHeaders = c.req.header("Access-Control-Request-Headers");
        if (requestHeaders) {
          headers = requestHeaders.split(/\s*,\s*/);
        }
      }
      if (headers?.length) {
        set("Access-Control-Allow-Headers", headers.join(","));
        c.res.headers.append("Vary", "Access-Control-Request-Headers");
      }
      c.res.headers.delete("Content-Length");
      c.res.headers.delete("Content-Type");
      return new Response(null, {
        headers: c.res.headers,
        status: 204,
        statusText: "No Content"
      });
    }
    await next();
    if (opts.origin !== "*") {
      c.header("Vary", "Origin", { append: true });
    }
  };
};

// ../../node_modules/hono/dist/utils/color.js
function getColorEnabled() {
  const { process: process2, Deno: Deno2 } = globalThis;
  const isNoColor = typeof Deno2?.noColor === "boolean" ? Deno2.noColor : process2 !== undefined ? "NO_COLOR" in process2?.env : false;
  return !isNoColor;
}
async function getColorEnabledAsync() {
  const { navigator: navigator2 } = globalThis;
  const cfWorkers = "cloudflare:workers";
  const isNoColor = navigator2 !== undefined && navigator2.userAgent === "Cloudflare-Workers" ? await (async () => {
    try {
      return "NO_COLOR" in ((await import(cfWorkers)).env ?? {});
    } catch {
      return false;
    }
  })() : !getColorEnabled();
  return !isNoColor;
}

// ../../node_modules/hono/dist/middleware/logger/index.js
var humanize = (times) => {
  const [delimiter, separator] = [",", "."];
  const orderTimes = times.map((v) => v.replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1" + delimiter));
  return orderTimes.join(separator);
};
var time = (start) => {
  const delta = Date.now() - start;
  return humanize([delta < 1000 ? delta + "ms" : Math.round(delta / 1000) + "s"]);
};
var colorStatus = async (status) => {
  const colorEnabled = await getColorEnabledAsync();
  if (colorEnabled) {
    switch (status / 100 | 0) {
      case 5:
        return `\x1B[31m${status}\x1B[0m`;
      case 4:
        return `\x1B[33m${status}\x1B[0m`;
      case 3:
        return `\x1B[36m${status}\x1B[0m`;
      case 2:
        return `\x1B[32m${status}\x1B[0m`;
    }
  }
  return `${status}`;
};
async function log(fn, prefix, method, path, status = 0, elapsed) {
  const out = prefix === "<--" ? `${prefix} ${method} ${path}` : `${prefix} ${method} ${path} ${await colorStatus(status)} ${elapsed}`;
  fn(out);
}
var logger = (fn = console.log) => {
  return async function logger2(c, next) {
    const { method, url } = c.req;
    const path = url.slice(url.indexOf("/", 8));
    await log(fn, "<--", method, path);
    const start = Date.now();
    await next();
    await log(fn, "-->", method, path, c.res.status, time(start));
  };
};

// ../../node_modules/hono/dist/middleware/request-id/request-id.js
var requestId = ({
  limitLength = 255,
  headerName = "X-Request-Id",
  generator = () => crypto.randomUUID()
} = {}) => {
  return async function requestId2(c, next) {
    let reqId = headerName ? c.req.header(headerName) : undefined;
    if (!reqId || reqId.length > limitLength || /[^\w\-=]/.test(reqId)) {
      reqId = generator(c);
    }
    c.set("requestId", reqId);
    if (headerName) {
      c.header(headerName, reqId);
    }
    await next();
  };
};

// ../../node_modules/hono/dist/middleware/secure-headers/secure-headers.js
var HEADERS_MAP = {
  crossOriginEmbedderPolicy: ["Cross-Origin-Embedder-Policy", "require-corp"],
  crossOriginResourcePolicy: ["Cross-Origin-Resource-Policy", "same-origin"],
  crossOriginOpenerPolicy: ["Cross-Origin-Opener-Policy", "same-origin"],
  originAgentCluster: ["Origin-Agent-Cluster", "?1"],
  referrerPolicy: ["Referrer-Policy", "no-referrer"],
  strictTransportSecurity: ["Strict-Transport-Security", "max-age=15552000; includeSubDomains"],
  xContentTypeOptions: ["X-Content-Type-Options", "nosniff"],
  xDnsPrefetchControl: ["X-DNS-Prefetch-Control", "off"],
  xDownloadOptions: ["X-Download-Options", "noopen"],
  xFrameOptions: ["X-Frame-Options", "SAMEORIGIN"],
  xPermittedCrossDomainPolicies: ["X-Permitted-Cross-Domain-Policies", "none"],
  xXssProtection: ["X-XSS-Protection", "0"]
};
var DEFAULT_OPTIONS = {
  crossOriginEmbedderPolicy: false,
  crossOriginResourcePolicy: true,
  crossOriginOpenerPolicy: true,
  originAgentCluster: true,
  referrerPolicy: true,
  strictTransportSecurity: true,
  xContentTypeOptions: true,
  xDnsPrefetchControl: true,
  xDownloadOptions: true,
  xFrameOptions: true,
  xPermittedCrossDomainPolicies: true,
  xXssProtection: true,
  removePoweredBy: true,
  permissionsPolicy: {}
};
var secureHeaders = (customOptions) => {
  const options = { ...DEFAULT_OPTIONS, ...customOptions };
  const headersToSet = getFilteredHeaders(options);
  const callbacks = [];
  if (options.contentSecurityPolicy) {
    const [callback, value] = getCSPDirectives(options.contentSecurityPolicy);
    if (callback) {
      callbacks.push(callback);
    }
    headersToSet.push(["Content-Security-Policy", value]);
  }
  if (options.contentSecurityPolicyReportOnly) {
    const [callback, value] = getCSPDirectives(options.contentSecurityPolicyReportOnly);
    if (callback) {
      callbacks.push(callback);
    }
    headersToSet.push(["Content-Security-Policy-Report-Only", value]);
  }
  if (options.permissionsPolicy && Object.keys(options.permissionsPolicy).length > 0) {
    headersToSet.push([
      "Permissions-Policy",
      getPermissionsPolicyDirectives(options.permissionsPolicy)
    ]);
  }
  if (options.reportingEndpoints) {
    headersToSet.push(["Reporting-Endpoints", getReportingEndpoints(options.reportingEndpoints)]);
  }
  if (options.reportTo) {
    headersToSet.push(["Report-To", getReportToOptions(options.reportTo)]);
  }
  return async function secureHeaders2(ctx, next) {
    const headersToSetForReq = callbacks.length === 0 ? headersToSet : callbacks.reduce((acc, cb) => cb(ctx, acc), headersToSet);
    await next();
    setHeaders(ctx, headersToSetForReq);
    if (options?.removePoweredBy) {
      ctx.res.headers.delete("X-Powered-By");
    }
  };
};
function getFilteredHeaders(options) {
  return Object.entries(HEADERS_MAP).filter(([key]) => options[key]).map(([key, defaultValue]) => {
    const overrideValue = options[key];
    return typeof overrideValue === "string" ? [defaultValue[0], overrideValue] : defaultValue;
  });
}
function getCSPDirectives(contentSecurityPolicy) {
  const callbacks = [];
  const resultValues = [];
  for (const [directive, value] of Object.entries(contentSecurityPolicy)) {
    const valueArray = Array.isArray(value) ? value : [value];
    valueArray.forEach((value2, i) => {
      if (typeof value2 === "function") {
        const index = i * 2 + 2 + resultValues.length;
        callbacks.push((ctx, values) => {
          values[index] = value2(ctx, directive);
        });
      }
    });
    resultValues.push(directive.replace(/[A-Z]+(?![a-z])|[A-Z]/g, (match2, offset) => offset ? "-" + match2.toLowerCase() : match2.toLowerCase()), ...valueArray.flatMap((value2) => [" ", value2]), "; ");
  }
  resultValues.pop();
  return callbacks.length === 0 ? [undefined, resultValues.join("")] : [
    (ctx, headersToSet) => headersToSet.map((values) => {
      if (values[0] === "Content-Security-Policy" || values[0] === "Content-Security-Policy-Report-Only") {
        const clone = values[1].slice();
        callbacks.forEach((cb) => {
          cb(ctx, clone);
        });
        return [values[0], clone.join("")];
      } else {
        return values;
      }
    }),
    resultValues
  ];
}
function getPermissionsPolicyDirectives(policy) {
  return Object.entries(policy).map(([directive, value]) => {
    const kebabDirective = camelToKebab(directive);
    if (typeof value === "boolean") {
      return `${kebabDirective}=${value ? "*" : "none"}`;
    }
    if (Array.isArray(value)) {
      if (value.length === 0) {
        return `${kebabDirective}=()`;
      }
      if (value.length === 1 && (value[0] === "*" || value[0] === "none")) {
        return `${kebabDirective}=${value[0]}`;
      }
      const allowlist = value.map((item) => ["self", "src"].includes(item) ? item : `"${item}"`);
      return `${kebabDirective}=(${allowlist.join(" ")})`;
    }
    return "";
  }).filter(Boolean).join(", ");
}
function camelToKebab(str) {
  return str.replace(/([a-z\d])([A-Z])/g, "$1-$2").toLowerCase();
}
function getReportingEndpoints(reportingEndpoints = []) {
  return reportingEndpoints.map((endpoint) => `${endpoint.name}="${endpoint.url}"`).join(", ");
}
function getReportToOptions(reportTo = []) {
  return reportTo.map((option) => JSON.stringify(option)).join(", ");
}
function setHeaders(ctx, headersToSet) {
  headersToSet.forEach(([header, value]) => {
    ctx.res.headers.set(header, value);
  });
}

// ../../node_modules/postgres/src/index.js
import os from "os";
import fs from "fs";

// ../../node_modules/postgres/src/query.js
var originCache = new Map;
var originStackCache = new Map;
var originError = Symbol("OriginError");
var CLOSE = {};

class Query extends Promise {
  constructor(strings, args, handler, canceller, options = {}) {
    let resolve, reject;
    super((a, b) => {
      resolve = a;
      reject = b;
    });
    this.tagged = Array.isArray(strings.raw);
    this.strings = strings;
    this.args = args;
    this.handler = handler;
    this.canceller = canceller;
    this.options = options;
    this.state = null;
    this.statement = null;
    this.resolve = (x) => (this.active = false, resolve(x));
    this.reject = (x) => (this.active = false, reject(x));
    this.active = false;
    this.cancelled = null;
    this.executed = false;
    this.signature = "";
    this[originError] = this.handler.debug ? new Error : this.tagged && cachedError(this.strings);
  }
  get origin() {
    return (this.handler.debug ? this[originError].stack : this.tagged && originStackCache.has(this.strings) ? originStackCache.get(this.strings) : originStackCache.set(this.strings, this[originError].stack).get(this.strings)) || "";
  }
  static get [Symbol.species]() {
    return Promise;
  }
  cancel() {
    return this.canceller && (this.canceller(this), this.canceller = null);
  }
  simple() {
    this.options.simple = true;
    this.options.prepare = false;
    return this;
  }
  async readable() {
    this.simple();
    this.streaming = true;
    return this;
  }
  async writable() {
    this.simple();
    this.streaming = true;
    return this;
  }
  cursor(rows = 1, fn) {
    this.options.simple = false;
    if (typeof rows === "function") {
      fn = rows;
      rows = 1;
    }
    this.cursorRows = rows;
    if (typeof fn === "function")
      return this.cursorFn = fn, this;
    let prev;
    return {
      [Symbol.asyncIterator]: () => ({
        next: () => {
          if (this.executed && !this.active)
            return { done: true };
          prev && prev();
          const promise = new Promise((resolve, reject) => {
            this.cursorFn = (value) => {
              resolve({ value, done: false });
              return new Promise((r) => prev = r);
            };
            this.resolve = () => (this.active = false, resolve({ done: true }));
            this.reject = (x) => (this.active = false, reject(x));
          });
          this.execute();
          return promise;
        },
        return() {
          prev && prev(CLOSE);
          return { done: true };
        }
      })
    };
  }
  describe() {
    this.options.simple = false;
    this.onlyDescribe = this.options.prepare = true;
    return this;
  }
  stream() {
    throw new Error(".stream has been renamed to .forEach");
  }
  forEach(fn) {
    this.forEachFn = fn;
    this.handle();
    return this;
  }
  raw() {
    this.isRaw = true;
    return this;
  }
  values() {
    this.isRaw = "values";
    return this;
  }
  async handle() {
    !this.executed && (this.executed = true) && await 1 && this.handler(this);
  }
  execute() {
    this.handle();
    return this;
  }
  then() {
    this.handle();
    return super.then.apply(this, arguments);
  }
  catch() {
    this.handle();
    return super.catch.apply(this, arguments);
  }
  finally() {
    this.handle();
    return super.finally.apply(this, arguments);
  }
}
function cachedError(xs) {
  if (originCache.has(xs))
    return originCache.get(xs);
  const x = Error.stackTraceLimit;
  Error.stackTraceLimit = 4;
  originCache.set(xs, new Error);
  Error.stackTraceLimit = x;
  return originCache.get(xs);
}

// ../../node_modules/postgres/src/errors.js
class PostgresError extends Error {
  constructor(x) {
    super(x.message);
    this.name = this.constructor.name;
    Object.assign(this, x);
  }
}
var Errors = {
  connection,
  postgres,
  generic,
  notSupported
};
function connection(x, options, socket) {
  const { host, port } = socket || options;
  const error = Object.assign(new Error("write " + x + " " + (options.path || host + ":" + port)), {
    code: x,
    errno: x,
    address: options.path || host
  }, options.path ? {} : { port });
  Error.captureStackTrace(error, connection);
  return error;
}
function postgres(x) {
  const error = new PostgresError(x);
  Error.captureStackTrace(error, postgres);
  return error;
}
function generic(code, message) {
  const error = Object.assign(new Error(code + ": " + message), { code });
  Error.captureStackTrace(error, generic);
  return error;
}
function notSupported(x) {
  const error = Object.assign(new Error(x + " (B) is not supported"), {
    code: "MESSAGE_NOT_SUPPORTED",
    name: x
  });
  Error.captureStackTrace(error, notSupported);
  return error;
}

// ../../node_modules/postgres/src/types.js
var types = {
  string: {
    to: 25,
    from: null,
    serialize: (x) => "" + x
  },
  number: {
    to: 0,
    from: [21, 23, 26, 700, 701],
    serialize: (x) => "" + x,
    parse: (x) => +x
  },
  json: {
    to: 114,
    from: [114, 3802],
    serialize: (x) => JSON.stringify(x),
    parse: (x) => JSON.parse(x)
  },
  boolean: {
    to: 16,
    from: 16,
    serialize: (x) => x === true ? "t" : "f",
    parse: (x) => x === "t"
  },
  date: {
    to: 1184,
    from: [1082, 1114, 1184],
    serialize: (x) => (x instanceof Date ? x : new Date(x)).toISOString(),
    parse: (x) => new Date(x)
  },
  bytea: {
    to: 17,
    from: 17,
    serialize: (x) => "\\x" + Buffer.from(x).toString("hex"),
    parse: (x) => Buffer.from(x.slice(2), "hex")
  }
};

class NotTagged {
  then() {
    notTagged();
  }
  catch() {
    notTagged();
  }
  finally() {
    notTagged();
  }
}

class Identifier extends NotTagged {
  constructor(value) {
    super();
    this.value = escapeIdentifier(value);
  }
}

class Parameter extends NotTagged {
  constructor(value, type, array) {
    super();
    this.value = value;
    this.type = type;
    this.array = array;
  }
}

class Builder extends NotTagged {
  constructor(first, rest) {
    super();
    this.first = first;
    this.rest = rest;
  }
  build(before, parameters, types2, options) {
    const keyword = builders.map(([x, fn]) => ({ fn, i: before.search(x) })).sort((a, b) => a.i - b.i).pop();
    return keyword.i === -1 ? escapeIdentifiers(this.first, options) : keyword.fn(this.first, this.rest, parameters, types2, options);
  }
}
function handleValue(x, parameters, types2, options) {
  let value = x instanceof Parameter ? x.value : x;
  if (value === undefined) {
    x instanceof Parameter ? x.value = options.transform.undefined : value = x = options.transform.undefined;
    if (value === undefined)
      throw Errors.generic("UNDEFINED_VALUE", "Undefined values are not allowed");
  }
  return "$" + types2.push(x instanceof Parameter ? (parameters.push(x.value), x.array ? x.array[x.type || inferType(x.value)] || x.type || firstIsString(x.value) : x.type) : (parameters.push(x), inferType(x)));
}
var defaultHandlers = typeHandlers(types);
function stringify(q, string, value, parameters, types2, options) {
  for (let i = 1;i < q.strings.length; i++) {
    string += stringifyValue(string, value, parameters, types2, options) + q.strings[i];
    value = q.args[i];
  }
  return string;
}
function stringifyValue(string, value, parameters, types2, o) {
  return value instanceof Builder ? value.build(string, parameters, types2, o) : value instanceof Query ? fragment(value, parameters, types2, o) : value instanceof Identifier ? value.value : value && value[0] instanceof Query ? value.reduce((acc, x) => acc + " " + fragment(x, parameters, types2, o), "") : handleValue(value, parameters, types2, o);
}
function fragment(q, parameters, types2, options) {
  q.fragment = true;
  return stringify(q, q.strings[0], q.args[0], parameters, types2, options);
}
function valuesBuilder(first, parameters, types2, columns, options) {
  return first.map((row) => "(" + columns.map((column) => stringifyValue("values", row[column], parameters, types2, options)).join(",") + ")").join(",");
}
function values(first, rest, parameters, types2, options) {
  const multi = Array.isArray(first[0]);
  const columns = rest.length ? rest.flat() : Object.keys(multi ? first[0] : first);
  return valuesBuilder(multi ? first : [first], parameters, types2, columns, options);
}
function select(first, rest, parameters, types2, options) {
  typeof first === "string" && (first = [first].concat(rest));
  if (Array.isArray(first))
    return escapeIdentifiers(first, options);
  let value;
  const columns = rest.length ? rest.flat() : Object.keys(first);
  return columns.map((x) => {
    value = first[x];
    return (value instanceof Query ? fragment(value, parameters, types2, options) : value instanceof Identifier ? value.value : handleValue(value, parameters, types2, options)) + " as " + escapeIdentifier(options.transform.column.to ? options.transform.column.to(x) : x);
  }).join(",");
}
var builders = Object.entries({
  values,
  in: (...xs) => {
    const x = values(...xs);
    return x === "()" ? "(null)" : x;
  },
  select,
  as: select,
  returning: select,
  "\\(": select,
  update(first, rest, parameters, types2, options) {
    return (rest.length ? rest.flat() : Object.keys(first)).map((x) => escapeIdentifier(options.transform.column.to ? options.transform.column.to(x) : x) + "=" + stringifyValue("values", first[x], parameters, types2, options));
  },
  insert(first, rest, parameters, types2, options) {
    const columns = rest.length ? rest.flat() : Object.keys(Array.isArray(first) ? first[0] : first);
    return "(" + escapeIdentifiers(columns, options) + ")values" + valuesBuilder(Array.isArray(first) ? first : [first], parameters, types2, columns, options);
  }
}).map(([x, fn]) => [new RegExp("((?:^|[\\s(])" + x + "(?:$|[\\s(]))(?![\\s\\S]*\\1)", "i"), fn]);
function notTagged() {
  throw Errors.generic("NOT_TAGGED_CALL", "Query not called as a tagged template literal");
}
var serializers = defaultHandlers.serializers;
var parsers = defaultHandlers.parsers;
function firstIsString(x) {
  if (Array.isArray(x))
    return firstIsString(x[0]);
  return typeof x === "string" ? 1009 : 0;
}
var mergeUserTypes = function(types2) {
  const user = typeHandlers(types2 || {});
  return {
    serializers: Object.assign({}, serializers, user.serializers),
    parsers: Object.assign({}, parsers, user.parsers)
  };
};
function typeHandlers(types2) {
  return Object.keys(types2).reduce((acc, k) => {
    types2[k].from && [].concat(types2[k].from).forEach((x) => acc.parsers[x] = types2[k].parse);
    if (types2[k].serialize) {
      acc.serializers[types2[k].to] = types2[k].serialize;
      types2[k].from && [].concat(types2[k].from).forEach((x) => acc.serializers[x] = types2[k].serialize);
    }
    return acc;
  }, { parsers: {}, serializers: {} });
}
function escapeIdentifiers(xs, { transform: { column } }) {
  return xs.map((x) => escapeIdentifier(column.to ? column.to(x) : x)).join(",");
}
var escapeIdentifier = function escape(str) {
  return '"' + str.replace(/"/g, '""').replace(/\./g, '"."') + '"';
};
var inferType = function inferType2(x) {
  return x instanceof Parameter ? x.type : x instanceof Date ? 1184 : x instanceof Uint8Array ? 17 : x === true || x === false ? 16 : typeof x === "bigint" ? 20 : Array.isArray(x) ? inferType2(x[0]) : 0;
};
var escapeBackslash = /\\/g;
var escapeQuote = /"/g;
function arrayEscape(x) {
  return x.replace(escapeBackslash, "\\\\").replace(escapeQuote, "\\\"");
}
var arraySerializer = function arraySerializer2(xs, serializer, options, typarray) {
  if (Array.isArray(xs) === false)
    return xs;
  if (!xs.length)
    return "{}";
  const first = xs[0];
  const delimiter = typarray === 1020 ? ";" : ",";
  if (Array.isArray(first) && !first.type)
    return "{" + xs.map((x) => arraySerializer2(x, serializer, options, typarray)).join(delimiter) + "}";
  return "{" + xs.map((x) => {
    if (x === undefined) {
      x = options.transform.undefined;
      if (x === undefined)
        throw Errors.generic("UNDEFINED_VALUE", "Undefined values are not allowed");
    }
    return x === null ? "null" : '"' + arrayEscape(serializer ? serializer(x.type ? x.value : x) : "" + x) + '"';
  }).join(delimiter) + "}";
};
var arrayParserState = {
  i: 0,
  char: null,
  str: "",
  quoted: false,
  last: 0
};
var arrayParser = function arrayParser2(x, parser, typarray) {
  arrayParserState.i = arrayParserState.last = 0;
  return arrayParserLoop(arrayParserState, x, parser, typarray);
};
function arrayParserLoop(s, x, parser, typarray) {
  const xs = [];
  const delimiter = typarray === 1020 ? ";" : ",";
  for (;s.i < x.length; s.i++) {
    s.char = x[s.i];
    if (s.quoted) {
      if (s.char === "\\") {
        s.str += x[++s.i];
      } else if (s.char === '"') {
        xs.push(parser ? parser(s.str) : s.str);
        s.str = "";
        s.quoted = x[s.i + 1] === '"';
        s.last = s.i + 2;
      } else {
        s.str += s.char;
      }
    } else if (s.char === '"') {
      s.quoted = true;
    } else if (s.char === "{") {
      s.last = ++s.i;
      xs.push(arrayParserLoop(s, x, parser, typarray));
    } else if (s.char === "}") {
      s.quoted = false;
      s.last < s.i && xs.push(parser ? parser(x.slice(s.last, s.i)) : x.slice(s.last, s.i));
      s.last = s.i + 1;
      break;
    } else if (s.char === delimiter && s.p !== "}" && s.p !== '"') {
      xs.push(parser ? parser(x.slice(s.last, s.i)) : x.slice(s.last, s.i));
      s.last = s.i + 1;
    }
    s.p = s.char;
  }
  s.last < s.i && xs.push(parser ? parser(x.slice(s.last, s.i + 1)) : x.slice(s.last, s.i + 1));
  return xs;
}
var toCamel = (x) => {
  let str = x[0];
  for (let i = 1;i < x.length; i++)
    str += x[i] === "_" ? x[++i].toUpperCase() : x[i];
  return str;
};
var toPascal = (x) => {
  let str = x[0].toUpperCase();
  for (let i = 1;i < x.length; i++)
    str += x[i] === "_" ? x[++i].toUpperCase() : x[i];
  return str;
};
var toKebab = (x) => x.replace(/_/g, "-");
var fromCamel = (x) => x.replace(/([A-Z])/g, "_$1").toLowerCase();
var fromPascal = (x) => (x.slice(0, 1) + x.slice(1).replace(/([A-Z])/g, "_$1")).toLowerCase();
var fromKebab = (x) => x.replace(/-/g, "_");
function createJsonTransform(fn) {
  return function jsonTransform(x, column) {
    return typeof x === "object" && x !== null && (column.type === 114 || column.type === 3802) ? Array.isArray(x) ? x.map((x2) => jsonTransform(x2, column)) : Object.entries(x).reduce((acc, [k, v]) => Object.assign(acc, { [fn(k)]: jsonTransform(v, column) }), {}) : x;
  };
}
toCamel.column = { from: toCamel };
toCamel.value = { from: createJsonTransform(toCamel) };
fromCamel.column = { to: fromCamel };
var camel = { ...toCamel };
camel.column.to = fromCamel;
toPascal.column = { from: toPascal };
toPascal.value = { from: createJsonTransform(toPascal) };
fromPascal.column = { to: fromPascal };
var pascal = { ...toPascal };
pascal.column.to = fromPascal;
toKebab.column = { from: toKebab };
toKebab.value = { from: createJsonTransform(toKebab) };
fromKebab.column = { to: fromKebab };
var kebab = { ...toKebab };
kebab.column.to = fromKebab;

// ../../node_modules/postgres/src/connection.js
import net from "net";
import tls from "tls";
import crypto2 from "crypto";
import Stream from "stream";
import { performance } from "perf_hooks";

// ../../node_modules/postgres/src/result.js
class Result extends Array {
  constructor() {
    super();
    Object.defineProperties(this, {
      count: { value: null, writable: true },
      state: { value: null, writable: true },
      command: { value: null, writable: true },
      columns: { value: null, writable: true },
      statement: { value: null, writable: true }
    });
  }
  static get [Symbol.species]() {
    return Array;
  }
}

// ../../node_modules/postgres/src/queue.js
var queue_default = Queue;
function Queue(initial = []) {
  let xs = initial.slice();
  let index = 0;
  return {
    get length() {
      return xs.length - index;
    },
    remove: (x) => {
      const index2 = xs.indexOf(x);
      return index2 === -1 ? null : (xs.splice(index2, 1), x);
    },
    push: (x) => (xs.push(x), x),
    shift: () => {
      const out = xs[index++];
      if (index === xs.length) {
        index = 0;
        xs = [];
      } else {
        xs[index - 1] = undefined;
      }
      return out;
    }
  };
}

// ../../node_modules/postgres/src/bytes.js
var size = 256;
var buffer = Buffer.allocUnsafe(size);
var messages = "BCcDdEFfHPpQSX".split("").reduce((acc, x) => {
  const v = x.charCodeAt(0);
  acc[x] = () => {
    buffer[0] = v;
    b.i = 5;
    return b;
  };
  return acc;
}, {});
var b = Object.assign(reset, messages, {
  N: String.fromCharCode(0),
  i: 0,
  inc(x) {
    b.i += x;
    return b;
  },
  str(x) {
    const length = Buffer.byteLength(x);
    fit(length);
    b.i += buffer.write(x, b.i, length, "utf8");
    return b;
  },
  i16(x) {
    fit(2);
    buffer.writeUInt16BE(x, b.i);
    b.i += 2;
    return b;
  },
  i32(x, i) {
    if (i || i === 0) {
      buffer.writeUInt32BE(x, i);
      return b;
    }
    fit(4);
    buffer.writeUInt32BE(x, b.i);
    b.i += 4;
    return b;
  },
  z(x) {
    fit(x);
    buffer.fill(0, b.i, b.i + x);
    b.i += x;
    return b;
  },
  raw(x) {
    buffer = Buffer.concat([buffer.subarray(0, b.i), x]);
    b.i = buffer.length;
    return b;
  },
  end(at = 1) {
    buffer.writeUInt32BE(b.i - at, at);
    const out = buffer.subarray(0, b.i);
    b.i = 0;
    buffer = Buffer.allocUnsafe(size);
    return out;
  }
});
var bytes_default = b;
function fit(x) {
  if (buffer.length - b.i < x) {
    const prev = buffer, length = prev.length;
    buffer = Buffer.allocUnsafe(length + (length >> 1) + x);
    prev.copy(buffer);
  }
}
function reset() {
  b.i = 0;
  return b;
}

// ../../node_modules/postgres/src/connection.js
var connection_default = Connection;
var uid = 1;
var Sync = bytes_default().S().end();
var Flush = bytes_default().H().end();
var SSLRequest = bytes_default().i32(8).i32(80877103).end(8);
var ExecuteUnnamed = Buffer.concat([bytes_default().E().str(bytes_default.N).i32(0).end(), Sync]);
var DescribeUnnamed = bytes_default().D().str("S").str(bytes_default.N).end();
var noop = () => {};
var retryRoutines = new Set([
  "FetchPreparedStatement",
  "RevalidateCachedQuery",
  "transformAssignedExpr"
]);
var errorFields = {
  83: "severity_local",
  86: "severity",
  67: "code",
  77: "message",
  68: "detail",
  72: "hint",
  80: "position",
  112: "internal_position",
  113: "internal_query",
  87: "where",
  115: "schema_name",
  116: "table_name",
  99: "column_name",
  100: "data type_name",
  110: "constraint_name",
  70: "file",
  76: "line",
  82: "routine"
};
function Connection(options, queues = {}, { onopen = noop, onend = noop, onclose = noop } = {}) {
  const {
    sslnegotiation,
    ssl,
    max,
    user,
    host,
    port,
    database,
    parsers: parsers2,
    transform,
    onnotice,
    onnotify,
    onparameter,
    max_pipeline,
    keep_alive,
    backoff,
    target_session_attrs
  } = options;
  const sent = queue_default(), id = uid++, backend = { pid: null, secret: null }, idleTimer = timer(end, options.idle_timeout), lifeTimer = timer(end, options.max_lifetime), connectTimer = timer(connectTimedOut, options.connect_timeout);
  let socket = null, cancelMessage, errorResponse = null, result = new Result, incoming = Buffer.alloc(0), needsTypes = options.fetch_types, backendParameters = {}, statements = {}, statementId = Math.random().toString(36).slice(2), statementCount = 1, closedTime = 0, remaining = 0, hostIndex = 0, retries = 0, length = 0, delay = 0, rows = 0, serverSignature = null, nextWriteTimer = null, terminated = false, incomings = null, results = null, initial = null, ending = null, stream = null, chunk = null, ended = null, nonce = null, query = null, final = null;
  const connection2 = {
    queue: queues.closed,
    idleTimer,
    connect(query2) {
      initial = query2;
      reconnect();
    },
    terminate,
    execute,
    cancel,
    end,
    count: 0,
    id
  };
  queues.closed && queues.closed.push(connection2);
  return connection2;
  async function createSocket() {
    let x;
    try {
      x = options.socket ? await Promise.resolve(options.socket(options)) : new net.Socket;
    } catch (e) {
      error(e);
      return;
    }
    x.on("error", error);
    x.on("close", closed);
    x.on("drain", drain);
    return x;
  }
  async function cancel({ pid, secret }, resolve, reject) {
    try {
      cancelMessage = bytes_default().i32(16).i32(80877102).i32(pid).i32(secret).end(16);
      await connect();
      socket.once("error", reject);
      socket.once("close", resolve);
    } catch (error2) {
      reject(error2);
    }
  }
  function execute(q) {
    if (terminated)
      return queryError(q, Errors.connection("CONNECTION_DESTROYED", options));
    if (stream)
      return queryError(q, Errors.generic("COPY_IN_PROGRESS", "You cannot execute queries during copy"));
    if (q.cancelled)
      return;
    try {
      q.state = backend;
      query ? sent.push(q) : (query = q, query.active = true);
      build(q);
      return write(toBuffer(q)) && !q.describeFirst && !q.cursorFn && sent.length < max_pipeline && (!q.options.onexecute || q.options.onexecute(connection2));
    } catch (error2) {
      sent.length === 0 && write(Sync);
      errored(error2);
      return true;
    }
  }
  function toBuffer(q) {
    if (q.parameters.length >= 65534)
      throw Errors.generic("MAX_PARAMETERS_EXCEEDED", "Max number of parameters (65534) exceeded");
    return q.options.simple ? bytes_default().Q().str(q.statement.string + bytes_default.N).end() : q.describeFirst ? Buffer.concat([describe(q), Flush]) : q.prepare ? q.prepared ? prepared(q) : Buffer.concat([describe(q), prepared(q)]) : unnamed(q);
  }
  function describe(q) {
    return Buffer.concat([
      Parse(q.statement.string, q.parameters, q.statement.types, q.statement.name),
      Describe("S", q.statement.name)
    ]);
  }
  function prepared(q) {
    return Buffer.concat([
      Bind(q.parameters, q.statement.types, q.statement.name, q.cursorName),
      q.cursorFn ? Execute("", q.cursorRows) : ExecuteUnnamed
    ]);
  }
  function unnamed(q) {
    return Buffer.concat([
      Parse(q.statement.string, q.parameters, q.statement.types),
      DescribeUnnamed,
      prepared(q)
    ]);
  }
  function build(q) {
    const parameters = [], types2 = [];
    const string = stringify(q, q.strings[0], q.args[0], parameters, types2, options);
    !q.tagged && q.args.forEach((x) => handleValue(x, parameters, types2, options));
    q.prepare = options.prepare && ("prepare" in q.options ? q.options.prepare : true);
    q.string = string;
    q.signature = q.prepare && types2 + string;
    q.onlyDescribe && delete statements[q.signature];
    q.parameters = q.parameters || parameters;
    q.prepared = q.prepare && q.signature in statements;
    q.describeFirst = q.onlyDescribe || parameters.length && !q.prepared;
    q.statement = q.prepared ? statements[q.signature] : { string, types: types2, name: q.prepare ? statementId + statementCount++ : "" };
    typeof options.debug === "function" && options.debug(id, string, parameters, types2);
  }
  function write(x, fn) {
    chunk = chunk ? Buffer.concat([chunk, x]) : Buffer.from(x);
    if (fn || chunk.length >= 1024)
      return nextWrite(fn);
    nextWriteTimer === null && (nextWriteTimer = setImmediate(nextWrite));
    return true;
  }
  function nextWrite(fn) {
    const x = socket.write(chunk, fn);
    nextWriteTimer !== null && clearImmediate(nextWriteTimer);
    chunk = nextWriteTimer = null;
    return x;
  }
  function connectTimedOut() {
    errored(Errors.connection("CONNECT_TIMEOUT", options, socket));
    socket.destroy();
  }
  async function secure() {
    if (sslnegotiation !== "direct") {
      write(SSLRequest);
      const canSSL = await new Promise((r) => socket.once("data", (x) => r(x[0] === 83)));
      if (!canSSL && ssl === "prefer")
        return connected();
    }
    const options2 = {
      socket,
      servername: net.isIP(socket.host) ? undefined : socket.host
    };
    if (sslnegotiation === "direct")
      options2.ALPNProtocols = ["postgresql"];
    if (ssl === "require" || ssl === "allow" || ssl === "prefer")
      options2.rejectUnauthorized = false;
    else if (typeof ssl === "object")
      Object.assign(options2, ssl);
    socket.removeAllListeners();
    socket = tls.connect(options2);
    socket.on("secureConnect", connected);
    socket.on("error", error);
    socket.on("close", closed);
    socket.on("drain", drain);
  }
  function drain() {
    !query && onopen(connection2);
  }
  function data(x) {
    if (incomings) {
      incomings.push(x);
      remaining -= x.length;
      if (remaining > 0)
        return;
    }
    incoming = incomings ? Buffer.concat(incomings, length - remaining) : incoming.length === 0 ? x : Buffer.concat([incoming, x], incoming.length + x.length);
    while (incoming.length > 4) {
      length = incoming.readUInt32BE(1);
      if (length >= incoming.length) {
        remaining = length - incoming.length;
        incomings = [incoming];
        break;
      }
      try {
        handle(incoming.subarray(0, length + 1));
      } catch (e) {
        query && (query.cursorFn || query.describeFirst) && write(Sync);
        errored(e);
      }
      incoming = incoming.subarray(length + 1);
      remaining = 0;
      incomings = null;
    }
  }
  async function connect() {
    terminated = false;
    backendParameters = {};
    socket || (socket = await createSocket());
    if (!socket)
      return;
    connectTimer.start();
    if (options.socket)
      return ssl ? secure() : connected();
    socket.on("connect", ssl ? secure : connected);
    if (options.path)
      return socket.connect(options.path);
    socket.ssl = ssl;
    socket.connect(port[hostIndex], host[hostIndex]);
    socket.host = host[hostIndex];
    socket.port = port[hostIndex];
    hostIndex = (hostIndex + 1) % port.length;
  }
  function reconnect() {
    setTimeout(connect, closedTime ? Math.max(0, closedTime + delay - performance.now()) : 0);
  }
  function connected() {
    try {
      statements = {};
      needsTypes = options.fetch_types;
      statementId = Math.random().toString(36).slice(2);
      statementCount = 1;
      lifeTimer.start();
      socket.on("data", data);
      keep_alive && socket.setKeepAlive && socket.setKeepAlive(true, 1000 * keep_alive);
      const s = StartupMessage();
      write(s);
    } catch (err) {
      error(err);
    }
  }
  function error(err) {
    if (connection2.queue === queues.connecting && options.host[retries + 1])
      return;
    errored(err);
    while (sent.length)
      queryError(sent.shift(), err);
  }
  function errored(err) {
    stream && (stream.destroy(err), stream = null);
    query && queryError(query, err);
    initial && (queryError(initial, err), initial = null);
  }
  function queryError(query2, err) {
    if (query2.reserve)
      return query2.reject(err);
    if (!err || typeof err !== "object")
      err = new Error(err);
    "query" in err || "parameters" in err || Object.defineProperties(err, {
      stack: { value: err.stack + query2.origin.replace(/.*\n/, `
`), enumerable: options.debug },
      query: { value: query2.string, enumerable: options.debug },
      parameters: { value: query2.parameters, enumerable: options.debug },
      args: { value: query2.args, enumerable: options.debug },
      types: { value: query2.statement && query2.statement.types, enumerable: options.debug }
    });
    query2.reject(err);
  }
  function end() {
    return ending || (!connection2.reserved && onend(connection2), !connection2.reserved && !initial && !query && sent.length === 0 ? (terminate(), new Promise((r) => socket && socket.readyState !== "closed" ? socket.once("close", r) : r())) : ending = new Promise((r) => ended = r));
  }
  function terminate() {
    terminated = true;
    if (stream || query || initial || sent.length)
      error(Errors.connection("CONNECTION_DESTROYED", options));
    clearImmediate(nextWriteTimer);
    if (socket) {
      socket.removeListener("data", data);
      socket.removeListener("connect", connected);
      socket.readyState === "open" && socket.end(bytes_default().X().end());
    }
    ended && (ended(), ending = ended = null);
  }
  async function closed(hadError) {
    incoming = Buffer.alloc(0);
    remaining = 0;
    incomings = null;
    clearImmediate(nextWriteTimer);
    socket.removeListener("data", data);
    socket.removeListener("connect", connected);
    idleTimer.cancel();
    lifeTimer.cancel();
    connectTimer.cancel();
    socket.removeAllListeners();
    socket = null;
    if (initial)
      return reconnect();
    !hadError && (query || sent.length) && error(Errors.connection("CONNECTION_CLOSED", options, socket));
    closedTime = performance.now();
    hadError && options.shared.retries++;
    delay = (typeof backoff === "function" ? backoff(options.shared.retries) : backoff) * 1000;
    onclose(connection2, Errors.connection("CONNECTION_CLOSED", options, socket));
  }
  function handle(xs, x = xs[0]) {
    (x === 68 ? DataRow : x === 100 ? CopyData : x === 65 ? NotificationResponse : x === 83 ? ParameterStatus : x === 90 ? ReadyForQuery : x === 67 ? CommandComplete : x === 50 ? BindComplete : x === 49 ? ParseComplete : x === 116 ? ParameterDescription : x === 84 ? RowDescription : x === 82 ? Authentication : x === 110 ? NoData : x === 75 ? BackendKeyData : x === 69 ? ErrorResponse : x === 115 ? PortalSuspended : x === 51 ? CloseComplete : x === 71 ? CopyInResponse : x === 78 ? NoticeResponse : x === 72 ? CopyOutResponse : x === 99 ? CopyDone : x === 73 ? EmptyQueryResponse : x === 86 ? FunctionCallResponse : x === 118 ? NegotiateProtocolVersion : x === 87 ? CopyBothResponse : UnknownMessage)(xs);
  }
  function DataRow(x) {
    let index = 7;
    let length2;
    let column;
    let value;
    const row = query.isRaw ? new Array(query.statement.columns.length) : {};
    for (let i = 0;i < query.statement.columns.length; i++) {
      column = query.statement.columns[i];
      length2 = x.readInt32BE(index);
      index += 4;
      value = length2 === -1 ? null : query.isRaw === true ? x.subarray(index, index += length2) : column.parser === undefined ? x.toString("utf8", index, index += length2) : column.parser.array === true ? column.parser(x.toString("utf8", index + 1, index += length2)) : column.parser(x.toString("utf8", index, index += length2));
      query.isRaw ? row[i] = query.isRaw === true ? value : transform.value.from ? transform.value.from(value, column) : value : row[column.name] = transform.value.from ? transform.value.from(value, column) : value;
    }
    query.forEachFn ? query.forEachFn(transform.row.from ? transform.row.from(row) : row, result) : result[rows++] = transform.row.from ? transform.row.from(row) : row;
  }
  function ParameterStatus(x) {
    const [k, v] = x.toString("utf8", 5, x.length - 1).split(bytes_default.N);
    backendParameters[k] = v;
    if (options.parameters[k] !== v) {
      options.parameters[k] = v;
      onparameter && onparameter(k, v);
    }
  }
  function ReadyForQuery(x) {
    if (query) {
      if (errorResponse) {
        query.retried ? errored(query.retried) : query.prepared && retryRoutines.has(errorResponse.routine) ? retry(query, errorResponse) : errored(errorResponse);
      } else {
        query.resolve(results || result);
      }
    } else if (errorResponse) {
      errored(errorResponse);
    }
    query = results = errorResponse = null;
    result = new Result;
    connectTimer.cancel();
    if (initial) {
      if (target_session_attrs) {
        if (!backendParameters.in_hot_standby || !backendParameters.default_transaction_read_only)
          return fetchState();
        else if (tryNext(target_session_attrs, backendParameters))
          return terminate();
      }
      if (needsTypes) {
        initial.reserve && (initial = null);
        return fetchArrayTypes();
      }
      initial && !initial.reserve && execute(initial);
      options.shared.retries = retries = 0;
      initial = null;
      return;
    }
    while (sent.length && (query = sent.shift()) && (query.active = true, query.cancelled))
      Connection(options).cancel(query.state, query.cancelled.resolve, query.cancelled.reject);
    if (query)
      return;
    connection2.reserved ? !connection2.reserved.release && x[5] === 73 ? ending ? terminate() : (connection2.reserved = null, onopen(connection2)) : connection2.reserved() : ending ? terminate() : onopen(connection2);
  }
  function CommandComplete(x) {
    rows = 0;
    for (let i = x.length - 1;i > 0; i--) {
      if (x[i] === 32 && x[i + 1] < 58 && result.count === null)
        result.count = +x.toString("utf8", i + 1, x.length - 1);
      if (x[i - 1] >= 65) {
        result.command = x.toString("utf8", 5, i);
        result.state = backend;
        break;
      }
    }
    final && (final(), final = null);
    if (result.command === "BEGIN" && max !== 1 && !connection2.reserved)
      return errored(Errors.generic("UNSAFE_TRANSACTION", "Only use sql.begin, sql.reserved or max: 1"));
    if (query.options.simple)
      return BindComplete();
    if (query.cursorFn) {
      result.count && query.cursorFn(result);
      write(Sync);
    }
  }
  function ParseComplete() {
    query.parsing = false;
  }
  function BindComplete() {
    !result.statement && (result.statement = query.statement);
    result.columns = query.statement.columns;
  }
  function ParameterDescription(x) {
    const length2 = x.readUInt16BE(5);
    for (let i = 0;i < length2; ++i)
      !query.statement.types[i] && (query.statement.types[i] = x.readUInt32BE(7 + i * 4));
    query.prepare && (statements[query.signature] = query.statement);
    query.describeFirst && !query.onlyDescribe && (write(prepared(query)), query.describeFirst = false);
  }
  function RowDescription(x) {
    if (result.command) {
      results = results || [result];
      results.push(result = new Result);
      result.count = null;
      query.statement.columns = null;
    }
    const length2 = x.readUInt16BE(5);
    let index = 7;
    let start;
    query.statement.columns = Array(length2);
    for (let i = 0;i < length2; ++i) {
      start = index;
      while (x[index++] !== 0)
        ;
      const table = x.readUInt32BE(index);
      const number = x.readUInt16BE(index + 4);
      const type = x.readUInt32BE(index + 6);
      query.statement.columns[i] = {
        name: transform.column.from ? transform.column.from(x.toString("utf8", start, index - 1)) : x.toString("utf8", start, index - 1),
        parser: parsers2[type],
        table,
        number,
        type
      };
      index += 18;
    }
    result.statement = query.statement;
    if (query.onlyDescribe)
      return query.resolve(query.statement), write(Sync);
  }
  async function Authentication(x, type = x.readUInt32BE(5)) {
    (type === 3 ? AuthenticationCleartextPassword : type === 5 ? AuthenticationMD5Password : type === 10 ? SASL : type === 11 ? SASLContinue : type === 12 ? SASLFinal : type !== 0 ? UnknownAuth : noop)(x, type);
  }
  async function AuthenticationCleartextPassword() {
    const payload = await Pass();
    write(bytes_default().p().str(payload).z(1).end());
  }
  async function AuthenticationMD5Password(x) {
    const payload = "md5" + await md5(Buffer.concat([
      Buffer.from(await md5(await Pass() + user)),
      x.subarray(9)
    ]));
    write(bytes_default().p().str(payload).z(1).end());
  }
  async function SASL() {
    nonce = (await crypto2.randomBytes(18)).toString("base64");
    bytes_default().p().str("SCRAM-SHA-256" + bytes_default.N);
    const i = bytes_default.i;
    write(bytes_default.inc(4).str("n,,n=*,r=" + nonce).i32(bytes_default.i - i - 4, i).end());
  }
  async function SASLContinue(x) {
    const res = x.toString("utf8", 9).split(",").reduce((acc, x2) => (acc[x2[0]] = x2.slice(2), acc), {});
    const saltedPassword = await crypto2.pbkdf2Sync(await Pass(), Buffer.from(res.s, "base64"), parseInt(res.i), 32, "sha256");
    const clientKey = await hmac(saltedPassword, "Client Key");
    const auth = "n=*,r=" + nonce + "," + "r=" + res.r + ",s=" + res.s + ",i=" + res.i + ",c=biws,r=" + res.r;
    serverSignature = (await hmac(await hmac(saltedPassword, "Server Key"), auth)).toString("base64");
    const payload = "c=biws,r=" + res.r + ",p=" + xor(clientKey, Buffer.from(await hmac(await sha256(clientKey), auth))).toString("base64");
    write(bytes_default().p().str(payload).end());
  }
  function SASLFinal(x) {
    if (x.toString("utf8", 9).split(bytes_default.N, 1)[0].slice(2) === serverSignature)
      return;
    errored(Errors.generic("SASL_SIGNATURE_MISMATCH", "The server did not return the correct signature"));
    socket.destroy();
  }
  function Pass() {
    return Promise.resolve(typeof options.pass === "function" ? options.pass() : options.pass);
  }
  function NoData() {
    result.statement = query.statement;
    result.statement.columns = [];
    if (query.onlyDescribe)
      return query.resolve(query.statement), write(Sync);
  }
  function BackendKeyData(x) {
    backend.pid = x.readUInt32BE(5);
    backend.secret = x.readUInt32BE(9);
  }
  async function fetchArrayTypes() {
    needsTypes = false;
    const types2 = await new Query([`
      select b.oid, b.typarray
      from pg_catalog.pg_type a
      left join pg_catalog.pg_type b on b.oid = a.typelem
      where a.typcategory = 'A'
      group by b.oid, b.typarray
      order by b.oid
    `], [], execute);
    types2.forEach(({ oid, typarray }) => addArrayType(oid, typarray));
  }
  function addArrayType(oid, typarray) {
    if (!!options.parsers[typarray] && !!options.serializers[typarray])
      return;
    const parser = options.parsers[oid];
    options.shared.typeArrayMap[oid] = typarray;
    options.parsers[typarray] = (xs) => arrayParser(xs, parser, typarray);
    options.parsers[typarray].array = true;
    options.serializers[typarray] = (xs) => arraySerializer(xs, options.serializers[oid], options, typarray);
  }
  function tryNext(x, xs) {
    return x === "read-write" && xs.default_transaction_read_only === "on" || x === "read-only" && xs.default_transaction_read_only === "off" || x === "primary" && xs.in_hot_standby === "on" || x === "standby" && xs.in_hot_standby === "off" || x === "prefer-standby" && xs.in_hot_standby === "off" && options.host[retries];
  }
  function fetchState() {
    const query2 = new Query([`
      show transaction_read_only;
      select pg_catalog.pg_is_in_recovery()
    `], [], execute, null, { simple: true });
    query2.resolve = ([[a], [b2]]) => {
      backendParameters.default_transaction_read_only = a.transaction_read_only;
      backendParameters.in_hot_standby = b2.pg_is_in_recovery ? "on" : "off";
    };
    query2.execute();
  }
  function ErrorResponse(x) {
    if (query) {
      (query.cursorFn || query.describeFirst) && write(Sync);
      errorResponse = Errors.postgres(parseError(x));
    } else {
      errored(Errors.postgres(parseError(x)));
    }
  }
  function retry(q, error2) {
    delete statements[q.signature];
    q.retried = error2;
    execute(q);
  }
  function NotificationResponse(x) {
    if (!onnotify)
      return;
    let index = 9;
    while (x[index++] !== 0)
      ;
    onnotify(x.toString("utf8", 9, index - 1), x.toString("utf8", index, x.length - 1));
  }
  async function PortalSuspended() {
    try {
      const x = await Promise.resolve(query.cursorFn(result));
      rows = 0;
      x === CLOSE ? write(Close(query.portal)) : (result = new Result, write(Execute("", query.cursorRows)));
    } catch (err) {
      write(Sync);
      query.reject(err);
    }
  }
  function CloseComplete() {
    result.count && query.cursorFn(result);
    query.resolve(result);
  }
  function CopyInResponse() {
    stream = new Stream.Writable({
      autoDestroy: true,
      write(chunk2, encoding, callback) {
        socket.write(bytes_default().d().raw(chunk2).end(), callback);
      },
      destroy(error2, callback) {
        callback(error2);
        socket.write(bytes_default().f().str(error2 + bytes_default.N).end());
        stream = null;
      },
      final(callback) {
        socket.write(bytes_default().c().end());
        final = callback;
        stream = null;
      }
    });
    query.resolve(stream);
  }
  function CopyOutResponse() {
    stream = new Stream.Readable({
      read() {
        socket.resume();
      }
    });
    query.resolve(stream);
  }
  function CopyBothResponse() {
    stream = new Stream.Duplex({
      autoDestroy: true,
      read() {
        socket.resume();
      },
      write(chunk2, encoding, callback) {
        socket.write(bytes_default().d().raw(chunk2).end(), callback);
      },
      destroy(error2, callback) {
        callback(error2);
        socket.write(bytes_default().f().str(error2 + bytes_default.N).end());
        stream = null;
      },
      final(callback) {
        socket.write(bytes_default().c().end());
        final = callback;
      }
    });
    query.resolve(stream);
  }
  function CopyData(x) {
    stream && (stream.push(x.subarray(5)) || socket.pause());
  }
  function CopyDone() {
    stream && stream.push(null);
    stream = null;
  }
  function NoticeResponse(x) {
    onnotice ? onnotice(parseError(x)) : console.log(parseError(x));
  }
  function EmptyQueryResponse() {}
  function FunctionCallResponse() {
    errored(Errors.notSupported("FunctionCallResponse"));
  }
  function NegotiateProtocolVersion() {
    errored(Errors.notSupported("NegotiateProtocolVersion"));
  }
  function UnknownMessage(x) {
    console.error("Postgres.js : Unknown Message:", x[0]);
  }
  function UnknownAuth(x, type) {
    console.error("Postgres.js : Unknown Auth:", type);
  }
  function Bind(parameters, types2, statement = "", portal = "") {
    let prev, type;
    bytes_default().B().str(portal + bytes_default.N).str(statement + bytes_default.N).i16(0).i16(parameters.length);
    parameters.forEach((x, i) => {
      if (x === null)
        return bytes_default.i32(4294967295);
      type = types2[i];
      parameters[i] = x = type in options.serializers ? options.serializers[type](x) : "" + x;
      prev = bytes_default.i;
      bytes_default.inc(4).str(x).i32(bytes_default.i - prev - 4, prev);
    });
    bytes_default.i16(0);
    return bytes_default.end();
  }
  function Parse(str, parameters, types2, name = "") {
    bytes_default().P().str(name + bytes_default.N).str(str + bytes_default.N).i16(parameters.length);
    parameters.forEach((x, i) => bytes_default.i32(types2[i] || 0));
    return bytes_default.end();
  }
  function Describe(x, name = "") {
    return bytes_default().D().str(x).str(name + bytes_default.N).end();
  }
  function Execute(portal = "", rows2 = 0) {
    return Buffer.concat([
      bytes_default().E().str(portal + bytes_default.N).i32(rows2).end(),
      Flush
    ]);
  }
  function Close(portal = "") {
    return Buffer.concat([
      bytes_default().C().str("P").str(portal + bytes_default.N).end(),
      bytes_default().S().end()
    ]);
  }
  function StartupMessage() {
    return cancelMessage || bytes_default().inc(4).i16(3).z(2).str(Object.entries(Object.assign({
      user,
      database,
      client_encoding: "UTF8"
    }, options.connection)).filter(([, v]) => v).map(([k, v]) => k + bytes_default.N + v).join(bytes_default.N)).z(2).end(0);
  }
}
function parseError(x) {
  const error = {};
  let start = 5;
  for (let i = 5;i < x.length - 1; i++) {
    if (x[i] === 0) {
      error[errorFields[x[start]]] = x.toString("utf8", start + 1, i);
      start = i + 1;
    }
  }
  return error;
}
function md5(x) {
  return crypto2.createHash("md5").update(x).digest("hex");
}
function hmac(key, x) {
  return crypto2.createHmac("sha256", key).update(x).digest();
}
function sha256(x) {
  return crypto2.createHash("sha256").update(x).digest();
}
function xor(a, b2) {
  const length = Math.max(a.length, b2.length);
  const buffer2 = Buffer.allocUnsafe(length);
  for (let i = 0;i < length; i++)
    buffer2[i] = a[i] ^ b2[i];
  return buffer2;
}
function timer(fn, seconds) {
  seconds = typeof seconds === "function" ? seconds() : seconds;
  if (!seconds)
    return { cancel: noop, start: noop };
  let timer2;
  return {
    cancel() {
      timer2 && (clearTimeout(timer2), timer2 = null);
    },
    start() {
      timer2 && clearTimeout(timer2);
      timer2 = setTimeout(done, seconds * 1000, arguments);
    }
  };
  function done(args) {
    fn.apply(null, args);
    timer2 = null;
  }
}

// ../../node_modules/postgres/src/subscribe.js
var noop2 = () => {};
function Subscribe(postgres2, options) {
  const subscribers = new Map, slot = "postgresjs_" + Math.random().toString(36).slice(2), state = {};
  let connection2, stream, ended = false;
  const sql = subscribe.sql = postgres2({
    ...options,
    transform: { column: {}, value: {}, row: {} },
    max: 1,
    fetch_types: false,
    idle_timeout: null,
    max_lifetime: null,
    connection: {
      ...options.connection,
      replication: "database"
    },
    onclose: async function() {
      if (ended)
        return;
      stream = null;
      state.pid = state.secret = undefined;
      connected(await init(sql, slot, options.publications));
      subscribers.forEach((event) => event.forEach(({ onsubscribe }) => onsubscribe()));
    },
    no_subscribe: true
  });
  const { end, close } = sql;
  sql.end = async () => {
    ended = true;
    stream && await new Promise((r) => (stream.once("close", r), stream.end()));
    return end();
  };
  sql.close = async () => {
    stream && await new Promise((r) => (stream.once("close", r), stream.end()));
    return close();
  };
  return subscribe;
  async function subscribe(event, fn, onsubscribe = noop2, onerror = noop2) {
    event = parseEvent(event);
    if (!connection2)
      connection2 = init(sql, slot, options.publications);
    const subscriber = { fn, onsubscribe };
    const fns = subscribers.has(event) ? subscribers.get(event).add(subscriber) : subscribers.set(event, new Set([subscriber])).get(event);
    const unsubscribe = () => {
      fns.delete(subscriber);
      fns.size === 0 && subscribers.delete(event);
    };
    return connection2.then((x) => {
      connected(x);
      onsubscribe();
      stream && stream.on("error", onerror);
      return { unsubscribe, state, sql };
    });
  }
  function connected(x) {
    stream = x.stream;
    state.pid = x.state.pid;
    state.secret = x.state.secret;
  }
  async function init(sql2, slot2, publications) {
    if (!publications)
      throw new Error("Missing publication names");
    const xs = await sql2.unsafe(`CREATE_REPLICATION_SLOT ${slot2} TEMPORARY LOGICAL pgoutput NOEXPORT_SNAPSHOT`);
    const [x] = xs;
    const stream2 = await sql2.unsafe(`START_REPLICATION SLOT ${slot2} LOGICAL ${x.consistent_point} (proto_version '1', publication_names '${publications}')`).writable();
    const state2 = {
      lsn: Buffer.concat(x.consistent_point.split("/").map((x2) => Buffer.from(("00000000" + x2).slice(-8), "hex")))
    };
    stream2.on("data", data);
    stream2.on("error", error);
    stream2.on("close", sql2.close);
    return { stream: stream2, state: xs.state };
    function error(e) {
      console.error("Unexpected error during logical streaming - reconnecting", e);
    }
    function data(x2) {
      if (x2[0] === 119) {
        parse(x2.subarray(25), state2, sql2.options.parsers, handle, options.transform);
      } else if (x2[0] === 107 && x2[17]) {
        state2.lsn = x2.subarray(1, 9);
        pong();
      }
    }
    function handle(a, b2) {
      const path = b2.relation.schema + "." + b2.relation.table;
      call("*", a, b2);
      call("*:" + path, a, b2);
      b2.relation.keys.length && call("*:" + path + "=" + b2.relation.keys.map((x2) => a[x2.name]), a, b2);
      call(b2.command, a, b2);
      call(b2.command + ":" + path, a, b2);
      b2.relation.keys.length && call(b2.command + ":" + path + "=" + b2.relation.keys.map((x2) => a[x2.name]), a, b2);
    }
    function pong() {
      const x2 = Buffer.alloc(34);
      x2[0] = 114;
      x2.fill(state2.lsn, 1);
      x2.writeBigInt64BE(BigInt(Date.now() - Date.UTC(2000, 0, 1)) * BigInt(1000), 25);
      stream2.write(x2);
    }
  }
  function call(x, a, b2) {
    subscribers.has(x) && subscribers.get(x).forEach(({ fn }) => fn(a, b2, x));
  }
}
function Time(x) {
  return new Date(Date.UTC(2000, 0, 1) + Number(x / BigInt(1000)));
}
function parse(x, state, parsers2, handle, transform) {
  const char = (acc, [k, v]) => (acc[k.charCodeAt(0)] = v, acc);
  Object.entries({
    R: (x2) => {
      let i = 1;
      const r = state[x2.readUInt32BE(i)] = {
        schema: x2.toString("utf8", i += 4, i = x2.indexOf(0, i)) || "pg_catalog",
        table: x2.toString("utf8", i + 1, i = x2.indexOf(0, i + 1)),
        columns: Array(x2.readUInt16BE(i += 2)),
        keys: []
      };
      i += 2;
      let columnIndex = 0, column;
      while (i < x2.length) {
        column = r.columns[columnIndex++] = {
          key: x2[i++],
          name: transform.column.from ? transform.column.from(x2.toString("utf8", i, i = x2.indexOf(0, i))) : x2.toString("utf8", i, i = x2.indexOf(0, i)),
          type: x2.readUInt32BE(i += 1),
          parser: parsers2[x2.readUInt32BE(i)],
          atttypmod: x2.readUInt32BE(i += 4)
        };
        column.key && r.keys.push(column);
        i += 4;
      }
    },
    Y: () => {},
    O: () => {},
    B: (x2) => {
      state.date = Time(x2.readBigInt64BE(9));
      state.lsn = x2.subarray(1, 9);
    },
    I: (x2) => {
      let i = 1;
      const relation = state[x2.readUInt32BE(i)];
      const { row } = tuples(x2, relation.columns, i += 7, transform);
      handle(row, {
        command: "insert",
        relation
      });
    },
    D: (x2) => {
      let i = 1;
      const relation = state[x2.readUInt32BE(i)];
      i += 4;
      const key = x2[i] === 75;
      handle(key || x2[i] === 79 ? tuples(x2, relation.columns, i += 3, transform).row : null, {
        command: "delete",
        relation,
        key
      });
    },
    U: (x2) => {
      let i = 1;
      const relation = state[x2.readUInt32BE(i)];
      i += 4;
      const key = x2[i] === 75;
      const xs = key || x2[i] === 79 ? tuples(x2, relation.columns, i += 3, transform) : null;
      xs && (i = xs.i);
      const { row } = tuples(x2, relation.columns, i + 3, transform);
      handle(row, {
        command: "update",
        relation,
        key,
        old: xs && xs.row
      });
    },
    T: () => {},
    C: () => {}
  }).reduce(char, {})[x[0]](x);
}
function tuples(x, columns, xi, transform) {
  let type, column, value;
  const row = transform.raw ? new Array(columns.length) : {};
  for (let i = 0;i < columns.length; i++) {
    type = x[xi++];
    column = columns[i];
    value = type === 110 ? null : type === 117 ? undefined : column.parser === undefined ? x.toString("utf8", xi + 4, xi += 4 + x.readUInt32BE(xi)) : column.parser.array === true ? column.parser(x.toString("utf8", xi + 5, xi += 4 + x.readUInt32BE(xi))) : column.parser(x.toString("utf8", xi + 4, xi += 4 + x.readUInt32BE(xi)));
    transform.raw ? row[i] = transform.raw === true ? value : transform.value.from ? transform.value.from(value, column) : value : row[column.name] = transform.value.from ? transform.value.from(value, column) : value;
  }
  return { i: xi, row: transform.row.from ? transform.row.from(row) : row };
}
function parseEvent(x) {
  const xs = x.match(/^(\*|insert|update|delete)?:?([^.]+?\.?[^=]+)?=?(.+)?/i) || [];
  if (!xs)
    throw new Error("Malformed subscribe pattern: " + x);
  const [, command, path, key] = xs;
  return (command || "*") + (path ? ":" + (path.indexOf(".") === -1 ? "public." + path : path) : "") + (key ? "=" + key : "");
}

// ../../node_modules/postgres/src/large.js
import Stream2 from "stream";
function largeObject(sql, oid, mode = 131072 | 262144) {
  return new Promise(async (resolve, reject) => {
    await sql.begin(async (sql2) => {
      let finish;
      !oid && ([{ oid }] = await sql2`select lo_creat(-1) as oid`);
      const [{ fd }] = await sql2`select lo_open(${oid}, ${mode}) as fd`;
      const lo = {
        writable,
        readable,
        close: () => sql2`select lo_close(${fd})`.then(finish),
        tell: () => sql2`select lo_tell64(${fd})`,
        read: (x) => sql2`select loread(${fd}, ${x}) as data`,
        write: (x) => sql2`select lowrite(${fd}, ${x})`,
        truncate: (x) => sql2`select lo_truncate64(${fd}, ${x})`,
        seek: (x, whence = 0) => sql2`select lo_lseek64(${fd}, ${x}, ${whence})`,
        size: () => sql2`
          select
            lo_lseek64(${fd}, location, 0) as position,
            seek.size
          from (
            select
              lo_lseek64($1, 0, 2) as size,
              tell.location
            from (select lo_tell64($1) as location) tell
          ) seek
        `
      };
      resolve(lo);
      return new Promise(async (r) => finish = r);
      async function readable({
        highWaterMark = 2048 * 8,
        start = 0,
        end = Infinity
      } = {}) {
        let max = end - start;
        start && await lo.seek(start);
        return new Stream2.Readable({
          highWaterMark,
          async read(size2) {
            const l = size2 > max ? size2 - max : size2;
            max -= size2;
            const [{ data }] = await lo.read(l);
            this.push(data);
            if (data.length < size2)
              this.push(null);
          }
        });
      }
      async function writable({
        highWaterMark = 2048 * 8,
        start = 0
      } = {}) {
        start && await lo.seek(start);
        return new Stream2.Writable({
          highWaterMark,
          write(chunk, encoding, callback) {
            lo.write(chunk).then(() => callback(), callback);
          }
        });
      }
    }).catch(reject);
  });
}

// ../../node_modules/postgres/src/index.js
Object.assign(Postgres, {
  PostgresError,
  toPascal,
  pascal,
  toCamel,
  camel,
  toKebab,
  kebab,
  fromPascal,
  fromCamel,
  fromKebab,
  BigInt: {
    to: 20,
    from: [20],
    parse: (x) => BigInt(x),
    serialize: (x) => x.toString()
  }
});
var src_default = Postgres;
function Postgres(a, b2) {
  const options = parseOptions(a, b2), subscribe = options.no_subscribe || Subscribe(Postgres, { ...options });
  let ending = false;
  const queries = queue_default(), connecting = queue_default(), reserved = queue_default(), closed = queue_default(), ended = queue_default(), open = queue_default(), busy = queue_default(), full = queue_default(), queues = { connecting, reserved, closed, ended, open, busy, full };
  const connections = [...Array(options.max)].map(() => connection_default(options, queues, { onopen, onend, onclose }));
  const sql = Sql(handler);
  Object.assign(sql, {
    get parameters() {
      return options.parameters;
    },
    largeObject: largeObject.bind(null, sql),
    subscribe,
    CLOSE,
    END: CLOSE,
    PostgresError,
    options,
    reserve,
    listen,
    begin,
    close,
    end
  });
  return sql;
  function Sql(handler2) {
    handler2.debug = options.debug;
    Object.entries(options.types).reduce((acc, [name, type]) => {
      acc[name] = (x) => new Parameter(x, type.to);
      return acc;
    }, typed);
    Object.assign(sql2, {
      types: typed,
      typed,
      unsafe,
      notify,
      array,
      json,
      file
    });
    return sql2;
    function typed(value, type) {
      return new Parameter(value, type);
    }
    function sql2(strings, ...args) {
      const query = strings && Array.isArray(strings.raw) ? new Query(strings, args, handler2, cancel) : typeof strings === "string" && !args.length ? new Identifier(options.transform.column.to ? options.transform.column.to(strings) : strings) : new Builder(strings, args);
      return query;
    }
    function unsafe(string, args = [], options2 = {}) {
      arguments.length === 2 && !Array.isArray(args) && (options2 = args, args = []);
      const query = new Query([string], args, handler2, cancel, {
        prepare: false,
        ...options2,
        simple: "simple" in options2 ? options2.simple : args.length === 0
      });
      return query;
    }
    function file(path, args = [], options2 = {}) {
      arguments.length === 2 && !Array.isArray(args) && (options2 = args, args = []);
      const query = new Query([], args, (query2) => {
        fs.readFile(path, "utf8", (err, string) => {
          if (err)
            return query2.reject(err);
          query2.strings = [string];
          handler2(query2);
        });
      }, cancel, {
        ...options2,
        simple: "simple" in options2 ? options2.simple : args.length === 0
      });
      return query;
    }
  }
  async function listen(name, fn, onlisten) {
    const listener = { fn, onlisten };
    const sql2 = listen.sql || (listen.sql = Postgres({
      ...options,
      max: 1,
      idle_timeout: null,
      max_lifetime: null,
      fetch_types: false,
      onclose() {
        Object.entries(listen.channels).forEach(([name2, { listeners }]) => {
          delete listen.channels[name2];
          Promise.all(listeners.map((l) => listen(name2, l.fn, l.onlisten).catch(() => {})));
        });
      },
      onnotify(c, x) {
        c in listen.channels && listen.channels[c].listeners.forEach((l) => l.fn(x));
      }
    }));
    const channels = listen.channels || (listen.channels = {}), exists = name in channels;
    if (exists) {
      channels[name].listeners.push(listener);
      const result2 = await channels[name].result;
      listener.onlisten && listener.onlisten();
      return { state: result2.state, unlisten };
    }
    channels[name] = { result: sql2`listen ${sql2.unsafe('"' + name.replace(/"/g, '""') + '"')}`, listeners: [listener] };
    const result = await channels[name].result;
    listener.onlisten && listener.onlisten();
    return { state: result.state, unlisten };
    async function unlisten() {
      if (name in channels === false)
        return;
      channels[name].listeners = channels[name].listeners.filter((x) => x !== listener);
      if (channels[name].listeners.length)
        return;
      delete channels[name];
      return sql2`unlisten ${sql2.unsafe('"' + name.replace(/"/g, '""') + '"')}`;
    }
  }
  async function notify(channel, payload) {
    return await sql`select pg_notify(${channel}, ${"" + payload})`;
  }
  async function reserve() {
    const queue = queue_default();
    const c = open.length ? open.shift() : await new Promise((resolve, reject) => {
      const query = { reserve: resolve, reject };
      queries.push(query);
      closed.length && connect(closed.shift(), query);
    });
    move(c, reserved);
    c.reserved = () => queue.length ? c.execute(queue.shift()) : move(c, reserved);
    c.reserved.release = true;
    const sql2 = Sql(handler2);
    sql2.release = () => {
      c.reserved = null;
      onopen(c);
    };
    return sql2;
    function handler2(q) {
      c.queue === full ? queue.push(q) : c.execute(q) || move(c, full);
    }
  }
  async function begin(options2, fn) {
    !fn && (fn = options2, options2 = "");
    const queries2 = queue_default();
    let savepoints = 0, connection2, prepare = null;
    try {
      await sql.unsafe("begin " + options2.replace(/[^a-z ]/ig, ""), [], { onexecute }).execute();
      return await Promise.race([
        scope(connection2, fn),
        new Promise((_, reject) => connection2.onclose = reject)
      ]);
    } catch (error) {
      throw error;
    }
    async function scope(c, fn2, name) {
      const sql2 = Sql(handler2);
      sql2.savepoint = savepoint;
      sql2.prepare = (x) => prepare = x.replace(/[^a-z0-9$-_. ]/gi);
      let uncaughtError, result;
      name && await sql2`savepoint ${sql2(name)}`;
      try {
        result = await new Promise((resolve, reject) => {
          const x = fn2(sql2);
          Promise.resolve(Array.isArray(x) ? Promise.all(x) : x).then(resolve, reject);
        });
        if (uncaughtError)
          throw uncaughtError;
      } catch (e) {
        await (name ? sql2`rollback to ${sql2(name)}` : sql2`rollback`);
        throw e instanceof PostgresError && e.code === "25P02" && uncaughtError || e;
      }
      if (!name) {
        prepare ? await sql2`prepare transaction '${sql2.unsafe(prepare)}'` : await sql2`commit`;
      }
      return result;
      function savepoint(name2, fn3) {
        if (name2 && Array.isArray(name2.raw))
          return savepoint((sql3) => sql3.apply(sql3, arguments));
        arguments.length === 1 && (fn3 = name2, name2 = null);
        return scope(c, fn3, "s" + savepoints++ + (name2 ? "_" + name2 : ""));
      }
      function handler2(q) {
        q.catch((e) => uncaughtError || (uncaughtError = e));
        c.queue === full ? queries2.push(q) : c.execute(q) || move(c, full);
      }
    }
    function onexecute(c) {
      connection2 = c;
      move(c, reserved);
      c.reserved = () => queries2.length ? c.execute(queries2.shift()) : move(c, reserved);
    }
  }
  function move(c, queue) {
    c.queue.remove(c);
    queue.push(c);
    c.queue = queue;
    queue === open ? c.idleTimer.start() : c.idleTimer.cancel();
    return c;
  }
  function json(x) {
    return new Parameter(x, 3802);
  }
  function array(x, type) {
    if (!Array.isArray(x))
      return array(Array.from(arguments));
    return new Parameter(x, type || (x.length ? inferType(x) || 25 : 0), options.shared.typeArrayMap);
  }
  function handler(query) {
    if (ending)
      return query.reject(Errors.connection("CONNECTION_ENDED", options, options));
    if (open.length)
      return go(open.shift(), query);
    if (closed.length)
      return connect(closed.shift(), query);
    busy.length ? go(busy.shift(), query) : queries.push(query);
  }
  function go(c, query) {
    return c.execute(query) ? move(c, busy) : move(c, full);
  }
  function cancel(query) {
    return new Promise((resolve, reject) => {
      query.state ? query.active ? connection_default(options).cancel(query.state, resolve, reject) : query.cancelled = { resolve, reject } : (queries.remove(query), query.cancelled = true, query.reject(Errors.generic("57014", "canceling statement due to user request")), resolve());
    });
  }
  async function end({ timeout = null } = {}) {
    if (ending)
      return ending;
    await 1;
    let timer2;
    return ending = Promise.race([
      new Promise((r) => timeout !== null && (timer2 = setTimeout(destroy, timeout * 1000, r))),
      Promise.all(connections.map((c) => c.end()).concat(listen.sql ? listen.sql.end({ timeout: 0 }) : [], subscribe.sql ? subscribe.sql.end({ timeout: 0 }) : []))
    ]).then(() => clearTimeout(timer2));
  }
  async function close() {
    await Promise.all(connections.map((c) => c.end()));
  }
  async function destroy(resolve) {
    await Promise.all(connections.map((c) => c.terminate()));
    while (queries.length)
      queries.shift().reject(Errors.connection("CONNECTION_DESTROYED", options));
    resolve();
  }
  function connect(c, query) {
    move(c, connecting);
    c.connect(query);
    return c;
  }
  function onend(c) {
    move(c, ended);
  }
  function onopen(c) {
    if (queries.length === 0)
      return move(c, open);
    let max = Math.ceil(queries.length / (connecting.length + 1)), ready = true;
    while (ready && queries.length && max-- > 0) {
      const query = queries.shift();
      if (query.reserve)
        return query.reserve(c);
      ready = c.execute(query);
    }
    ready ? move(c, busy) : move(c, full);
  }
  function onclose(c, e) {
    move(c, closed);
    c.reserved = null;
    c.onclose && (c.onclose(e), c.onclose = null);
    options.onclose && options.onclose(c.id);
    queries.length && connect(c, queries.shift());
  }
}
function parseOptions(a, b2) {
  if (a && a.shared)
    return a;
  const env = process.env, o = (!a || typeof a === "string" ? b2 : a) || {}, { url, multihost } = parseUrl(a), query = [...url.searchParams].reduce((a2, [b3, c]) => (a2[b3] = c, a2), {}), host = o.hostname || o.host || multihost || url.hostname || env.PGHOST || "localhost", port = o.port || url.port || env.PGPORT || 5432, user = o.user || o.username || url.username || env.PGUSERNAME || env.PGUSER || osUsername();
  o.no_prepare && (o.prepare = false);
  query.sslmode && (query.ssl = query.sslmode, delete query.sslmode);
  "timeout" in o && (console.log("The timeout option is deprecated, use idle_timeout instead"), o.idle_timeout = o.timeout);
  query.sslrootcert === "system" && (query.ssl = "verify-full");
  const ints = ["idle_timeout", "connect_timeout", "max_lifetime", "max_pipeline", "backoff", "keep_alive"];
  const defaults = {
    max: globalThis.Cloudflare ? 3 : 10,
    ssl: false,
    sslnegotiation: null,
    idle_timeout: null,
    connect_timeout: 30,
    max_lifetime,
    max_pipeline: 100,
    backoff,
    keep_alive: 60,
    prepare: true,
    debug: false,
    fetch_types: true,
    publications: "alltables",
    target_session_attrs: null
  };
  return {
    host: Array.isArray(host) ? host : host.split(",").map((x) => x.split(":")[0]),
    port: Array.isArray(port) ? port : host.split(",").map((x) => parseInt(x.split(":")[1] || port)),
    path: o.path || host.indexOf("/") > -1 && host + "/.s.PGSQL." + port,
    database: o.database || o.db || (url.pathname || "").slice(1) || env.PGDATABASE || user,
    user,
    pass: o.pass || o.password || url.password || env.PGPASSWORD || "",
    ...Object.entries(defaults).reduce((acc, [k, d]) => {
      const value = k in o ? o[k] : (k in query) ? query[k] === "disable" || query[k] === "false" ? false : query[k] : env["PG" + k.toUpperCase()] || d;
      acc[k] = typeof value === "string" && ints.includes(k) ? +value : value;
      return acc;
    }, {}),
    connection: {
      application_name: env.PGAPPNAME || "postgres.js",
      ...o.connection,
      ...Object.entries(query).reduce((acc, [k, v]) => ((k in defaults) || (acc[k] = v), acc), {})
    },
    types: o.types || {},
    target_session_attrs: tsa(o, url, env),
    onnotice: o.onnotice,
    onnotify: o.onnotify,
    onclose: o.onclose,
    onparameter: o.onparameter,
    socket: o.socket,
    transform: parseTransform(o.transform || { undefined: undefined }),
    parameters: {},
    shared: { retries: 0, typeArrayMap: {} },
    ...mergeUserTypes(o.types)
  };
}
function tsa(o, url, env) {
  const x = o.target_session_attrs || url.searchParams.get("target_session_attrs") || env.PGTARGETSESSIONATTRS;
  if (!x || ["read-write", "read-only", "primary", "standby", "prefer-standby"].includes(x))
    return x;
  throw new Error("target_session_attrs " + x + " is not supported");
}
function backoff(retries) {
  return (0.5 + Math.random() / 2) * Math.min(3 ** retries / 100, 20);
}
function max_lifetime() {
  return 60 * (30 + Math.random() * 30);
}
function parseTransform(x) {
  return {
    undefined: x.undefined,
    column: {
      from: typeof x.column === "function" ? x.column : x.column && x.column.from,
      to: x.column && x.column.to
    },
    value: {
      from: typeof x.value === "function" ? x.value : x.value && x.value.from,
      to: x.value && x.value.to
    },
    row: {
      from: typeof x.row === "function" ? x.row : x.row && x.row.from,
      to: x.row && x.row.to
    }
  };
}
function parseUrl(url) {
  if (!url || typeof url !== "string")
    return { url: { searchParams: new Map } };
  let host = url;
  host = host.slice(host.indexOf("://") + 3).split(/[?/]/)[0];
  host = decodeURIComponent(host.slice(host.indexOf("@") + 1));
  const urlObj = new URL(url.replace(host, host.split(",")[0]));
  return {
    url: {
      username: decodeURIComponent(urlObj.username),
      password: decodeURIComponent(urlObj.password),
      host: urlObj.host,
      hostname: urlObj.hostname,
      port: urlObj.port,
      pathname: urlObj.pathname,
      searchParams: urlObj.searchParams
    },
    multihost: host.indexOf(",") > -1 && host
  };
}
function osUsername() {
  try {
    return os.userInfo().username;
  } catch (_) {
    return process.env.USERNAME || process.env.USER || process.env.LOGNAME;
  }
}

// ../../node_modules/drizzle-orm/entity.js
var entityKind = Symbol.for("drizzle:entityKind");
var hasOwnEntityKind = Symbol.for("drizzle:hasOwnEntityKind");
function is(value, type) {
  if (!value || typeof value !== "object") {
    return false;
  }
  if (value instanceof type) {
    return true;
  }
  if (!Object.prototype.hasOwnProperty.call(type, entityKind)) {
    throw new Error(`Class "${type.name ?? "<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);
  }
  let cls = Object.getPrototypeOf(value).constructor;
  if (cls) {
    while (cls) {
      if (entityKind in cls && cls[entityKind] === type[entityKind]) {
        return true;
      }
      cls = Object.getPrototypeOf(cls);
    }
  }
  return false;
}

// ../../node_modules/drizzle-orm/logger.js
class ConsoleLogWriter {
  static [entityKind] = "ConsoleLogWriter";
  write(message) {
    console.log(message);
  }
}

class DefaultLogger {
  static [entityKind] = "DefaultLogger";
  writer;
  constructor(config) {
    this.writer = config?.writer ?? new ConsoleLogWriter;
  }
  logQuery(query, params) {
    const stringifiedParams = params.map((p) => {
      try {
        return JSON.stringify(p);
      } catch {
        return String(p);
      }
    });
    const paramsStr = stringifiedParams.length ? ` -- params: [${stringifiedParams.join(", ")}]` : "";
    this.writer.write(`Query: ${query}${paramsStr}`);
  }
}

class NoopLogger {
  static [entityKind] = "NoopLogger";
  logQuery() {}
}

// ../../node_modules/drizzle-orm/query-promise.js
class QueryPromise {
  static [entityKind] = "QueryPromise";
  [Symbol.toStringTag] = "QueryPromise";
  catch(onRejected) {
    return this.then(undefined, onRejected);
  }
  finally(onFinally) {
    return this.then((value) => {
      onFinally?.();
      return value;
    }, (reason) => {
      onFinally?.();
      throw reason;
    });
  }
  then(onFulfilled, onRejected) {
    return this.execute().then(onFulfilled, onRejected);
  }
}

// ../../node_modules/drizzle-orm/table.utils.js
var TableName = Symbol.for("drizzle:Name");

// ../../node_modules/drizzle-orm/table.js
var Schema = Symbol.for("drizzle:Schema");
var Columns = Symbol.for("drizzle:Columns");
var ExtraConfigColumns = Symbol.for("drizzle:ExtraConfigColumns");
var OriginalName = Symbol.for("drizzle:OriginalName");
var BaseName = Symbol.for("drizzle:BaseName");
var IsAlias = Symbol.for("drizzle:IsAlias");
var ExtraConfigBuilder = Symbol.for("drizzle:ExtraConfigBuilder");
var IsDrizzleTable = Symbol.for("drizzle:IsDrizzleTable");

class Table {
  static [entityKind] = "Table";
  static Symbol = {
    Name: TableName,
    Schema,
    OriginalName,
    Columns,
    ExtraConfigColumns,
    BaseName,
    IsAlias,
    ExtraConfigBuilder
  };
  [TableName];
  [OriginalName];
  [Schema];
  [Columns];
  [ExtraConfigColumns];
  [BaseName];
  [IsAlias] = false;
  [IsDrizzleTable] = true;
  [ExtraConfigBuilder] = undefined;
  constructor(name, schema, baseName) {
    this[TableName] = this[OriginalName] = name;
    this[Schema] = schema;
    this[BaseName] = baseName;
  }
}
function getTableName(table) {
  return table[TableName];
}
function getTableUniqueName(table) {
  return `${table[Schema] ?? "public"}.${table[TableName]}`;
}

// ../../node_modules/drizzle-orm/tracing-utils.js
function iife(fn, ...args) {
  return fn(...args);
}

// ../../node_modules/drizzle-orm/version.js
var version = "0.38.4";

// ../../node_modules/drizzle-orm/tracing.js
var otel;
var rawTracer;
var tracer = {
  startActiveSpan(name, fn) {
    if (!otel) {
      return fn();
    }
    if (!rawTracer) {
      rawTracer = otel.trace.getTracer("drizzle-orm", version);
    }
    return iife((otel2, rawTracer2) => rawTracer2.startActiveSpan(name, (span) => {
      try {
        return fn(span);
      } catch (e) {
        span.setStatus({
          code: otel2.SpanStatusCode.ERROR,
          message: e instanceof Error ? e.message : "Unknown error"
        });
        throw e;
      } finally {
        span.end();
      }
    }), otel, rawTracer);
  }
};

// ../../node_modules/drizzle-orm/column.js
class Column {
  constructor(table, config) {
    this.table = table;
    this.config = config;
    this.name = config.name;
    this.keyAsName = config.keyAsName;
    this.notNull = config.notNull;
    this.default = config.default;
    this.defaultFn = config.defaultFn;
    this.onUpdateFn = config.onUpdateFn;
    this.hasDefault = config.hasDefault;
    this.primary = config.primaryKey;
    this.isUnique = config.isUnique;
    this.uniqueName = config.uniqueName;
    this.uniqueType = config.uniqueType;
    this.dataType = config.dataType;
    this.columnType = config.columnType;
    this.generated = config.generated;
    this.generatedIdentity = config.generatedIdentity;
  }
  static [entityKind] = "Column";
  name;
  keyAsName;
  primary;
  notNull;
  default;
  defaultFn;
  onUpdateFn;
  hasDefault;
  isUnique;
  uniqueName;
  uniqueType;
  dataType;
  columnType;
  enumValues = undefined;
  generated = undefined;
  generatedIdentity = undefined;
  config;
  mapFromDriverValue(value) {
    return value;
  }
  mapToDriverValue(value) {
    return value;
  }
  shouldDisableInsert() {
    return this.config.generated !== undefined && this.config.generated.type !== "byDefault";
  }
}

// ../../node_modules/drizzle-orm/column-builder.js
class ColumnBuilder {
  static [entityKind] = "ColumnBuilder";
  config;
  constructor(name, dataType, columnType) {
    this.config = {
      name,
      keyAsName: name === "",
      notNull: false,
      default: undefined,
      hasDefault: false,
      primaryKey: false,
      isUnique: false,
      uniqueName: undefined,
      uniqueType: undefined,
      dataType,
      columnType,
      generated: undefined
    };
  }
  $type() {
    return this;
  }
  notNull() {
    this.config.notNull = true;
    return this;
  }
  default(value) {
    this.config.default = value;
    this.config.hasDefault = true;
    return this;
  }
  $defaultFn(fn) {
    this.config.defaultFn = fn;
    this.config.hasDefault = true;
    return this;
  }
  $default = this.$defaultFn;
  $onUpdateFn(fn) {
    this.config.onUpdateFn = fn;
    this.config.hasDefault = true;
    return this;
  }
  $onUpdate = this.$onUpdateFn;
  primaryKey() {
    this.config.primaryKey = true;
    this.config.notNull = true;
    return this;
  }
  setName(name) {
    if (this.config.name !== "")
      return;
    this.config.name = name;
  }
}

// ../../node_modules/drizzle-orm/pg-core/foreign-keys.js
class ForeignKeyBuilder {
  static [entityKind] = "PgForeignKeyBuilder";
  reference;
  _onUpdate = "no action";
  _onDelete = "no action";
  constructor(config, actions) {
    this.reference = () => {
      const { name, columns, foreignColumns } = config();
      return { name, columns, foreignTable: foreignColumns[0].table, foreignColumns };
    };
    if (actions) {
      this._onUpdate = actions.onUpdate;
      this._onDelete = actions.onDelete;
    }
  }
  onUpdate(action) {
    this._onUpdate = action === undefined ? "no action" : action;
    return this;
  }
  onDelete(action) {
    this._onDelete = action === undefined ? "no action" : action;
    return this;
  }
  build(table) {
    return new ForeignKey(table, this);
  }
}

class ForeignKey {
  constructor(table, builder) {
    this.table = table;
    this.reference = builder.reference;
    this.onUpdate = builder._onUpdate;
    this.onDelete = builder._onDelete;
  }
  static [entityKind] = "PgForeignKey";
  reference;
  onUpdate;
  onDelete;
  getName() {
    const { name, columns, foreignColumns } = this.reference();
    const columnNames = columns.map((column) => column.name);
    const foreignColumnNames = foreignColumns.map((column) => column.name);
    const chunks = [
      this.table[TableName],
      ...columnNames,
      foreignColumns[0].table[TableName],
      ...foreignColumnNames
    ];
    return name ?? `${chunks.join("_")}_fk`;
  }
}

// ../../node_modules/drizzle-orm/pg-core/unique-constraint.js
function unique(name) {
  return new UniqueOnConstraintBuilder(name);
}
function uniqueKeyName(table, columns) {
  return `${table[TableName]}_${columns.join("_")}_unique`;
}

class UniqueConstraintBuilder {
  constructor(columns, name) {
    this.name = name;
    this.columns = columns;
  }
  static [entityKind] = "PgUniqueConstraintBuilder";
  columns;
  nullsNotDistinctConfig = false;
  nullsNotDistinct() {
    this.nullsNotDistinctConfig = true;
    return this;
  }
  build(table) {
    return new UniqueConstraint(table, this.columns, this.nullsNotDistinctConfig, this.name);
  }
}

class UniqueOnConstraintBuilder {
  static [entityKind] = "PgUniqueOnConstraintBuilder";
  name;
  constructor(name) {
    this.name = name;
  }
  on(...columns) {
    return new UniqueConstraintBuilder(columns, this.name);
  }
}

class UniqueConstraint {
  constructor(table, columns, nullsNotDistinct, name) {
    this.table = table;
    this.columns = columns;
    this.name = name ?? uniqueKeyName(this.table, this.columns.map((column) => column.name));
    this.nullsNotDistinct = nullsNotDistinct;
  }
  static [entityKind] = "PgUniqueConstraint";
  columns;
  name;
  nullsNotDistinct = false;
  getName() {
    return this.name;
  }
}

// ../../node_modules/drizzle-orm/pg-core/utils/array.js
function parsePgArrayValue(arrayString, startFrom, inQuotes) {
  for (let i = startFrom;i < arrayString.length; i++) {
    const char = arrayString[i];
    if (char === "\\") {
      i++;
      continue;
    }
    if (char === '"') {
      return [arrayString.slice(startFrom, i).replace(/\\/g, ""), i + 1];
    }
    if (inQuotes) {
      continue;
    }
    if (char === "," || char === "}") {
      return [arrayString.slice(startFrom, i).replace(/\\/g, ""), i];
    }
  }
  return [arrayString.slice(startFrom).replace(/\\/g, ""), arrayString.length];
}
function parsePgNestedArray(arrayString, startFrom = 0) {
  const result = [];
  let i = startFrom;
  let lastCharIsComma = false;
  while (i < arrayString.length) {
    const char = arrayString[i];
    if (char === ",") {
      if (lastCharIsComma || i === startFrom) {
        result.push("");
      }
      lastCharIsComma = true;
      i++;
      continue;
    }
    lastCharIsComma = false;
    if (char === "\\") {
      i += 2;
      continue;
    }
    if (char === '"') {
      const [value2, startFrom2] = parsePgArrayValue(arrayString, i + 1, true);
      result.push(value2);
      i = startFrom2;
      continue;
    }
    if (char === "}") {
      return [result, i + 1];
    }
    if (char === "{") {
      const [value2, startFrom2] = parsePgNestedArray(arrayString, i + 1);
      result.push(value2);
      i = startFrom2;
      continue;
    }
    const [value, newStartFrom] = parsePgArrayValue(arrayString, i, false);
    result.push(value);
    i = newStartFrom;
  }
  return [result, i];
}
function parsePgArray(arrayString) {
  const [result] = parsePgNestedArray(arrayString, 1);
  return result;
}
function makePgArray(array) {
  return `{${array.map((item) => {
    if (Array.isArray(item)) {
      return makePgArray(item);
    }
    if (typeof item === "string") {
      return `"${item.replace(/\\/g, "\\\\").replace(/"/g, "\\\"")}"`;
    }
    return `${item}`;
  }).join(",")}}`;
}

// ../../node_modules/drizzle-orm/pg-core/columns/common.js
class PgColumnBuilder extends ColumnBuilder {
  foreignKeyConfigs = [];
  static [entityKind] = "PgColumnBuilder";
  array(size2) {
    return new PgArrayBuilder(this.config.name, this, size2);
  }
  references(ref, actions = {}) {
    this.foreignKeyConfigs.push({ ref, actions });
    return this;
  }
  unique(name, config) {
    this.config.isUnique = true;
    this.config.uniqueName = name;
    this.config.uniqueType = config?.nulls;
    return this;
  }
  generatedAlwaysAs(as) {
    this.config.generated = {
      as,
      type: "always",
      mode: "stored"
    };
    return this;
  }
  buildForeignKeys(column, table) {
    return this.foreignKeyConfigs.map(({ ref, actions }) => {
      return iife((ref2, actions2) => {
        const builder = new ForeignKeyBuilder(() => {
          const foreignColumn = ref2();
          return { columns: [column], foreignColumns: [foreignColumn] };
        });
        if (actions2.onUpdate) {
          builder.onUpdate(actions2.onUpdate);
        }
        if (actions2.onDelete) {
          builder.onDelete(actions2.onDelete);
        }
        return builder.build(table);
      }, ref, actions);
    });
  }
  buildExtraConfigColumn(table) {
    return new ExtraConfigColumn(table, this.config);
  }
}

class PgColumn extends Column {
  constructor(table, config) {
    if (!config.uniqueName) {
      config.uniqueName = uniqueKeyName(table, [config.name]);
    }
    super(table, config);
    this.table = table;
  }
  static [entityKind] = "PgColumn";
}

class ExtraConfigColumn extends PgColumn {
  static [entityKind] = "ExtraConfigColumn";
  getSQLType() {
    return this.getSQLType();
  }
  indexConfig = {
    order: this.config.order ?? "asc",
    nulls: this.config.nulls ?? "last",
    opClass: this.config.opClass
  };
  defaultConfig = {
    order: "asc",
    nulls: "last",
    opClass: undefined
  };
  asc() {
    this.indexConfig.order = "asc";
    return this;
  }
  desc() {
    this.indexConfig.order = "desc";
    return this;
  }
  nullsFirst() {
    this.indexConfig.nulls = "first";
    return this;
  }
  nullsLast() {
    this.indexConfig.nulls = "last";
    return this;
  }
  op(opClass) {
    this.indexConfig.opClass = opClass;
    return this;
  }
}

class IndexedColumn {
  static [entityKind] = "IndexedColumn";
  constructor(name, keyAsName, type, indexConfig) {
    this.name = name;
    this.keyAsName = keyAsName;
    this.type = type;
    this.indexConfig = indexConfig;
  }
  name;
  keyAsName;
  type;
  indexConfig;
}

class PgArrayBuilder extends PgColumnBuilder {
  static [entityKind] = "PgArrayBuilder";
  constructor(name, baseBuilder, size2) {
    super(name, "array", "PgArray");
    this.config.baseBuilder = baseBuilder;
    this.config.size = size2;
  }
  build(table) {
    const baseColumn = this.config.baseBuilder.build(table);
    return new PgArray(table, this.config, baseColumn);
  }
}

class PgArray extends PgColumn {
  constructor(table, config, baseColumn, range) {
    super(table, config);
    this.baseColumn = baseColumn;
    this.range = range;
    this.size = config.size;
  }
  size;
  static [entityKind] = "PgArray";
  getSQLType() {
    return `${this.baseColumn.getSQLType()}[${typeof this.size === "number" ? this.size : ""}]`;
  }
  mapFromDriverValue(value) {
    if (typeof value === "string") {
      value = parsePgArray(value);
    }
    return value.map((v) => this.baseColumn.mapFromDriverValue(v));
  }
  mapToDriverValue(value, isNestedArray = false) {
    const a = value.map((v) => v === null ? null : is(this.baseColumn, PgArray) ? this.baseColumn.mapToDriverValue(v, true) : this.baseColumn.mapToDriverValue(v));
    if (isNestedArray)
      return a;
    return makePgArray(a);
  }
}

// ../../node_modules/drizzle-orm/pg-core/columns/enum.js
var isPgEnumSym = Symbol.for("drizzle:isPgEnum");
function isPgEnum(obj) {
  return !!obj && typeof obj === "function" && isPgEnumSym in obj && obj[isPgEnumSym] === true;
}

class PgEnumColumnBuilder extends PgColumnBuilder {
  static [entityKind] = "PgEnumColumnBuilder";
  constructor(name, enumInstance) {
    super(name, "string", "PgEnumColumn");
    this.config.enum = enumInstance;
  }
  build(table) {
    return new PgEnumColumn(table, this.config);
  }
}

class PgEnumColumn extends PgColumn {
  static [entityKind] = "PgEnumColumn";
  enum = this.config.enum;
  enumValues = this.config.enum.enumValues;
  constructor(table, config) {
    super(table, config);
    this.enum = config.enum;
  }
  getSQLType() {
    return this.enum.enumName;
  }
}
function pgEnum(enumName, values2) {
  return pgEnumWithSchema(enumName, values2, undefined);
}
function pgEnumWithSchema(enumName, values2, schema) {
  const enumInstance = Object.assign((name) => new PgEnumColumnBuilder(name ?? "", enumInstance), {
    enumName,
    enumValues: values2,
    schema,
    [isPgEnumSym]: true
  });
  return enumInstance;
}

// ../../node_modules/drizzle-orm/subquery.js
class Subquery {
  static [entityKind] = "Subquery";
  constructor(sql, selection, alias, isWith = false) {
    this._ = {
      brand: "Subquery",
      sql,
      selectedFields: selection,
      alias,
      isWith
    };
  }
}

class WithSubquery extends Subquery {
  static [entityKind] = "WithSubquery";
}

// ../../node_modules/drizzle-orm/view-common.js
var ViewBaseConfig = Symbol.for("drizzle:ViewBaseConfig");

// ../../node_modules/drizzle-orm/sql/sql.js
function isSQLWrapper(value) {
  return value !== null && value !== undefined && typeof value.getSQL === "function";
}
function mergeQueries(queries) {
  const result = { sql: "", params: [] };
  for (const query of queries) {
    result.sql += query.sql;
    result.params.push(...query.params);
    if (query.typings?.length) {
      if (!result.typings) {
        result.typings = [];
      }
      result.typings.push(...query.typings);
    }
  }
  return result;
}

class StringChunk {
  static [entityKind] = "StringChunk";
  value;
  constructor(value) {
    this.value = Array.isArray(value) ? value : [value];
  }
  getSQL() {
    return new SQL([this]);
  }
}

class SQL {
  constructor(queryChunks) {
    this.queryChunks = queryChunks;
  }
  static [entityKind] = "SQL";
  decoder = noopDecoder;
  shouldInlineParams = false;
  append(query) {
    this.queryChunks.push(...query.queryChunks);
    return this;
  }
  toQuery(config) {
    return tracer.startActiveSpan("drizzle.buildSQL", (span) => {
      const query = this.buildQueryFromSourceParams(this.queryChunks, config);
      span?.setAttributes({
        "drizzle.query.text": query.sql,
        "drizzle.query.params": JSON.stringify(query.params)
      });
      return query;
    });
  }
  buildQueryFromSourceParams(chunks, _config) {
    const config = Object.assign({}, _config, {
      inlineParams: _config.inlineParams || this.shouldInlineParams,
      paramStartIndex: _config.paramStartIndex || { value: 0 }
    });
    const {
      casing,
      escapeName,
      escapeParam,
      prepareTyping,
      inlineParams,
      paramStartIndex
    } = config;
    return mergeQueries(chunks.map((chunk) => {
      if (is(chunk, StringChunk)) {
        return { sql: chunk.value.join(""), params: [] };
      }
      if (is(chunk, Name)) {
        return { sql: escapeName(chunk.value), params: [] };
      }
      if (chunk === undefined) {
        return { sql: "", params: [] };
      }
      if (Array.isArray(chunk)) {
        const result = [new StringChunk("(")];
        for (const [i, p] of chunk.entries()) {
          result.push(p);
          if (i < chunk.length - 1) {
            result.push(new StringChunk(", "));
          }
        }
        result.push(new StringChunk(")"));
        return this.buildQueryFromSourceParams(result, config);
      }
      if (is(chunk, SQL)) {
        return this.buildQueryFromSourceParams(chunk.queryChunks, {
          ...config,
          inlineParams: inlineParams || chunk.shouldInlineParams
        });
      }
      if (is(chunk, Table)) {
        const schemaName = chunk[Table.Symbol.Schema];
        const tableName = chunk[Table.Symbol.Name];
        return {
          sql: schemaName === undefined ? escapeName(tableName) : escapeName(schemaName) + "." + escapeName(tableName),
          params: []
        };
      }
      if (is(chunk, Column)) {
        const columnName = casing.getColumnCasing(chunk);
        if (_config.invokeSource === "indexes") {
          return { sql: escapeName(columnName), params: [] };
        }
        const schemaName = chunk.table[Table.Symbol.Schema];
        return {
          sql: chunk.table[IsAlias] || schemaName === undefined ? escapeName(chunk.table[Table.Symbol.Name]) + "." + escapeName(columnName) : escapeName(schemaName) + "." + escapeName(chunk.table[Table.Symbol.Name]) + "." + escapeName(columnName),
          params: []
        };
      }
      if (is(chunk, View)) {
        const schemaName = chunk[ViewBaseConfig].schema;
        const viewName = chunk[ViewBaseConfig].name;
        return {
          sql: schemaName === undefined ? escapeName(viewName) : escapeName(schemaName) + "." + escapeName(viewName),
          params: []
        };
      }
      if (is(chunk, Param)) {
        if (is(chunk.value, Placeholder)) {
          return { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ["none"] };
        }
        const mappedValue = chunk.value === null ? null : chunk.encoder.mapToDriverValue(chunk.value);
        if (is(mappedValue, SQL)) {
          return this.buildQueryFromSourceParams([mappedValue], config);
        }
        if (inlineParams) {
          return { sql: this.mapInlineParam(mappedValue, config), params: [] };
        }
        let typings = ["none"];
        if (prepareTyping) {
          typings = [prepareTyping(chunk.encoder)];
        }
        return { sql: escapeParam(paramStartIndex.value++, mappedValue), params: [mappedValue], typings };
      }
      if (is(chunk, Placeholder)) {
        return { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ["none"] };
      }
      if (is(chunk, SQL.Aliased) && chunk.fieldAlias !== undefined) {
        return { sql: escapeName(chunk.fieldAlias), params: [] };
      }
      if (is(chunk, Subquery)) {
        if (chunk._.isWith) {
          return { sql: escapeName(chunk._.alias), params: [] };
        }
        return this.buildQueryFromSourceParams([
          new StringChunk("("),
          chunk._.sql,
          new StringChunk(") "),
          new Name(chunk._.alias)
        ], config);
      }
      if (isPgEnum(chunk)) {
        if (chunk.schema) {
          return { sql: escapeName(chunk.schema) + "." + escapeName(chunk.enumName), params: [] };
        }
        return { sql: escapeName(chunk.enumName), params: [] };
      }
      if (isSQLWrapper(chunk)) {
        if (chunk.shouldOmitSQLParens?.()) {
          return this.buildQueryFromSourceParams([chunk.getSQL()], config);
        }
        return this.buildQueryFromSourceParams([
          new StringChunk("("),
          chunk.getSQL(),
          new StringChunk(")")
        ], config);
      }
      if (inlineParams) {
        return { sql: this.mapInlineParam(chunk, config), params: [] };
      }
      return { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ["none"] };
    }));
  }
  mapInlineParam(chunk, { escapeString }) {
    if (chunk === null) {
      return "null";
    }
    if (typeof chunk === "number" || typeof chunk === "boolean") {
      return chunk.toString();
    }
    if (typeof chunk === "string") {
      return escapeString(chunk);
    }
    if (typeof chunk === "object") {
      const mappedValueAsString = chunk.toString();
      if (mappedValueAsString === "[object Object]") {
        return escapeString(JSON.stringify(chunk));
      }
      return escapeString(mappedValueAsString);
    }
    throw new Error("Unexpected param value: " + chunk);
  }
  getSQL() {
    return this;
  }
  as(alias) {
    if (alias === undefined) {
      return this;
    }
    return new SQL.Aliased(this, alias);
  }
  mapWith(decoder) {
    this.decoder = typeof decoder === "function" ? { mapFromDriverValue: decoder } : decoder;
    return this;
  }
  inlineParams() {
    this.shouldInlineParams = true;
    return this;
  }
  if(condition) {
    return condition ? this : undefined;
  }
}

class Name {
  constructor(value) {
    this.value = value;
  }
  static [entityKind] = "Name";
  brand;
  getSQL() {
    return new SQL([this]);
  }
}
function isDriverValueEncoder(value) {
  return typeof value === "object" && value !== null && "mapToDriverValue" in value && typeof value.mapToDriverValue === "function";
}
var noopDecoder = {
  mapFromDriverValue: (value) => value
};
var noopEncoder = {
  mapToDriverValue: (value) => value
};
var noopMapper = {
  ...noopDecoder,
  ...noopEncoder
};

class Param {
  constructor(value, encoder = noopEncoder) {
    this.value = value;
    this.encoder = encoder;
  }
  static [entityKind] = "Param";
  brand;
  getSQL() {
    return new SQL([this]);
  }
}
function sql(strings, ...params) {
  const queryChunks = [];
  if (params.length > 0 || strings.length > 0 && strings[0] !== "") {
    queryChunks.push(new StringChunk(strings[0]));
  }
  for (const [paramIndex, param2] of params.entries()) {
    queryChunks.push(param2, new StringChunk(strings[paramIndex + 1]));
  }
  return new SQL(queryChunks);
}
((sql2) => {
  function empty() {
    return new SQL([]);
  }
  sql2.empty = empty;
  function fromList(list) {
    return new SQL(list);
  }
  sql2.fromList = fromList;
  function raw2(str) {
    return new SQL([new StringChunk(str)]);
  }
  sql2.raw = raw2;
  function join(chunks, separator) {
    const result = [];
    for (const [i, chunk] of chunks.entries()) {
      if (i > 0 && separator !== undefined) {
        result.push(separator);
      }
      result.push(chunk);
    }
    return new SQL(result);
  }
  sql2.join = join;
  function identifier(value) {
    return new Name(value);
  }
  sql2.identifier = identifier;
  function placeholder2(name2) {
    return new Placeholder(name2);
  }
  sql2.placeholder = placeholder2;
  function param2(value, encoder) {
    return new Param(value, encoder);
  }
  sql2.param = param2;
})(sql || (sql = {}));
((SQL2) => {

  class Aliased {
    constructor(sql2, fieldAlias) {
      this.sql = sql2;
      this.fieldAlias = fieldAlias;
    }
    static [entityKind] = "SQL.Aliased";
    isSelectionField = false;
    getSQL() {
      return this.sql;
    }
    clone() {
      return new Aliased(this.sql, this.fieldAlias);
    }
  }
  SQL2.Aliased = Aliased;
})(SQL || (SQL = {}));

class Placeholder {
  constructor(name2) {
    this.name = name2;
  }
  static [entityKind] = "Placeholder";
  getSQL() {
    return new SQL([this]);
  }
}
function fillPlaceholders(params, values2) {
  return params.map((p) => {
    if (is(p, Placeholder)) {
      if (!(p.name in values2)) {
        throw new Error(`No value for placeholder "${p.name}" was provided`);
      }
      return values2[p.name];
    }
    if (is(p, Param) && is(p.value, Placeholder)) {
      if (!(p.value.name in values2)) {
        throw new Error(`No value for placeholder "${p.value.name}" was provided`);
      }
      return p.encoder.mapToDriverValue(values2[p.value.name]);
    }
    return p;
  });
}
var IsDrizzleView = Symbol.for("drizzle:IsDrizzleView");

class View {
  static [entityKind] = "View";
  [ViewBaseConfig];
  [IsDrizzleView] = true;
  constructor({ name: name2, schema, selectedFields, query }) {
    this[ViewBaseConfig] = {
      name: name2,
      originalName: name2,
      schema,
      selectedFields,
      query,
      isExisting: !query,
      isAlias: false
    };
  }
  getSQL() {
    return new SQL([this]);
  }
}
Column.prototype.getSQL = function() {
  return new SQL([this]);
};
Table.prototype.getSQL = function() {
  return new SQL([this]);
};
Subquery.prototype.getSQL = function() {
  return new SQL([this]);
};

// ../../node_modules/drizzle-orm/utils.js
function mapResultRow(columns, row, joinsNotNullableMap) {
  const nullifyMap = {};
  const result = columns.reduce((result2, { path, field }, columnIndex) => {
    let decoder;
    if (is(field, Column)) {
      decoder = field;
    } else if (is(field, SQL)) {
      decoder = field.decoder;
    } else {
      decoder = field.sql.decoder;
    }
    let node = result2;
    for (const [pathChunkIndex, pathChunk] of path.entries()) {
      if (pathChunkIndex < path.length - 1) {
        if (!(pathChunk in node)) {
          node[pathChunk] = {};
        }
        node = node[pathChunk];
      } else {
        const rawValue = row[columnIndex];
        const value = node[pathChunk] = rawValue === null ? null : decoder.mapFromDriverValue(rawValue);
        if (joinsNotNullableMap && is(field, Column) && path.length === 2) {
          const objectName = path[0];
          if (!(objectName in nullifyMap)) {
            nullifyMap[objectName] = value === null ? getTableName(field.table) : false;
          } else if (typeof nullifyMap[objectName] === "string" && nullifyMap[objectName] !== getTableName(field.table)) {
            nullifyMap[objectName] = false;
          }
        }
      }
    }
    return result2;
  }, {});
  if (joinsNotNullableMap && Object.keys(nullifyMap).length > 0) {
    for (const [objectName, tableName] of Object.entries(nullifyMap)) {
      if (typeof tableName === "string" && !joinsNotNullableMap[tableName]) {
        result[objectName] = null;
      }
    }
  }
  return result;
}
function orderSelectedFields(fields, pathPrefix) {
  return Object.entries(fields).reduce((result, [name, field]) => {
    if (typeof name !== "string") {
      return result;
    }
    const newPath = pathPrefix ? [...pathPrefix, name] : [name];
    if (is(field, Column) || is(field, SQL) || is(field, SQL.Aliased)) {
      result.push({ path: newPath, field });
    } else if (is(field, Table)) {
      result.push(...orderSelectedFields(field[Table.Symbol.Columns], newPath));
    } else {
      result.push(...orderSelectedFields(field, newPath));
    }
    return result;
  }, []);
}
function haveSameKeys(left, right) {
  const leftKeys = Object.keys(left);
  const rightKeys = Object.keys(right);
  if (leftKeys.length !== rightKeys.length) {
    return false;
  }
  for (const [index, key] of leftKeys.entries()) {
    if (key !== rightKeys[index]) {
      return false;
    }
  }
  return true;
}
function mapUpdateSet(table, values2) {
  const entries = Object.entries(values2).filter(([, value]) => value !== undefined).map(([key, value]) => {
    if (is(value, SQL) || is(value, Column)) {
      return [key, value];
    } else {
      return [key, new Param(value, table[Table.Symbol.Columns][key])];
    }
  });
  if (entries.length === 0) {
    throw new Error("No values to set");
  }
  return Object.fromEntries(entries);
}
function applyMixins(baseClass, extendedClasses) {
  for (const extendedClass of extendedClasses) {
    for (const name of Object.getOwnPropertyNames(extendedClass.prototype)) {
      if (name === "constructor")
        continue;
      Object.defineProperty(baseClass.prototype, name, Object.getOwnPropertyDescriptor(extendedClass.prototype, name) || /* @__PURE__ */ Object.create(null));
    }
  }
}
function getTableColumns(table) {
  return table[Table.Symbol.Columns];
}
function getTableLikeName(table) {
  return is(table, Subquery) ? table._.alias : is(table, View) ? table[ViewBaseConfig].name : is(table, SQL) ? undefined : table[Table.Symbol.IsAlias] ? table[Table.Symbol.Name] : table[Table.Symbol.BaseName];
}
function getColumnNameAndConfig(a, b2) {
  return {
    name: typeof a === "string" && a.length > 0 ? a : "",
    config: typeof a === "object" ? a : b2
  };
}
function isConfig(data) {
  if (typeof data !== "object" || data === null)
    return false;
  if (data.constructor.name !== "Object")
    return false;
  if ("logger" in data) {
    const type = typeof data["logger"];
    if (type !== "boolean" && (type !== "object" || typeof data["logger"]["logQuery"] !== "function") && type !== "undefined")
      return false;
    return true;
  }
  if ("schema" in data) {
    const type = typeof data["logger"];
    if (type !== "object" && type !== "undefined")
      return false;
    return true;
  }
  if ("casing" in data) {
    const type = typeof data["logger"];
    if (type !== "string" && type !== "undefined")
      return false;
    return true;
  }
  if ("mode" in data) {
    if (data["mode"] !== "default" || data["mode"] !== "planetscale" || data["mode"] !== undefined)
      return false;
    return true;
  }
  if ("connection" in data) {
    const type = typeof data["connection"];
    if (type !== "string" && type !== "object" && type !== "undefined")
      return false;
    return true;
  }
  if ("client" in data) {
    const type = typeof data["client"];
    if (type !== "object" && type !== "function" && type !== "undefined")
      return false;
    return true;
  }
  if (Object.keys(data).length === 0)
    return true;
  return false;
}

// ../../node_modules/drizzle-orm/pg-core/query-builders/delete.js
class PgDeleteBase extends QueryPromise {
  constructor(table, session, dialect, withList) {
    super();
    this.session = session;
    this.dialect = dialect;
    this.config = { table, withList };
  }
  static [entityKind] = "PgDelete";
  config;
  where(where) {
    this.config.where = where;
    return this;
  }
  returning(fields = this.config.table[Table.Symbol.Columns]) {
    this.config.returning = orderSelectedFields(fields);
    return this;
  }
  getSQL() {
    return this.dialect.buildDeleteQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  _prepare(name) {
    return tracer.startActiveSpan("drizzle.prepareQuery", () => {
      return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), this.config.returning, name, true);
    });
  }
  prepare(name) {
    return this._prepare(name);
  }
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  execute = (placeholderValues) => {
    return tracer.startActiveSpan("drizzle.operation", () => {
      return this._prepare().execute(placeholderValues, this.authToken);
    });
  };
  $dynamic() {
    return this;
  }
}

// ../../node_modules/drizzle-orm/alias.js
class ColumnAliasProxyHandler {
  constructor(table) {
    this.table = table;
  }
  static [entityKind] = "ColumnAliasProxyHandler";
  get(columnObj, prop) {
    if (prop === "table") {
      return this.table;
    }
    return columnObj[prop];
  }
}

class TableAliasProxyHandler {
  constructor(alias, replaceOriginalName) {
    this.alias = alias;
    this.replaceOriginalName = replaceOriginalName;
  }
  static [entityKind] = "TableAliasProxyHandler";
  get(target, prop) {
    if (prop === Table.Symbol.IsAlias) {
      return true;
    }
    if (prop === Table.Symbol.Name) {
      return this.alias;
    }
    if (this.replaceOriginalName && prop === Table.Symbol.OriginalName) {
      return this.alias;
    }
    if (prop === ViewBaseConfig) {
      return {
        ...target[ViewBaseConfig],
        name: this.alias,
        isAlias: true
      };
    }
    if (prop === Table.Symbol.Columns) {
      const columns = target[Table.Symbol.Columns];
      if (!columns) {
        return columns;
      }
      const proxiedColumns = {};
      Object.keys(columns).map((key) => {
        proxiedColumns[key] = new Proxy(columns[key], new ColumnAliasProxyHandler(new Proxy(target, this)));
      });
      return proxiedColumns;
    }
    const value = target[prop];
    if (is(value, Column)) {
      return new Proxy(value, new ColumnAliasProxyHandler(new Proxy(target, this)));
    }
    return value;
  }
}
function aliasedTable(table, tableAlias) {
  return new Proxy(table, new TableAliasProxyHandler(tableAlias, false));
}
function aliasedTableColumn(column, tableAlias) {
  return new Proxy(column, new ColumnAliasProxyHandler(new Proxy(column.table, new TableAliasProxyHandler(tableAlias, false))));
}
function mapColumnsInAliasedSQLToAlias(query, alias) {
  return new SQL.Aliased(mapColumnsInSQLToAlias(query.sql, alias), query.fieldAlias);
}
function mapColumnsInSQLToAlias(query, alias) {
  return sql.join(query.queryChunks.map((c) => {
    if (is(c, Column)) {
      return aliasedTableColumn(c, alias);
    }
    if (is(c, SQL)) {
      return mapColumnsInSQLToAlias(c, alias);
    }
    if (is(c, SQL.Aliased)) {
      return mapColumnsInAliasedSQLToAlias(c, alias);
    }
    return c;
  }));
}

// ../../node_modules/drizzle-orm/casing.js
function toSnakeCase(input) {
  const words = input.replace(/['\u2019]/g, "").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g) ?? [];
  return words.map((word) => word.toLowerCase()).join("_");
}
function toCamelCase(input) {
  const words = input.replace(/['\u2019]/g, "").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g) ?? [];
  return words.reduce((acc, word, i) => {
    const formattedWord = i === 0 ? word.toLowerCase() : `${word[0].toUpperCase()}${word.slice(1)}`;
    return acc + formattedWord;
  }, "");
}
function noopCase(input) {
  return input;
}

class CasingCache {
  static [entityKind] = "CasingCache";
  cache = {};
  cachedTables = {};
  convert;
  constructor(casing) {
    this.convert = casing === "snake_case" ? toSnakeCase : casing === "camelCase" ? toCamelCase : noopCase;
  }
  getColumnCasing(column) {
    if (!column.keyAsName)
      return column.name;
    const schema = column.table[Table.Symbol.Schema] ?? "public";
    const tableName = column.table[Table.Symbol.OriginalName];
    const key = `${schema}.${tableName}.${column.name}`;
    if (!this.cache[key]) {
      this.cacheTable(column.table);
    }
    return this.cache[key];
  }
  cacheTable(table) {
    const schema = table[Table.Symbol.Schema] ?? "public";
    const tableName = table[Table.Symbol.OriginalName];
    const tableKey = `${schema}.${tableName}`;
    if (!this.cachedTables[tableKey]) {
      for (const column of Object.values(table[Table.Symbol.Columns])) {
        const columnKey = `${tableKey}.${column.name}`;
        this.cache[columnKey] = this.convert(column.name);
      }
      this.cachedTables[tableKey] = true;
    }
  }
  clearCache() {
    this.cache = {};
    this.cachedTables = {};
  }
}

// ../../node_modules/drizzle-orm/errors.js
class DrizzleError extends Error {
  static [entityKind] = "DrizzleError";
  constructor({ message, cause }) {
    super(message);
    this.name = "DrizzleError";
    this.cause = cause;
  }
}

class TransactionRollbackError extends DrizzleError {
  static [entityKind] = "TransactionRollbackError";
  constructor() {
    super({ message: "Rollback" });
  }
}

// ../../node_modules/drizzle-orm/pg-core/columns/int.common.js
class PgIntColumnBaseBuilder extends PgColumnBuilder {
  static [entityKind] = "PgIntColumnBaseBuilder";
  generatedAlwaysAsIdentity(sequence) {
    if (sequence) {
      const { name, ...options } = sequence;
      this.config.generatedIdentity = {
        type: "always",
        sequenceName: name,
        sequenceOptions: options
      };
    } else {
      this.config.generatedIdentity = {
        type: "always"
      };
    }
    this.config.hasDefault = true;
    this.config.notNull = true;
    return this;
  }
  generatedByDefaultAsIdentity(sequence) {
    if (sequence) {
      const { name, ...options } = sequence;
      this.config.generatedIdentity = {
        type: "byDefault",
        sequenceName: name,
        sequenceOptions: options
      };
    } else {
      this.config.generatedIdentity = {
        type: "byDefault"
      };
    }
    this.config.hasDefault = true;
    this.config.notNull = true;
    return this;
  }
}

// ../../node_modules/drizzle-orm/pg-core/columns/bigint.js
class PgBigInt53Builder extends PgIntColumnBaseBuilder {
  static [entityKind] = "PgBigInt53Builder";
  constructor(name) {
    super(name, "number", "PgBigInt53");
  }
  build(table) {
    return new PgBigInt53(table, this.config);
  }
}

class PgBigInt53 extends PgColumn {
  static [entityKind] = "PgBigInt53";
  getSQLType() {
    return "bigint";
  }
  mapFromDriverValue(value) {
    if (typeof value === "number") {
      return value;
    }
    return Number(value);
  }
}

class PgBigInt64Builder extends PgIntColumnBaseBuilder {
  static [entityKind] = "PgBigInt64Builder";
  constructor(name) {
    super(name, "bigint", "PgBigInt64");
  }
  build(table) {
    return new PgBigInt64(table, this.config);
  }
}

class PgBigInt64 extends PgColumn {
  static [entityKind] = "PgBigInt64";
  getSQLType() {
    return "bigint";
  }
  mapFromDriverValue(value) {
    return BigInt(value);
  }
}
function bigint(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  if (config.mode === "number") {
    return new PgBigInt53Builder(name);
  }
  return new PgBigInt64Builder(name);
}

// ../../node_modules/drizzle-orm/pg-core/columns/bigserial.js
class PgBigSerial53Builder extends PgColumnBuilder {
  static [entityKind] = "PgBigSerial53Builder";
  constructor(name) {
    super(name, "number", "PgBigSerial53");
    this.config.hasDefault = true;
    this.config.notNull = true;
  }
  build(table) {
    return new PgBigSerial53(table, this.config);
  }
}

class PgBigSerial53 extends PgColumn {
  static [entityKind] = "PgBigSerial53";
  getSQLType() {
    return "bigserial";
  }
  mapFromDriverValue(value) {
    if (typeof value === "number") {
      return value;
    }
    return Number(value);
  }
}

class PgBigSerial64Builder extends PgColumnBuilder {
  static [entityKind] = "PgBigSerial64Builder";
  constructor(name) {
    super(name, "bigint", "PgBigSerial64");
    this.config.hasDefault = true;
  }
  build(table) {
    return new PgBigSerial64(table, this.config);
  }
}

class PgBigSerial64 extends PgColumn {
  static [entityKind] = "PgBigSerial64";
  getSQLType() {
    return "bigserial";
  }
  mapFromDriverValue(value) {
    return BigInt(value);
  }
}
function bigserial(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  if (config.mode === "number") {
    return new PgBigSerial53Builder(name);
  }
  return new PgBigSerial64Builder(name);
}

// ../../node_modules/drizzle-orm/pg-core/columns/boolean.js
class PgBooleanBuilder extends PgColumnBuilder {
  static [entityKind] = "PgBooleanBuilder";
  constructor(name) {
    super(name, "boolean", "PgBoolean");
  }
  build(table) {
    return new PgBoolean(table, this.config);
  }
}

class PgBoolean extends PgColumn {
  static [entityKind] = "PgBoolean";
  getSQLType() {
    return "boolean";
  }
}
function boolean(name) {
  return new PgBooleanBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/char.js
class PgCharBuilder extends PgColumnBuilder {
  static [entityKind] = "PgCharBuilder";
  constructor(name, config) {
    super(name, "string", "PgChar");
    this.config.length = config.length;
    this.config.enumValues = config.enum;
  }
  build(table) {
    return new PgChar(table, this.config);
  }
}

class PgChar extends PgColumn {
  static [entityKind] = "PgChar";
  length = this.config.length;
  enumValues = this.config.enumValues;
  getSQLType() {
    return this.length === undefined ? `char` : `char(${this.length})`;
  }
}
function char(a, b2 = {}) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgCharBuilder(name, config);
}

// ../../node_modules/drizzle-orm/pg-core/columns/cidr.js
class PgCidrBuilder extends PgColumnBuilder {
  static [entityKind] = "PgCidrBuilder";
  constructor(name) {
    super(name, "string", "PgCidr");
  }
  build(table) {
    return new PgCidr(table, this.config);
  }
}

class PgCidr extends PgColumn {
  static [entityKind] = "PgCidr";
  getSQLType() {
    return "cidr";
  }
}
function cidr(name) {
  return new PgCidrBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/custom.js
class PgCustomColumnBuilder extends PgColumnBuilder {
  static [entityKind] = "PgCustomColumnBuilder";
  constructor(name, fieldConfig, customTypeParams) {
    super(name, "custom", "PgCustomColumn");
    this.config.fieldConfig = fieldConfig;
    this.config.customTypeParams = customTypeParams;
  }
  build(table) {
    return new PgCustomColumn(table, this.config);
  }
}

class PgCustomColumn extends PgColumn {
  static [entityKind] = "PgCustomColumn";
  sqlName;
  mapTo;
  mapFrom;
  constructor(table, config) {
    super(table, config);
    this.sqlName = config.customTypeParams.dataType(config.fieldConfig);
    this.mapTo = config.customTypeParams.toDriver;
    this.mapFrom = config.customTypeParams.fromDriver;
  }
  getSQLType() {
    return this.sqlName;
  }
  mapFromDriverValue(value) {
    return typeof this.mapFrom === "function" ? this.mapFrom(value) : value;
  }
  mapToDriverValue(value) {
    return typeof this.mapTo === "function" ? this.mapTo(value) : value;
  }
}
function customType(customTypeParams) {
  return (a, b2) => {
    const { name, config } = getColumnNameAndConfig(a, b2);
    return new PgCustomColumnBuilder(name, config, customTypeParams);
  };
}

// ../../node_modules/drizzle-orm/pg-core/columns/date.common.js
class PgDateColumnBaseBuilder extends PgColumnBuilder {
  static [entityKind] = "PgDateColumnBaseBuilder";
  defaultNow() {
    return this.default(sql`now()`);
  }
}

// ../../node_modules/drizzle-orm/pg-core/columns/date.js
class PgDateBuilder extends PgDateColumnBaseBuilder {
  static [entityKind] = "PgDateBuilder";
  constructor(name) {
    super(name, "date", "PgDate");
  }
  build(table) {
    return new PgDate(table, this.config);
  }
}

class PgDate extends PgColumn {
  static [entityKind] = "PgDate";
  getSQLType() {
    return "date";
  }
  mapFromDriverValue(value) {
    return new Date(value);
  }
  mapToDriverValue(value) {
    return value.toISOString();
  }
}

class PgDateStringBuilder extends PgDateColumnBaseBuilder {
  static [entityKind] = "PgDateStringBuilder";
  constructor(name) {
    super(name, "string", "PgDateString");
  }
  build(table) {
    return new PgDateString(table, this.config);
  }
}

class PgDateString extends PgColumn {
  static [entityKind] = "PgDateString";
  getSQLType() {
    return "date";
  }
}
function date(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  if (config?.mode === "date") {
    return new PgDateBuilder(name);
  }
  return new PgDateStringBuilder(name);
}

// ../../node_modules/drizzle-orm/pg-core/columns/double-precision.js
class PgDoublePrecisionBuilder extends PgColumnBuilder {
  static [entityKind] = "PgDoublePrecisionBuilder";
  constructor(name) {
    super(name, "number", "PgDoublePrecision");
  }
  build(table) {
    return new PgDoublePrecision(table, this.config);
  }
}

class PgDoublePrecision extends PgColumn {
  static [entityKind] = "PgDoublePrecision";
  getSQLType() {
    return "double precision";
  }
  mapFromDriverValue(value) {
    if (typeof value === "string") {
      return Number.parseFloat(value);
    }
    return value;
  }
}
function doublePrecision(name) {
  return new PgDoublePrecisionBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/inet.js
class PgInetBuilder extends PgColumnBuilder {
  static [entityKind] = "PgInetBuilder";
  constructor(name) {
    super(name, "string", "PgInet");
  }
  build(table) {
    return new PgInet(table, this.config);
  }
}

class PgInet extends PgColumn {
  static [entityKind] = "PgInet";
  getSQLType() {
    return "inet";
  }
}
function inet(name) {
  return new PgInetBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/integer.js
class PgIntegerBuilder extends PgIntColumnBaseBuilder {
  static [entityKind] = "PgIntegerBuilder";
  constructor(name) {
    super(name, "number", "PgInteger");
  }
  build(table) {
    return new PgInteger(table, this.config);
  }
}

class PgInteger extends PgColumn {
  static [entityKind] = "PgInteger";
  getSQLType() {
    return "integer";
  }
  mapFromDriverValue(value) {
    if (typeof value === "string") {
      return Number.parseInt(value);
    }
    return value;
  }
}
function integer(name) {
  return new PgIntegerBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/interval.js
class PgIntervalBuilder extends PgColumnBuilder {
  static [entityKind] = "PgIntervalBuilder";
  constructor(name, intervalConfig) {
    super(name, "string", "PgInterval");
    this.config.intervalConfig = intervalConfig;
  }
  build(table) {
    return new PgInterval(table, this.config);
  }
}

class PgInterval extends PgColumn {
  static [entityKind] = "PgInterval";
  fields = this.config.intervalConfig.fields;
  precision = this.config.intervalConfig.precision;
  getSQLType() {
    const fields = this.fields ? ` ${this.fields}` : "";
    const precision = this.precision ? `(${this.precision})` : "";
    return `interval${fields}${precision}`;
  }
}
function interval(a, b2 = {}) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgIntervalBuilder(name, config);
}

// ../../node_modules/drizzle-orm/pg-core/columns/json.js
class PgJsonBuilder extends PgColumnBuilder {
  static [entityKind] = "PgJsonBuilder";
  constructor(name) {
    super(name, "json", "PgJson");
  }
  build(table) {
    return new PgJson(table, this.config);
  }
}

class PgJson extends PgColumn {
  static [entityKind] = "PgJson";
  constructor(table, config) {
    super(table, config);
  }
  getSQLType() {
    return "json";
  }
  mapToDriverValue(value) {
    return JSON.stringify(value);
  }
  mapFromDriverValue(value) {
    if (typeof value === "string") {
      try {
        return JSON.parse(value);
      } catch {
        return value;
      }
    }
    return value;
  }
}
function json(name) {
  return new PgJsonBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/jsonb.js
class PgJsonbBuilder extends PgColumnBuilder {
  static [entityKind] = "PgJsonbBuilder";
  constructor(name) {
    super(name, "json", "PgJsonb");
  }
  build(table) {
    return new PgJsonb(table, this.config);
  }
}

class PgJsonb extends PgColumn {
  static [entityKind] = "PgJsonb";
  constructor(table, config) {
    super(table, config);
  }
  getSQLType() {
    return "jsonb";
  }
  mapToDriverValue(value) {
    return JSON.stringify(value);
  }
  mapFromDriverValue(value) {
    if (typeof value === "string") {
      try {
        return JSON.parse(value);
      } catch {
        return value;
      }
    }
    return value;
  }
}
function jsonb(name) {
  return new PgJsonbBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/line.js
class PgLineBuilder extends PgColumnBuilder {
  static [entityKind] = "PgLineBuilder";
  constructor(name) {
    super(name, "array", "PgLine");
  }
  build(table) {
    return new PgLineTuple(table, this.config);
  }
}

class PgLineTuple extends PgColumn {
  static [entityKind] = "PgLine";
  getSQLType() {
    return "line";
  }
  mapFromDriverValue(value) {
    const [a, b2, c] = value.slice(1, -1).split(",");
    return [Number.parseFloat(a), Number.parseFloat(b2), Number.parseFloat(c)];
  }
  mapToDriverValue(value) {
    return `{${value[0]},${value[1]},${value[2]}}`;
  }
}

class PgLineABCBuilder extends PgColumnBuilder {
  static [entityKind] = "PgLineABCBuilder";
  constructor(name) {
    super(name, "json", "PgLineABC");
  }
  build(table) {
    return new PgLineABC(table, this.config);
  }
}

class PgLineABC extends PgColumn {
  static [entityKind] = "PgLineABC";
  getSQLType() {
    return "line";
  }
  mapFromDriverValue(value) {
    const [a, b2, c] = value.slice(1, -1).split(",");
    return { a: Number.parseFloat(a), b: Number.parseFloat(b2), c: Number.parseFloat(c) };
  }
  mapToDriverValue(value) {
    return `{${value.a},${value.b},${value.c}}`;
  }
}
function line(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  if (!config?.mode || config.mode === "tuple") {
    return new PgLineBuilder(name);
  }
  return new PgLineABCBuilder(name);
}

// ../../node_modules/drizzle-orm/pg-core/columns/macaddr.js
class PgMacaddrBuilder extends PgColumnBuilder {
  static [entityKind] = "PgMacaddrBuilder";
  constructor(name) {
    super(name, "string", "PgMacaddr");
  }
  build(table) {
    return new PgMacaddr(table, this.config);
  }
}

class PgMacaddr extends PgColumn {
  static [entityKind] = "PgMacaddr";
  getSQLType() {
    return "macaddr";
  }
}
function macaddr(name) {
  return new PgMacaddrBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/macaddr8.js
class PgMacaddr8Builder extends PgColumnBuilder {
  static [entityKind] = "PgMacaddr8Builder";
  constructor(name) {
    super(name, "string", "PgMacaddr8");
  }
  build(table) {
    return new PgMacaddr8(table, this.config);
  }
}

class PgMacaddr8 extends PgColumn {
  static [entityKind] = "PgMacaddr8";
  getSQLType() {
    return "macaddr8";
  }
}
function macaddr8(name) {
  return new PgMacaddr8Builder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/numeric.js
class PgNumericBuilder extends PgColumnBuilder {
  static [entityKind] = "PgNumericBuilder";
  constructor(name, precision, scale) {
    super(name, "string", "PgNumeric");
    this.config.precision = precision;
    this.config.scale = scale;
  }
  build(table) {
    return new PgNumeric(table, this.config);
  }
}

class PgNumeric extends PgColumn {
  static [entityKind] = "PgNumeric";
  precision;
  scale;
  constructor(table, config) {
    super(table, config);
    this.precision = config.precision;
    this.scale = config.scale;
  }
  getSQLType() {
    if (this.precision !== undefined && this.scale !== undefined) {
      return `numeric(${this.precision}, ${this.scale})`;
    } else if (this.precision === undefined) {
      return "numeric";
    } else {
      return `numeric(${this.precision})`;
    }
  }
}
function numeric(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgNumericBuilder(name, config?.precision, config?.scale);
}

// ../../node_modules/drizzle-orm/pg-core/columns/point.js
class PgPointTupleBuilder extends PgColumnBuilder {
  static [entityKind] = "PgPointTupleBuilder";
  constructor(name) {
    super(name, "array", "PgPointTuple");
  }
  build(table) {
    return new PgPointTuple(table, this.config);
  }
}

class PgPointTuple extends PgColumn {
  static [entityKind] = "PgPointTuple";
  getSQLType() {
    return "point";
  }
  mapFromDriverValue(value) {
    if (typeof value === "string") {
      const [x, y] = value.slice(1, -1).split(",");
      return [Number.parseFloat(x), Number.parseFloat(y)];
    }
    return [value.x, value.y];
  }
  mapToDriverValue(value) {
    return `(${value[0]},${value[1]})`;
  }
}

class PgPointObjectBuilder extends PgColumnBuilder {
  static [entityKind] = "PgPointObjectBuilder";
  constructor(name) {
    super(name, "json", "PgPointObject");
  }
  build(table) {
    return new PgPointObject(table, this.config);
  }
}

class PgPointObject extends PgColumn {
  static [entityKind] = "PgPointObject";
  getSQLType() {
    return "point";
  }
  mapFromDriverValue(value) {
    if (typeof value === "string") {
      const [x, y] = value.slice(1, -1).split(",");
      return { x: Number.parseFloat(x), y: Number.parseFloat(y) };
    }
    return value;
  }
  mapToDriverValue(value) {
    return `(${value.x},${value.y})`;
  }
}
function point(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  if (!config?.mode || config.mode === "tuple") {
    return new PgPointTupleBuilder(name);
  }
  return new PgPointObjectBuilder(name);
}

// ../../node_modules/drizzle-orm/pg-core/columns/postgis_extension/utils.js
function hexToBytes(hex) {
  const bytes = [];
  for (let c = 0;c < hex.length; c += 2) {
    bytes.push(Number.parseInt(hex.slice(c, c + 2), 16));
  }
  return new Uint8Array(bytes);
}
function bytesToFloat64(bytes, offset) {
  const buffer2 = new ArrayBuffer(8);
  const view = new DataView(buffer2);
  for (let i = 0;i < 8; i++) {
    view.setUint8(i, bytes[offset + i]);
  }
  return view.getFloat64(0, true);
}
function parseEWKB(hex) {
  const bytes = hexToBytes(hex);
  let offset = 0;
  const byteOrder = bytes[offset];
  offset += 1;
  const view = new DataView(bytes.buffer);
  const geomType = view.getUint32(offset, byteOrder === 1);
  offset += 4;
  let _srid;
  if (geomType & 536870912) {
    _srid = view.getUint32(offset, byteOrder === 1);
    offset += 4;
  }
  if ((geomType & 65535) === 1) {
    const x = bytesToFloat64(bytes, offset);
    offset += 8;
    const y = bytesToFloat64(bytes, offset);
    offset += 8;
    return [x, y];
  }
  throw new Error("Unsupported geometry type");
}

// ../../node_modules/drizzle-orm/pg-core/columns/postgis_extension/geometry.js
class PgGeometryBuilder extends PgColumnBuilder {
  static [entityKind] = "PgGeometryBuilder";
  constructor(name) {
    super(name, "array", "PgGeometry");
  }
  build(table) {
    return new PgGeometry(table, this.config);
  }
}

class PgGeometry extends PgColumn {
  static [entityKind] = "PgGeometry";
  getSQLType() {
    return "geometry(point)";
  }
  mapFromDriverValue(value) {
    return parseEWKB(value);
  }
  mapToDriverValue(value) {
    return `point(${value[0]} ${value[1]})`;
  }
}

class PgGeometryObjectBuilder extends PgColumnBuilder {
  static [entityKind] = "PgGeometryObjectBuilder";
  constructor(name) {
    super(name, "json", "PgGeometryObject");
  }
  build(table) {
    return new PgGeometryObject(table, this.config);
  }
}

class PgGeometryObject extends PgColumn {
  static [entityKind] = "PgGeometryObject";
  getSQLType() {
    return "geometry(point)";
  }
  mapFromDriverValue(value) {
    const parsed = parseEWKB(value);
    return { x: parsed[0], y: parsed[1] };
  }
  mapToDriverValue(value) {
    return `point(${value.x} ${value.y})`;
  }
}
function geometry(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  if (!config?.mode || config.mode === "tuple") {
    return new PgGeometryBuilder(name);
  }
  return new PgGeometryObjectBuilder(name);
}

// ../../node_modules/drizzle-orm/pg-core/columns/real.js
class PgRealBuilder extends PgColumnBuilder {
  static [entityKind] = "PgRealBuilder";
  constructor(name, length) {
    super(name, "number", "PgReal");
    this.config.length = length;
  }
  build(table) {
    return new PgReal(table, this.config);
  }
}

class PgReal extends PgColumn {
  static [entityKind] = "PgReal";
  constructor(table, config) {
    super(table, config);
  }
  getSQLType() {
    return "real";
  }
  mapFromDriverValue = (value) => {
    if (typeof value === "string") {
      return Number.parseFloat(value);
    }
    return value;
  };
}
function real(name) {
  return new PgRealBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/serial.js
class PgSerialBuilder extends PgColumnBuilder {
  static [entityKind] = "PgSerialBuilder";
  constructor(name) {
    super(name, "number", "PgSerial");
    this.config.hasDefault = true;
    this.config.notNull = true;
  }
  build(table) {
    return new PgSerial(table, this.config);
  }
}

class PgSerial extends PgColumn {
  static [entityKind] = "PgSerial";
  getSQLType() {
    return "serial";
  }
}
function serial(name) {
  return new PgSerialBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/smallint.js
class PgSmallIntBuilder extends PgIntColumnBaseBuilder {
  static [entityKind] = "PgSmallIntBuilder";
  constructor(name) {
    super(name, "number", "PgSmallInt");
  }
  build(table) {
    return new PgSmallInt(table, this.config);
  }
}

class PgSmallInt extends PgColumn {
  static [entityKind] = "PgSmallInt";
  getSQLType() {
    return "smallint";
  }
  mapFromDriverValue = (value) => {
    if (typeof value === "string") {
      return Number(value);
    }
    return value;
  };
}
function smallint(name) {
  return new PgSmallIntBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/smallserial.js
class PgSmallSerialBuilder extends PgColumnBuilder {
  static [entityKind] = "PgSmallSerialBuilder";
  constructor(name) {
    super(name, "number", "PgSmallSerial");
    this.config.hasDefault = true;
    this.config.notNull = true;
  }
  build(table) {
    return new PgSmallSerial(table, this.config);
  }
}

class PgSmallSerial extends PgColumn {
  static [entityKind] = "PgSmallSerial";
  getSQLType() {
    return "smallserial";
  }
}
function smallserial(name) {
  return new PgSmallSerialBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/text.js
class PgTextBuilder extends PgColumnBuilder {
  static [entityKind] = "PgTextBuilder";
  constructor(name, config) {
    super(name, "string", "PgText");
    this.config.enumValues = config.enum;
  }
  build(table) {
    return new PgText(table, this.config);
  }
}

class PgText extends PgColumn {
  static [entityKind] = "PgText";
  enumValues = this.config.enumValues;
  getSQLType() {
    return "text";
  }
}
function text(a, b2 = {}) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgTextBuilder(name, config);
}

// ../../node_modules/drizzle-orm/pg-core/columns/time.js
class PgTimeBuilder extends PgDateColumnBaseBuilder {
  constructor(name, withTimezone, precision) {
    super(name, "string", "PgTime");
    this.withTimezone = withTimezone;
    this.precision = precision;
    this.config.withTimezone = withTimezone;
    this.config.precision = precision;
  }
  static [entityKind] = "PgTimeBuilder";
  build(table) {
    return new PgTime(table, this.config);
  }
}

class PgTime extends PgColumn {
  static [entityKind] = "PgTime";
  withTimezone;
  precision;
  constructor(table, config) {
    super(table, config);
    this.withTimezone = config.withTimezone;
    this.precision = config.precision;
  }
  getSQLType() {
    const precision = this.precision === undefined ? "" : `(${this.precision})`;
    return `time${precision}${this.withTimezone ? " with time zone" : ""}`;
  }
}
function time2(a, b2 = {}) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgTimeBuilder(name, config.withTimezone ?? false, config.precision);
}

// ../../node_modules/drizzle-orm/pg-core/columns/timestamp.js
class PgTimestampBuilder extends PgDateColumnBaseBuilder {
  static [entityKind] = "PgTimestampBuilder";
  constructor(name, withTimezone, precision) {
    super(name, "date", "PgTimestamp");
    this.config.withTimezone = withTimezone;
    this.config.precision = precision;
  }
  build(table) {
    return new PgTimestamp(table, this.config);
  }
}

class PgTimestamp extends PgColumn {
  static [entityKind] = "PgTimestamp";
  withTimezone;
  precision;
  constructor(table, config) {
    super(table, config);
    this.withTimezone = config.withTimezone;
    this.precision = config.precision;
  }
  getSQLType() {
    const precision = this.precision === undefined ? "" : ` (${this.precision})`;
    return `timestamp${precision}${this.withTimezone ? " with time zone" : ""}`;
  }
  mapFromDriverValue = (value) => {
    return new Date(this.withTimezone ? value : value + "+0000");
  };
  mapToDriverValue = (value) => {
    return value.toISOString();
  };
}

class PgTimestampStringBuilder extends PgDateColumnBaseBuilder {
  static [entityKind] = "PgTimestampStringBuilder";
  constructor(name, withTimezone, precision) {
    super(name, "string", "PgTimestampString");
    this.config.withTimezone = withTimezone;
    this.config.precision = precision;
  }
  build(table) {
    return new PgTimestampString(table, this.config);
  }
}

class PgTimestampString extends PgColumn {
  static [entityKind] = "PgTimestampString";
  withTimezone;
  precision;
  constructor(table, config) {
    super(table, config);
    this.withTimezone = config.withTimezone;
    this.precision = config.precision;
  }
  getSQLType() {
    const precision = this.precision === undefined ? "" : `(${this.precision})`;
    return `timestamp${precision}${this.withTimezone ? " with time zone" : ""}`;
  }
}
function timestamp(a, b2 = {}) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  if (config?.mode === "string") {
    return new PgTimestampStringBuilder(name, config.withTimezone ?? false, config.precision);
  }
  return new PgTimestampBuilder(name, config?.withTimezone ?? false, config?.precision);
}

// ../../node_modules/drizzle-orm/pg-core/columns/uuid.js
class PgUUIDBuilder extends PgColumnBuilder {
  static [entityKind] = "PgUUIDBuilder";
  constructor(name) {
    super(name, "string", "PgUUID");
  }
  defaultRandom() {
    return this.default(sql`gen_random_uuid()`);
  }
  build(table) {
    return new PgUUID(table, this.config);
  }
}

class PgUUID extends PgColumn {
  static [entityKind] = "PgUUID";
  getSQLType() {
    return "uuid";
  }
}
function uuid(name) {
  return new PgUUIDBuilder(name ?? "");
}

// ../../node_modules/drizzle-orm/pg-core/columns/varchar.js
class PgVarcharBuilder extends PgColumnBuilder {
  static [entityKind] = "PgVarcharBuilder";
  constructor(name, config) {
    super(name, "string", "PgVarchar");
    this.config.length = config.length;
    this.config.enumValues = config.enum;
  }
  build(table) {
    return new PgVarchar(table, this.config);
  }
}

class PgVarchar extends PgColumn {
  static [entityKind] = "PgVarchar";
  length = this.config.length;
  enumValues = this.config.enumValues;
  getSQLType() {
    return this.length === undefined ? `varchar` : `varchar(${this.length})`;
  }
}
function varchar(a, b2 = {}) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgVarcharBuilder(name, config);
}

// ../../node_modules/drizzle-orm/pg-core/columns/vector_extension/bit.js
class PgBinaryVectorBuilder extends PgColumnBuilder {
  static [entityKind] = "PgBinaryVectorBuilder";
  constructor(name, config) {
    super(name, "string", "PgBinaryVector");
    this.config.dimensions = config.dimensions;
  }
  build(table) {
    return new PgBinaryVector(table, this.config);
  }
}

class PgBinaryVector extends PgColumn {
  static [entityKind] = "PgBinaryVector";
  dimensions = this.config.dimensions;
  getSQLType() {
    return `bit(${this.dimensions})`;
  }
}
function bit(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgBinaryVectorBuilder(name, config);
}

// ../../node_modules/drizzle-orm/pg-core/columns/vector_extension/halfvec.js
class PgHalfVectorBuilder extends PgColumnBuilder {
  static [entityKind] = "PgHalfVectorBuilder";
  constructor(name, config) {
    super(name, "array", "PgHalfVector");
    this.config.dimensions = config.dimensions;
  }
  build(table) {
    return new PgHalfVector(table, this.config);
  }
}

class PgHalfVector extends PgColumn {
  static [entityKind] = "PgHalfVector";
  dimensions = this.config.dimensions;
  getSQLType() {
    return `halfvec(${this.dimensions})`;
  }
  mapToDriverValue(value) {
    return JSON.stringify(value);
  }
  mapFromDriverValue(value) {
    return value.slice(1, -1).split(",").map((v) => Number.parseFloat(v));
  }
}
function halfvec(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgHalfVectorBuilder(name, config);
}

// ../../node_modules/drizzle-orm/pg-core/columns/vector_extension/sparsevec.js
class PgSparseVectorBuilder extends PgColumnBuilder {
  static [entityKind] = "PgSparseVectorBuilder";
  constructor(name, config) {
    super(name, "string", "PgSparseVector");
    this.config.dimensions = config.dimensions;
  }
  build(table) {
    return new PgSparseVector(table, this.config);
  }
}

class PgSparseVector extends PgColumn {
  static [entityKind] = "PgSparseVector";
  dimensions = this.config.dimensions;
  getSQLType() {
    return `sparsevec(${this.dimensions})`;
  }
}
function sparsevec(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgSparseVectorBuilder(name, config);
}

// ../../node_modules/drizzle-orm/pg-core/columns/vector_extension/vector.js
class PgVectorBuilder extends PgColumnBuilder {
  static [entityKind] = "PgVectorBuilder";
  constructor(name, config) {
    super(name, "array", "PgVector");
    this.config.dimensions = config.dimensions;
  }
  build(table) {
    return new PgVector(table, this.config);
  }
}

class PgVector extends PgColumn {
  static [entityKind] = "PgVector";
  dimensions = this.config.dimensions;
  getSQLType() {
    return `vector(${this.dimensions})`;
  }
  mapToDriverValue(value) {
    return JSON.stringify(value);
  }
  mapFromDriverValue(value) {
    return value.slice(1, -1).split(",").map((v) => Number.parseFloat(v));
  }
}
function vector(a, b2) {
  const { name, config } = getColumnNameAndConfig(a, b2);
  return new PgVectorBuilder(name, config);
}

// ../../node_modules/drizzle-orm/pg-core/columns/all.js
function getPgColumnBuilders() {
  return {
    bigint,
    bigserial,
    boolean,
    char,
    cidr,
    customType,
    date,
    doublePrecision,
    inet,
    integer,
    interval,
    json,
    jsonb,
    line,
    macaddr,
    macaddr8,
    numeric,
    point,
    geometry,
    real,
    serial,
    smallint,
    smallserial,
    text,
    time: time2,
    timestamp,
    uuid,
    varchar,
    bit,
    halfvec,
    sparsevec,
    vector
  };
}

// ../../node_modules/drizzle-orm/pg-core/table.js
var InlineForeignKeys = Symbol.for("drizzle:PgInlineForeignKeys");
var EnableRLS = Symbol.for("drizzle:EnableRLS");

class PgTable extends Table {
  static [entityKind] = "PgTable";
  static Symbol = Object.assign({}, Table.Symbol, {
    InlineForeignKeys,
    EnableRLS
  });
  [InlineForeignKeys] = [];
  [EnableRLS] = false;
  [Table.Symbol.ExtraConfigBuilder] = undefined;
}
function pgTableWithSchema(name, columns, extraConfig, schema, baseName = name) {
  const rawTable = new PgTable(name, schema, baseName);
  const parsedColumns = typeof columns === "function" ? columns(getPgColumnBuilders()) : columns;
  const builtColumns = Object.fromEntries(Object.entries(parsedColumns).map(([name2, colBuilderBase]) => {
    const colBuilder = colBuilderBase;
    colBuilder.setName(name2);
    const column = colBuilder.build(rawTable);
    rawTable[InlineForeignKeys].push(...colBuilder.buildForeignKeys(column, rawTable));
    return [name2, column];
  }));
  const builtColumnsForExtraConfig = Object.fromEntries(Object.entries(parsedColumns).map(([name2, colBuilderBase]) => {
    const colBuilder = colBuilderBase;
    colBuilder.setName(name2);
    const column = colBuilder.buildExtraConfigColumn(rawTable);
    return [name2, column];
  }));
  const table = Object.assign(rawTable, builtColumns);
  table[Table.Symbol.Columns] = builtColumns;
  table[Table.Symbol.ExtraConfigColumns] = builtColumnsForExtraConfig;
  if (extraConfig) {
    table[PgTable.Symbol.ExtraConfigBuilder] = extraConfig;
  }
  return Object.assign(table, {
    enableRLS: () => {
      table[PgTable.Symbol.EnableRLS] = true;
      return table;
    }
  });
}
var pgTable = (name, columns, extraConfig) => {
  return pgTableWithSchema(name, columns, extraConfig, undefined);
};

// ../../node_modules/drizzle-orm/pg-core/primary-keys.js
class PrimaryKeyBuilder {
  static [entityKind] = "PgPrimaryKeyBuilder";
  columns;
  name;
  constructor(columns, name) {
    this.columns = columns;
    this.name = name;
  }
  build(table) {
    return new PrimaryKey(table, this.columns, this.name);
  }
}

class PrimaryKey {
  constructor(table, columns, name) {
    this.table = table;
    this.columns = columns;
    this.name = name;
  }
  static [entityKind] = "PgPrimaryKey";
  columns;
  name;
  getName() {
    return this.name ?? `${this.table[PgTable.Symbol.Name]}_${this.columns.map((column) => column.name).join("_")}_pk`;
  }
}

// ../../node_modules/drizzle-orm/sql/expressions/conditions.js
function bindIfParam(value, column) {
  if (isDriverValueEncoder(column) && !isSQLWrapper(value) && !is(value, Param) && !is(value, Placeholder) && !is(value, Column) && !is(value, Table) && !is(value, View)) {
    return new Param(value, column);
  }
  return value;
}
var eq = (left, right) => {
  return sql`${left} = ${bindIfParam(right, left)}`;
};
var ne = (left, right) => {
  return sql`${left} <> ${bindIfParam(right, left)}`;
};
function and(...unfilteredConditions) {
  const conditions = unfilteredConditions.filter((c) => c !== undefined);
  if (conditions.length === 0) {
    return;
  }
  if (conditions.length === 1) {
    return new SQL(conditions);
  }
  return new SQL([
    new StringChunk("("),
    sql.join(conditions, new StringChunk(" and ")),
    new StringChunk(")")
  ]);
}
function or(...unfilteredConditions) {
  const conditions = unfilteredConditions.filter((c) => c !== undefined);
  if (conditions.length === 0) {
    return;
  }
  if (conditions.length === 1) {
    return new SQL(conditions);
  }
  return new SQL([
    new StringChunk("("),
    sql.join(conditions, new StringChunk(" or ")),
    new StringChunk(")")
  ]);
}
function not(condition) {
  return sql`not ${condition}`;
}
var gt = (left, right) => {
  return sql`${left} > ${bindIfParam(right, left)}`;
};
var gte = (left, right) => {
  return sql`${left} >= ${bindIfParam(right, left)}`;
};
var lt = (left, right) => {
  return sql`${left} < ${bindIfParam(right, left)}`;
};
var lte = (left, right) => {
  return sql`${left} <= ${bindIfParam(right, left)}`;
};
function inArray(column, values2) {
  if (Array.isArray(values2)) {
    if (values2.length === 0) {
      return sql`false`;
    }
    return sql`${column} in ${values2.map((v) => bindIfParam(v, column))}`;
  }
  return sql`${column} in ${bindIfParam(values2, column)}`;
}
function notInArray(column, values2) {
  if (Array.isArray(values2)) {
    if (values2.length === 0) {
      return sql`true`;
    }
    return sql`${column} not in ${values2.map((v) => bindIfParam(v, column))}`;
  }
  return sql`${column} not in ${bindIfParam(values2, column)}`;
}
function isNull(value) {
  return sql`${value} is null`;
}
function isNotNull(value) {
  return sql`${value} is not null`;
}
function exists(subquery) {
  return sql`exists ${subquery}`;
}
function notExists(subquery) {
  return sql`not exists ${subquery}`;
}
function between(column, min, max) {
  return sql`${column} between ${bindIfParam(min, column)} and ${bindIfParam(max, column)}`;
}
function notBetween(column, min, max) {
  return sql`${column} not between ${bindIfParam(min, column)} and ${bindIfParam(max, column)}`;
}
function like(column, value) {
  return sql`${column} like ${value}`;
}
function notLike(column, value) {
  return sql`${column} not like ${value}`;
}
function ilike(column, value) {
  return sql`${column} ilike ${value}`;
}
function notIlike(column, value) {
  return sql`${column} not ilike ${value}`;
}

// ../../node_modules/drizzle-orm/sql/expressions/select.js
function asc(column) {
  return sql`${column} asc`;
}
function desc(column) {
  return sql`${column} desc`;
}

// ../../node_modules/drizzle-orm/relations.js
class Relation {
  constructor(sourceTable, referencedTable, relationName) {
    this.sourceTable = sourceTable;
    this.referencedTable = referencedTable;
    this.relationName = relationName;
    this.referencedTableName = referencedTable[Table.Symbol.Name];
  }
  static [entityKind] = "Relation";
  referencedTableName;
  fieldName;
}

class Relations {
  constructor(table, config) {
    this.table = table;
    this.config = config;
  }
  static [entityKind] = "Relations";
}

class One extends Relation {
  constructor(sourceTable, referencedTable, config, isNullable) {
    super(sourceTable, referencedTable, config?.relationName);
    this.config = config;
    this.isNullable = isNullable;
  }
  static [entityKind] = "One";
  withFieldName(fieldName) {
    const relation = new One(this.sourceTable, this.referencedTable, this.config, this.isNullable);
    relation.fieldName = fieldName;
    return relation;
  }
}

class Many extends Relation {
  constructor(sourceTable, referencedTable, config) {
    super(sourceTable, referencedTable, config?.relationName);
    this.config = config;
  }
  static [entityKind] = "Many";
  withFieldName(fieldName) {
    const relation = new Many(this.sourceTable, this.referencedTable, this.config);
    relation.fieldName = fieldName;
    return relation;
  }
}
function getOperators() {
  return {
    and,
    between,
    eq,
    exists,
    gt,
    gte,
    ilike,
    inArray,
    isNull,
    isNotNull,
    like,
    lt,
    lte,
    ne,
    not,
    notBetween,
    notExists,
    notLike,
    notIlike,
    notInArray,
    or,
    sql
  };
}
function getOrderByOperators() {
  return {
    sql,
    asc,
    desc
  };
}
function extractTablesRelationalConfig(schema, configHelpers) {
  if (Object.keys(schema).length === 1 && "default" in schema && !is(schema["default"], Table)) {
    schema = schema["default"];
  }
  const tableNamesMap = {};
  const relationsBuffer = {};
  const tablesConfig = {};
  for (const [key, value] of Object.entries(schema)) {
    if (is(value, Table)) {
      const dbName = getTableUniqueName(value);
      const bufferedRelations = relationsBuffer[dbName];
      tableNamesMap[dbName] = key;
      tablesConfig[key] = {
        tsName: key,
        dbName: value[Table.Symbol.Name],
        schema: value[Table.Symbol.Schema],
        columns: value[Table.Symbol.Columns],
        relations: bufferedRelations?.relations ?? {},
        primaryKey: bufferedRelations?.primaryKey ?? []
      };
      for (const column of Object.values(value[Table.Symbol.Columns])) {
        if (column.primary) {
          tablesConfig[key].primaryKey.push(column);
        }
      }
      const extraConfig = value[Table.Symbol.ExtraConfigBuilder]?.(value[Table.Symbol.ExtraConfigColumns]);
      if (extraConfig) {
        for (const configEntry of Object.values(extraConfig)) {
          if (is(configEntry, PrimaryKeyBuilder)) {
            tablesConfig[key].primaryKey.push(...configEntry.columns);
          }
        }
      }
    } else if (is(value, Relations)) {
      const dbName = getTableUniqueName(value.table);
      const tableName = tableNamesMap[dbName];
      const relations2 = value.config(configHelpers(value.table));
      let primaryKey;
      for (const [relationName, relation] of Object.entries(relations2)) {
        if (tableName) {
          const tableConfig = tablesConfig[tableName];
          tableConfig.relations[relationName] = relation;
          if (primaryKey) {
            tableConfig.primaryKey.push(...primaryKey);
          }
        } else {
          if (!(dbName in relationsBuffer)) {
            relationsBuffer[dbName] = {
              relations: {},
              primaryKey
            };
          }
          relationsBuffer[dbName].relations[relationName] = relation;
        }
      }
    }
  }
  return { tables: tablesConfig, tableNamesMap };
}
function relations(table, relations2) {
  return new Relations(table, (helpers) => Object.fromEntries(Object.entries(relations2(helpers)).map(([key, value]) => [
    key,
    value.withFieldName(key)
  ])));
}
function createOne(sourceTable) {
  return function one(table, config) {
    return new One(sourceTable, table, config, config?.fields.reduce((res, f) => res && f.notNull, true) ?? false);
  };
}
function createMany(sourceTable) {
  return function many(referencedTable, config) {
    return new Many(sourceTable, referencedTable, config);
  };
}
function normalizeRelation(schema, tableNamesMap, relation) {
  if (is(relation, One) && relation.config) {
    return {
      fields: relation.config.fields,
      references: relation.config.references
    };
  }
  const referencedTableTsName = tableNamesMap[getTableUniqueName(relation.referencedTable)];
  if (!referencedTableTsName) {
    throw new Error(`Table "${relation.referencedTable[Table.Symbol.Name]}" not found in schema`);
  }
  const referencedTableConfig = schema[referencedTableTsName];
  if (!referencedTableConfig) {
    throw new Error(`Table "${referencedTableTsName}" not found in schema`);
  }
  const sourceTable = relation.sourceTable;
  const sourceTableTsName = tableNamesMap[getTableUniqueName(sourceTable)];
  if (!sourceTableTsName) {
    throw new Error(`Table "${sourceTable[Table.Symbol.Name]}" not found in schema`);
  }
  const reverseRelations = [];
  for (const referencedTableRelation of Object.values(referencedTableConfig.relations)) {
    if (relation.relationName && relation !== referencedTableRelation && referencedTableRelation.relationName === relation.relationName || !relation.relationName && referencedTableRelation.referencedTable === relation.sourceTable) {
      reverseRelations.push(referencedTableRelation);
    }
  }
  if (reverseRelations.length > 1) {
    throw relation.relationName ? new Error(`There are multiple relations with name "${relation.relationName}" in table "${referencedTableTsName}"`) : new Error(`There are multiple relations between "${referencedTableTsName}" and "${relation.sourceTable[Table.Symbol.Name]}". Please specify relation name`);
  }
  if (reverseRelations[0] && is(reverseRelations[0], One) && reverseRelations[0].config) {
    return {
      fields: reverseRelations[0].config.references,
      references: reverseRelations[0].config.fields
    };
  }
  throw new Error(`There is not enough information to infer relation "${sourceTableTsName}.${relation.fieldName}"`);
}
function createTableRelationsHelpers(sourceTable) {
  return {
    one: createOne(sourceTable),
    many: createMany(sourceTable)
  };
}
function mapRelationalRow(tablesConfig, tableConfig, row, buildQueryResultSelection, mapColumnValue = (value) => value) {
  const result = {};
  for (const [
    selectionItemIndex,
    selectionItem
  ] of buildQueryResultSelection.entries()) {
    if (selectionItem.isJson) {
      const relation = tableConfig.relations[selectionItem.tsKey];
      const rawSubRows = row[selectionItemIndex];
      const subRows = typeof rawSubRows === "string" ? JSON.parse(rawSubRows) : rawSubRows;
      result[selectionItem.tsKey] = is(relation, One) ? subRows && mapRelationalRow(tablesConfig, tablesConfig[selectionItem.relationTableTsKey], subRows, selectionItem.selection, mapColumnValue) : subRows.map((subRow) => mapRelationalRow(tablesConfig, tablesConfig[selectionItem.relationTableTsKey], subRow, selectionItem.selection, mapColumnValue));
    } else {
      const value = mapColumnValue(row[selectionItemIndex]);
      const field = selectionItem.field;
      let decoder;
      if (is(field, Column)) {
        decoder = field;
      } else if (is(field, SQL)) {
        decoder = field.decoder;
      } else {
        decoder = field.sql.decoder;
      }
      result[selectionItem.tsKey] = value === null ? null : decoder.mapFromDriverValue(value);
    }
  }
  return result;
}

// ../../node_modules/drizzle-orm/pg-core/view-base.js
class PgViewBase extends View {
  static [entityKind] = "PgViewBase";
}

// ../../node_modules/drizzle-orm/pg-core/dialect.js
class PgDialect {
  static [entityKind] = "PgDialect";
  casing;
  constructor(config) {
    this.casing = new CasingCache(config?.casing);
  }
  async migrate(migrations, session, config) {
    const migrationsTable = typeof config === "string" ? "__drizzle_migrations" : config.migrationsTable ?? "__drizzle_migrations";
    const migrationsSchema = typeof config === "string" ? "drizzle" : config.migrationsSchema ?? "drizzle";
    const migrationTableCreate = sql`
			CREATE TABLE IF NOT EXISTS ${sql.identifier(migrationsSchema)}.${sql.identifier(migrationsTable)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;
    await session.execute(sql`CREATE SCHEMA IF NOT EXISTS ${sql.identifier(migrationsSchema)}`);
    await session.execute(migrationTableCreate);
    const dbMigrations = await session.all(sql`select id, hash, created_at from ${sql.identifier(migrationsSchema)}.${sql.identifier(migrationsTable)} order by created_at desc limit 1`);
    const lastDbMigration = dbMigrations[0];
    await session.transaction(async (tx) => {
      for await (const migration of migrations) {
        if (!lastDbMigration || Number(lastDbMigration.created_at) < migration.folderMillis) {
          for (const stmt of migration.sql) {
            await tx.execute(sql.raw(stmt));
          }
          await tx.execute(sql`insert into ${sql.identifier(migrationsSchema)}.${sql.identifier(migrationsTable)} ("hash", "created_at") values(${migration.hash}, ${migration.folderMillis})`);
        }
      }
    });
  }
  escapeName(name) {
    return `"${name}"`;
  }
  escapeParam(num) {
    return `$${num + 1}`;
  }
  escapeString(str) {
    return `'${str.replace(/'/g, "''")}'`;
  }
  buildWithCTE(queries) {
    if (!queries?.length)
      return;
    const withSqlChunks = [sql`with `];
    for (const [i, w] of queries.entries()) {
      withSqlChunks.push(sql`${sql.identifier(w._.alias)} as (${w._.sql})`);
      if (i < queries.length - 1) {
        withSqlChunks.push(sql`, `);
      }
    }
    withSqlChunks.push(sql` `);
    return sql.join(withSqlChunks);
  }
  buildDeleteQuery({ table, where, returning, withList }) {
    const withSql = this.buildWithCTE(withList);
    const returningSql = returning ? sql` returning ${this.buildSelection(returning, { isSingleTable: true })}` : undefined;
    const whereSql = where ? sql` where ${where}` : undefined;
    return sql`${withSql}delete from ${table}${whereSql}${returningSql}`;
  }
  buildUpdateSet(table, set) {
    const tableColumns = table[Table.Symbol.Columns];
    const columnNames = Object.keys(tableColumns).filter((colName) => set[colName] !== undefined || tableColumns[colName]?.onUpdateFn !== undefined);
    const setSize = columnNames.length;
    return sql.join(columnNames.flatMap((colName, i) => {
      const col = tableColumns[colName];
      const value = set[colName] ?? sql.param(col.onUpdateFn(), col);
      const res = sql`${sql.identifier(this.casing.getColumnCasing(col))} = ${value}`;
      if (i < setSize - 1) {
        return [res, sql.raw(", ")];
      }
      return [res];
    }));
  }
  buildUpdateQuery({ table, set, where, returning, withList, from, joins }) {
    const withSql = this.buildWithCTE(withList);
    const tableName = table[PgTable.Symbol.Name];
    const tableSchema = table[PgTable.Symbol.Schema];
    const origTableName = table[PgTable.Symbol.OriginalName];
    const alias = tableName === origTableName ? undefined : tableName;
    const tableSql = sql`${tableSchema ? sql`${sql.identifier(tableSchema)}.` : undefined}${sql.identifier(origTableName)}${alias && sql` ${sql.identifier(alias)}`}`;
    const setSql = this.buildUpdateSet(table, set);
    const fromSql = from && sql.join([sql.raw(" from "), this.buildFromTable(from)]);
    const joinsSql = this.buildJoins(joins);
    const returningSql = returning ? sql` returning ${this.buildSelection(returning, { isSingleTable: !from })}` : undefined;
    const whereSql = where ? sql` where ${where}` : undefined;
    return sql`${withSql}update ${tableSql} set ${setSql}${fromSql}${joinsSql}${whereSql}${returningSql}`;
  }
  buildSelection(fields, { isSingleTable = false } = {}) {
    const columnsLen = fields.length;
    const chunks = fields.flatMap(({ field }, i) => {
      const chunk = [];
      if (is(field, SQL.Aliased) && field.isSelectionField) {
        chunk.push(sql.identifier(field.fieldAlias));
      } else if (is(field, SQL.Aliased) || is(field, SQL)) {
        const query = is(field, SQL.Aliased) ? field.sql : field;
        if (isSingleTable) {
          chunk.push(new SQL(query.queryChunks.map((c) => {
            if (is(c, PgColumn)) {
              return sql.identifier(this.casing.getColumnCasing(c));
            }
            return c;
          })));
        } else {
          chunk.push(query);
        }
        if (is(field, SQL.Aliased)) {
          chunk.push(sql` as ${sql.identifier(field.fieldAlias)}`);
        }
      } else if (is(field, Column)) {
        if (isSingleTable) {
          chunk.push(sql.identifier(this.casing.getColumnCasing(field)));
        } else {
          chunk.push(field);
        }
      }
      if (i < columnsLen - 1) {
        chunk.push(sql`, `);
      }
      return chunk;
    });
    return sql.join(chunks);
  }
  buildJoins(joins) {
    if (!joins || joins.length === 0) {
      return;
    }
    const joinsArray = [];
    for (const [index, joinMeta] of joins.entries()) {
      if (index === 0) {
        joinsArray.push(sql` `);
      }
      const table = joinMeta.table;
      const lateralSql = joinMeta.lateral ? sql` lateral` : undefined;
      if (is(table, PgTable)) {
        const tableName = table[PgTable.Symbol.Name];
        const tableSchema = table[PgTable.Symbol.Schema];
        const origTableName = table[PgTable.Symbol.OriginalName];
        const alias = tableName === origTableName ? undefined : joinMeta.alias;
        joinsArray.push(sql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${tableSchema ? sql`${sql.identifier(tableSchema)}.` : undefined}${sql.identifier(origTableName)}${alias && sql` ${sql.identifier(alias)}`} on ${joinMeta.on}`);
      } else if (is(table, View)) {
        const viewName = table[ViewBaseConfig].name;
        const viewSchema = table[ViewBaseConfig].schema;
        const origViewName = table[ViewBaseConfig].originalName;
        const alias = viewName === origViewName ? undefined : joinMeta.alias;
        joinsArray.push(sql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${viewSchema ? sql`${sql.identifier(viewSchema)}.` : undefined}${sql.identifier(origViewName)}${alias && sql` ${sql.identifier(alias)}`} on ${joinMeta.on}`);
      } else {
        joinsArray.push(sql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${table} on ${joinMeta.on}`);
      }
      if (index < joins.length - 1) {
        joinsArray.push(sql` `);
      }
    }
    return sql.join(joinsArray);
  }
  buildFromTable(table) {
    if (is(table, Table) && table[Table.Symbol.OriginalName] !== table[Table.Symbol.Name]) {
      let fullName = sql`${sql.identifier(table[Table.Symbol.OriginalName])}`;
      if (table[Table.Symbol.Schema]) {
        fullName = sql`${sql.identifier(table[Table.Symbol.Schema])}.${fullName}`;
      }
      return sql`${fullName} ${sql.identifier(table[Table.Symbol.Name])}`;
    }
    return table;
  }
  buildSelectQuery({
    withList,
    fields,
    fieldsFlat,
    where,
    having,
    table,
    joins,
    orderBy,
    groupBy,
    limit,
    offset,
    lockingClause,
    distinct,
    setOperators
  }) {
    const fieldsList = fieldsFlat ?? orderSelectedFields(fields);
    for (const f of fieldsList) {
      if (is(f.field, Column) && getTableName(f.field.table) !== (is(table, Subquery) ? table._.alias : is(table, PgViewBase) ? table[ViewBaseConfig].name : is(table, SQL) ? undefined : getTableName(table)) && !((table2) => joins?.some(({ alias }) => alias === (table2[Table.Symbol.IsAlias] ? getTableName(table2) : table2[Table.Symbol.BaseName])))(f.field.table)) {
        const tableName = getTableName(f.field.table);
        throw new Error(`Your "${f.path.join("->")}" field references a column "${tableName}"."${f.field.name}", but the table "${tableName}" is not part of the query! Did you forget to join it?`);
      }
    }
    const isSingleTable = !joins || joins.length === 0;
    const withSql = this.buildWithCTE(withList);
    let distinctSql;
    if (distinct) {
      distinctSql = distinct === true ? sql` distinct` : sql` distinct on (${sql.join(distinct.on, sql`, `)})`;
    }
    const selection = this.buildSelection(fieldsList, { isSingleTable });
    const tableSql = this.buildFromTable(table);
    const joinsSql = this.buildJoins(joins);
    const whereSql = where ? sql` where ${where}` : undefined;
    const havingSql = having ? sql` having ${having}` : undefined;
    let orderBySql;
    if (orderBy && orderBy.length > 0) {
      orderBySql = sql` order by ${sql.join(orderBy, sql`, `)}`;
    }
    let groupBySql;
    if (groupBy && groupBy.length > 0) {
      groupBySql = sql` group by ${sql.join(groupBy, sql`, `)}`;
    }
    const limitSql = typeof limit === "object" || typeof limit === "number" && limit >= 0 ? sql` limit ${limit}` : undefined;
    const offsetSql = offset ? sql` offset ${offset}` : undefined;
    const lockingClauseSql = sql.empty();
    if (lockingClause) {
      const clauseSql = sql` for ${sql.raw(lockingClause.strength)}`;
      if (lockingClause.config.of) {
        clauseSql.append(sql` of ${sql.join(Array.isArray(lockingClause.config.of) ? lockingClause.config.of : [lockingClause.config.of], sql`, `)}`);
      }
      if (lockingClause.config.noWait) {
        clauseSql.append(sql` no wait`);
      } else if (lockingClause.config.skipLocked) {
        clauseSql.append(sql` skip locked`);
      }
      lockingClauseSql.append(clauseSql);
    }
    const finalQuery = sql`${withSql}select${distinctSql} ${selection} from ${tableSql}${joinsSql}${whereSql}${groupBySql}${havingSql}${orderBySql}${limitSql}${offsetSql}${lockingClauseSql}`;
    if (setOperators.length > 0) {
      return this.buildSetOperations(finalQuery, setOperators);
    }
    return finalQuery;
  }
  buildSetOperations(leftSelect, setOperators) {
    const [setOperator, ...rest] = setOperators;
    if (!setOperator) {
      throw new Error("Cannot pass undefined values to any set operator");
    }
    if (rest.length === 0) {
      return this.buildSetOperationQuery({ leftSelect, setOperator });
    }
    return this.buildSetOperations(this.buildSetOperationQuery({ leftSelect, setOperator }), rest);
  }
  buildSetOperationQuery({
    leftSelect,
    setOperator: { type, isAll, rightSelect, limit, orderBy, offset }
  }) {
    const leftChunk = sql`(${leftSelect.getSQL()}) `;
    const rightChunk = sql`(${rightSelect.getSQL()})`;
    let orderBySql;
    if (orderBy && orderBy.length > 0) {
      const orderByValues = [];
      for (const singleOrderBy of orderBy) {
        if (is(singleOrderBy, PgColumn)) {
          orderByValues.push(sql.identifier(singleOrderBy.name));
        } else if (is(singleOrderBy, SQL)) {
          for (let i = 0;i < singleOrderBy.queryChunks.length; i++) {
            const chunk = singleOrderBy.queryChunks[i];
            if (is(chunk, PgColumn)) {
              singleOrderBy.queryChunks[i] = sql.identifier(chunk.name);
            }
          }
          orderByValues.push(sql`${singleOrderBy}`);
        } else {
          orderByValues.push(sql`${singleOrderBy}`);
        }
      }
      orderBySql = sql` order by ${sql.join(orderByValues, sql`, `)} `;
    }
    const limitSql = typeof limit === "object" || typeof limit === "number" && limit >= 0 ? sql` limit ${limit}` : undefined;
    const operatorChunk = sql.raw(`${type} ${isAll ? "all " : ""}`);
    const offsetSql = offset ? sql` offset ${offset}` : undefined;
    return sql`${leftChunk}${operatorChunk}${rightChunk}${orderBySql}${limitSql}${offsetSql}`;
  }
  buildInsertQuery({ table, values: valuesOrSelect, onConflict, returning, withList, select: select2, overridingSystemValue_ }) {
    const valuesSqlList = [];
    const columns = table[Table.Symbol.Columns];
    const colEntries = Object.entries(columns).filter(([_, col]) => !col.shouldDisableInsert());
    const insertOrder = colEntries.map(([, column]) => sql.identifier(this.casing.getColumnCasing(column)));
    if (select2) {
      const select22 = valuesOrSelect;
      if (is(select22, SQL)) {
        valuesSqlList.push(select22);
      } else {
        valuesSqlList.push(select22.getSQL());
      }
    } else {
      const values2 = valuesOrSelect;
      valuesSqlList.push(sql.raw("values "));
      for (const [valueIndex, value] of values2.entries()) {
        const valueList = [];
        for (const [fieldName, col] of colEntries) {
          const colValue = value[fieldName];
          if (colValue === undefined || is(colValue, Param) && colValue.value === undefined) {
            if (col.defaultFn !== undefined) {
              const defaultFnResult = col.defaultFn();
              const defaultValue = is(defaultFnResult, SQL) ? defaultFnResult : sql.param(defaultFnResult, col);
              valueList.push(defaultValue);
            } else if (!col.default && col.onUpdateFn !== undefined) {
              const onUpdateFnResult = col.onUpdateFn();
              const newValue = is(onUpdateFnResult, SQL) ? onUpdateFnResult : sql.param(onUpdateFnResult, col);
              valueList.push(newValue);
            } else {
              valueList.push(sql`default`);
            }
          } else {
            valueList.push(colValue);
          }
        }
        valuesSqlList.push(valueList);
        if (valueIndex < values2.length - 1) {
          valuesSqlList.push(sql`, `);
        }
      }
    }
    const withSql = this.buildWithCTE(withList);
    const valuesSql = sql.join(valuesSqlList);
    const returningSql = returning ? sql` returning ${this.buildSelection(returning, { isSingleTable: true })}` : undefined;
    const onConflictSql = onConflict ? sql` on conflict ${onConflict}` : undefined;
    const overridingSql = overridingSystemValue_ === true ? sql`overriding system value ` : undefined;
    return sql`${withSql}insert into ${table} ${insertOrder} ${overridingSql}${valuesSql}${onConflictSql}${returningSql}`;
  }
  buildRefreshMaterializedViewQuery({ view, concurrently, withNoData }) {
    const concurrentlySql = concurrently ? sql` concurrently` : undefined;
    const withNoDataSql = withNoData ? sql` with no data` : undefined;
    return sql`refresh materialized view${concurrentlySql} ${view}${withNoDataSql}`;
  }
  prepareTyping(encoder) {
    if (is(encoder, PgJsonb) || is(encoder, PgJson)) {
      return "json";
    } else if (is(encoder, PgNumeric)) {
      return "decimal";
    } else if (is(encoder, PgTime)) {
      return "time";
    } else if (is(encoder, PgTimestamp) || is(encoder, PgTimestampString)) {
      return "timestamp";
    } else if (is(encoder, PgDate) || is(encoder, PgDateString)) {
      return "date";
    } else if (is(encoder, PgUUID)) {
      return "uuid";
    } else {
      return "none";
    }
  }
  sqlToQuery(sql2, invokeSource) {
    return sql2.toQuery({
      casing: this.casing,
      escapeName: this.escapeName,
      escapeParam: this.escapeParam,
      escapeString: this.escapeString,
      prepareTyping: this.prepareTyping,
      invokeSource
    });
  }
  buildRelationalQueryWithoutPK({
    fullSchema,
    schema,
    tableNamesMap,
    table,
    tableConfig,
    queryConfig: config,
    tableAlias,
    nestedQueryRelation,
    joinOn
  }) {
    let selection = [];
    let limit, offset, orderBy = [], where;
    const joins = [];
    if (config === true) {
      const selectionEntries = Object.entries(tableConfig.columns);
      selection = selectionEntries.map(([key, value]) => ({
        dbKey: value.name,
        tsKey: key,
        field: aliasedTableColumn(value, tableAlias),
        relationTableTsKey: undefined,
        isJson: false,
        selection: []
      }));
    } else {
      const aliasedColumns = Object.fromEntries(Object.entries(tableConfig.columns).map(([key, value]) => [key, aliasedTableColumn(value, tableAlias)]));
      if (config.where) {
        const whereSql = typeof config.where === "function" ? config.where(aliasedColumns, getOperators()) : config.where;
        where = whereSql && mapColumnsInSQLToAlias(whereSql, tableAlias);
      }
      const fieldsSelection = [];
      let selectedColumns = [];
      if (config.columns) {
        let isIncludeMode = false;
        for (const [field, value] of Object.entries(config.columns)) {
          if (value === undefined) {
            continue;
          }
          if (field in tableConfig.columns) {
            if (!isIncludeMode && value === true) {
              isIncludeMode = true;
            }
            selectedColumns.push(field);
          }
        }
        if (selectedColumns.length > 0) {
          selectedColumns = isIncludeMode ? selectedColumns.filter((c) => config.columns?.[c] === true) : Object.keys(tableConfig.columns).filter((key) => !selectedColumns.includes(key));
        }
      } else {
        selectedColumns = Object.keys(tableConfig.columns);
      }
      for (const field of selectedColumns) {
        const column = tableConfig.columns[field];
        fieldsSelection.push({ tsKey: field, value: column });
      }
      let selectedRelations = [];
      if (config.with) {
        selectedRelations = Object.entries(config.with).filter((entry) => !!entry[1]).map(([tsKey, queryConfig]) => ({ tsKey, queryConfig, relation: tableConfig.relations[tsKey] }));
      }
      let extras;
      if (config.extras) {
        extras = typeof config.extras === "function" ? config.extras(aliasedColumns, { sql }) : config.extras;
        for (const [tsKey, value] of Object.entries(extras)) {
          fieldsSelection.push({
            tsKey,
            value: mapColumnsInAliasedSQLToAlias(value, tableAlias)
          });
        }
      }
      for (const { tsKey, value } of fieldsSelection) {
        selection.push({
          dbKey: is(value, SQL.Aliased) ? value.fieldAlias : tableConfig.columns[tsKey].name,
          tsKey,
          field: is(value, Column) ? aliasedTableColumn(value, tableAlias) : value,
          relationTableTsKey: undefined,
          isJson: false,
          selection: []
        });
      }
      let orderByOrig = typeof config.orderBy === "function" ? config.orderBy(aliasedColumns, getOrderByOperators()) : config.orderBy ?? [];
      if (!Array.isArray(orderByOrig)) {
        orderByOrig = [orderByOrig];
      }
      orderBy = orderByOrig.map((orderByValue) => {
        if (is(orderByValue, Column)) {
          return aliasedTableColumn(orderByValue, tableAlias);
        }
        return mapColumnsInSQLToAlias(orderByValue, tableAlias);
      });
      limit = config.limit;
      offset = config.offset;
      for (const {
        tsKey: selectedRelationTsKey,
        queryConfig: selectedRelationConfigValue,
        relation
      } of selectedRelations) {
        const normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);
        const relationTableName = getTableUniqueName(relation.referencedTable);
        const relationTableTsName = tableNamesMap[relationTableName];
        const relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;
        const joinOn2 = and(...normalizedRelation.fields.map((field2, i) => eq(aliasedTableColumn(normalizedRelation.references[i], relationTableAlias), aliasedTableColumn(field2, tableAlias))));
        const builtRelation = this.buildRelationalQueryWithoutPK({
          fullSchema,
          schema,
          tableNamesMap,
          table: fullSchema[relationTableTsName],
          tableConfig: schema[relationTableTsName],
          queryConfig: is(relation, One) ? selectedRelationConfigValue === true ? { limit: 1 } : { ...selectedRelationConfigValue, limit: 1 } : selectedRelationConfigValue,
          tableAlias: relationTableAlias,
          joinOn: joinOn2,
          nestedQueryRelation: relation
        });
        const field = sql`${sql.identifier(relationTableAlias)}.${sql.identifier("data")}`.as(selectedRelationTsKey);
        joins.push({
          on: sql`true`,
          table: new Subquery(builtRelation.sql, {}, relationTableAlias),
          alias: relationTableAlias,
          joinType: "left",
          lateral: true
        });
        selection.push({
          dbKey: selectedRelationTsKey,
          tsKey: selectedRelationTsKey,
          field,
          relationTableTsKey: relationTableTsName,
          isJson: true,
          selection: builtRelation.selection
        });
      }
    }
    if (selection.length === 0) {
      throw new DrizzleError({ message: `No fields selected for table "${tableConfig.tsName}" ("${tableAlias}")` });
    }
    let result;
    where = and(joinOn, where);
    if (nestedQueryRelation) {
      let field = sql`json_build_array(${sql.join(selection.map(({ field: field2, tsKey, isJson }) => isJson ? sql`${sql.identifier(`${tableAlias}_${tsKey}`)}.${sql.identifier("data")}` : is(field2, SQL.Aliased) ? field2.sql : field2), sql`, `)})`;
      if (is(nestedQueryRelation, Many)) {
        field = sql`coalesce(json_agg(${field}${orderBy.length > 0 ? sql` order by ${sql.join(orderBy, sql`, `)}` : undefined}), '[]'::json)`;
      }
      const nestedSelection = [{
        dbKey: "data",
        tsKey: "data",
        field: field.as("data"),
        isJson: true,
        relationTableTsKey: tableConfig.tsName,
        selection
      }];
      const needsSubquery = limit !== undefined || offset !== undefined || orderBy.length > 0;
      if (needsSubquery) {
        result = this.buildSelectQuery({
          table: aliasedTable(table, tableAlias),
          fields: {},
          fieldsFlat: [{
            path: [],
            field: sql.raw("*")
          }],
          where,
          limit,
          offset,
          orderBy,
          setOperators: []
        });
        where = undefined;
        limit = undefined;
        offset = undefined;
        orderBy = [];
      } else {
        result = aliasedTable(table, tableAlias);
      }
      result = this.buildSelectQuery({
        table: is(result, PgTable) ? result : new Subquery(result, {}, tableAlias),
        fields: {},
        fieldsFlat: nestedSelection.map(({ field: field2 }) => ({
          path: [],
          field: is(field2, Column) ? aliasedTableColumn(field2, tableAlias) : field2
        })),
        joins,
        where,
        limit,
        offset,
        orderBy,
        setOperators: []
      });
    } else {
      result = this.buildSelectQuery({
        table: aliasedTable(table, tableAlias),
        fields: {},
        fieldsFlat: selection.map(({ field }) => ({
          path: [],
          field: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field
        })),
        joins,
        where,
        limit,
        offset,
        orderBy,
        setOperators: []
      });
    }
    return {
      tableTsKey: tableConfig.tsName,
      sql: result,
      selection
    };
  }
}

// ../../node_modules/drizzle-orm/selection-proxy.js
class SelectionProxyHandler {
  static [entityKind] = "SelectionProxyHandler";
  config;
  constructor(config) {
    this.config = { ...config };
  }
  get(subquery, prop) {
    if (prop === "_") {
      return {
        ...subquery["_"],
        selectedFields: new Proxy(subquery._.selectedFields, this)
      };
    }
    if (prop === ViewBaseConfig) {
      return {
        ...subquery[ViewBaseConfig],
        selectedFields: new Proxy(subquery[ViewBaseConfig].selectedFields, this)
      };
    }
    if (typeof prop === "symbol") {
      return subquery[prop];
    }
    const columns = is(subquery, Subquery) ? subquery._.selectedFields : is(subquery, View) ? subquery[ViewBaseConfig].selectedFields : subquery;
    const value = columns[prop];
    if (is(value, SQL.Aliased)) {
      if (this.config.sqlAliasedBehavior === "sql" && !value.isSelectionField) {
        return value.sql;
      }
      const newValue = value.clone();
      newValue.isSelectionField = true;
      return newValue;
    }
    if (is(value, SQL)) {
      if (this.config.sqlBehavior === "sql") {
        return value;
      }
      throw new Error(`You tried to reference "${prop}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`);
    }
    if (is(value, Column)) {
      if (this.config.alias) {
        return new Proxy(value, new ColumnAliasProxyHandler(new Proxy(value.table, new TableAliasProxyHandler(this.config.alias, this.config.replaceOriginalName ?? false))));
      }
      return value;
    }
    if (typeof value !== "object" || value === null) {
      return value;
    }
    return new Proxy(value, new SelectionProxyHandler(this.config));
  }
}

// ../../node_modules/drizzle-orm/query-builders/query-builder.js
class TypedQueryBuilder {
  static [entityKind] = "TypedQueryBuilder";
  getSelectedFields() {
    return this._.selectedFields;
  }
}

// ../../node_modules/drizzle-orm/pg-core/query-builders/select.js
class PgSelectBuilder {
  static [entityKind] = "PgSelectBuilder";
  fields;
  session;
  dialect;
  withList = [];
  distinct;
  constructor(config) {
    this.fields = config.fields;
    this.session = config.session;
    this.dialect = config.dialect;
    if (config.withList) {
      this.withList = config.withList;
    }
    this.distinct = config.distinct;
  }
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  from(source) {
    const isPartialSelect = !!this.fields;
    let fields;
    if (this.fields) {
      fields = this.fields;
    } else if (is(source, Subquery)) {
      fields = Object.fromEntries(Object.keys(source._.selectedFields).map((key) => [key, source[key]]));
    } else if (is(source, PgViewBase)) {
      fields = source[ViewBaseConfig].selectedFields;
    } else if (is(source, SQL)) {
      fields = {};
    } else {
      fields = getTableColumns(source);
    }
    return new PgSelectBase({
      table: source,
      fields,
      isPartialSelect,
      session: this.session,
      dialect: this.dialect,
      withList: this.withList,
      distinct: this.distinct
    }).setToken(this.authToken);
  }
}

class PgSelectQueryBuilderBase extends TypedQueryBuilder {
  static [entityKind] = "PgSelectQueryBuilder";
  _;
  config;
  joinsNotNullableMap;
  tableName;
  isPartialSelect;
  session;
  dialect;
  constructor({ table, fields, isPartialSelect, session, dialect, withList, distinct }) {
    super();
    this.config = {
      withList,
      table,
      fields: { ...fields },
      distinct,
      setOperators: []
    };
    this.isPartialSelect = isPartialSelect;
    this.session = session;
    this.dialect = dialect;
    this._ = {
      selectedFields: fields
    };
    this.tableName = getTableLikeName(table);
    this.joinsNotNullableMap = typeof this.tableName === "string" ? { [this.tableName]: true } : {};
  }
  createJoin(joinType) {
    return (table, on) => {
      const baseTableName = this.tableName;
      const tableName = getTableLikeName(table);
      if (typeof tableName === "string" && this.config.joins?.some((join) => join.alias === tableName)) {
        throw new Error(`Alias "${tableName}" is already used in this query`);
      }
      if (!this.isPartialSelect) {
        if (Object.keys(this.joinsNotNullableMap).length === 1 && typeof baseTableName === "string") {
          this.config.fields = {
            [baseTableName]: this.config.fields
          };
        }
        if (typeof tableName === "string" && !is(table, SQL)) {
          const selection = is(table, Subquery) ? table._.selectedFields : is(table, View) ? table[ViewBaseConfig].selectedFields : table[Table.Symbol.Columns];
          this.config.fields[tableName] = selection;
        }
      }
      if (typeof on === "function") {
        on = on(new Proxy(this.config.fields, new SelectionProxyHandler({ sqlAliasedBehavior: "sql", sqlBehavior: "sql" })));
      }
      if (!this.config.joins) {
        this.config.joins = [];
      }
      this.config.joins.push({ on, table, joinType, alias: tableName });
      if (typeof tableName === "string") {
        switch (joinType) {
          case "left": {
            this.joinsNotNullableMap[tableName] = false;
            break;
          }
          case "right": {
            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key]) => [key, false]));
            this.joinsNotNullableMap[tableName] = true;
            break;
          }
          case "inner": {
            this.joinsNotNullableMap[tableName] = true;
            break;
          }
          case "full": {
            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key]) => [key, false]));
            this.joinsNotNullableMap[tableName] = false;
            break;
          }
        }
      }
      return this;
    };
  }
  leftJoin = this.createJoin("left");
  rightJoin = this.createJoin("right");
  innerJoin = this.createJoin("inner");
  fullJoin = this.createJoin("full");
  createSetOperator(type, isAll) {
    return (rightSelection) => {
      const rightSelect = typeof rightSelection === "function" ? rightSelection(getPgSetOperators()) : rightSelection;
      if (!haveSameKeys(this.getSelectedFields(), rightSelect.getSelectedFields())) {
        throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");
      }
      this.config.setOperators.push({ type, isAll, rightSelect });
      return this;
    };
  }
  union = this.createSetOperator("union", false);
  unionAll = this.createSetOperator("union", true);
  intersect = this.createSetOperator("intersect", false);
  intersectAll = this.createSetOperator("intersect", true);
  except = this.createSetOperator("except", false);
  exceptAll = this.createSetOperator("except", true);
  addSetOperators(setOperators) {
    this.config.setOperators.push(...setOperators);
    return this;
  }
  where(where) {
    if (typeof where === "function") {
      where = where(new Proxy(this.config.fields, new SelectionProxyHandler({ sqlAliasedBehavior: "sql", sqlBehavior: "sql" })));
    }
    this.config.where = where;
    return this;
  }
  having(having) {
    if (typeof having === "function") {
      having = having(new Proxy(this.config.fields, new SelectionProxyHandler({ sqlAliasedBehavior: "sql", sqlBehavior: "sql" })));
    }
    this.config.having = having;
    return this;
  }
  groupBy(...columns) {
    if (typeof columns[0] === "function") {
      const groupBy = columns[0](new Proxy(this.config.fields, new SelectionProxyHandler({ sqlAliasedBehavior: "alias", sqlBehavior: "sql" })));
      this.config.groupBy = Array.isArray(groupBy) ? groupBy : [groupBy];
    } else {
      this.config.groupBy = columns;
    }
    return this;
  }
  orderBy(...columns) {
    if (typeof columns[0] === "function") {
      const orderBy = columns[0](new Proxy(this.config.fields, new SelectionProxyHandler({ sqlAliasedBehavior: "alias", sqlBehavior: "sql" })));
      const orderByArray = Array.isArray(orderBy) ? orderBy : [orderBy];
      if (this.config.setOperators.length > 0) {
        this.config.setOperators.at(-1).orderBy = orderByArray;
      } else {
        this.config.orderBy = orderByArray;
      }
    } else {
      const orderByArray = columns;
      if (this.config.setOperators.length > 0) {
        this.config.setOperators.at(-1).orderBy = orderByArray;
      } else {
        this.config.orderBy = orderByArray;
      }
    }
    return this;
  }
  limit(limit) {
    if (this.config.setOperators.length > 0) {
      this.config.setOperators.at(-1).limit = limit;
    } else {
      this.config.limit = limit;
    }
    return this;
  }
  offset(offset) {
    if (this.config.setOperators.length > 0) {
      this.config.setOperators.at(-1).offset = offset;
    } else {
      this.config.offset = offset;
    }
    return this;
  }
  for(strength, config = {}) {
    this.config.lockingClause = { strength, config };
    return this;
  }
  getSQL() {
    return this.dialect.buildSelectQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  as(alias) {
    return new Proxy(new Subquery(this.getSQL(), this.config.fields, alias), new SelectionProxyHandler({ alias, sqlAliasedBehavior: "alias", sqlBehavior: "error" }));
  }
  getSelectedFields() {
    return new Proxy(this.config.fields, new SelectionProxyHandler({ alias: this.tableName, sqlAliasedBehavior: "alias", sqlBehavior: "error" }));
  }
  $dynamic() {
    return this;
  }
}

class PgSelectBase extends PgSelectQueryBuilderBase {
  static [entityKind] = "PgSelect";
  _prepare(name) {
    const { session, config, dialect, joinsNotNullableMap, authToken } = this;
    if (!session) {
      throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");
    }
    return tracer.startActiveSpan("drizzle.prepareQuery", () => {
      const fieldsList = orderSelectedFields(config.fields);
      const query = session.prepareQuery(dialect.sqlToQuery(this.getSQL()), fieldsList, name, true);
      query.joinsNotNullableMap = joinsNotNullableMap;
      return query.setToken(authToken);
    });
  }
  prepare(name) {
    return this._prepare(name);
  }
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  execute = (placeholderValues) => {
    return tracer.startActiveSpan("drizzle.operation", () => {
      return this._prepare().execute(placeholderValues, this.authToken);
    });
  };
}
applyMixins(PgSelectBase, [QueryPromise]);
function createSetOperator(type, isAll) {
  return (leftSelect, rightSelect, ...restSelects) => {
    const setOperators = [rightSelect, ...restSelects].map((select2) => ({
      type,
      isAll,
      rightSelect: select2
    }));
    for (const setOperator of setOperators) {
      if (!haveSameKeys(leftSelect.getSelectedFields(), setOperator.rightSelect.getSelectedFields())) {
        throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");
      }
    }
    return leftSelect.addSetOperators(setOperators);
  };
}
var getPgSetOperators = () => ({
  union,
  unionAll,
  intersect,
  intersectAll,
  except,
  exceptAll
});
var union = createSetOperator("union", false);
var unionAll = createSetOperator("union", true);
var intersect = createSetOperator("intersect", false);
var intersectAll = createSetOperator("intersect", true);
var except = createSetOperator("except", false);
var exceptAll = createSetOperator("except", true);

// ../../node_modules/drizzle-orm/pg-core/query-builders/query-builder.js
class QueryBuilder {
  static [entityKind] = "PgQueryBuilder";
  dialect;
  dialectConfig;
  constructor(dialect) {
    this.dialect = is(dialect, PgDialect) ? dialect : undefined;
    this.dialectConfig = is(dialect, PgDialect) ? undefined : dialect;
  }
  $with(alias) {
    const queryBuilder = this;
    return {
      as(qb) {
        if (typeof qb === "function") {
          qb = qb(queryBuilder);
        }
        return new Proxy(new WithSubquery(qb.getSQL(), qb.getSelectedFields(), alias, true), new SelectionProxyHandler({ alias, sqlAliasedBehavior: "alias", sqlBehavior: "error" }));
      }
    };
  }
  with(...queries) {
    const self = this;
    function select2(fields) {
      return new PgSelectBuilder({
        fields: fields ?? undefined,
        session: undefined,
        dialect: self.getDialect(),
        withList: queries
      });
    }
    function selectDistinct(fields) {
      return new PgSelectBuilder({
        fields: fields ?? undefined,
        session: undefined,
        dialect: self.getDialect(),
        distinct: true
      });
    }
    function selectDistinctOn(on, fields) {
      return new PgSelectBuilder({
        fields: fields ?? undefined,
        session: undefined,
        dialect: self.getDialect(),
        distinct: { on }
      });
    }
    return { select: select2, selectDistinct, selectDistinctOn };
  }
  select(fields) {
    return new PgSelectBuilder({
      fields: fields ?? undefined,
      session: undefined,
      dialect: this.getDialect()
    });
  }
  selectDistinct(fields) {
    return new PgSelectBuilder({
      fields: fields ?? undefined,
      session: undefined,
      dialect: this.getDialect(),
      distinct: true
    });
  }
  selectDistinctOn(on, fields) {
    return new PgSelectBuilder({
      fields: fields ?? undefined,
      session: undefined,
      dialect: this.getDialect(),
      distinct: { on }
    });
  }
  getDialect() {
    if (!this.dialect) {
      this.dialect = new PgDialect(this.dialectConfig);
    }
    return this.dialect;
  }
}

// ../../node_modules/drizzle-orm/pg-core/query-builders/insert.js
class PgInsertBuilder {
  constructor(table, session, dialect, withList, overridingSystemValue_) {
    this.table = table;
    this.session = session;
    this.dialect = dialect;
    this.withList = withList;
    this.overridingSystemValue_ = overridingSystemValue_;
  }
  static [entityKind] = "PgInsertBuilder";
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  overridingSystemValue() {
    this.overridingSystemValue_ = true;
    return this;
  }
  values(values2) {
    values2 = Array.isArray(values2) ? values2 : [values2];
    if (values2.length === 0) {
      throw new Error("values() must be called with at least one value");
    }
    const mappedValues = values2.map((entry) => {
      const result = {};
      const cols = this.table[Table.Symbol.Columns];
      for (const colKey of Object.keys(entry)) {
        const colValue = entry[colKey];
        result[colKey] = is(colValue, SQL) ? colValue : new Param(colValue, cols[colKey]);
      }
      return result;
    });
    return new PgInsertBase(this.table, mappedValues, this.session, this.dialect, this.withList, false, this.overridingSystemValue_).setToken(this.authToken);
  }
  select(selectQuery) {
    const select2 = typeof selectQuery === "function" ? selectQuery(new QueryBuilder) : selectQuery;
    if (!is(select2, SQL) && !haveSameKeys(this.table[Columns], select2._.selectedFields)) {
      throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");
    }
    return new PgInsertBase(this.table, select2, this.session, this.dialect, this.withList, true);
  }
}

class PgInsertBase extends QueryPromise {
  constructor(table, values2, session, dialect, withList, select2, overridingSystemValue_) {
    super();
    this.session = session;
    this.dialect = dialect;
    this.config = { table, values: values2, withList, select: select2, overridingSystemValue_ };
  }
  static [entityKind] = "PgInsert";
  config;
  returning(fields = this.config.table[Table.Symbol.Columns]) {
    this.config.returning = orderSelectedFields(fields);
    return this;
  }
  onConflictDoNothing(config = {}) {
    if (config.target === undefined) {
      this.config.onConflict = sql`do nothing`;
    } else {
      let targetColumn = "";
      targetColumn = Array.isArray(config.target) ? config.target.map((it) => this.dialect.escapeName(this.dialect.casing.getColumnCasing(it))).join(",") : this.dialect.escapeName(this.dialect.casing.getColumnCasing(config.target));
      const whereSql = config.where ? sql` where ${config.where}` : undefined;
      this.config.onConflict = sql`(${sql.raw(targetColumn)})${whereSql} do nothing`;
    }
    return this;
  }
  onConflictDoUpdate(config) {
    if (config.where && (config.targetWhere || config.setWhere)) {
      throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');
    }
    const whereSql = config.where ? sql` where ${config.where}` : undefined;
    const targetWhereSql = config.targetWhere ? sql` where ${config.targetWhere}` : undefined;
    const setWhereSql = config.setWhere ? sql` where ${config.setWhere}` : undefined;
    const setSql = this.dialect.buildUpdateSet(this.config.table, mapUpdateSet(this.config.table, config.set));
    let targetColumn = "";
    targetColumn = Array.isArray(config.target) ? config.target.map((it) => this.dialect.escapeName(this.dialect.casing.getColumnCasing(it))).join(",") : this.dialect.escapeName(this.dialect.casing.getColumnCasing(config.target));
    this.config.onConflict = sql`(${sql.raw(targetColumn)})${targetWhereSql} do update set ${setSql}${whereSql}${setWhereSql}`;
    return this;
  }
  getSQL() {
    return this.dialect.buildInsertQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  _prepare(name) {
    return tracer.startActiveSpan("drizzle.prepareQuery", () => {
      return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), this.config.returning, name, true);
    });
  }
  prepare(name) {
    return this._prepare(name);
  }
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  execute = (placeholderValues) => {
    return tracer.startActiveSpan("drizzle.operation", () => {
      return this._prepare().execute(placeholderValues, this.authToken);
    });
  };
  $dynamic() {
    return this;
  }
}

// ../../node_modules/drizzle-orm/pg-core/query-builders/refresh-materialized-view.js
class PgRefreshMaterializedView extends QueryPromise {
  constructor(view, session, dialect) {
    super();
    this.session = session;
    this.dialect = dialect;
    this.config = { view };
  }
  static [entityKind] = "PgRefreshMaterializedView";
  config;
  concurrently() {
    if (this.config.withNoData !== undefined) {
      throw new Error("Cannot use concurrently and withNoData together");
    }
    this.config.concurrently = true;
    return this;
  }
  withNoData() {
    if (this.config.concurrently !== undefined) {
      throw new Error("Cannot use concurrently and withNoData together");
    }
    this.config.withNoData = true;
    return this;
  }
  getSQL() {
    return this.dialect.buildRefreshMaterializedViewQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  _prepare(name) {
    return tracer.startActiveSpan("drizzle.prepareQuery", () => {
      return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), undefined, name, true);
    });
  }
  prepare(name) {
    return this._prepare(name);
  }
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  execute = (placeholderValues) => {
    return tracer.startActiveSpan("drizzle.operation", () => {
      return this._prepare().execute(placeholderValues, this.authToken);
    });
  };
}

// ../../node_modules/drizzle-orm/pg-core/query-builders/update.js
class PgUpdateBuilder {
  constructor(table, session, dialect, withList) {
    this.table = table;
    this.session = session;
    this.dialect = dialect;
    this.withList = withList;
  }
  static [entityKind] = "PgUpdateBuilder";
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  set(values2) {
    return new PgUpdateBase(this.table, mapUpdateSet(this.table, values2), this.session, this.dialect, this.withList).setToken(this.authToken);
  }
}

class PgUpdateBase extends QueryPromise {
  constructor(table, set, session, dialect, withList) {
    super();
    this.session = session;
    this.dialect = dialect;
    this.config = { set, table, withList, joins: [] };
    this.tableName = getTableLikeName(table);
    this.joinsNotNullableMap = typeof this.tableName === "string" ? { [this.tableName]: true } : {};
  }
  static [entityKind] = "PgUpdate";
  config;
  tableName;
  joinsNotNullableMap;
  from(source) {
    const tableName = getTableLikeName(source);
    if (typeof tableName === "string") {
      this.joinsNotNullableMap[tableName] = true;
    }
    this.config.from = source;
    return this;
  }
  getTableLikeFields(table) {
    if (is(table, PgTable)) {
      return table[Table.Symbol.Columns];
    } else if (is(table, Subquery)) {
      return table._.selectedFields;
    }
    return table[ViewBaseConfig].selectedFields;
  }
  createJoin(joinType) {
    return (table, on) => {
      const tableName = getTableLikeName(table);
      if (typeof tableName === "string" && this.config.joins.some((join) => join.alias === tableName)) {
        throw new Error(`Alias "${tableName}" is already used in this query`);
      }
      if (typeof on === "function") {
        const from = this.config.from && !is(this.config.from, SQL) ? this.getTableLikeFields(this.config.from) : undefined;
        on = on(new Proxy(this.config.table[Table.Symbol.Columns], new SelectionProxyHandler({ sqlAliasedBehavior: "sql", sqlBehavior: "sql" })), from && new Proxy(from, new SelectionProxyHandler({ sqlAliasedBehavior: "sql", sqlBehavior: "sql" })));
      }
      this.config.joins.push({ on, table, joinType, alias: tableName });
      if (typeof tableName === "string") {
        switch (joinType) {
          case "left": {
            this.joinsNotNullableMap[tableName] = false;
            break;
          }
          case "right": {
            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key]) => [key, false]));
            this.joinsNotNullableMap[tableName] = true;
            break;
          }
          case "inner": {
            this.joinsNotNullableMap[tableName] = true;
            break;
          }
          case "full": {
            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key]) => [key, false]));
            this.joinsNotNullableMap[tableName] = false;
            break;
          }
        }
      }
      return this;
    };
  }
  leftJoin = this.createJoin("left");
  rightJoin = this.createJoin("right");
  innerJoin = this.createJoin("inner");
  fullJoin = this.createJoin("full");
  where(where) {
    this.config.where = where;
    return this;
  }
  returning(fields) {
    if (!fields) {
      fields = Object.assign({}, this.config.table[Table.Symbol.Columns]);
      if (this.config.from) {
        const tableName = getTableLikeName(this.config.from);
        if (typeof tableName === "string" && this.config.from && !is(this.config.from, SQL)) {
          const fromFields = this.getTableLikeFields(this.config.from);
          fields[tableName] = fromFields;
        }
        for (const join of this.config.joins) {
          const tableName2 = getTableLikeName(join.table);
          if (typeof tableName2 === "string" && !is(join.table, SQL)) {
            const fromFields = this.getTableLikeFields(join.table);
            fields[tableName2] = fromFields;
          }
        }
      }
    }
    this.config.returning = orderSelectedFields(fields);
    return this;
  }
  getSQL() {
    return this.dialect.buildUpdateQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  _prepare(name) {
    const query = this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), this.config.returning, name, true);
    query.joinsNotNullableMap = this.joinsNotNullableMap;
    return query;
  }
  prepare(name) {
    return this._prepare(name);
  }
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  execute = (placeholderValues) => {
    return this._prepare().execute(placeholderValues, this.authToken);
  };
  $dynamic() {
    return this;
  }
}

// ../../node_modules/drizzle-orm/pg-core/query-builders/count.js
class PgCountBuilder extends SQL {
  constructor(params) {
    super(PgCountBuilder.buildEmbeddedCount(params.source, params.filters).queryChunks);
    this.params = params;
    this.mapWith(Number);
    this.session = params.session;
    this.sql = PgCountBuilder.buildCount(params.source, params.filters);
  }
  sql;
  token;
  static [entityKind] = "PgCountBuilder";
  [Symbol.toStringTag] = "PgCountBuilder";
  session;
  static buildEmbeddedCount(source, filters) {
    return sql`(select count(*) from ${source}${sql.raw(" where ").if(filters)}${filters})`;
  }
  static buildCount(source, filters) {
    return sql`select count(*) as count from ${source}${sql.raw(" where ").if(filters)}${filters};`;
  }
  setToken(token) {
    this.token = token;
    return this;
  }
  then(onfulfilled, onrejected) {
    return Promise.resolve(this.session.count(this.sql, this.token)).then(onfulfilled, onrejected);
  }
  catch(onRejected) {
    return this.then(undefined, onRejected);
  }
  finally(onFinally) {
    return this.then((value) => {
      onFinally?.();
      return value;
    }, (reason) => {
      onFinally?.();
      throw reason;
    });
  }
}

// ../../node_modules/drizzle-orm/pg-core/query-builders/query.js
class RelationalQueryBuilder {
  constructor(fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session) {
    this.fullSchema = fullSchema;
    this.schema = schema;
    this.tableNamesMap = tableNamesMap;
    this.table = table;
    this.tableConfig = tableConfig;
    this.dialect = dialect;
    this.session = session;
  }
  static [entityKind] = "PgRelationalQueryBuilder";
  findMany(config) {
    return new PgRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.dialect, this.session, config ? config : {}, "many");
  }
  findFirst(config) {
    return new PgRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.dialect, this.session, config ? { ...config, limit: 1 } : { limit: 1 }, "first");
  }
}

class PgRelationalQuery extends QueryPromise {
  constructor(fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session, config, mode) {
    super();
    this.fullSchema = fullSchema;
    this.schema = schema;
    this.tableNamesMap = tableNamesMap;
    this.table = table;
    this.tableConfig = tableConfig;
    this.dialect = dialect;
    this.session = session;
    this.config = config;
    this.mode = mode;
  }
  static [entityKind] = "PgRelationalQuery";
  _prepare(name) {
    return tracer.startActiveSpan("drizzle.prepareQuery", () => {
      const { query, builtQuery } = this._toSQL();
      return this.session.prepareQuery(builtQuery, undefined, name, true, (rawRows, mapColumnValue) => {
        const rows = rawRows.map((row) => mapRelationalRow(this.schema, this.tableConfig, row, query.selection, mapColumnValue));
        if (this.mode === "first") {
          return rows[0];
        }
        return rows;
      });
    });
  }
  prepare(name) {
    return this._prepare(name);
  }
  _getQuery() {
    return this.dialect.buildRelationalQueryWithoutPK({
      fullSchema: this.fullSchema,
      schema: this.schema,
      tableNamesMap: this.tableNamesMap,
      table: this.table,
      tableConfig: this.tableConfig,
      queryConfig: this.config,
      tableAlias: this.tableConfig.tsName
    });
  }
  getSQL() {
    return this._getQuery().sql;
  }
  _toSQL() {
    const query = this._getQuery();
    const builtQuery = this.dialect.sqlToQuery(query.sql);
    return { query, builtQuery };
  }
  toSQL() {
    return this._toSQL().builtQuery;
  }
  authToken;
  setToken(token) {
    this.authToken = token;
    return this;
  }
  execute() {
    return tracer.startActiveSpan("drizzle.operation", () => {
      return this._prepare().execute(undefined, this.authToken);
    });
  }
}

// ../../node_modules/drizzle-orm/pg-core/query-builders/raw.js
class PgRaw extends QueryPromise {
  constructor(execute, sql2, query, mapBatchResult) {
    super();
    this.execute = execute;
    this.sql = sql2;
    this.query = query;
    this.mapBatchResult = mapBatchResult;
  }
  static [entityKind] = "PgRaw";
  getSQL() {
    return this.sql;
  }
  getQuery() {
    return this.query;
  }
  mapResult(result, isFromBatch) {
    return isFromBatch ? this.mapBatchResult(result) : result;
  }
  _prepare() {
    return this;
  }
  isResponseInArrayMode() {
    return false;
  }
}

// ../../node_modules/drizzle-orm/pg-core/db.js
class PgDatabase {
  constructor(dialect, session, schema) {
    this.dialect = dialect;
    this.session = session;
    this._ = schema ? {
      schema: schema.schema,
      fullSchema: schema.fullSchema,
      tableNamesMap: schema.tableNamesMap,
      session
    } : {
      schema: undefined,
      fullSchema: {},
      tableNamesMap: {},
      session
    };
    this.query = {};
    if (this._.schema) {
      for (const [tableName, columns] of Object.entries(this._.schema)) {
        this.query[tableName] = new RelationalQueryBuilder(schema.fullSchema, this._.schema, this._.tableNamesMap, schema.fullSchema[tableName], columns, dialect, session);
      }
    }
  }
  static [entityKind] = "PgDatabase";
  query;
  $with(alias) {
    const self = this;
    return {
      as(qb) {
        if (typeof qb === "function") {
          qb = qb(new QueryBuilder(self.dialect));
        }
        return new Proxy(new WithSubquery(qb.getSQL(), qb.getSelectedFields(), alias, true), new SelectionProxyHandler({ alias, sqlAliasedBehavior: "alias", sqlBehavior: "error" }));
      }
    };
  }
  $count(source, filters) {
    return new PgCountBuilder({ source, filters, session: this.session });
  }
  with(...queries) {
    const self = this;
    function select2(fields) {
      return new PgSelectBuilder({
        fields: fields ?? undefined,
        session: self.session,
        dialect: self.dialect,
        withList: queries
      });
    }
    function selectDistinct(fields) {
      return new PgSelectBuilder({
        fields: fields ?? undefined,
        session: self.session,
        dialect: self.dialect,
        withList: queries,
        distinct: true
      });
    }
    function selectDistinctOn(on, fields) {
      return new PgSelectBuilder({
        fields: fields ?? undefined,
        session: self.session,
        dialect: self.dialect,
        withList: queries,
        distinct: { on }
      });
    }
    function update(table) {
      return new PgUpdateBuilder(table, self.session, self.dialect, queries);
    }
    function insert(table) {
      return new PgInsertBuilder(table, self.session, self.dialect, queries);
    }
    function delete_(table) {
      return new PgDeleteBase(table, self.session, self.dialect, queries);
    }
    return { select: select2, selectDistinct, selectDistinctOn, update, insert, delete: delete_ };
  }
  select(fields) {
    return new PgSelectBuilder({
      fields: fields ?? undefined,
      session: this.session,
      dialect: this.dialect
    });
  }
  selectDistinct(fields) {
    return new PgSelectBuilder({
      fields: fields ?? undefined,
      session: this.session,
      dialect: this.dialect,
      distinct: true
    });
  }
  selectDistinctOn(on, fields) {
    return new PgSelectBuilder({
      fields: fields ?? undefined,
      session: this.session,
      dialect: this.dialect,
      distinct: { on }
    });
  }
  update(table) {
    return new PgUpdateBuilder(table, this.session, this.dialect);
  }
  insert(table) {
    return new PgInsertBuilder(table, this.session, this.dialect);
  }
  delete(table) {
    return new PgDeleteBase(table, this.session, this.dialect);
  }
  refreshMaterializedView(view) {
    return new PgRefreshMaterializedView(view, this.session, this.dialect);
  }
  authToken;
  execute(query) {
    const sequel = typeof query === "string" ? sql.raw(query) : query.getSQL();
    const builtQuery = this.dialect.sqlToQuery(sequel);
    const prepared = this.session.prepareQuery(builtQuery, undefined, undefined, false);
    return new PgRaw(() => prepared.execute(undefined, this.authToken), sequel, builtQuery, (result) => prepared.mapResult(result, true));
  }
  transaction(transaction, config) {
    return this.session.transaction(transaction, config);
  }
}

// ../../node_modules/drizzle-orm/pg-core/indexes.js
class IndexBuilderOn {
  constructor(unique2, name) {
    this.unique = unique2;
    this.name = name;
  }
  static [entityKind] = "PgIndexBuilderOn";
  on(...columns) {
    return new IndexBuilder(columns.map((it) => {
      if (is(it, SQL)) {
        return it;
      }
      it = it;
      const clonedIndexedColumn = new IndexedColumn(it.name, !!it.keyAsName, it.columnType, it.indexConfig);
      it.indexConfig = JSON.parse(JSON.stringify(it.defaultConfig));
      return clonedIndexedColumn;
    }), this.unique, false, this.name);
  }
  onOnly(...columns) {
    return new IndexBuilder(columns.map((it) => {
      if (is(it, SQL)) {
        return it;
      }
      it = it;
      const clonedIndexedColumn = new IndexedColumn(it.name, !!it.keyAsName, it.columnType, it.indexConfig);
      it.indexConfig = it.defaultConfig;
      return clonedIndexedColumn;
    }), this.unique, true, this.name);
  }
  using(method, ...columns) {
    return new IndexBuilder(columns.map((it) => {
      if (is(it, SQL)) {
        return it;
      }
      it = it;
      const clonedIndexedColumn = new IndexedColumn(it.name, !!it.keyAsName, it.columnType, it.indexConfig);
      it.indexConfig = JSON.parse(JSON.stringify(it.defaultConfig));
      return clonedIndexedColumn;
    }), this.unique, true, this.name, method);
  }
}

class IndexBuilder {
  static [entityKind] = "PgIndexBuilder";
  config;
  constructor(columns, unique2, only, name, method = "btree") {
    this.config = {
      name,
      columns,
      unique: unique2,
      only,
      method
    };
  }
  concurrently() {
    this.config.concurrently = true;
    return this;
  }
  with(obj) {
    this.config.with = obj;
    return this;
  }
  where(condition) {
    this.config.where = condition;
    return this;
  }
  build(table) {
    return new Index(this.config, table);
  }
}

class Index {
  static [entityKind] = "PgIndex";
  config;
  constructor(config, table) {
    this.config = { ...config, table };
  }
}
function index(name) {
  return new IndexBuilderOn(false, name);
}

// ../../node_modules/drizzle-orm/pg-core/session.js
class PgPreparedQuery {
  constructor(query) {
    this.query = query;
  }
  authToken;
  getQuery() {
    return this.query;
  }
  mapResult(response, _isFromBatch) {
    return response;
  }
  setToken(token) {
    this.authToken = token;
    return this;
  }
  static [entityKind] = "PgPreparedQuery";
  joinsNotNullableMap;
}

class PgSession {
  constructor(dialect) {
    this.dialect = dialect;
  }
  static [entityKind] = "PgSession";
  execute(query, token) {
    return tracer.startActiveSpan("drizzle.operation", () => {
      const prepared = tracer.startActiveSpan("drizzle.prepareQuery", () => {
        return this.prepareQuery(this.dialect.sqlToQuery(query), undefined, undefined, false);
      });
      return prepared.setToken(token).execute(undefined, token);
    });
  }
  all(query) {
    return this.prepareQuery(this.dialect.sqlToQuery(query), undefined, undefined, false).all();
  }
  async count(sql2, token) {
    const res = await this.execute(sql2, token);
    return Number(res[0]["count"]);
  }
}

class PgTransaction extends PgDatabase {
  constructor(dialect, session, schema, nestedIndex = 0) {
    super(dialect, session, schema);
    this.schema = schema;
    this.nestedIndex = nestedIndex;
  }
  static [entityKind] = "PgTransaction";
  rollback() {
    throw new TransactionRollbackError;
  }
  getTransactionConfigSQL(config) {
    const chunks = [];
    if (config.isolationLevel) {
      chunks.push(`isolation level ${config.isolationLevel}`);
    }
    if (config.accessMode) {
      chunks.push(config.accessMode);
    }
    if (typeof config.deferrable === "boolean") {
      chunks.push(config.deferrable ? "deferrable" : "not deferrable");
    }
    return sql.raw(chunks.join(" "));
  }
  setTransaction(config) {
    return this.session.execute(sql`set transaction ${this.getTransactionConfigSQL(config)}`);
  }
}

// ../../node_modules/drizzle-orm/postgres-js/session.js
class PostgresJsPreparedQuery extends PgPreparedQuery {
  constructor(client, queryString, params, logger2, fields, _isResponseInArrayMode, customResultMapper) {
    super({ sql: queryString, params });
    this.client = client;
    this.queryString = queryString;
    this.params = params;
    this.logger = logger2;
    this.fields = fields;
    this._isResponseInArrayMode = _isResponseInArrayMode;
    this.customResultMapper = customResultMapper;
  }
  static [entityKind] = "PostgresJsPreparedQuery";
  async execute(placeholderValues = {}) {
    return tracer.startActiveSpan("drizzle.execute", async (span) => {
      const params = fillPlaceholders(this.params, placeholderValues);
      span?.setAttributes({
        "drizzle.query.text": this.queryString,
        "drizzle.query.params": JSON.stringify(params)
      });
      this.logger.logQuery(this.queryString, params);
      const { fields, queryString: query, client, joinsNotNullableMap, customResultMapper } = this;
      if (!fields && !customResultMapper) {
        return tracer.startActiveSpan("drizzle.driver.execute", () => {
          return client.unsafe(query, params);
        });
      }
      const rows = await tracer.startActiveSpan("drizzle.driver.execute", () => {
        span?.setAttributes({
          "drizzle.query.text": query,
          "drizzle.query.params": JSON.stringify(params)
        });
        return client.unsafe(query, params).values();
      });
      return tracer.startActiveSpan("drizzle.mapResponse", () => {
        return customResultMapper ? customResultMapper(rows) : rows.map((row) => mapResultRow(fields, row, joinsNotNullableMap));
      });
    });
  }
  all(placeholderValues = {}) {
    return tracer.startActiveSpan("drizzle.execute", async (span) => {
      const params = fillPlaceholders(this.params, placeholderValues);
      span?.setAttributes({
        "drizzle.query.text": this.queryString,
        "drizzle.query.params": JSON.stringify(params)
      });
      this.logger.logQuery(this.queryString, params);
      return tracer.startActiveSpan("drizzle.driver.execute", () => {
        span?.setAttributes({
          "drizzle.query.text": this.queryString,
          "drizzle.query.params": JSON.stringify(params)
        });
        return this.client.unsafe(this.queryString, params);
      });
    });
  }
  isResponseInArrayMode() {
    return this._isResponseInArrayMode;
  }
}

class PostgresJsSession extends PgSession {
  constructor(client, dialect, schema, options = {}) {
    super(dialect);
    this.client = client;
    this.schema = schema;
    this.options = options;
    this.logger = options.logger ?? new NoopLogger;
  }
  static [entityKind] = "PostgresJsSession";
  logger;
  prepareQuery(query, fields, name, isResponseInArrayMode, customResultMapper) {
    return new PostgresJsPreparedQuery(this.client, query.sql, query.params, this.logger, fields, isResponseInArrayMode, customResultMapper);
  }
  query(query, params) {
    this.logger.logQuery(query, params);
    return this.client.unsafe(query, params).values();
  }
  queryObjects(query, params) {
    return this.client.unsafe(query, params);
  }
  transaction(transaction, config) {
    return this.client.begin(async (client) => {
      const session = new PostgresJsSession(client, this.dialect, this.schema, this.options);
      const tx = new PostgresJsTransaction(this.dialect, session, this.schema);
      if (config) {
        await tx.setTransaction(config);
      }
      return transaction(tx);
    });
  }
}

class PostgresJsTransaction extends PgTransaction {
  constructor(dialect, session, schema, nestedIndex = 0) {
    super(dialect, session, schema, nestedIndex);
    this.session = session;
  }
  static [entityKind] = "PostgresJsTransaction";
  transaction(transaction) {
    return this.session.client.savepoint((client) => {
      const session = new PostgresJsSession(client, this.dialect, this.schema, this.session.options);
      const tx = new PostgresJsTransaction(this.dialect, session, this.schema);
      return transaction(tx);
    });
  }
}

// ../../node_modules/drizzle-orm/postgres-js/driver.js
class PostgresJsDatabase extends PgDatabase {
  static [entityKind] = "PostgresJsDatabase";
}
function construct(client, config = {}) {
  const transparentParser = (val) => val;
  for (const type of ["1184", "1082", "1083", "1114"]) {
    client.options.parsers[type] = transparentParser;
    client.options.serializers[type] = transparentParser;
  }
  client.options.serializers["114"] = transparentParser;
  client.options.serializers["3802"] = transparentParser;
  const dialect = new PgDialect({ casing: config.casing });
  let logger2;
  if (config.logger === true) {
    logger2 = new DefaultLogger;
  } else if (config.logger !== false) {
    logger2 = config.logger;
  }
  let schema;
  if (config.schema) {
    const tablesConfig = extractTablesRelationalConfig(config.schema, createTableRelationsHelpers);
    schema = {
      fullSchema: config.schema,
      schema: tablesConfig.tables,
      tableNamesMap: tablesConfig.tableNamesMap
    };
  }
  const session = new PostgresJsSession(client, dialect, schema, { logger: logger2 });
  const db = new PostgresJsDatabase(dialect, session, schema);
  db.$client = client;
  return db;
}
function drizzle(...params) {
  if (typeof params[0] === "string") {
    const instance = src_default(params[0]);
    return construct(instance, params[1]);
  }
  if (isConfig(params[0])) {
    const { connection: connection2, client, ...drizzleConfig } = params[0];
    if (client)
      return construct(client, drizzleConfig);
    if (typeof connection2 === "object" && connection2.url !== undefined) {
      const { url, ...config } = connection2;
      const instance2 = src_default(url, config);
      return construct(instance2, drizzleConfig);
    }
    const instance = src_default(connection2);
    return construct(instance, drizzleConfig);
  }
  return construct(params[0], params[1]);
}
((drizzle2) => {
  function mock(config) {
    return construct({
      options: {
        parsers: {},
        serializers: {}
      }
    }, config);
  }
  drizzle2.mock = mock;
})(drizzle || (drizzle = {}));

// ../../packages/db/src/schema/index.ts
var exports_schema = {};
__export(exports_schema, {
  workspacesRelations: () => workspacesRelations,
  workspaces: () => workspaces,
  workspaceRoleEnum: () => workspaceRoleEnum,
  workspaceMembersRelations: () => workspaceMembersRelations,
  workspaceMembers: () => workspaceMembers,
  workflowStatusesRelations: () => workflowStatusesRelations,
  workflowStatuses: () => workflowStatuses,
  usersRelations: () => usersRelations,
  users: () => users,
  tasksRelations: () => tasksRelations,
  tasks: () => tasks,
  taskWatchersRelations: () => taskWatchersRelations,
  taskWatchers: () => taskWatchers,
  taskPriorityEnum: () => taskPriorityEnum,
  taskDependenciesRelations: () => taskDependenciesRelations,
  taskDependencies: () => taskDependencies,
  projectsRelations: () => projectsRelations,
  projects: () => projects,
  projectStatusEnum: () => projectStatusEnum,
  entityTypeEnum: () => entityTypeEnum,
  commentsRelations: () => commentsRelations,
  comments: () => comments,
  attachmentsRelations: () => attachmentsRelations,
  attachments: () => attachments,
  activityLogsRelations: () => activityLogsRelations,
  activityLogs: () => activityLogs,
  actionTypeEnum: () => actionTypeEnum
});

// ../../packages/db/src/schema/users.ts
var users = pgTable("users", {
  id: uuid("id").defaultRandom().primaryKey(),
  clerkId: text("clerk_id").notNull().unique(),
  email: text("email").notNull().unique(),
  name: text("name").notNull(),
  avatarUrl: text("avatar_url"),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp("updated_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("users_clerk_id_idx").on(t.clerkId),
  index("users_email_idx").on(t.email)
]);
// ../../packages/db/src/schema/workspaces.ts
var workspaceRoleEnum = pgEnum("workspace_role", [
  "super_admin",
  "pm",
  "member",
  "guest"
]);
var workspaces = pgTable("workspaces", {
  id: uuid("id").defaultRandom().primaryKey(),
  clerkOrgId: text("clerk_org_id").notNull().unique(),
  name: text("name").notNull(),
  slug: text("slug").notNull().unique(),
  ownerId: uuid("owner_id").notNull().references(() => users.id),
  settings: jsonb("settings").$type().default({}),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp("updated_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("workspaces_clerk_org_idx").on(t.clerkOrgId),
  index("workspaces_slug_idx").on(t.slug),
  index("workspaces_owner_idx").on(t.ownerId)
]);
var workspaceMembers = pgTable("workspace_members", {
  id: uuid("id").defaultRandom().primaryKey(),
  workspaceId: uuid("workspace_id").notNull().references(() => workspaces.id, { onDelete: "cascade" }),
  userId: uuid("user_id").notNull().references(() => users.id, { onDelete: "cascade" }),
  role: workspaceRoleEnum("role").notNull().default("member"),
  joinedAt: timestamp("joined_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("workspace_members_workspace_idx").on(t.workspaceId),
  index("workspace_members_user_idx").on(t.userId)
]);
// ../../packages/db/src/schema/projects.ts
var projectStatusEnum = pgEnum("project_status", [
  "active",
  "archived",
  "deleted"
]);
var projects = pgTable("projects", {
  id: uuid("id").defaultRandom().primaryKey(),
  workspaceId: uuid("workspace_id").notNull().references(() => workspaces.id, { onDelete: "cascade" }),
  name: text("name").notNull(),
  description: text("description"),
  status: projectStatusEnum("status").notNull().default("active"),
  createdById: uuid("created_by_id").notNull().references(() => users.id),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp("updated_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("projects_workspace_idx").on(t.workspaceId),
  index("projects_status_idx").on(t.status),
  index("projects_workspace_status_idx").on(t.workspaceId, t.status)
]);
// ../../packages/db/src/schema/workflow-statuses.ts
var workflowStatuses = pgTable("workflow_statuses", {
  id: uuid("id").defaultRandom().primaryKey(),
  projectId: uuid("project_id").notNull().references(() => projects.id, { onDelete: "cascade" }),
  name: text("name").notNull(),
  color: text("color").notNull().default("#6366f1"),
  order: integer("order").notNull(),
  isDefault: boolean("is_default").default(false),
  isFinal: boolean("is_final").default(false),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("workflow_statuses_project_idx").on(t.projectId),
  index("workflow_statuses_project_order_idx").on(t.projectId, t.order)
]);
// ../../packages/db/src/schema/tasks.ts
var taskPriorityEnum = pgEnum("task_priority", [
  "low",
  "medium",
  "high",
  "urgent"
]);
var tasks = pgTable("tasks", {
  id: uuid("id").defaultRandom().primaryKey(),
  projectId: uuid("project_id").notNull().references(() => projects.id, { onDelete: "cascade" }),
  title: text("title").notNull(),
  description: text("description"),
  statusId: uuid("status_id").references(() => workflowStatuses.id, {
    onDelete: "set null"
  }),
  priority: taskPriorityEnum("priority").notNull().default("medium"),
  assigneeId: uuid("assignee_id").references(() => users.id, {
    onDelete: "set null"
  }),
  createdById: uuid("created_by_id").notNull().references(() => users.id),
  order: integer("order").notNull().default(0),
  dueDate: timestamp("due_date", { withTimezone: true }),
  completedAt: timestamp("completed_at", { withTimezone: true }),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp("updated_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("tasks_project_idx").on(t.projectId),
  index("tasks_status_idx").on(t.statusId),
  index("tasks_assignee_idx").on(t.assigneeId),
  index("tasks_project_status_idx").on(t.projectId, t.statusId),
  index("tasks_due_date_idx").on(t.dueDate),
  index("tasks_project_order_idx").on(t.projectId, t.order)
]);
// ../../packages/db/src/schema/task-dependencies.ts
var taskDependencies = pgTable("task_dependencies", {
  id: uuid("id").defaultRandom().primaryKey(),
  taskId: uuid("task_id").notNull().references(() => tasks.id, { onDelete: "cascade" }),
  dependsOnId: uuid("depends_on_id").notNull().references(() => tasks.id, { onDelete: "cascade" }),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("task_deps_task_idx").on(t.taskId),
  index("task_deps_depends_idx").on(t.dependsOnId),
  unique("task_deps_unique").on(t.taskId, t.dependsOnId)
]);
// ../../packages/db/src/schema/task-watchers.ts
var taskWatchers = pgTable("task_watchers", {
  id: uuid("id").defaultRandom().primaryKey(),
  taskId: uuid("task_id").notNull().references(() => tasks.id, { onDelete: "cascade" }),
  userId: uuid("user_id").notNull().references(() => users.id, { onDelete: "cascade" }),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("task_watchers_task_idx").on(t.taskId),
  index("task_watchers_user_idx").on(t.userId),
  unique("task_watchers_unique").on(t.taskId, t.userId)
]);
// ../../packages/db/src/schema/comments.ts
var comments = pgTable("comments", {
  id: uuid("id").defaultRandom().primaryKey(),
  taskId: uuid("task_id").notNull().references(() => tasks.id, { onDelete: "cascade" }),
  userId: uuid("user_id").notNull().references(() => users.id),
  content: text("content").notNull(),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp("updated_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("comments_task_idx").on(t.taskId),
  index("comments_user_idx").on(t.userId),
  index("comments_task_created_idx").on(t.taskId, t.createdAt)
]);
// ../../packages/db/src/schema/attachments.ts
var attachments = pgTable("attachments", {
  id: uuid("id").defaultRandom().primaryKey(),
  taskId: uuid("task_id").notNull().references(() => tasks.id, { onDelete: "cascade" }),
  uploadedById: uuid("uploaded_by_id").notNull().references(() => users.id),
  fileName: text("file_name").notNull(),
  fileUrl: text("file_url").notNull(),
  fileSize: integer("file_size").notNull(),
  mimeType: text("mime_type").notNull(),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [index("attachments_task_idx").on(t.taskId)]);
// ../../packages/db/src/schema/activity-logs.ts
var entityTypeEnum = pgEnum("entity_type", [
  "workspace",
  "project",
  "task",
  "comment"
]);
var actionTypeEnum = pgEnum("action_type", [
  "created",
  "updated",
  "deleted",
  "assigned",
  "commented",
  "status_changed",
  "moved"
]);
var activityLogs = pgTable("activity_logs", {
  id: uuid("id").defaultRandom().primaryKey(),
  workspaceId: uuid("workspace_id").notNull(),
  entityType: entityTypeEnum("entity_type").notNull(),
  entityId: uuid("entity_id").notNull(),
  userId: uuid("user_id").notNull().references(() => users.id),
  action: actionTypeEnum("action").notNull(),
  changes: jsonb("changes").$type(),
  metadata: jsonb("metadata"),
  createdAt: timestamp("created_at", { withTimezone: true }).defaultNow().notNull()
}, (t) => [
  index("activity_logs_workspace_idx").on(t.workspaceId),
  index("activity_logs_entity_idx").on(t.entityType, t.entityId),
  index("activity_logs_user_idx").on(t.userId),
  index("activity_logs_created_idx").on(t.createdAt)
]);
// ../../packages/db/src/schema/relations.ts
var usersRelations = relations(users, ({ many }) => ({
  ownedWorkspaces: many(workspaces),
  workspaceMemberships: many(workspaceMembers),
  createdProjects: many(projects),
  assignedTasks: many(tasks, { relationName: "assignedTasks" }),
  createdTasks: many(tasks, { relationName: "createdTasks" }),
  comments: many(comments),
  activityLogs: many(activityLogs)
}));
var workspacesRelations = relations(workspaces, ({ one, many }) => ({
  owner: one(users, { fields: [workspaces.ownerId], references: [users.id] }),
  members: many(workspaceMembers),
  projects: many(projects)
}));
var workspaceMembersRelations = relations(workspaceMembers, ({ one }) => ({
  workspace: one(workspaces, {
    fields: [workspaceMembers.workspaceId],
    references: [workspaces.id]
  }),
  user: one(users, {
    fields: [workspaceMembers.userId],
    references: [users.id]
  })
}));
var projectsRelations = relations(projects, ({ one, many }) => ({
  workspace: one(workspaces, {
    fields: [projects.workspaceId],
    references: [workspaces.id]
  }),
  createdBy: one(users, {
    fields: [projects.createdById],
    references: [users.id]
  }),
  tasks: many(tasks),
  workflowStatuses: many(workflowStatuses)
}));
var workflowStatusesRelations = relations(workflowStatuses, ({ one, many }) => ({
  project: one(projects, {
    fields: [workflowStatuses.projectId],
    references: [projects.id]
  }),
  tasks: many(tasks)
}));
var tasksRelations = relations(tasks, ({ one, many }) => ({
  project: one(projects, {
    fields: [tasks.projectId],
    references: [projects.id]
  }),
  status: one(workflowStatuses, {
    fields: [tasks.statusId],
    references: [workflowStatuses.id]
  }),
  assignee: one(users, {
    fields: [tasks.assigneeId],
    references: [users.id],
    relationName: "assignedTasks"
  }),
  createdBy: one(users, {
    fields: [tasks.createdById],
    references: [users.id],
    relationName: "createdTasks"
  }),
  comments: many(comments),
  attachments: many(attachments),
  watchers: many(taskWatchers),
  dependencies: many(taskDependencies, { relationName: "taskDependencies" }),
  dependents: many(taskDependencies, { relationName: "taskDependents" })
}));
var taskDependenciesRelations = relations(taskDependencies, ({ one }) => ({
  task: one(tasks, {
    fields: [taskDependencies.taskId],
    references: [tasks.id],
    relationName: "taskDependencies"
  }),
  dependsOn: one(tasks, {
    fields: [taskDependencies.dependsOnId],
    references: [tasks.id],
    relationName: "taskDependents"
  })
}));
var taskWatchersRelations = relations(taskWatchers, ({ one }) => ({
  task: one(tasks, {
    fields: [taskWatchers.taskId],
    references: [tasks.id]
  }),
  user: one(users, {
    fields: [taskWatchers.userId],
    references: [users.id]
  })
}));
var commentsRelations = relations(comments, ({ one }) => ({
  task: one(tasks, {
    fields: [comments.taskId],
    references: [tasks.id]
  }),
  user: one(users, {
    fields: [comments.userId],
    references: [users.id]
  })
}));
var attachmentsRelations = relations(attachments, ({ one }) => ({
  task: one(tasks, {
    fields: [attachments.taskId],
    references: [tasks.id]
  }),
  uploadedBy: one(users, {
    fields: [attachments.uploadedById],
    references: [users.id]
  })
}));
var activityLogsRelations = relations(activityLogs, ({ one }) => ({
  user: one(users, {
    fields: [activityLogs.userId],
    references: [users.id]
  })
}));
// ../../packages/db/src/index.ts
var connectionString = process.env.DATABASE_URL ?? "";
var client = src_default(connectionString);
var db = drizzle(client, { schema: exports_schema });

// ../../node_modules/hono/dist/helper/factory/index.js
var Factory = class {
  initApp;
  #defaultAppOptions;
  constructor(init) {
    this.initApp = init?.initApp;
    this.#defaultAppOptions = init?.defaultAppOptions;
  }
  createApp = (options) => {
    const app = new Hono2(options && this.#defaultAppOptions ? { ...this.#defaultAppOptions, ...options } : options ?? this.#defaultAppOptions);
    if (this.initApp) {
      this.initApp(app);
    }
    return app;
  };
  createMiddleware = (middleware) => middleware;
  createHandlers = (...handlers) => {
    return handlers.filter((handler) => handler !== undefined);
  };
};
var createMiddleware = (middleware) => middleware;

// src/middleware/db.ts
var dbMiddleware = createMiddleware(async (c, next) => {
  c.set("db", db);
  await next();
});

// src/lib/errors.ts
class AppError extends Error {
  message;
  statusCode;
  code;
  details;
  constructor(message, statusCode = 500, code = "INTERNAL_ERROR", details) {
    super(message);
    this.message = message;
    this.statusCode = statusCode;
    this.code = code;
    this.details = details;
    this.name = "AppError";
  }
}

class NotFoundError extends AppError {
  constructor(resource, id) {
    super(id ? `${resource} with id ${id} not found` : `${resource} not found`, 404, "NOT_FOUND");
  }
}

class UnauthorizedError extends AppError {
  constructor(message = "Unauthorized") {
    super(message, 401, "UNAUTHORIZED");
  }
}

class ForbiddenError extends AppError {
  constructor(message = "Forbidden") {
    super(message, 403, "FORBIDDEN");
  }
}

class ValidationError extends AppError {
  constructor(details) {
    super("Validation failed", 400, "VALIDATION_ERROR", details);
  }
}
function getAuthUser(vars) {
  const user = vars.user;
  if (!user) {
    throw new UnauthorizedError("User not authenticated");
  }
  return user;
}
function getWorkspaceId(user) {
  const workspaceId = user.workspaceId;
  if (!workspaceId) {
    throw new ForbiddenError("No workspace selected");
  }
  return workspaceId;
}

// src/middleware/error.ts
function errorHandler2(err, c) {
  console.error(`[Error] ${err.message}`, {
    stack: err.stack,
    requestId: c.get("requestId")
  });
  if (err instanceof AppError) {
    const response2 = {
      success: false,
      error: {
        code: err.code,
        message: err.message,
        details: err.details
      }
    };
    return c.json(response2, err.statusCode);
  }
  if (err instanceof HTTPException) {
    const response2 = {
      success: false,
      error: {
        code: "HTTP_ERROR",
        message: err.message
      }
    };
    return c.json(response2, err.status);
  }
  const response = {
    success: false,
    error: {
      code: "INTERNAL_ERROR",
      message: err.message
    }
  };
  return c.json(response, 500);
}
function notFoundHandler2(c) {
  const response = {
    success: false,
    error: {
      code: "NOT_FOUND",
      message: `Route ${c.req.method} ${c.req.path} not found`
    }
  };
  return c.json(response, 404);
}

// src/middleware/rate-limit.ts
var store = new Map;
var rateLimit = (options = {}) => {
  const { limit = 100, windowMs = 60000 } = options;
  return createMiddleware(async (c, next) => {
    const key = c.req.header("x-forwarded-for") || c.req.header("x-real-ip") || "unknown";
    const now = Date.now();
    const record = store.get(key);
    if (!record || record.reset < now) {
      store.set(key, { count: 1, reset: now + windowMs });
    } else if (record.count >= limit) {
      c.header("X-RateLimit-Limit", String(limit));
      c.header("X-RateLimit-Remaining", "0");
      c.header("X-RateLimit-Reset", String(Math.ceil(record.reset / 1000)));
      throw new HTTPException(429, { message: "Rate limit exceeded" });
    } else {
      record.count++;
    }
    c.header("X-RateLimit-Limit", String(limit));
    c.header("X-RateLimit-Remaining", String(limit - (record?.count || 1)));
    await next();
  });
};
setInterval(() => {
  const now = Date.now();
  for (const [key, record] of store) {
    if (record.reset < now) {
      store.delete(key);
    }
  }
}, 5 * 60 * 1000);

// ../../node_modules/@clerk/shared/dist/runtime/runtimeEnvironment-BB2sO-19.mjs
var isTestEnvironment = () => {
  try {
    return false;
  } catch {}
  return false;
};
var isProductionEnvironment = () => {
  try {
    return false;
  } catch {}
  return false;
};

// ../../node_modules/@clerk/shared/dist/runtime/deprecated-BqlFbLHj.mjs
var displayedWarnings = /* @__PURE__ */ new Set;
var deprecated = (fnName, warning, key) => {
  const hideWarning = isTestEnvironment() || isProductionEnvironment();
  const messageId = key ?? fnName;
  if (displayedWarnings.has(messageId) || hideWarning)
    return;
  displayedWarnings.add(messageId);
  console.warn(`Clerk - DEPRECATION WARNING: "${fnName}" is deprecated and will be removed in the next major release.
${warning}`);
};

// ../../node_modules/@clerk/shared/dist/runtime/constants-ByUssRbE.mjs
var LEGACY_DEV_INSTANCE_SUFFIXES = [
  ".lcl.dev",
  ".lclstage.dev",
  ".lclclerk.com"
];
var CURRENT_DEV_INSTANCE_SUFFIXES = [
  ".accounts.dev",
  ".accountsstage.dev",
  ".accounts.lclclerk.com"
];
var DEV_OR_STAGING_SUFFIXES = [
  ".lcl.dev",
  ".stg.dev",
  ".lclstage.dev",
  ".stgstage.dev",
  ".dev.lclclerk.com",
  ".stg.lclclerk.com",
  ".accounts.lclclerk.com",
  "accountsstage.dev",
  "accounts.dev"
];

// ../../node_modules/@clerk/shared/dist/runtime/isomorphicAtob-DybBXGFR.mjs
var isomorphicAtob = (data) => {
  if (typeof atob !== "undefined" && typeof atob === "function")
    return atob(data);
  else if (typeof global !== "undefined" && global.Buffer)
    return new global.Buffer(data, "base64").toString();
  return data;
};

// ../../node_modules/@clerk/shared/dist/runtime/isomorphicBtoa-Dr7WubZv.mjs
var isomorphicBtoa = (data) => {
  if (typeof btoa !== "undefined" && typeof btoa === "function")
    return btoa(data);
  else if (typeof global !== "undefined" && global.Buffer)
    return new global.Buffer(data).toString("base64");
  return data;
};

// ../../node_modules/@clerk/shared/dist/runtime/keys-YNv6yjKk.mjs
var PUBLISHABLE_KEY_LIVE_PREFIX = "pk_live_";
var PUBLISHABLE_KEY_TEST_PREFIX = "pk_test_";
function isValidDecodedPublishableKey(decoded) {
  if (!decoded.endsWith("$"))
    return false;
  const withoutTrailing = decoded.slice(0, -1);
  if (withoutTrailing.includes("$"))
    return false;
  return withoutTrailing.includes(".");
}
function parsePublishableKey(key, options = {}) {
  key = key || "";
  if (!key || !isPublishableKey(key)) {
    if (options.fatal && !key)
      throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");
    if (options.fatal && !isPublishableKey(key))
      throw new Error("Publishable key not valid.");
    return null;
  }
  const instanceType = key.startsWith(PUBLISHABLE_KEY_LIVE_PREFIX) ? "production" : "development";
  let decodedFrontendApi;
  try {
    decodedFrontendApi = isomorphicAtob(key.split("_")[2]);
  } catch {
    if (options.fatal)
      throw new Error("Publishable key not valid: Failed to decode key.");
    return null;
  }
  if (!isValidDecodedPublishableKey(decodedFrontendApi)) {
    if (options.fatal)
      throw new Error("Publishable key not valid: Decoded key has invalid format.");
    return null;
  }
  let frontendApi = decodedFrontendApi.slice(0, -1);
  if (options.proxyUrl)
    frontendApi = options.proxyUrl;
  else if (instanceType !== "development" && options.domain && options.isSatellite)
    frontendApi = `clerk.${options.domain}`;
  return {
    instanceType,
    frontendApi
  };
}
function isPublishableKey(key = "") {
  try {
    if (!(key.startsWith(PUBLISHABLE_KEY_LIVE_PREFIX) || key.startsWith(PUBLISHABLE_KEY_TEST_PREFIX)))
      return false;
    const parts = key.split("_");
    if (parts.length !== 3)
      return false;
    const encodedPart = parts[2];
    if (!encodedPart)
      return false;
    return isValidDecodedPublishableKey(isomorphicAtob(encodedPart));
  } catch {
    return false;
  }
}
function createDevOrStagingUrlCache() {
  const devOrStagingUrlCache = /* @__PURE__ */ new Map;
  return { isDevOrStagingUrl: (url) => {
    if (!url)
      return false;
    const hostname = typeof url === "string" ? url : url.hostname;
    let res = devOrStagingUrlCache.get(hostname);
    if (res === undefined) {
      res = DEV_OR_STAGING_SUFFIXES.some((s) => hostname.endsWith(s));
      devOrStagingUrlCache.set(hostname, res);
    }
    return res;
  } };
}
function isDevelopmentFromSecretKey(apiKey) {
  return apiKey.startsWith("test_") || apiKey.startsWith("sk_test_");
}
async function getCookieSuffix(publishableKey, subtle = globalThis.crypto.subtle) {
  const data = new TextEncoder().encode(publishableKey);
  const digest = await subtle.digest("sha-1", data);
  return isomorphicBtoa(String.fromCharCode(...new Uint8Array(digest))).replace(/\+/gi, "-").replace(/\//gi, "_").substring(0, 8);
}
var getSuffixedCookieName = (cookieName, cookieSuffix) => {
  return `${cookieName}_${cookieSuffix}`;
};

// ../../node_modules/@clerk/shared/dist/runtime/retry-DAlTROH9.mjs
var defaultOptions = {
  initialDelay: 125,
  maxDelayBetweenRetries: 0,
  factor: 2,
  shouldRetry: (_, iteration) => iteration < 5,
  retryImmediately: false,
  jitter: true
};
var RETRY_IMMEDIATELY_DELAY = 100;
var sleep = async (ms) => new Promise((s) => setTimeout(s, ms));
var applyJitter = (delay, jitter) => {
  return jitter ? delay * (1 + Math.random()) : delay;
};
var createExponentialDelayAsyncFn = (opts) => {
  let timesCalled = 0;
  const calculateDelayInMs = () => {
    const constant = opts.initialDelay;
    const base = opts.factor;
    let delay = constant * Math.pow(base, timesCalled);
    delay = applyJitter(delay, opts.jitter);
    return Math.min(opts.maxDelayBetweenRetries || delay, delay);
  };
  return async () => {
    await sleep(calculateDelayInMs());
    timesCalled++;
  };
};
var retry = async (callback, options = {}) => {
  let iterations = 0;
  const { shouldRetry, initialDelay, maxDelayBetweenRetries, factor, retryImmediately, jitter, onBeforeRetry } = {
    ...defaultOptions,
    ...options
  };
  const delay = createExponentialDelayAsyncFn({
    initialDelay,
    maxDelayBetweenRetries,
    factor,
    jitter
  });
  while (true)
    try {
      return await callback();
    } catch (e) {
      iterations++;
      if (!shouldRetry(e, iterations))
        throw e;
      if (onBeforeRetry)
        await onBeforeRetry(iterations);
      if (retryImmediately && iterations === 1)
        await sleep(applyJitter(RETRY_IMMEDIATELY_DELAY, jitter));
      else
        await delay();
    }
};

// ../../node_modules/@clerk/shared/dist/runtime/url-Cdy8w8vK.mjs
function isLegacyDevAccountPortalOrigin(host) {
  return LEGACY_DEV_INSTANCE_SUFFIXES.some((legacyDevSuffix) => {
    return host.startsWith("accounts.") && host.endsWith(legacyDevSuffix);
  });
}
function isCurrentDevAccountPortalOrigin(host) {
  return CURRENT_DEV_INSTANCE_SUFFIXES.some((currentDevSuffix) => {
    return host.endsWith(currentDevSuffix) && !host.endsWith(".clerk" + currentDevSuffix);
  });
}

// ../../node_modules/@clerk/shared/dist/runtime/error-Dl9xmUf3.mjs
function createErrorTypeGuard(ErrorClass) {
  function typeGuard(error) {
    const target = error ?? this;
    if (!target)
      throw new TypeError(`${ErrorClass.kind || ErrorClass.name} type guard requires an error object`);
    if (ErrorClass.kind && typeof target === "object" && target !== null && "constructor" in target) {
      if (target.constructor?.kind === ErrorClass.kind)
        return true;
    }
    return target instanceof ErrorClass;
  }
  return typeGuard;
}
var ClerkAPIError = class {
  static kind = "ClerkApiError";
  code;
  message;
  longMessage;
  meta;
  constructor(json2) {
    const parsedError = {
      code: json2.code,
      message: json2.message,
      longMessage: json2.long_message,
      meta: {
        paramName: json2.meta?.param_name,
        sessionId: json2.meta?.session_id,
        emailAddresses: json2.meta?.email_addresses,
        identifiers: json2.meta?.identifiers,
        zxcvbn: json2.meta?.zxcvbn,
        plan: json2.meta?.plan,
        isPlanUpgradePossible: json2.meta?.is_plan_upgrade_possible
      }
    };
    this.code = parsedError.code;
    this.message = parsedError.message;
    this.longMessage = parsedError.longMessage;
    this.meta = parsedError.meta;
  }
};
var isClerkAPIError = createErrorTypeGuard(ClerkAPIError);
function parseError2(error) {
  return new ClerkAPIError(error);
}
var ClerkError = class ClerkError2 extends Error {
  static kind = "ClerkError";
  clerkError = true;
  code;
  longMessage;
  docsUrl;
  cause;
  get name() {
    return this.constructor.name;
  }
  constructor(opts) {
    super(new.target.formatMessage(new.target.kind, opts.message, opts.code, opts.docsUrl), { cause: opts.cause });
    Object.setPrototypeOf(this, ClerkError2.prototype);
    this.code = opts.code;
    this.docsUrl = opts.docsUrl;
    this.longMessage = opts.longMessage;
    this.cause = opts.cause;
  }
  toString() {
    return `[${this.name}]
Message:${this.message}`;
  }
  static formatMessage(name, msg, code, docsUrl) {
    const prefix = "Clerk:";
    const regex = new RegExp(prefix.replace(" ", "\\s*"), "i");
    msg = msg.replace(regex, "");
    msg = `${prefix} ${msg.trim()}

(code="${code}")

`;
    if (docsUrl)
      msg += `

Docs: ${docsUrl}`;
    return msg;
  }
};
var ClerkAPIResponseError = class ClerkAPIResponseError2 extends ClerkError {
  static kind = "ClerkAPIResponseError";
  status;
  clerkTraceId;
  retryAfter;
  errors;
  constructor(message, options) {
    const { data: errorsJson, status, clerkTraceId, retryAfter } = options;
    super({
      ...options,
      message,
      code: "api_response_error"
    });
    Object.setPrototypeOf(this, ClerkAPIResponseError2.prototype);
    this.status = status;
    this.clerkTraceId = clerkTraceId;
    this.retryAfter = retryAfter;
    this.errors = (errorsJson || []).map((e) => new ClerkAPIError(e));
  }
  toString() {
    let message = `[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map((e) => JSON.stringify(e))}`;
    if (this.clerkTraceId)
      message += `
Clerk Trace ID: ${this.clerkTraceId}`;
    return message;
  }
  static formatMessage(name, msg, _, __) {
    return msg;
  }
};
var isClerkAPIResponseError = createErrorTypeGuard(ClerkAPIResponseError);
var DefaultMessages = Object.freeze({
  InvalidProxyUrlErrorMessage: `The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})`,
  InvalidPublishableKeyErrorMessage: `The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})`,
  MissingPublishableKeyErrorMessage: `Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,
  MissingSecretKeyErrorMessage: `Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,
  MissingClerkProvider: `{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider`
});
function buildErrorThrower({ packageName, customMessages }) {
  let pkg = packageName;
  function buildMessage(rawMessage, replacements) {
    if (!replacements)
      return `${pkg}: ${rawMessage}`;
    let msg = rawMessage;
    const matches = rawMessage.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);
    for (const match2 of matches) {
      const replacement = (replacements[match2[1]] || "").toString();
      msg = msg.replace(`{{${match2[1]}}}`, replacement);
    }
    return `${pkg}: ${msg}`;
  }
  const messages2 = {
    ...DefaultMessages,
    ...customMessages
  };
  return {
    setPackageName({ packageName: packageName$1 }) {
      if (typeof packageName$1 === "string")
        pkg = packageName$1;
      return this;
    },
    setMessages({ customMessages: customMessages$1 }) {
      Object.assign(messages2, customMessages$1 || {});
      return this;
    },
    throwInvalidPublishableKeyError(params) {
      throw new Error(buildMessage(messages2.InvalidPublishableKeyErrorMessage, params));
    },
    throwInvalidProxyUrl(params) {
      throw new Error(buildMessage(messages2.InvalidProxyUrlErrorMessage, params));
    },
    throwMissingPublishableKeyError() {
      throw new Error(buildMessage(messages2.MissingPublishableKeyErrorMessage));
    },
    throwMissingSecretKeyError() {
      throw new Error(buildMessage(messages2.MissingSecretKeyErrorMessage));
    },
    throwMissingClerkProviderError(params) {
      throw new Error(buildMessage(messages2.MissingClerkProvider, params));
    },
    throw(message) {
      throw new Error(buildMessage(message));
    }
  };
}
var ClerkRuntimeError = class ClerkRuntimeError2 extends ClerkError {
  static kind = "ClerkRuntimeError";
  clerkRuntimeError = true;
  constructor(message, options) {
    super({
      ...options,
      message
    });
    Object.setPrototypeOf(this, ClerkRuntimeError2.prototype);
  }
};
var isClerkRuntimeError = createErrorTypeGuard(ClerkRuntimeError);

// ../../node_modules/@clerk/backend/dist/chunk-YBVFDYDR.mjs
var errorThrower = buildErrorThrower({ packageName: "@clerk/backend" });
var { isDevOrStagingUrl } = createDevOrStagingUrlCache();

// ../../node_modules/@clerk/backend/dist/chunk-TCIXZLLW.mjs
var TokenVerificationErrorCode = {
  InvalidSecretKey: "clerk_key_invalid"
};
var TokenVerificationErrorReason = {
  TokenExpired: "token-expired",
  TokenInvalid: "token-invalid",
  TokenInvalidAlgorithm: "token-invalid-algorithm",
  TokenInvalidAuthorizedParties: "token-invalid-authorized-parties",
  TokenInvalidSignature: "token-invalid-signature",
  TokenNotActiveYet: "token-not-active-yet",
  TokenIatInTheFuture: "token-iat-in-the-future",
  TokenVerificationFailed: "token-verification-failed",
  InvalidSecretKey: "secret-key-invalid",
  LocalJWKMissing: "jwk-local-missing",
  RemoteJWKFailedToLoad: "jwk-remote-failed-to-load",
  RemoteJWKInvalid: "jwk-remote-invalid",
  RemoteJWKMissing: "jwk-remote-missing",
  JWKFailedToResolve: "jwk-failed-to-resolve",
  JWKKidMismatch: "jwk-kid-mismatch"
};
var TokenVerificationErrorAction = {
  ContactSupport: "Contact support@clerk.com",
  EnsureClerkJWT: "Make sure that this is a valid Clerk-generated JWT.",
  SetClerkJWTKey: "Set the CLERK_JWT_KEY environment variable.",
  SetClerkSecretKey: "Set the CLERK_SECRET_KEY environment variable.",
  EnsureClockSync: "Make sure your system clock is in sync (e.g. turn off and on automatic time synchronization)."
};
var TokenVerificationError = class _TokenVerificationError extends Error {
  constructor({
    action,
    message,
    reason
  }) {
    super(message);
    Object.setPrototypeOf(this, _TokenVerificationError.prototype);
    this.reason = reason;
    this.message = message;
    this.action = action;
  }
  getFullMessage() {
    return `${[this.message, this.action].filter((m) => m).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`;
  }
};
var MachineTokenVerificationErrorCode = {
  TokenInvalid: "token-invalid",
  InvalidSecretKey: "secret-key-invalid",
  UnexpectedError: "unexpected-error",
  TokenVerificationFailed: "token-verification-failed"
};
var MachineTokenVerificationError = class _MachineTokenVerificationError extends Error {
  constructor({
    message,
    code,
    status,
    action
  }) {
    super(message);
    Object.setPrototypeOf(this, _MachineTokenVerificationError.prototype);
    this.code = code;
    this.status = status;
    this.action = action;
  }
  getFullMessage() {
    return `${this.message} (code=${this.code}, status=${this.status || "n/a"})`;
  }
};

// ../../node_modules/@clerk/backend/dist/runtime/node/crypto.mjs
import { webcrypto } from "crypto";

// ../../node_modules/@clerk/backend/dist/chunk-7X3P2E3X.mjs
var globalFetch = fetch.bind(globalThis);
var runtime = {
  crypto: webcrypto,
  get fetch() {
    return globalFetch;
  },
  AbortController: globalThis.AbortController,
  Blob: globalThis.Blob,
  FormData: globalThis.FormData,
  Headers: globalThis.Headers,
  Request: globalThis.Request,
  Response: globalThis.Response
};
var base64url = {
  parse(string, opts) {
    return parse2(string, base64UrlEncoding, opts);
  },
  stringify(data, opts) {
    return stringify2(data, base64UrlEncoding, opts);
  }
};
var base64UrlEncoding = {
  chars: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
  bits: 6
};
function parse2(string, encoding, opts = {}) {
  if (!encoding.codes) {
    encoding.codes = {};
    for (let i = 0;i < encoding.chars.length; ++i) {
      encoding.codes[encoding.chars[i]] = i;
    }
  }
  if (!opts.loose && string.length * encoding.bits & 7) {
    throw new SyntaxError("Invalid padding");
  }
  let end = string.length;
  while (string[end - 1] === "=") {
    --end;
    if (!opts.loose && !((string.length - end) * encoding.bits & 7)) {
      throw new SyntaxError("Invalid padding");
    }
  }
  const out = new (opts.out ?? Uint8Array)(end * encoding.bits / 8 | 0);
  let bits = 0;
  let buffer2 = 0;
  let written = 0;
  for (let i = 0;i < end; ++i) {
    const value = encoding.codes[string[i]];
    if (value === undefined) {
      throw new SyntaxError("Invalid character " + string[i]);
    }
    buffer2 = buffer2 << encoding.bits | value;
    bits += encoding.bits;
    if (bits >= 8) {
      bits -= 8;
      out[written++] = 255 & buffer2 >> bits;
    }
  }
  if (bits >= encoding.bits || 255 & buffer2 << 8 - bits) {
    throw new SyntaxError("Unexpected end of data");
  }
  return out;
}
function stringify2(data, encoding, opts = {}) {
  const { pad = true } = opts;
  const mask = (1 << encoding.bits) - 1;
  let out = "";
  let bits = 0;
  let buffer2 = 0;
  for (let i = 0;i < data.length; ++i) {
    buffer2 = buffer2 << 8 | 255 & data[i];
    bits += 8;
    while (bits > encoding.bits) {
      bits -= encoding.bits;
      out += encoding.chars[mask & buffer2 >> bits];
    }
  }
  if (bits) {
    out += encoding.chars[mask & buffer2 << encoding.bits - bits];
  }
  if (pad) {
    while (out.length * encoding.bits & 7) {
      out += "=";
    }
  }
  return out;
}
var algToHash = {
  RS256: "SHA-256",
  RS384: "SHA-384",
  RS512: "SHA-512"
};
var RSA_ALGORITHM_NAME = "RSASSA-PKCS1-v1_5";
var jwksAlgToCryptoAlg = {
  RS256: RSA_ALGORITHM_NAME,
  RS384: RSA_ALGORITHM_NAME,
  RS512: RSA_ALGORITHM_NAME
};
var algs = Object.keys(algToHash);
function getCryptoAlgorithm(algorithmName) {
  const hash = algToHash[algorithmName];
  const name = jwksAlgToCryptoAlg[algorithmName];
  if (!hash || !name) {
    throw new Error(`Unsupported algorithm ${algorithmName}, expected one of ${algs.join(",")}.`);
  }
  return {
    hash: { name: algToHash[algorithmName] },
    name: jwksAlgToCryptoAlg[algorithmName]
  };
}
var isArrayString = (s) => {
  return Array.isArray(s) && s.length > 0 && s.every((a) => typeof a === "string");
};
var assertAudienceClaim = (aud, audience) => {
  const audienceList = [audience].flat().filter((a) => !!a);
  const audList = [aud].flat().filter((a) => !!a);
  const shouldVerifyAudience = audienceList.length > 0 && audList.length > 0;
  if (!shouldVerifyAudience) {
    return;
  }
  if (typeof aud === "string") {
    if (!audienceList.includes(aud)) {
      throw new TokenVerificationError({
        action: TokenVerificationErrorAction.EnsureClerkJWT,
        reason: TokenVerificationErrorReason.TokenVerificationFailed,
        message: `Invalid JWT audience claim (aud) ${JSON.stringify(aud)}. Is not included in "${JSON.stringify(audienceList)}".`
      });
    }
  } else if (isArrayString(aud)) {
    if (!aud.some((a) => audienceList.includes(a))) {
      throw new TokenVerificationError({
        action: TokenVerificationErrorAction.EnsureClerkJWT,
        reason: TokenVerificationErrorReason.TokenVerificationFailed,
        message: `Invalid JWT audience claim array (aud) ${JSON.stringify(aud)}. Is not included in "${JSON.stringify(audienceList)}".`
      });
    }
  }
};
var assertHeaderType = (typ, allowedTypes = "JWT") => {
  if (typeof typ === "undefined") {
    return;
  }
  const allowed = Array.isArray(allowedTypes) ? allowedTypes : [allowedTypes];
  if (!allowed.includes(typ)) {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.EnsureClerkJWT,
      reason: TokenVerificationErrorReason.TokenInvalid,
      message: `Invalid JWT type ${JSON.stringify(typ)}. Expected "${allowed.join(", ")}".`
    });
  }
};
var assertHeaderAlgorithm = (alg) => {
  if (!algs.includes(alg)) {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.EnsureClerkJWT,
      reason: TokenVerificationErrorReason.TokenInvalidAlgorithm,
      message: `Invalid JWT algorithm ${JSON.stringify(alg)}. Supported: ${algs}.`
    });
  }
};
var assertSubClaim = (sub) => {
  if (typeof sub !== "string") {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.EnsureClerkJWT,
      reason: TokenVerificationErrorReason.TokenVerificationFailed,
      message: `Subject claim (sub) is required and must be a string. Received ${JSON.stringify(sub)}.`
    });
  }
};
var assertAuthorizedPartiesClaim = (azp, authorizedParties) => {
  if (!azp || !authorizedParties || authorizedParties.length === 0) {
    return;
  }
  if (!authorizedParties.includes(azp)) {
    throw new TokenVerificationError({
      reason: TokenVerificationErrorReason.TokenInvalidAuthorizedParties,
      message: `Invalid JWT Authorized party claim (azp) ${JSON.stringify(azp)}. Expected "${authorizedParties}".`
    });
  }
};
var assertExpirationClaim = (exp, clockSkewInMs) => {
  if (typeof exp !== "number") {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.EnsureClerkJWT,
      reason: TokenVerificationErrorReason.TokenVerificationFailed,
      message: `Invalid JWT expiry date claim (exp) ${JSON.stringify(exp)}. Expected number.`
    });
  }
  const currentDate = new Date(Date.now());
  const expiryDate = /* @__PURE__ */ new Date(0);
  expiryDate.setUTCSeconds(exp);
  const expired = expiryDate.getTime() <= currentDate.getTime() - clockSkewInMs;
  if (expired) {
    throw new TokenVerificationError({
      reason: TokenVerificationErrorReason.TokenExpired,
      message: `JWT is expired. Expiry date: ${expiryDate.toUTCString()}, Current date: ${currentDate.toUTCString()}.`
    });
  }
};
var assertActivationClaim = (nbf, clockSkewInMs) => {
  if (typeof nbf === "undefined") {
    return;
  }
  if (typeof nbf !== "number") {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.EnsureClerkJWT,
      reason: TokenVerificationErrorReason.TokenVerificationFailed,
      message: `Invalid JWT not before date claim (nbf) ${JSON.stringify(nbf)}. Expected number.`
    });
  }
  const currentDate = new Date(Date.now());
  const notBeforeDate = /* @__PURE__ */ new Date(0);
  notBeforeDate.setUTCSeconds(nbf);
  const early = notBeforeDate.getTime() > currentDate.getTime() + clockSkewInMs;
  if (early) {
    throw new TokenVerificationError({
      reason: TokenVerificationErrorReason.TokenNotActiveYet,
      message: `JWT cannot be used prior to not before date claim (nbf). Not before date: ${notBeforeDate.toUTCString()}; Current date: ${currentDate.toUTCString()};`
    });
  }
};
var assertIssuedAtClaim = (iat, clockSkewInMs) => {
  if (typeof iat === "undefined") {
    return;
  }
  if (typeof iat !== "number") {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.EnsureClerkJWT,
      reason: TokenVerificationErrorReason.TokenVerificationFailed,
      message: `Invalid JWT issued at date claim (iat) ${JSON.stringify(iat)}. Expected number.`
    });
  }
  const currentDate = new Date(Date.now());
  const issuedAtDate = /* @__PURE__ */ new Date(0);
  issuedAtDate.setUTCSeconds(iat);
  const postIssued = issuedAtDate.getTime() > currentDate.getTime() + clockSkewInMs;
  if (postIssued) {
    throw new TokenVerificationError({
      reason: TokenVerificationErrorReason.TokenIatInTheFuture,
      message: `JWT issued at date claim (iat) is in the future. Issued at date: ${issuedAtDate.toUTCString()}; Current date: ${currentDate.toUTCString()};`
    });
  }
};
function pemToBuffer(secret) {
  const trimmed = secret.replace(/-----BEGIN.*?-----/g, "").replace(/-----END.*?-----/g, "").replace(/\s/g, "");
  const decoded = isomorphicAtob(trimmed);
  const buffer2 = new ArrayBuffer(decoded.length);
  const bufView = new Uint8Array(buffer2);
  for (let i = 0, strLen = decoded.length;i < strLen; i++) {
    bufView[i] = decoded.charCodeAt(i);
  }
  return bufView;
}
function importKey(key, algorithm, keyUsage) {
  if (typeof key === "object") {
    return runtime.crypto.subtle.importKey("jwk", key, algorithm, false, [keyUsage]);
  }
  const keyData = pemToBuffer(key);
  const format = keyUsage === "sign" ? "pkcs8" : "spki";
  return runtime.crypto.subtle.importKey(format, keyData, algorithm, false, [keyUsage]);
}
var DEFAULT_CLOCK_SKEW_IN_MS = 5 * 1000;
async function hasValidSignature(jwt, key) {
  const { header, signature, raw: raw2 } = jwt;
  const encoder = new TextEncoder;
  const data = encoder.encode([raw2.header, raw2.payload].join("."));
  const algorithm = getCryptoAlgorithm(header.alg);
  try {
    const cryptoKey = await importKey(key, algorithm, "verify");
    const verified = await runtime.crypto.subtle.verify(algorithm.name, cryptoKey, signature, data);
    return { data: verified };
  } catch (error) {
    return {
      errors: [
        new TokenVerificationError({
          reason: TokenVerificationErrorReason.TokenInvalidSignature,
          message: error?.message
        })
      ]
    };
  }
}
function decodeJwt(token) {
  const tokenParts = (token || "").toString().split(".");
  if (tokenParts.length !== 3) {
    return {
      errors: [
        new TokenVerificationError({
          reason: TokenVerificationErrorReason.TokenInvalid,
          message: `Invalid JWT form. A JWT consists of three parts separated by dots.`
        })
      ]
    };
  }
  const [rawHeader, rawPayload, rawSignature] = tokenParts;
  const decoder = new TextDecoder;
  const header = JSON.parse(decoder.decode(base64url.parse(rawHeader, { loose: true })));
  const payload = JSON.parse(decoder.decode(base64url.parse(rawPayload, { loose: true })));
  const signature = base64url.parse(rawSignature, { loose: true });
  const data = {
    header,
    payload,
    signature,
    raw: {
      header: rawHeader,
      payload: rawPayload,
      signature: rawSignature,
      text: token
    }
  };
  return { data };
}
async function verifyJwt(token, options) {
  const { audience, authorizedParties, clockSkewInMs, key, headerType } = options;
  const clockSkew = clockSkewInMs || DEFAULT_CLOCK_SKEW_IN_MS;
  const { data: decoded, errors } = decodeJwt(token);
  if (errors) {
    return { errors };
  }
  const { header, payload } = decoded;
  try {
    const { typ, alg } = header;
    assertHeaderType(typ, headerType);
    assertHeaderAlgorithm(alg);
    const { azp, sub, aud, iat, exp, nbf } = payload;
    assertSubClaim(sub);
    assertAudienceClaim([aud], [audience]);
    assertAuthorizedPartiesClaim(azp, authorizedParties);
    assertExpirationClaim(exp, clockSkew);
    assertActivationClaim(nbf, clockSkew);
    assertIssuedAtClaim(iat, clockSkew);
  } catch (err) {
    return { errors: [err] };
  }
  const { data: signatureValid, errors: signatureErrors } = await hasValidSignature(decoded, key);
  if (signatureErrors) {
    return {
      errors: [
        new TokenVerificationError({
          action: TokenVerificationErrorAction.EnsureClerkJWT,
          reason: TokenVerificationErrorReason.TokenVerificationFailed,
          message: `Error verifying JWT signature. ${signatureErrors[0]}`
        })
      ]
    };
  }
  if (!signatureValid) {
    return {
      errors: [
        new TokenVerificationError({
          reason: TokenVerificationErrorReason.TokenInvalidSignature,
          message: "JWT signature is invalid."
        })
      ]
    };
  }
  return { data: payload };
}

// ../../node_modules/@clerk/backend/dist/chunk-3SCGTTJP.mjs
var __create2 = Object.create;
var __defProp2 = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames2 = Object.getOwnPropertyNames;
var __getProtoOf2 = Object.getPrototypeOf;
var __hasOwnProp2 = Object.prototype.hasOwnProperty;
var __typeError = (msg) => {
  throw TypeError(msg);
};
var __commonJS2 = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames2(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except2, desc2) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames2(from))
      if (!__hasOwnProp2.call(to, key) && key !== except2)
        __defProp2(to, key, { get: () => from[key], enumerable: !(desc2 = __getOwnPropDesc(from, key)) || desc2.enumerable });
  }
  return to;
};
var __toESM2 = (mod, isNodeMode, target) => (target = mod != null ? __create2(__getProtoOf2(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp2(target, "default", { value: mod, enumerable: true }) : target, mod));
var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateMethod = (obj, member, method) => (__accessCheck(obj, member, "access private method"), method);

// ../../node_modules/@clerk/shared/dist/runtime/buildAccountsBaseUrl.mjs
function buildAccountsBaseUrl(frontendApi) {
  if (!frontendApi)
    return "";
  return `https://${frontendApi.replace(/clerk\.accountsstage\./, "accountsstage.").replace(/clerk\.accounts\.|clerk\./, "accounts.")}`;
}

// ../../node_modules/@clerk/shared/dist/runtime/authorization-D2ans7vW.mjs
var TYPES_TO_OBJECTS = {
  strict_mfa: {
    afterMinutes: 10,
    level: "multi_factor"
  },
  strict: {
    afterMinutes: 10,
    level: "second_factor"
  },
  moderate: {
    afterMinutes: 60,
    level: "second_factor"
  },
  lax: {
    afterMinutes: 1440,
    level: "second_factor"
  }
};
var ALLOWED_LEVELS = new Set([
  "first_factor",
  "second_factor",
  "multi_factor"
]);
var ALLOWED_TYPES = new Set([
  "strict_mfa",
  "strict",
  "moderate",
  "lax"
]);
var isValidMaxAge = (maxAge) => typeof maxAge === "number" && maxAge > 0;
var isValidLevel = (level) => ALLOWED_LEVELS.has(level);
var isValidVerificationType = (type) => ALLOWED_TYPES.has(type);
var prefixWithOrg = (value) => value.replace(/^(org:)*/, "org:");
var checkOrgAuthorization = (params, options) => {
  const { orgId, orgRole, orgPermissions } = options;
  if (!params.role && !params.permission)
    return null;
  if (!orgId || !orgRole || !orgPermissions)
    return null;
  if (params.permission)
    return orgPermissions.includes(prefixWithOrg(params.permission));
  if (params.role)
    return prefixWithOrg(orgRole) === prefixWithOrg(params.role);
  return null;
};
var checkForFeatureOrPlan = (claim, featureOrPlan) => {
  const { org: orgFeatures, user: userFeatures } = splitByScope(claim);
  const [scope, _id] = featureOrPlan.split(":");
  const id = _id || scope;
  if (scope === "org")
    return orgFeatures.includes(id);
  else if (scope === "user")
    return userFeatures.includes(id);
  else
    return [...orgFeatures, ...userFeatures].includes(id);
};
var checkBillingAuthorization = (params, options) => {
  const { features, plans } = options;
  if (params.feature && features)
    return checkForFeatureOrPlan(features, params.feature);
  if (params.plan && plans)
    return checkForFeatureOrPlan(plans, params.plan);
  return null;
};
var splitByScope = (fea) => {
  const features = fea ? fea.split(",").map((f) => f.trim()) : [];
  return {
    org: features.filter((f) => f.split(":")[0].includes("o")).map((f) => f.split(":")[1]),
    user: features.filter((f) => f.split(":")[0].includes("u")).map((f) => f.split(":")[1])
  };
};
var validateReverificationConfig = (config) => {
  if (!config)
    return false;
  const convertConfigToObject = (config$1) => {
    if (typeof config$1 === "string")
      return TYPES_TO_OBJECTS[config$1];
    return config$1;
  };
  const isValidStringValue = typeof config === "string" && isValidVerificationType(config);
  const isValidObjectValue = typeof config === "object" && isValidLevel(config.level) && isValidMaxAge(config.afterMinutes);
  if (isValidStringValue || isValidObjectValue)
    return convertConfigToObject.bind(null, config);
  return false;
};
var checkReverificationAuthorization = (params, { factorVerificationAge }) => {
  if (!params.reverification || !factorVerificationAge)
    return null;
  const isValidReverification = validateReverificationConfig(params.reverification);
  if (!isValidReverification)
    return null;
  const { level, afterMinutes } = isValidReverification();
  const [factor1Age, factor2Age] = factorVerificationAge;
  const isValidFactor1 = factor1Age !== -1 ? afterMinutes > factor1Age : null;
  const isValidFactor2 = factor2Age !== -1 ? afterMinutes > factor2Age : null;
  switch (level) {
    case "first_factor":
      return isValidFactor1;
    case "second_factor":
      return factor2Age !== -1 ? isValidFactor2 : isValidFactor1;
    case "multi_factor":
      return factor2Age === -1 ? isValidFactor1 : isValidFactor1 && isValidFactor2;
  }
};
var createCheckAuthorization = (options) => {
  return (params) => {
    if (!options.userId)
      return false;
    const billingAuthorization = checkBillingAuthorization(params, options);
    const orgAuthorization = checkOrgAuthorization(params, options);
    const reverificationAuthorization = checkReverificationAuthorization(params, options);
    if ([billingAuthorization || orgAuthorization, reverificationAuthorization].some((a) => a === null))
      return [billingAuthorization || orgAuthorization, reverificationAuthorization].some((a) => a === true);
    return [billingAuthorization || orgAuthorization, reverificationAuthorization].every((a) => a === true);
  };
};

// ../../node_modules/@clerk/shared/dist/runtime/jwtPayloadParser.mjs
var parsePermissions = ({ per, fpm }) => {
  if (!per || !fpm)
    return {
      permissions: [],
      featurePermissionMap: []
    };
  const permissions = per.split(",").map((p) => p.trim());
  return {
    permissions,
    featurePermissionMap: fpm.split(",").map((permission) => Number.parseInt(permission.trim(), 10)).map((permission) => permission.toString(2).padStart(permissions.length, "0").split("").map((bit2) => Number.parseInt(bit2, 10)).reverse()).filter(Boolean)
  };
};
function buildOrgPermissions({ features, permissions, featurePermissionMap }) {
  if (!features || !permissions || !featurePermissionMap)
    return [];
  const orgPermissions = [];
  for (let featureIndex = 0;featureIndex < features.length; featureIndex++) {
    const feature = features[featureIndex];
    if (featureIndex >= featurePermissionMap.length)
      continue;
    const permissionBits = featurePermissionMap[featureIndex];
    if (!permissionBits)
      continue;
    for (let permIndex = 0;permIndex < permissionBits.length; permIndex++)
      if (permissionBits[permIndex] === 1)
        orgPermissions.push(`org:${feature}:${permissions[permIndex]}`);
  }
  return orgPermissions;
}
var __experimental_JWTPayloadToAuthObjectProperties = (claims) => {
  let orgId;
  let orgRole;
  let orgSlug;
  let orgPermissions;
  const factorVerificationAge = claims.fva ?? null;
  const sessionStatus = claims.sts ?? null;
  switch (claims.v) {
    case 2:
      if (claims.o) {
        orgId = claims.o?.id;
        orgSlug = claims.o?.slg;
        if (claims.o?.rol)
          orgRole = `org:${claims.o?.rol}`;
        const { org } = splitByScope(claims.fea);
        const { permissions, featurePermissionMap } = parsePermissions({
          per: claims.o?.per,
          fpm: claims.o?.fpm
        });
        orgPermissions = buildOrgPermissions({
          features: org,
          featurePermissionMap,
          permissions
        });
      }
      break;
    default:
      orgId = claims.org_id;
      orgRole = claims.org_role;
      orgSlug = claims.org_slug;
      orgPermissions = claims.org_permissions;
      break;
  }
  return {
    sessionClaims: claims,
    sessionId: claims.sid,
    sessionStatus,
    actor: claims.act,
    userId: claims.sub,
    orgId,
    orgRole,
    orgSlug,
    orgPermissions,
    factorVerificationAge
  };
};

// ../../node_modules/@clerk/shared/dist/runtime/pathToRegexp-Bu45OrlU.mjs
function _(r) {
  for (var n = [], e = 0;e < r.length; ) {
    var a = r[e];
    if (a === "*" || a === "+" || a === "?") {
      n.push({
        type: "MODIFIER",
        index: e,
        value: r[e++]
      });
      continue;
    }
    if (a === "\\") {
      n.push({
        type: "ESCAPED_CHAR",
        index: e++,
        value: r[e++]
      });
      continue;
    }
    if (a === "{") {
      n.push({
        type: "OPEN",
        index: e,
        value: r[e++]
      });
      continue;
    }
    if (a === "}") {
      n.push({
        type: "CLOSE",
        index: e,
        value: r[e++]
      });
      continue;
    }
    if (a === ":") {
      for (var u = "", t = e + 1;t < r.length; ) {
        var c = r.charCodeAt(t);
        if (c >= 48 && c <= 57 || c >= 65 && c <= 90 || c >= 97 && c <= 122 || c === 95) {
          u += r[t++];
          continue;
        }
        break;
      }
      if (!u)
        throw new TypeError("Missing parameter name at ".concat(e));
      n.push({
        type: "NAME",
        index: e,
        value: u
      }), e = t;
      continue;
    }
    if (a === "(") {
      var o = 1, m = "", t = e + 1;
      if (r[t] === "?")
        throw new TypeError('Pattern cannot start with "?" at '.concat(t));
      for (;t < r.length; ) {
        if (r[t] === "\\") {
          m += r[t++] + r[t++];
          continue;
        }
        if (r[t] === ")") {
          if (o--, o === 0) {
            t++;
            break;
          }
        } else if (r[t] === "(" && (o++, r[t + 1] !== "?"))
          throw new TypeError("Capturing groups are not allowed at ".concat(t));
        m += r[t++];
      }
      if (o)
        throw new TypeError("Unbalanced pattern at ".concat(e));
      if (!m)
        throw new TypeError("Missing pattern at ".concat(e));
      n.push({
        type: "PATTERN",
        index: e,
        value: m
      }), e = t;
      continue;
    }
    n.push({
      type: "CHAR",
      index: e,
      value: r[e++]
    });
  }
  return n.push({
    type: "END",
    index: e,
    value: ""
  }), n;
}
function F(r, n) {
  n === undefined && (n = {});
  for (var e = _(r), a = n.prefixes, u = a === undefined ? "./" : a, t = n.delimiter, c = t === undefined ? "/#?" : t, o = [], m = 0, h = 0, p = "", f = function(l) {
    if (h < e.length && e[h].type === l)
      return e[h++].value;
  }, w = function(l) {
    var v = f(l);
    if (v !== undefined)
      return v;
    var E = e[h], N = E.type, S = E.index;
    throw new TypeError("Unexpected ".concat(N, " at ").concat(S, ", expected ").concat(l));
  }, d = function() {
    for (var l = "", v;v = f("CHAR") || f("ESCAPED_CHAR"); )
      l += v;
    return l;
  }, M = function(l) {
    for (var v = 0, E = c;v < E.length; v++) {
      var N = E[v];
      if (l.indexOf(N) > -1)
        return true;
    }
    return false;
  }, A = function(l) {
    var v = o[o.length - 1], E = l || (v && typeof v == "string" ? v : "");
    if (v && !E)
      throw new TypeError('Must have text between two parameters, missing text after "'.concat(v.name, '"'));
    return !E || M(E) ? "[^".concat(s(c), "]+?") : "(?:(?!".concat(s(E), ")[^").concat(s(c), "])+?");
  };h < e.length; ) {
    var T = f("CHAR"), x = f("NAME"), C = f("PATTERN");
    if (x || C) {
      var g = T || "";
      u.indexOf(g) === -1 && (p += g, g = ""), p && (o.push(p), p = ""), o.push({
        name: x || m++,
        prefix: g,
        suffix: "",
        pattern: C || A(g),
        modifier: f("MODIFIER") || ""
      });
      continue;
    }
    var i = T || f("ESCAPED_CHAR");
    if (i) {
      p += i;
      continue;
    }
    p && (o.push(p), p = "");
    if (f("OPEN")) {
      var g = d(), y = f("NAME") || "", O = f("PATTERN") || "", b2 = d();
      w("CLOSE"), o.push({
        name: y || (O ? m++ : ""),
        pattern: y && !O ? A(g) : O,
        prefix: g,
        suffix: b2,
        modifier: f("MODIFIER") || ""
      });
      continue;
    }
    w("END");
  }
  return o;
}
function H(r, n) {
  var e = [];
  return I(P(r, e, n), e, n);
}
function I(r, n, e) {
  e === undefined && (e = {});
  var a = e.decode, u = a === undefined ? function(t) {
    return t;
  } : a;
  return function(t) {
    var c = r.exec(t);
    if (!c)
      return false;
    for (var o = c[0], m = c.index, h = Object.create(null), p = function(w) {
      if (c[w] === undefined)
        return "continue";
      var d = n[w - 1];
      d.modifier === "*" || d.modifier === "+" ? h[d.name] = c[w].split(d.prefix + d.suffix).map(function(M) {
        return u(M, d);
      }) : h[d.name] = u(c[w], d);
    }, f = 1;f < c.length; f++)
      p(f);
    return {
      path: o,
      index: m,
      params: h
    };
  };
}
function s(r) {
  return r.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1");
}
function D(r) {
  return r && r.sensitive ? "" : "i";
}
function $(r, n) {
  if (!n)
    return r;
  for (var e = /\((?:\?<(.*?)>)?(?!\?)/g, a = 0, u = e.exec(r.source);u; )
    n.push({
      name: u[1] || a++,
      prefix: "",
      suffix: "",
      modifier: "",
      pattern: ""
    }), u = e.exec(r.source);
  return r;
}
function W(r, n, e) {
  var a = r.map(function(u) {
    return P(u, n, e).source;
  });
  return new RegExp("(?:".concat(a.join("|"), ")"), D(e));
}
function L(r, n, e) {
  return U(F(r, e), n, e);
}
function U(r, n, e) {
  e === undefined && (e = {});
  for (var a = e.strict, u = a === undefined ? false : a, t = e.start, c = t === undefined ? true : t, o = e.end, m = o === undefined ? true : o, h = e.encode, p = h === undefined ? function(v) {
    return v;
  } : h, f = e.delimiter, w = f === undefined ? "/#?" : f, d = e.endsWith, M = d === undefined ? "" : d, A = "[".concat(s(M), "]|$"), T = "[".concat(s(w), "]"), x = c ? "^" : "", C = 0, g = r;C < g.length; C++) {
    var i = g[C];
    if (typeof i == "string")
      x += s(p(i));
    else {
      var R = s(p(i.prefix)), y = s(p(i.suffix));
      if (i.pattern)
        if (n && n.push(i), R || y)
          if (i.modifier === "+" || i.modifier === "*") {
            var O = i.modifier === "*" ? "?" : "";
            x += "(?:".concat(R, "((?:").concat(i.pattern, ")(?:").concat(y).concat(R, "(?:").concat(i.pattern, "))*)").concat(y, ")").concat(O);
          } else
            x += "(?:".concat(R, "(").concat(i.pattern, ")").concat(y, ")").concat(i.modifier);
        else {
          if (i.modifier === "+" || i.modifier === "*")
            throw new TypeError('Can not repeat "'.concat(i.name, '" without a prefix and suffix'));
          x += "(".concat(i.pattern, ")").concat(i.modifier);
        }
      else
        x += "(?:".concat(R).concat(y, ")").concat(i.modifier);
    }
  }
  if (m)
    u || (x += "".concat(T, "?")), x += e.endsWith ? "(?=".concat(A, ")") : "$";
  else {
    var b2 = r[r.length - 1], l = typeof b2 == "string" ? T.indexOf(b2[b2.length - 1]) > -1 : b2 === undefined;
    u || (x += "(?:".concat(T, "(?=").concat(A, "))?")), l || (x += "(?=".concat(T, "|").concat(A, ")"));
  }
  return new RegExp(x, D(e));
}
function P(r, n, e) {
  return r instanceof RegExp ? $(r, n) : Array.isArray(r) ? W(r, n, e) : L(r, n, e);
}
function match2(str, options) {
  try {
    return H(str, options);
  } catch (e) {
    throw new Error(`Invalid path and options: Consult the documentation of path-to-regexp here: https://github.com/pillarjs/path-to-regexp/tree/6.x
${e.message}`);
  }
}

// ../../node_modules/@clerk/backend/dist/chunk-EFURL7PK.mjs
var require_dist = __commonJS2({
  "../../node_modules/.pnpm/cookie@1.0.2/node_modules/cookie/dist/index.js"(exports) {
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.parse = parse22;
    exports.serialize = serialize;
    var cookieNameRegExp = /^[\u0021-\u003A\u003C\u003E-\u007E]+$/;
    var cookieValueRegExp = /^[\u0021-\u003A\u003C-\u007E]*$/;
    var domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;
    var pathValueRegExp = /^[\u0020-\u003A\u003D-\u007E]*$/;
    var __toString = Object.prototype.toString;
    var NullObject = /* @__PURE__ */ (() => {
      const C = function() {};
      C.prototype = /* @__PURE__ */ Object.create(null);
      return C;
    })();
    function parse22(str, options) {
      const obj = new NullObject;
      const len = str.length;
      if (len < 2)
        return obj;
      const dec = options?.decode || decode;
      let index2 = 0;
      do {
        const eqIdx = str.indexOf("=", index2);
        if (eqIdx === -1)
          break;
        const colonIdx = str.indexOf(";", index2);
        const endIdx = colonIdx === -1 ? len : colonIdx;
        if (eqIdx > endIdx) {
          index2 = str.lastIndexOf(";", eqIdx - 1) + 1;
          continue;
        }
        const keyStartIdx = startIndex(str, index2, eqIdx);
        const keyEndIdx = endIndex(str, eqIdx, keyStartIdx);
        const key = str.slice(keyStartIdx, keyEndIdx);
        if (obj[key] === undefined) {
          let valStartIdx = startIndex(str, eqIdx + 1, endIdx);
          let valEndIdx = endIndex(str, endIdx, valStartIdx);
          const value = dec(str.slice(valStartIdx, valEndIdx));
          obj[key] = value;
        }
        index2 = endIdx + 1;
      } while (index2 < len);
      return obj;
    }
    function startIndex(str, index2, max) {
      do {
        const code = str.charCodeAt(index2);
        if (code !== 32 && code !== 9)
          return index2;
      } while (++index2 < max);
      return max;
    }
    function endIndex(str, index2, min) {
      while (index2 > min) {
        const code = str.charCodeAt(--index2);
        if (code !== 32 && code !== 9)
          return index2 + 1;
      }
      return min;
    }
    function serialize(name, val, options) {
      const enc = options?.encode || encodeURIComponent;
      if (!cookieNameRegExp.test(name)) {
        throw new TypeError(`argument name is invalid: ${name}`);
      }
      const value = enc(val);
      if (!cookieValueRegExp.test(value)) {
        throw new TypeError(`argument val is invalid: ${val}`);
      }
      let str = name + "=" + value;
      if (!options)
        return str;
      if (options.maxAge !== undefined) {
        if (!Number.isInteger(options.maxAge)) {
          throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);
        }
        str += "; Max-Age=" + options.maxAge;
      }
      if (options.domain) {
        if (!domainValueRegExp.test(options.domain)) {
          throw new TypeError(`option domain is invalid: ${options.domain}`);
        }
        str += "; Domain=" + options.domain;
      }
      if (options.path) {
        if (!pathValueRegExp.test(options.path)) {
          throw new TypeError(`option path is invalid: ${options.path}`);
        }
        str += "; Path=" + options.path;
      }
      if (options.expires) {
        if (!isDate(options.expires) || !Number.isFinite(options.expires.valueOf())) {
          throw new TypeError(`option expires is invalid: ${options.expires}`);
        }
        str += "; Expires=" + options.expires.toUTCString();
      }
      if (options.httpOnly) {
        str += "; HttpOnly";
      }
      if (options.secure) {
        str += "; Secure";
      }
      if (options.partitioned) {
        str += "; Partitioned";
      }
      if (options.priority) {
        const priority = typeof options.priority === "string" ? options.priority.toLowerCase() : undefined;
        switch (priority) {
          case "low":
            str += "; Priority=Low";
            break;
          case "medium":
            str += "; Priority=Medium";
            break;
          case "high":
            str += "; Priority=High";
            break;
          default:
            throw new TypeError(`option priority is invalid: ${options.priority}`);
        }
      }
      if (options.sameSite) {
        const sameSite = typeof options.sameSite === "string" ? options.sameSite.toLowerCase() : options.sameSite;
        switch (sameSite) {
          case true:
          case "strict":
            str += "; SameSite=Strict";
            break;
          case "lax":
            str += "; SameSite=Lax";
            break;
          case "none":
            str += "; SameSite=None";
            break;
          default:
            throw new TypeError(`option sameSite is invalid: ${options.sameSite}`);
        }
      }
      return str;
    }
    function decode(str) {
      if (str.indexOf("%") === -1)
        return str;
      try {
        return decodeURIComponent(str);
      } catch (e) {
        return str;
      }
    }
    function isDate(val) {
      return __toString.call(val) === "[object Date]";
    }
  }
});
var API_URL = "https://api.clerk.com";
var API_VERSION = "v1";
var USER_AGENT = `${"@clerk/backend"}@${"2.29.3"}`;
var MAX_CACHE_LAST_UPDATED_AT_SECONDS = 5 * 60;
var SUPPORTED_BAPI_VERSION = "2025-11-10";
var Attributes = {
  AuthToken: "__clerkAuthToken",
  AuthSignature: "__clerkAuthSignature",
  AuthStatus: "__clerkAuthStatus",
  AuthReason: "__clerkAuthReason",
  AuthMessage: "__clerkAuthMessage",
  ClerkUrl: "__clerkUrl"
};
var Cookies = {
  Session: "__session",
  Refresh: "__refresh",
  ClientUat: "__client_uat",
  Handshake: "__clerk_handshake",
  DevBrowser: "__clerk_db_jwt",
  RedirectCount: "__clerk_redirect_count",
  HandshakeNonce: "__clerk_handshake_nonce"
};
var QueryParameters = {
  ClerkSynced: "__clerk_synced",
  SuffixedCookies: "suffixed_cookies",
  ClerkRedirectUrl: "__clerk_redirect_url",
  DevBrowser: Cookies.DevBrowser,
  Handshake: Cookies.Handshake,
  HandshakeHelp: "__clerk_help",
  LegacyDevBrowser: "__dev_session",
  HandshakeReason: "__clerk_hs_reason",
  HandshakeNonce: Cookies.HandshakeNonce,
  HandshakeFormat: "format",
  Session: "__session"
};
var Headers2 = {
  Accept: "accept",
  AuthMessage: "x-clerk-auth-message",
  Authorization: "authorization",
  AuthReason: "x-clerk-auth-reason",
  AuthSignature: "x-clerk-auth-signature",
  AuthStatus: "x-clerk-auth-status",
  AuthToken: "x-clerk-auth-token",
  CacheControl: "cache-control",
  ClerkRedirectTo: "x-clerk-redirect-to",
  ClerkRequestData: "x-clerk-request-data",
  ClerkUrl: "x-clerk-clerk-url",
  CloudFrontForwardedProto: "cloudfront-forwarded-proto",
  ContentType: "content-type",
  ContentSecurityPolicy: "content-security-policy",
  ContentSecurityPolicyReportOnly: "content-security-policy-report-only",
  EnableDebug: "x-clerk-debug",
  ForwardedHost: "x-forwarded-host",
  ForwardedPort: "x-forwarded-port",
  ForwardedProto: "x-forwarded-proto",
  Host: "host",
  Location: "location",
  Nonce: "x-nonce",
  Origin: "origin",
  Referrer: "referer",
  SecFetchDest: "sec-fetch-dest",
  SecFetchSite: "sec-fetch-site",
  UserAgent: "user-agent",
  ReportingEndpoints: "reporting-endpoints"
};
var ContentTypes = {
  Json: "application/json"
};
var constants = {
  Attributes,
  Cookies,
  Headers: Headers2,
  ContentTypes,
  QueryParameters
};
function mergePreDefinedOptions(preDefinedOptions, options) {
  return Object.keys(preDefinedOptions).reduce((obj, key) => {
    return { ...obj, [key]: options[key] || obj[key] };
  }, { ...preDefinedOptions });
}
function assertValidSecretKey(val) {
  if (!val || typeof val !== "string") {
    throw Error("Missing Clerk Secret Key. Go to https://dashboard.clerk.com and get your key for your instance.");
  }
}
function assertValidPublishableKey(val) {
  parsePublishableKey(val, { fatal: true });
}
var TokenType = {
  SessionToken: "session_token",
  ApiKey: "api_key",
  M2MToken: "m2m_token",
  OAuthToken: "oauth_token"
};
var AuthenticateContext = class {
  constructor(cookieSuffix, clerkRequest, options) {
    this.cookieSuffix = cookieSuffix;
    this.clerkRequest = clerkRequest;
    this.originalFrontendApi = "";
    if (options.acceptsToken === TokenType.M2MToken || options.acceptsToken === TokenType.ApiKey) {
      this.initHeaderValues();
    } else {
      this.initPublishableKeyValues(options);
      this.initHeaderValues();
      this.initCookieValues();
      this.initHandshakeValues();
    }
    Object.assign(this, options);
    this.clerkUrl = this.clerkRequest.clerkUrl;
  }
  get sessionToken() {
    return this.sessionTokenInCookie || this.tokenInHeader;
  }
  usesSuffixedCookies() {
    const suffixedClientUat = this.getSuffixedCookie(constants.Cookies.ClientUat);
    const clientUat = this.getCookie(constants.Cookies.ClientUat);
    const suffixedSession = this.getSuffixedCookie(constants.Cookies.Session) || "";
    const session = this.getCookie(constants.Cookies.Session) || "";
    if (session && !this.tokenHasIssuer(session)) {
      return false;
    }
    if (session && !this.tokenBelongsToInstance(session)) {
      return true;
    }
    if (!suffixedClientUat && !suffixedSession) {
      return false;
    }
    const { data: sessionData } = decodeJwt(session);
    const sessionIat = sessionData?.payload.iat || 0;
    const { data: suffixedSessionData } = decodeJwt(suffixedSession);
    const suffixedSessionIat = suffixedSessionData?.payload.iat || 0;
    if (suffixedClientUat !== "0" && clientUat !== "0" && sessionIat > suffixedSessionIat) {
      return false;
    }
    if (suffixedClientUat === "0" && clientUat !== "0") {
      return false;
    }
    if (this.instanceType !== "production") {
      const isSuffixedSessionExpired = this.sessionExpired(suffixedSessionData);
      if (suffixedClientUat !== "0" && clientUat === "0" && isSuffixedSessionExpired) {
        return false;
      }
    }
    if (!suffixedClientUat && suffixedSession) {
      return false;
    }
    return true;
  }
  isCrossOriginReferrer() {
    if (!this.referrer || !this.clerkUrl.origin) {
      return false;
    }
    try {
      const referrerOrigin = new URL(this.referrer).origin;
      return referrerOrigin !== this.clerkUrl.origin;
    } catch {
      return false;
    }
  }
  isKnownClerkReferrer() {
    if (!this.referrer) {
      return false;
    }
    try {
      const referrerOrigin = new URL(this.referrer);
      const referrerHost = referrerOrigin.hostname;
      if (this.frontendApi) {
        const fapiHost = this.frontendApi.startsWith("http") ? new URL(this.frontendApi).hostname : this.frontendApi;
        if (referrerHost === fapiHost) {
          return true;
        }
      }
      if (isLegacyDevAccountPortalOrigin(referrerHost) || isCurrentDevAccountPortalOrigin(referrerHost)) {
        return true;
      }
      const expectedAccountsUrl = buildAccountsBaseUrl(this.frontendApi);
      if (expectedAccountsUrl) {
        const expectedAccountsOrigin = new URL(expectedAccountsUrl).origin;
        if (referrerOrigin.origin === expectedAccountsOrigin) {
          return true;
        }
      }
      if (referrerHost.startsWith("accounts.")) {
        return true;
      }
      return false;
    } catch {
      return false;
    }
  }
  initPublishableKeyValues(options) {
    assertValidPublishableKey(options.publishableKey);
    this.publishableKey = options.publishableKey;
    const originalPk = parsePublishableKey(this.publishableKey, {
      fatal: true,
      domain: options.domain,
      isSatellite: options.isSatellite
    });
    this.originalFrontendApi = originalPk.frontendApi;
    const pk = parsePublishableKey(this.publishableKey, {
      fatal: true,
      proxyUrl: options.proxyUrl,
      domain: options.domain,
      isSatellite: options.isSatellite
    });
    this.instanceType = pk.instanceType;
    this.frontendApi = pk.frontendApi;
  }
  initHeaderValues() {
    this.tokenInHeader = this.parseAuthorizationHeader(this.getHeader(constants.Headers.Authorization));
    this.origin = this.getHeader(constants.Headers.Origin);
    this.host = this.getHeader(constants.Headers.Host);
    this.forwardedHost = this.getHeader(constants.Headers.ForwardedHost);
    this.forwardedProto = this.getHeader(constants.Headers.CloudFrontForwardedProto) || this.getHeader(constants.Headers.ForwardedProto);
    this.referrer = this.getHeader(constants.Headers.Referrer);
    this.userAgent = this.getHeader(constants.Headers.UserAgent);
    this.secFetchDest = this.getHeader(constants.Headers.SecFetchDest);
    this.accept = this.getHeader(constants.Headers.Accept);
  }
  initCookieValues() {
    this.sessionTokenInCookie = this.getSuffixedOrUnSuffixedCookie(constants.Cookies.Session);
    this.refreshTokenInCookie = this.getSuffixedCookie(constants.Cookies.Refresh);
    this.clientUat = Number.parseInt(this.getSuffixedOrUnSuffixedCookie(constants.Cookies.ClientUat) || "") || 0;
  }
  initHandshakeValues() {
    this.devBrowserToken = this.getQueryParam(constants.QueryParameters.DevBrowser) || this.getSuffixedOrUnSuffixedCookie(constants.Cookies.DevBrowser);
    this.handshakeToken = this.getQueryParam(constants.QueryParameters.Handshake) || this.getCookie(constants.Cookies.Handshake);
    this.handshakeRedirectLoopCounter = Number(this.getCookie(constants.Cookies.RedirectCount)) || 0;
    this.handshakeNonce = this.getQueryParam(constants.QueryParameters.HandshakeNonce) || this.getCookie(constants.Cookies.HandshakeNonce);
  }
  getQueryParam(name) {
    return this.clerkRequest.clerkUrl.searchParams.get(name);
  }
  getHeader(name) {
    return this.clerkRequest.headers.get(name) || undefined;
  }
  getCookie(name) {
    return this.clerkRequest.cookies.get(name) || undefined;
  }
  getSuffixedCookie(name) {
    return this.getCookie(getSuffixedCookieName(name, this.cookieSuffix)) || undefined;
  }
  getSuffixedOrUnSuffixedCookie(cookieName) {
    if (this.usesSuffixedCookies()) {
      return this.getSuffixedCookie(cookieName);
    }
    return this.getCookie(cookieName);
  }
  parseAuthorizationHeader(authorizationHeader) {
    if (!authorizationHeader) {
      return;
    }
    const [scheme, token] = authorizationHeader.split(" ", 2);
    if (!token) {
      return scheme;
    }
    if (scheme === "Bearer") {
      return token;
    }
    return;
  }
  tokenHasIssuer(token) {
    const { data, errors } = decodeJwt(token);
    if (errors) {
      return false;
    }
    return !!data.payload.iss;
  }
  tokenBelongsToInstance(token) {
    if (!token) {
      return false;
    }
    const { data, errors } = decodeJwt(token);
    if (errors) {
      return false;
    }
    const tokenIssuer = data.payload.iss.replace(/https?:\/\//gi, "");
    return this.originalFrontendApi === tokenIssuer;
  }
  sessionExpired(jwt) {
    return !!jwt && jwt?.payload.exp <= Date.now() / 1000 >> 0;
  }
};
var createAuthenticateContext = async (clerkRequest, options) => {
  const cookieSuffix = options.publishableKey ? await getCookieSuffix(options.publishableKey, runtime.crypto.subtle) : "";
  return new AuthenticateContext(cookieSuffix, clerkRequest, options);
};
var SEPARATOR = "/";
var MULTIPLE_SEPARATOR_REGEX = new RegExp("(?<!:)" + SEPARATOR + "{1,}", "g");
function joinPaths(...args) {
  return args.filter((p) => p).join(SEPARATOR).replace(MULTIPLE_SEPARATOR_REGEX, SEPARATOR);
}
var AbstractAPI = class {
  constructor(request) {
    this.request = request;
  }
  requireId(id) {
    if (!id) {
      throw new Error("A valid resource ID is required.");
    }
  }
};
var basePath = "/actor_tokens";
var ActorTokenAPI = class extends AbstractAPI {
  async create(params) {
    return this.request({
      method: "POST",
      path: basePath,
      bodyParams: params
    });
  }
  async revoke(actorTokenId) {
    this.requireId(actorTokenId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath, actorTokenId, "revoke")
    });
  }
};
var basePath2 = "/accountless_applications";
var AccountlessApplicationAPI = class extends AbstractAPI {
  async createAccountlessApplication(params) {
    const headerParams = params?.requestHeaders ? Object.fromEntries(params.requestHeaders.entries()) : undefined;
    return this.request({
      method: "POST",
      path: basePath2,
      headerParams
    });
  }
  async completeAccountlessApplicationOnboarding(params) {
    const headerParams = params?.requestHeaders ? Object.fromEntries(params.requestHeaders.entries()) : undefined;
    return this.request({
      method: "POST",
      path: joinPaths(basePath2, "complete"),
      headerParams
    });
  }
};
var basePath3 = "/allowlist_identifiers";
var AllowlistIdentifierAPI = class extends AbstractAPI {
  async getAllowlistIdentifierList(params = {}) {
    return this.request({
      method: "GET",
      path: basePath3,
      queryParams: { ...params, paginated: true }
    });
  }
  async createAllowlistIdentifier(params) {
    return this.request({
      method: "POST",
      path: basePath3,
      bodyParams: params
    });
  }
  async deleteAllowlistIdentifier(allowlistIdentifierId) {
    this.requireId(allowlistIdentifierId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath3, allowlistIdentifierId)
    });
  }
};
var basePath4 = "/api_keys";
var APIKeysAPI = class extends AbstractAPI {
  async list(queryParams) {
    return this.request({
      method: "GET",
      path: basePath4,
      queryParams
    });
  }
  async create(params) {
    return this.request({
      method: "POST",
      path: basePath4,
      bodyParams: params
    });
  }
  async get(apiKeyId) {
    this.requireId(apiKeyId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath4, apiKeyId)
    });
  }
  async update(params) {
    const { apiKeyId, ...bodyParams } = params;
    this.requireId(apiKeyId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath4, apiKeyId),
      bodyParams
    });
  }
  async delete(apiKeyId) {
    this.requireId(apiKeyId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath4, apiKeyId)
    });
  }
  async revoke(params) {
    const { apiKeyId, revocationReason = null } = params;
    this.requireId(apiKeyId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath4, apiKeyId, "revoke"),
      bodyParams: { revocationReason }
    });
  }
  async getSecret(apiKeyId) {
    this.requireId(apiKeyId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath4, apiKeyId, "secret")
    });
  }
  async verify(secret) {
    return this.request({
      method: "POST",
      path: joinPaths(basePath4, "verify"),
      bodyParams: { secret }
    });
  }
  async verifySecret(secret) {
    deprecated("apiKeys.verifySecret()", "Use `apiKeys.verify()` instead.");
    return this.verify(secret);
  }
};
var basePath5 = "/beta_features";
var BetaFeaturesAPI = class extends AbstractAPI {
  async changeDomain(params) {
    return this.request({
      method: "POST",
      path: joinPaths(basePath5, "change_domain"),
      bodyParams: params
    });
  }
};
var basePath6 = "/blocklist_identifiers";
var BlocklistIdentifierAPI = class extends AbstractAPI {
  async getBlocklistIdentifierList(params = {}) {
    return this.request({
      method: "GET",
      path: basePath6,
      queryParams: params
    });
  }
  async createBlocklistIdentifier(params) {
    return this.request({
      method: "POST",
      path: basePath6,
      bodyParams: params
    });
  }
  async deleteBlocklistIdentifier(blocklistIdentifierId) {
    this.requireId(blocklistIdentifierId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath6, blocklistIdentifierId)
    });
  }
};
var basePath7 = "/clients";
var ClientAPI = class extends AbstractAPI {
  async getClientList(params = {}) {
    return this.request({
      method: "GET",
      path: basePath7,
      queryParams: { ...params, paginated: true }
    });
  }
  async getClient(clientId) {
    this.requireId(clientId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath7, clientId)
    });
  }
  verifyClient(token) {
    return this.request({
      method: "POST",
      path: joinPaths(basePath7, "verify"),
      bodyParams: { token }
    });
  }
  async getHandshakePayload(queryParams) {
    return this.request({
      method: "GET",
      path: joinPaths(basePath7, "handshake_payload"),
      queryParams
    });
  }
};
var basePath8 = "/domains";
var DomainAPI = class extends AbstractAPI {
  async list() {
    return this.request({
      method: "GET",
      path: basePath8
    });
  }
  async add(params) {
    return this.request({
      method: "POST",
      path: basePath8,
      bodyParams: params
    });
  }
  async update(params) {
    const { domainId, ...bodyParams } = params;
    this.requireId(domainId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath8, domainId),
      bodyParams
    });
  }
  async delete(satelliteDomainId) {
    return this.deleteDomain(satelliteDomainId);
  }
  async deleteDomain(satelliteDomainId) {
    this.requireId(satelliteDomainId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath8, satelliteDomainId)
    });
  }
};
var basePath9 = "/email_addresses";
var EmailAddressAPI = class extends AbstractAPI {
  async getEmailAddress(emailAddressId) {
    this.requireId(emailAddressId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath9, emailAddressId)
    });
  }
  async createEmailAddress(params) {
    return this.request({
      method: "POST",
      path: basePath9,
      bodyParams: params
    });
  }
  async updateEmailAddress(emailAddressId, params = {}) {
    this.requireId(emailAddressId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath9, emailAddressId),
      bodyParams: params
    });
  }
  async deleteEmailAddress(emailAddressId) {
    this.requireId(emailAddressId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath9, emailAddressId)
    });
  }
};
var basePath10 = "/oauth_applications/access_tokens";
var IdPOAuthAccessTokenApi = class extends AbstractAPI {
  async verify(accessToken) {
    return this.request({
      method: "POST",
      path: joinPaths(basePath10, "verify"),
      bodyParams: { access_token: accessToken }
    });
  }
  async verifyAccessToken(accessToken) {
    deprecated("idPOAuthAccessToken.verifyAccessToken()", "Use `idPOAuthAccessToken.verify()` instead.");
    return this.verify(accessToken);
  }
};
var basePath11 = "/instance";
var InstanceAPI = class extends AbstractAPI {
  async get() {
    return this.request({
      method: "GET",
      path: basePath11
    });
  }
  async update(params) {
    return this.request({
      method: "PATCH",
      path: basePath11,
      bodyParams: params
    });
  }
  async updateRestrictions(params) {
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath11, "restrictions"),
      bodyParams: params
    });
  }
  async updateOrganizationSettings(params) {
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath11, "organization_settings"),
      bodyParams: params
    });
  }
};
var basePath12 = "/invitations";
var InvitationAPI = class extends AbstractAPI {
  async getInvitationList(params = {}) {
    return this.request({
      method: "GET",
      path: basePath12,
      queryParams: { ...params, paginated: true }
    });
  }
  async createInvitation(params) {
    return this.request({
      method: "POST",
      path: basePath12,
      bodyParams: params
    });
  }
  async createInvitationBulk(params) {
    return this.request({
      method: "POST",
      path: joinPaths(basePath12, "bulk"),
      bodyParams: params
    });
  }
  async revokeInvitation(invitationId) {
    this.requireId(invitationId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath12, invitationId, "revoke")
    });
  }
};
var basePath13 = "/machines";
var MachineApi = class extends AbstractAPI {
  async get(machineId) {
    this.requireId(machineId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath13, machineId)
    });
  }
  async list(queryParams = {}) {
    return this.request({
      method: "GET",
      path: basePath13,
      queryParams
    });
  }
  async create(bodyParams) {
    return this.request({
      method: "POST",
      path: basePath13,
      bodyParams
    });
  }
  async update(params) {
    const { machineId, ...bodyParams } = params;
    this.requireId(machineId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath13, machineId),
      bodyParams
    });
  }
  async delete(machineId) {
    this.requireId(machineId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath13, machineId)
    });
  }
  async getSecretKey(machineId) {
    this.requireId(machineId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath13, machineId, "secret_key")
    });
  }
  async rotateSecretKey(params) {
    const { machineId, previousTokenTtl } = params;
    this.requireId(machineId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath13, machineId, "secret_key", "rotate"),
      bodyParams: {
        previousTokenTtl
      }
    });
  }
  async createScope(machineId, toMachineId) {
    this.requireId(machineId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath13, machineId, "scopes"),
      bodyParams: {
        toMachineId
      }
    });
  }
  async deleteScope(machineId, otherMachineId) {
    this.requireId(machineId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath13, machineId, "scopes", otherMachineId)
    });
  }
};
var basePath14 = "/m2m_tokens";
var _M2MTokenApi_instances;
var createRequestOptions_fn;
var M2MTokenApi = class extends AbstractAPI {
  constructor() {
    super(...arguments);
    __privateAdd(this, _M2MTokenApi_instances);
  }
  async createToken(params) {
    const { claims = null, machineSecretKey, secondsUntilExpiration = null } = params || {};
    const requestOptions = __privateMethod(this, _M2MTokenApi_instances, createRequestOptions_fn).call(this, {
      method: "POST",
      path: basePath14,
      bodyParams: {
        secondsUntilExpiration,
        claims
      }
    }, machineSecretKey);
    return this.request(requestOptions);
  }
  async revokeToken(params) {
    const { m2mTokenId, revocationReason = null, machineSecretKey } = params;
    this.requireId(m2mTokenId);
    const requestOptions = __privateMethod(this, _M2MTokenApi_instances, createRequestOptions_fn).call(this, {
      method: "POST",
      path: joinPaths(basePath14, m2mTokenId, "revoke"),
      bodyParams: {
        revocationReason
      }
    }, machineSecretKey);
    return this.request(requestOptions);
  }
  async verify(params) {
    const { token, machineSecretKey } = params;
    const requestOptions = __privateMethod(this, _M2MTokenApi_instances, createRequestOptions_fn).call(this, {
      method: "POST",
      path: joinPaths(basePath14, "verify"),
      bodyParams: { token }
    }, machineSecretKey);
    return this.request(requestOptions);
  }
  async verifyToken(params) {
    deprecated("m2m.verifyToken()", "Use `m2m.verify()` instead.");
    return this.verify(params);
  }
};
_M2MTokenApi_instances = new WeakSet;
createRequestOptions_fn = function(options, machineSecretKey) {
  if (machineSecretKey) {
    return {
      ...options,
      headerParams: {
        ...options.headerParams,
        Authorization: `Bearer ${machineSecretKey}`
      }
    };
  }
  return options;
};
var basePath15 = "/jwks";
var JwksAPI = class extends AbstractAPI {
  async getJwks() {
    return this.request({
      method: "GET",
      path: basePath15
    });
  }
};
var basePath16 = "/jwt_templates";
var JwtTemplatesApi = class extends AbstractAPI {
  async list(params = {}) {
    return this.request({
      method: "GET",
      path: basePath16,
      queryParams: { ...params, paginated: true }
    });
  }
  async get(templateId) {
    this.requireId(templateId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath16, templateId)
    });
  }
  async create(params) {
    return this.request({
      method: "POST",
      path: basePath16,
      bodyParams: params
    });
  }
  async update(params) {
    const { templateId, ...bodyParams } = params;
    this.requireId(templateId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath16, templateId),
      bodyParams
    });
  }
  async delete(templateId) {
    this.requireId(templateId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath16, templateId)
    });
  }
};
var basePath17 = "/organizations";
var OrganizationAPI = class extends AbstractAPI {
  async getOrganizationList(params) {
    return this.request({
      method: "GET",
      path: basePath17,
      queryParams: params
    });
  }
  async createOrganization(params) {
    return this.request({
      method: "POST",
      path: basePath17,
      bodyParams: params
    });
  }
  async getOrganization(params) {
    const { includeMembersCount } = params;
    const organizationIdOrSlug = "organizationId" in params ? params.organizationId : params.slug;
    this.requireId(organizationIdOrSlug);
    return this.request({
      method: "GET",
      path: joinPaths(basePath17, organizationIdOrSlug),
      queryParams: {
        includeMembersCount
      }
    });
  }
  async updateOrganization(organizationId, params) {
    this.requireId(organizationId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath17, organizationId),
      bodyParams: params
    });
  }
  async updateOrganizationLogo(organizationId, params) {
    this.requireId(organizationId);
    const formData = new runtime.FormData;
    formData.append("file", params?.file);
    if (params?.uploaderUserId) {
      formData.append("uploader_user_id", params?.uploaderUserId);
    }
    return this.request({
      method: "PUT",
      path: joinPaths(basePath17, organizationId, "logo"),
      formData
    });
  }
  async deleteOrganizationLogo(organizationId) {
    this.requireId(organizationId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath17, organizationId, "logo")
    });
  }
  async updateOrganizationMetadata(organizationId, params) {
    this.requireId(organizationId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath17, organizationId, "metadata"),
      bodyParams: params
    });
  }
  async deleteOrganization(organizationId) {
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath17, organizationId)
    });
  }
  async getOrganizationMembershipList(params) {
    const { organizationId, ...queryParams } = params;
    this.requireId(organizationId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath17, organizationId, "memberships"),
      queryParams
    });
  }
  async getInstanceOrganizationMembershipList(params) {
    return this.request({
      method: "GET",
      path: "/organization_memberships",
      queryParams: params
    });
  }
  async createOrganizationMembership(params) {
    const { organizationId, ...bodyParams } = params;
    this.requireId(organizationId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath17, organizationId, "memberships"),
      bodyParams
    });
  }
  async updateOrganizationMembership(params) {
    const { organizationId, userId, ...bodyParams } = params;
    this.requireId(organizationId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath17, organizationId, "memberships", userId),
      bodyParams
    });
  }
  async updateOrganizationMembershipMetadata(params) {
    const { organizationId, userId, ...bodyParams } = params;
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath17, organizationId, "memberships", userId, "metadata"),
      bodyParams
    });
  }
  async deleteOrganizationMembership(params) {
    const { organizationId, userId } = params;
    this.requireId(organizationId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath17, organizationId, "memberships", userId)
    });
  }
  async getOrganizationInvitationList(params) {
    const { organizationId, ...queryParams } = params;
    this.requireId(organizationId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath17, organizationId, "invitations"),
      queryParams
    });
  }
  async createOrganizationInvitation(params) {
    const { organizationId, ...bodyParams } = params;
    this.requireId(organizationId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath17, organizationId, "invitations"),
      bodyParams
    });
  }
  async createOrganizationInvitationBulk(organizationId, params) {
    this.requireId(organizationId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath17, organizationId, "invitations", "bulk"),
      bodyParams: params
    });
  }
  async getOrganizationInvitation(params) {
    const { organizationId, invitationId } = params;
    this.requireId(organizationId);
    this.requireId(invitationId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath17, organizationId, "invitations", invitationId)
    });
  }
  async revokeOrganizationInvitation(params) {
    const { organizationId, invitationId, ...bodyParams } = params;
    this.requireId(organizationId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath17, organizationId, "invitations", invitationId, "revoke"),
      bodyParams
    });
  }
  async getOrganizationDomainList(params) {
    const { organizationId, ...queryParams } = params;
    this.requireId(organizationId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath17, organizationId, "domains"),
      queryParams
    });
  }
  async createOrganizationDomain(params) {
    const { organizationId, ...bodyParams } = params;
    this.requireId(organizationId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath17, organizationId, "domains"),
      bodyParams: {
        ...bodyParams,
        verified: bodyParams.verified ?? true
      }
    });
  }
  async updateOrganizationDomain(params) {
    const { organizationId, domainId, ...bodyParams } = params;
    this.requireId(organizationId);
    this.requireId(domainId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath17, organizationId, "domains", domainId),
      bodyParams
    });
  }
  async deleteOrganizationDomain(params) {
    const { organizationId, domainId } = params;
    this.requireId(organizationId);
    this.requireId(domainId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath17, organizationId, "domains", domainId)
    });
  }
};
var basePath18 = "/oauth_applications";
var OAuthApplicationsApi = class extends AbstractAPI {
  async list(params = {}) {
    return this.request({
      method: "GET",
      path: basePath18,
      queryParams: params
    });
  }
  async get(oauthApplicationId) {
    this.requireId(oauthApplicationId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath18, oauthApplicationId)
    });
  }
  async create(params) {
    return this.request({
      method: "POST",
      path: basePath18,
      bodyParams: params
    });
  }
  async update(params) {
    const { oauthApplicationId, ...bodyParams } = params;
    this.requireId(oauthApplicationId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath18, oauthApplicationId),
      bodyParams
    });
  }
  async delete(oauthApplicationId) {
    this.requireId(oauthApplicationId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath18, oauthApplicationId)
    });
  }
  async rotateSecret(oauthApplicationId) {
    this.requireId(oauthApplicationId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath18, oauthApplicationId, "rotate_secret")
    });
  }
};
var basePath19 = "/phone_numbers";
var PhoneNumberAPI = class extends AbstractAPI {
  async getPhoneNumber(phoneNumberId) {
    this.requireId(phoneNumberId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath19, phoneNumberId)
    });
  }
  async createPhoneNumber(params) {
    return this.request({
      method: "POST",
      path: basePath19,
      bodyParams: params
    });
  }
  async updatePhoneNumber(phoneNumberId, params = {}) {
    this.requireId(phoneNumberId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath19, phoneNumberId),
      bodyParams: params
    });
  }
  async deletePhoneNumber(phoneNumberId) {
    this.requireId(phoneNumberId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath19, phoneNumberId)
    });
  }
};
var basePath20 = "/proxy_checks";
var ProxyCheckAPI = class extends AbstractAPI {
  async verify(params) {
    return this.request({
      method: "POST",
      path: basePath20,
      bodyParams: params
    });
  }
};
var basePath21 = "/redirect_urls";
var RedirectUrlAPI = class extends AbstractAPI {
  async getRedirectUrlList() {
    return this.request({
      method: "GET",
      path: basePath21,
      queryParams: { paginated: true }
    });
  }
  async getRedirectUrl(redirectUrlId) {
    this.requireId(redirectUrlId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath21, redirectUrlId)
    });
  }
  async createRedirectUrl(params) {
    return this.request({
      method: "POST",
      path: basePath21,
      bodyParams: params
    });
  }
  async deleteRedirectUrl(redirectUrlId) {
    this.requireId(redirectUrlId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath21, redirectUrlId)
    });
  }
};
var basePath22 = "/saml_connections";
var SamlConnectionAPI = class extends AbstractAPI {
  async getSamlConnectionList(params = {}) {
    return this.request({
      method: "GET",
      path: basePath22,
      queryParams: params
    });
  }
  async createSamlConnection(params) {
    return this.request({
      method: "POST",
      path: basePath22,
      bodyParams: params,
      options: {
        deepSnakecaseBodyParamKeys: true
      }
    });
  }
  async getSamlConnection(samlConnectionId) {
    this.requireId(samlConnectionId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath22, samlConnectionId)
    });
  }
  async updateSamlConnection(samlConnectionId, params = {}) {
    this.requireId(samlConnectionId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath22, samlConnectionId),
      bodyParams: params,
      options: {
        deepSnakecaseBodyParamKeys: true
      }
    });
  }
  async deleteSamlConnection(samlConnectionId) {
    this.requireId(samlConnectionId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath22, samlConnectionId)
    });
  }
};
var basePath23 = "/sessions";
var SessionAPI = class extends AbstractAPI {
  async getSessionList(params = {}) {
    return this.request({
      method: "GET",
      path: basePath23,
      queryParams: { ...params, paginated: true }
    });
  }
  async getSession(sessionId) {
    this.requireId(sessionId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath23, sessionId)
    });
  }
  async createSession(params) {
    return this.request({
      method: "POST",
      path: basePath23,
      bodyParams: params
    });
  }
  async revokeSession(sessionId) {
    this.requireId(sessionId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath23, sessionId, "revoke")
    });
  }
  async verifySession(sessionId, token) {
    this.requireId(sessionId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath23, sessionId, "verify"),
      bodyParams: { token }
    });
  }
  async getToken(sessionId, template, expiresInSeconds) {
    this.requireId(sessionId);
    const path = template ? joinPaths(basePath23, sessionId, "tokens", template) : joinPaths(basePath23, sessionId, "tokens");
    const requestOptions = {
      method: "POST",
      path
    };
    if (expiresInSeconds !== undefined) {
      requestOptions.bodyParams = { expires_in_seconds: expiresInSeconds };
    }
    return this.request(requestOptions);
  }
  async refreshSession(sessionId, params) {
    this.requireId(sessionId);
    const { suffixed_cookies, ...restParams } = params;
    return this.request({
      method: "POST",
      path: joinPaths(basePath23, sessionId, "refresh"),
      bodyParams: restParams,
      queryParams: { suffixed_cookies }
    });
  }
};
var basePath24 = "/sign_in_tokens";
var SignInTokenAPI = class extends AbstractAPI {
  async createSignInToken(params) {
    return this.request({
      method: "POST",
      path: basePath24,
      bodyParams: params
    });
  }
  async revokeSignInToken(signInTokenId) {
    this.requireId(signInTokenId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath24, signInTokenId, "revoke")
    });
  }
};
var basePath25 = "/sign_ups";
var SignUpAPI = class extends AbstractAPI {
  async get(signUpAttemptId) {
    this.requireId(signUpAttemptId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath25, signUpAttemptId)
    });
  }
  async update(params) {
    const { signUpAttemptId, ...bodyParams } = params;
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath25, signUpAttemptId),
      bodyParams
    });
  }
};
var basePath26 = "/testing_tokens";
var TestingTokenAPI = class extends AbstractAPI {
  async createTestingToken() {
    return this.request({
      method: "POST",
      path: basePath26
    });
  }
};
var basePath27 = "/users";
var UserAPI = class extends AbstractAPI {
  async getUserList(params = {}) {
    const { limit, offset, orderBy, ...userCountParams } = params;
    const [data, totalCount] = await Promise.all([
      this.request({
        method: "GET",
        path: basePath27,
        queryParams: params
      }),
      this.getCount(userCountParams)
    ]);
    return { data, totalCount };
  }
  async getUser(userId) {
    this.requireId(userId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath27, userId)
    });
  }
  async createUser(params) {
    return this.request({
      method: "POST",
      path: basePath27,
      bodyParams: params
    });
  }
  async updateUser(userId, params = {}) {
    this.requireId(userId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath27, userId),
      bodyParams: params
    });
  }
  async updateUserProfileImage(userId, params) {
    this.requireId(userId);
    const formData = new runtime.FormData;
    formData.append("file", params?.file);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "profile_image"),
      formData
    });
  }
  async updateUserMetadata(userId, params) {
    this.requireId(userId);
    return this.request({
      method: "PATCH",
      path: joinPaths(basePath27, userId, "metadata"),
      bodyParams: params
    });
  }
  async deleteUser(userId) {
    this.requireId(userId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath27, userId)
    });
  }
  async getCount(params = {}) {
    return this.request({
      method: "GET",
      path: joinPaths(basePath27, "count"),
      queryParams: params
    });
  }
  async getUserOauthAccessToken(userId, provider) {
    this.requireId(userId);
    const hasPrefix = provider.startsWith("oauth_");
    const _provider = hasPrefix ? provider : `oauth_${provider}`;
    if (hasPrefix) {
      deprecated("getUserOauthAccessToken(userId, provider)", "Remove the `oauth_` prefix from the `provider` argument.");
    }
    return this.request({
      method: "GET",
      path: joinPaths(basePath27, userId, "oauth_access_tokens", _provider),
      queryParams: { paginated: true }
    });
  }
  async disableUserMFA(userId) {
    this.requireId(userId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath27, userId, "mfa")
    });
  }
  async getOrganizationMembershipList(params) {
    const { userId, limit, offset } = params;
    this.requireId(userId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath27, userId, "organization_memberships"),
      queryParams: { limit, offset }
    });
  }
  async getOrganizationInvitationList(params) {
    const { userId, ...queryParams } = params;
    this.requireId(userId);
    return this.request({
      method: "GET",
      path: joinPaths(basePath27, userId, "organization_invitations"),
      queryParams
    });
  }
  async verifyPassword(params) {
    const { userId, password } = params;
    this.requireId(userId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "verify_password"),
      bodyParams: { password }
    });
  }
  async verifyTOTP(params) {
    const { userId, code } = params;
    this.requireId(userId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "verify_totp"),
      bodyParams: { code }
    });
  }
  async banUser(userId) {
    this.requireId(userId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "ban")
    });
  }
  async unbanUser(userId) {
    this.requireId(userId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "unban")
    });
  }
  async lockUser(userId) {
    this.requireId(userId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "lock")
    });
  }
  async unlockUser(userId) {
    this.requireId(userId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "unlock")
    });
  }
  async deleteUserProfileImage(userId) {
    this.requireId(userId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath27, userId, "profile_image")
    });
  }
  async deleteUserPasskey(params) {
    this.requireId(params.userId);
    this.requireId(params.passkeyIdentificationId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath27, params.userId, "passkeys", params.passkeyIdentificationId)
    });
  }
  async deleteUserWeb3Wallet(params) {
    this.requireId(params.userId);
    this.requireId(params.web3WalletIdentificationId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath27, params.userId, "web3_wallets", params.web3WalletIdentificationId)
    });
  }
  async deleteUserExternalAccount(params) {
    this.requireId(params.userId);
    this.requireId(params.externalAccountId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath27, params.userId, "external_accounts", params.externalAccountId)
    });
  }
  async deleteUserBackupCodes(userId) {
    this.requireId(userId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath27, userId, "backup_code")
    });
  }
  async deleteUserTOTP(userId) {
    this.requireId(userId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath27, userId, "totp")
    });
  }
  async setPasswordCompromised(userId, params = {
    revokeAllSessions: false
  }) {
    this.requireId(userId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "password", "set_compromised"),
      bodyParams: params
    });
  }
  async unsetPasswordCompromised(userId) {
    this.requireId(userId);
    return this.request({
      method: "POST",
      path: joinPaths(basePath27, userId, "password", "unset_compromised")
    });
  }
};
var basePath28 = "/waitlist_entries";
var WaitlistEntryAPI = class extends AbstractAPI {
  async list(params = {}) {
    return this.request({
      method: "GET",
      path: basePath28,
      queryParams: params
    });
  }
  async create(params) {
    return this.request({
      method: "POST",
      path: basePath28,
      bodyParams: params
    });
  }
  async invite(id, params = {}) {
    this.requireId(id);
    return this.request({
      method: "POST",
      path: joinPaths(basePath28, id, "invite"),
      bodyParams: params
    });
  }
  async reject(id) {
    this.requireId(id);
    return this.request({
      method: "POST",
      path: joinPaths(basePath28, id, "reject")
    });
  }
  async delete(id) {
    this.requireId(id);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath28, id)
    });
  }
};
var basePath29 = "/webhooks";
var WebhookAPI = class extends AbstractAPI {
  async createSvixApp() {
    return this.request({
      method: "POST",
      path: joinPaths(basePath29, "svix")
    });
  }
  async generateSvixAuthURL() {
    return this.request({
      method: "POST",
      path: joinPaths(basePath29, "svix_url")
    });
  }
  async deleteSvixApp() {
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath29, "svix")
    });
  }
};
var basePath30 = "/billing";
var organizationBasePath = "/organizations";
var userBasePath = "/users";
var BillingAPI = class extends AbstractAPI {
  async getPlanList(params) {
    return this.request({
      method: "GET",
      path: joinPaths(basePath30, "plans"),
      queryParams: params
    });
  }
  async cancelSubscriptionItem(subscriptionItemId, params) {
    this.requireId(subscriptionItemId);
    return this.request({
      method: "DELETE",
      path: joinPaths(basePath30, "subscription_items", subscriptionItemId),
      queryParams: params
    });
  }
  async extendSubscriptionItemFreeTrial(subscriptionItemId, params) {
    this.requireId(subscriptionItemId);
    return this.request({
      method: "POST",
      path: joinPaths("/billing", "subscription_items", subscriptionItemId, "extend_free_trial"),
      bodyParams: params
    });
  }
  async getOrganizationBillingSubscription(organizationId) {
    this.requireId(organizationId);
    return this.request({
      method: "GET",
      path: joinPaths(organizationBasePath, organizationId, "billing", "subscription")
    });
  }
  async getUserBillingSubscription(userId) {
    this.requireId(userId);
    return this.request({
      method: "GET",
      path: joinPaths(userBasePath, userId, "billing", "subscription")
    });
  }
};
var isObject = (value) => typeof value === "object" && value !== null;
var isObjectCustom = (value) => isObject(value) && !(value instanceof RegExp) && !(value instanceof Error) && !(value instanceof Date) && !(globalThis.Blob && value instanceof globalThis.Blob);
var mapObjectSkip = Symbol("mapObjectSkip");
var _mapObject = (object, mapper, options, isSeen = /* @__PURE__ */ new WeakMap) => {
  options = {
    deep: false,
    target: {},
    ...options
  };
  if (isSeen.has(object)) {
    return isSeen.get(object);
  }
  isSeen.set(object, options.target);
  const { target } = options;
  delete options.target;
  const mapArray = (array) => array.map((element) => isObjectCustom(element) ? _mapObject(element, mapper, options, isSeen) : element);
  if (Array.isArray(object)) {
    return mapArray(object);
  }
  for (const [key, value] of Object.entries(object)) {
    const mapResult = mapper(key, value, object);
    if (mapResult === mapObjectSkip) {
      continue;
    }
    let [newKey, newValue, { shouldRecurse = true } = {}] = mapResult;
    if (newKey === "__proto__") {
      continue;
    }
    if (options.deep && shouldRecurse && isObjectCustom(newValue)) {
      newValue = Array.isArray(newValue) ? mapArray(newValue) : _mapObject(newValue, mapper, options, isSeen);
    }
    target[newKey] = newValue;
  }
  return target;
};
function mapObject(object, mapper, options) {
  if (!isObject(object)) {
    throw new TypeError(`Expected an object, got \`${object}\` (${typeof object})`);
  }
  if (Array.isArray(object)) {
    throw new TypeError("Expected an object, got an array");
  }
  return _mapObject(object, mapper, options);
}
var SPLIT_LOWER_UPPER_RE = /([\p{Ll}\d])(\p{Lu})/gu;
var SPLIT_UPPER_UPPER_RE = /(\p{Lu})([\p{Lu}][\p{Ll}])/gu;
var SPLIT_SEPARATE_NUMBER_RE = /(\d)\p{Ll}|(\p{L})\d/u;
var DEFAULT_STRIP_REGEXP = /[^\p{L}\d]+/giu;
var SPLIT_REPLACE_VALUE = "$1\x00$2";
var DEFAULT_PREFIX_SUFFIX_CHARACTERS = "";
function split(value) {
  let result = value.trim();
  result = result.replace(SPLIT_LOWER_UPPER_RE, SPLIT_REPLACE_VALUE).replace(SPLIT_UPPER_UPPER_RE, SPLIT_REPLACE_VALUE);
  result = result.replace(DEFAULT_STRIP_REGEXP, "\x00");
  let start = 0;
  let end = result.length;
  while (result.charAt(start) === "\x00")
    start++;
  if (start === end)
    return [];
  while (result.charAt(end - 1) === "\x00")
    end--;
  return result.slice(start, end).split(/\0/g);
}
function splitSeparateNumbers(value) {
  const words = split(value);
  for (let i = 0;i < words.length; i++) {
    const word = words[i];
    const match22 = SPLIT_SEPARATE_NUMBER_RE.exec(word);
    if (match22) {
      const offset = match22.index + (match22[1] ?? match22[2]).length;
      words.splice(i, 1, word.slice(0, offset), word.slice(offset));
    }
  }
  return words;
}
function noCase(input, options) {
  const [prefix, words, suffix] = splitPrefixSuffix(input, options);
  return prefix + words.map(lowerFactory(options?.locale)).join(options?.delimiter ?? " ") + suffix;
}
function snakeCase(input, options) {
  return noCase(input, { delimiter: "_", ...options });
}
function lowerFactory(locale) {
  return locale === false ? (input) => input.toLowerCase() : (input) => input.toLocaleLowerCase(locale);
}
function splitPrefixSuffix(input, options = {}) {
  const splitFn = options.split ?? (options.separateNumbers ? splitSeparateNumbers : split);
  const prefixCharacters = options.prefixCharacters ?? DEFAULT_PREFIX_SUFFIX_CHARACTERS;
  const suffixCharacters = options.suffixCharacters ?? DEFAULT_PREFIX_SUFFIX_CHARACTERS;
  let prefixIndex = 0;
  let suffixIndex = input.length;
  while (prefixIndex < input.length) {
    const char2 = input.charAt(prefixIndex);
    if (!prefixCharacters.includes(char2))
      break;
    prefixIndex++;
  }
  while (suffixIndex > prefixIndex) {
    const index2 = suffixIndex - 1;
    const char2 = input.charAt(index2);
    if (!suffixCharacters.includes(char2))
      break;
    suffixIndex = index2;
  }
  return [
    input.slice(0, prefixIndex),
    splitFn(input.slice(prefixIndex, suffixIndex)),
    input.slice(suffixIndex)
  ];
}
var PlainObjectConstructor = {}.constructor;
function snakecaseKeys(obj, options) {
  if (Array.isArray(obj)) {
    if (obj.some((item) => item.constructor !== PlainObjectConstructor)) {
      throw new Error("obj must be array of plain objects");
    }
    options = { deep: true, exclude: [], parsingOptions: {}, ...options };
    const convertCase2 = options.snakeCase || ((key) => snakeCase(key, options.parsingOptions));
    return obj.map((item) => {
      return mapObject(item, (key, val) => {
        return [
          matches(options.exclude, key) ? key : convertCase2(key),
          val,
          mapperOptions(key, val, options)
        ];
      }, options);
    });
  } else {
    if (obj.constructor !== PlainObjectConstructor) {
      throw new Error("obj must be an plain object");
    }
  }
  options = { deep: true, exclude: [], parsingOptions: {}, ...options };
  const convertCase = options.snakeCase || ((key) => snakeCase(key, options.parsingOptions));
  return mapObject(obj, (key, val) => {
    return [
      matches(options.exclude, key) ? key : convertCase(key),
      val,
      mapperOptions(key, val, options)
    ];
  }, options);
}
function matches(patterns, value) {
  return patterns.some((pattern) => {
    return typeof pattern === "string" ? pattern === value : pattern.test(value);
  });
}
function mapperOptions(key, val, options) {
  return options.shouldRecurse ? { shouldRecurse: options.shouldRecurse(key, val) } : undefined;
}
var snakecase_keys_default = snakecaseKeys;
var AccountlessApplication = class _AccountlessApplication {
  constructor(publishableKey, secretKey, claimUrl, apiKeysUrl) {
    this.publishableKey = publishableKey;
    this.secretKey = secretKey;
    this.claimUrl = claimUrl;
    this.apiKeysUrl = apiKeysUrl;
  }
  static fromJSON(data) {
    return new _AccountlessApplication(data.publishable_key, data.secret_key, data.claim_url, data.api_keys_url);
  }
};
var ActorToken = class _ActorToken {
  constructor(id, status, userId, actor, token, url, createdAt, updatedAt) {
    this.id = id;
    this.status = status;
    this.userId = userId;
    this.actor = actor;
    this.token = token;
    this.url = url;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }
  static fromJSON(data) {
    return new _ActorToken(data.id, data.status, data.user_id, data.actor, data.token, data.url, data.created_at, data.updated_at);
  }
};
var AllowlistIdentifier = class _AllowlistIdentifier {
  constructor(id, identifier, identifierType, createdAt, updatedAt, instanceId, invitationId) {
    this.id = id;
    this.identifier = identifier;
    this.identifierType = identifierType;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.instanceId = instanceId;
    this.invitationId = invitationId;
  }
  static fromJSON(data) {
    return new _AllowlistIdentifier(data.id, data.identifier, data.identifier_type, data.created_at, data.updated_at, data.instance_id, data.invitation_id);
  }
};
var APIKey = class _APIKey {
  constructor(id, type, name, subject, scopes, claims, revoked, revocationReason, expired, expiration, createdBy, description, lastUsedAt, createdAt, updatedAt, secret) {
    this.id = id;
    this.type = type;
    this.name = name;
    this.subject = subject;
    this.scopes = scopes;
    this.claims = claims;
    this.revoked = revoked;
    this.revocationReason = revocationReason;
    this.expired = expired;
    this.expiration = expiration;
    this.createdBy = createdBy;
    this.description = description;
    this.lastUsedAt = lastUsedAt;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.secret = secret;
  }
  static fromJSON(data) {
    return new _APIKey(data.id, data.type, data.name, data.subject, data.scopes, data.claims, data.revoked, data.revocation_reason, data.expired, data.expiration, data.created_by, data.description, data.last_used_at, data.created_at, data.updated_at, data.secret);
  }
};
var BlocklistIdentifier = class _BlocklistIdentifier {
  constructor(id, identifier, identifierType, createdAt, updatedAt, instanceId) {
    this.id = id;
    this.identifier = identifier;
    this.identifierType = identifierType;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.instanceId = instanceId;
  }
  static fromJSON(data) {
    return new _BlocklistIdentifier(data.id, data.identifier, data.identifier_type, data.created_at, data.updated_at, data.instance_id);
  }
};
var SessionActivity = class _SessionActivity {
  constructor(id, isMobile, ipAddress, city, country, browserVersion, browserName, deviceType) {
    this.id = id;
    this.isMobile = isMobile;
    this.ipAddress = ipAddress;
    this.city = city;
    this.country = country;
    this.browserVersion = browserVersion;
    this.browserName = browserName;
    this.deviceType = deviceType;
  }
  static fromJSON(data) {
    return new _SessionActivity(data.id, data.is_mobile, data.ip_address, data.city, data.country, data.browser_version, data.browser_name, data.device_type);
  }
};
var Session = class _Session {
  constructor(id, clientId, userId, status, lastActiveAt, expireAt, abandonAt, createdAt, updatedAt, lastActiveOrganizationId, latestActivity, actor = null) {
    this.id = id;
    this.clientId = clientId;
    this.userId = userId;
    this.status = status;
    this.lastActiveAt = lastActiveAt;
    this.expireAt = expireAt;
    this.abandonAt = abandonAt;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.lastActiveOrganizationId = lastActiveOrganizationId;
    this.latestActivity = latestActivity;
    this.actor = actor;
  }
  static fromJSON(data) {
    return new _Session(data.id, data.client_id, data.user_id, data.status, data.last_active_at, data.expire_at, data.abandon_at, data.created_at, data.updated_at, data.last_active_organization_id, data.latest_activity && SessionActivity.fromJSON(data.latest_activity), data.actor);
  }
};
var Client = class _Client {
  constructor(id, sessionIds, sessions, signInId, signUpId, lastActiveSessionId, lastAuthenticationStrategy, createdAt, updatedAt) {
    this.id = id;
    this.sessionIds = sessionIds;
    this.sessions = sessions;
    this.signInId = signInId;
    this.signUpId = signUpId;
    this.lastActiveSessionId = lastActiveSessionId;
    this.lastAuthenticationStrategy = lastAuthenticationStrategy;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }
  static fromJSON(data) {
    return new _Client(data.id, data.session_ids, data.sessions.map((x) => Session.fromJSON(x)), data.sign_in_id, data.sign_up_id, data.last_active_session_id, data.last_authentication_strategy, data.created_at, data.updated_at);
  }
};
var CnameTarget = class _CnameTarget {
  constructor(host, value, required) {
    this.host = host;
    this.value = value;
    this.required = required;
  }
  static fromJSON(data) {
    return new _CnameTarget(data.host, data.value, data.required);
  }
};
var Cookies2 = class _Cookies {
  constructor(cookies) {
    this.cookies = cookies;
  }
  static fromJSON(data) {
    return new _Cookies(data.cookies);
  }
};
var DeletedObject = class _DeletedObject {
  constructor(object, id, slug, deleted) {
    this.object = object;
    this.id = id;
    this.slug = slug;
    this.deleted = deleted;
  }
  static fromJSON(data) {
    return new _DeletedObject(data.object, data.id || null, data.slug || null, data.deleted);
  }
};
var Domain = class _Domain {
  constructor(id, name, isSatellite, frontendApiUrl, developmentOrigin, cnameTargets, accountsPortalUrl, proxyUrl) {
    this.id = id;
    this.name = name;
    this.isSatellite = isSatellite;
    this.frontendApiUrl = frontendApiUrl;
    this.developmentOrigin = developmentOrigin;
    this.cnameTargets = cnameTargets;
    this.accountsPortalUrl = accountsPortalUrl;
    this.proxyUrl = proxyUrl;
  }
  static fromJSON(data) {
    return new _Domain(data.id, data.name, data.is_satellite, data.frontend_api_url, data.development_origin, data.cname_targets && data.cname_targets.map((x) => CnameTarget.fromJSON(x)), data.accounts_portal_url, data.proxy_url);
  }
};
var Email = class _Email {
  constructor(id, fromEmailName, emailAddressId, toEmailAddress, subject, body, bodyPlain, status, slug, data, deliveredByClerk) {
    this.id = id;
    this.fromEmailName = fromEmailName;
    this.emailAddressId = emailAddressId;
    this.toEmailAddress = toEmailAddress;
    this.subject = subject;
    this.body = body;
    this.bodyPlain = bodyPlain;
    this.status = status;
    this.slug = slug;
    this.data = data;
    this.deliveredByClerk = deliveredByClerk;
  }
  static fromJSON(data) {
    return new _Email(data.id, data.from_email_name, data.email_address_id, data.to_email_address, data.subject, data.body, data.body_plain, data.status, data.slug, data.data, data.delivered_by_clerk);
  }
};
var IdentificationLink = class _IdentificationLink {
  constructor(id, type) {
    this.id = id;
    this.type = type;
  }
  static fromJSON(data) {
    return new _IdentificationLink(data.id, data.type);
  }
};
var Verification = class _Verification {
  constructor(status, strategy, externalVerificationRedirectURL = null, attempts = null, expireAt = null, nonce = null, message = null) {
    this.status = status;
    this.strategy = strategy;
    this.externalVerificationRedirectURL = externalVerificationRedirectURL;
    this.attempts = attempts;
    this.expireAt = expireAt;
    this.nonce = nonce;
    this.message = message;
  }
  static fromJSON(data) {
    return new _Verification(data.status, data.strategy, data.external_verification_redirect_url ? new URL(data.external_verification_redirect_url) : null, data.attempts, data.expire_at, data.nonce);
  }
};
var EmailAddress = class _EmailAddress {
  constructor(id, emailAddress, verification, linkedTo) {
    this.id = id;
    this.emailAddress = emailAddress;
    this.verification = verification;
    this.linkedTo = linkedTo;
  }
  static fromJSON(data) {
    return new _EmailAddress(data.id, data.email_address, data.verification && Verification.fromJSON(data.verification), data.linked_to.map((link) => IdentificationLink.fromJSON(link)));
  }
};
var ExternalAccount = class _ExternalAccount {
  constructor(id, provider, identificationId, externalId, approvedScopes, emailAddress, firstName, lastName, imageUrl, username, phoneNumber, publicMetadata = {}, label, verification) {
    this.id = id;
    this.provider = provider;
    this.identificationId = identificationId;
    this.externalId = externalId;
    this.approvedScopes = approvedScopes;
    this.emailAddress = emailAddress;
    this.firstName = firstName;
    this.lastName = lastName;
    this.imageUrl = imageUrl;
    this.username = username;
    this.phoneNumber = phoneNumber;
    this.publicMetadata = publicMetadata;
    this.label = label;
    this.verification = verification;
  }
  static fromJSON(data) {
    return new _ExternalAccount(data.id, data.provider, data.identification_id, data.provider_user_id, data.approved_scopes, data.email_address, data.first_name, data.last_name, data.image_url || "", data.username, data.phone_number, data.public_metadata, data.label, data.verification && Verification.fromJSON(data.verification));
  }
};
var IdPOAuthAccessToken = class _IdPOAuthAccessToken {
  constructor(id, clientId, type, subject, scopes, revoked, revocationReason, expired, expiration, createdAt, updatedAt) {
    this.id = id;
    this.clientId = clientId;
    this.type = type;
    this.subject = subject;
    this.scopes = scopes;
    this.revoked = revoked;
    this.revocationReason = revocationReason;
    this.expired = expired;
    this.expiration = expiration;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }
  static fromJSON(data) {
    return new _IdPOAuthAccessToken(data.id, data.client_id, data.type, data.subject, data.scopes, data.revoked, data.revocation_reason, data.expired, data.expiration, data.created_at, data.updated_at);
  }
  static fromJwtPayload(payload, clockSkewInMs = 5000) {
    const oauthPayload = payload;
    return new _IdPOAuthAccessToken(oauthPayload.jti ?? "", oauthPayload.client_id ?? "", "oauth_token", payload.sub, oauthPayload.scp ?? oauthPayload.scope?.split(" ") ?? [], false, null, payload.exp * 1000 <= Date.now() - clockSkewInMs, payload.exp, payload.iat, payload.iat);
  }
};
var Instance = class _Instance {
  constructor(id, environmentType, allowedOrigins) {
    this.id = id;
    this.environmentType = environmentType;
    this.allowedOrigins = allowedOrigins;
  }
  static fromJSON(data) {
    return new _Instance(data.id, data.environment_type, data.allowed_origins);
  }
};
var InstanceRestrictions = class _InstanceRestrictions {
  constructor(allowlist, blocklist, blockEmailSubaddresses, blockDisposableEmailDomains, ignoreDotsForGmailAddresses) {
    this.allowlist = allowlist;
    this.blocklist = blocklist;
    this.blockEmailSubaddresses = blockEmailSubaddresses;
    this.blockDisposableEmailDomains = blockDisposableEmailDomains;
    this.ignoreDotsForGmailAddresses = ignoreDotsForGmailAddresses;
  }
  static fromJSON(data) {
    return new _InstanceRestrictions(data.allowlist, data.blocklist, data.block_email_subaddresses, data.block_disposable_email_domains, data.ignore_dots_for_gmail_addresses);
  }
};
var InstanceSettings = class _InstanceSettings {
  constructor(id, restrictedToAllowlist, fromEmailAddress, progressiveSignUp, enhancedEmailDeliverability) {
    this.id = id;
    this.restrictedToAllowlist = restrictedToAllowlist;
    this.fromEmailAddress = fromEmailAddress;
    this.progressiveSignUp = progressiveSignUp;
    this.enhancedEmailDeliverability = enhancedEmailDeliverability;
  }
  static fromJSON(data) {
    return new _InstanceSettings(data.id, data.restricted_to_allowlist, data.from_email_address, data.progressive_sign_up, data.enhanced_email_deliverability);
  }
};
var Invitation = class _Invitation {
  constructor(id, emailAddress, publicMetadata, createdAt, updatedAt, status, url, revoked) {
    this.id = id;
    this.emailAddress = emailAddress;
    this.publicMetadata = publicMetadata;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.status = status;
    this.url = url;
    this.revoked = revoked;
    this._raw = null;
  }
  get raw() {
    return this._raw;
  }
  static fromJSON(data) {
    const res = new _Invitation(data.id, data.email_address, data.public_metadata, data.created_at, data.updated_at, data.status, data.url, data.revoked);
    res._raw = data;
    return res;
  }
};
var ObjectType = {
  AccountlessApplication: "accountless_application",
  ActorToken: "actor_token",
  AllowlistIdentifier: "allowlist_identifier",
  ApiKey: "api_key",
  BlocklistIdentifier: "blocklist_identifier",
  Client: "client",
  Cookies: "cookies",
  Domain: "domain",
  Email: "email",
  EmailAddress: "email_address",
  ExternalAccount: "external_account",
  FacebookAccount: "facebook_account",
  GoogleAccount: "google_account",
  Instance: "instance",
  InstanceRestrictions: "instance_restrictions",
  InstanceSettings: "instance_settings",
  Invitation: "invitation",
  Machine: "machine",
  MachineScope: "machine_scope",
  MachineSecretKey: "machine_secret_key",
  M2MToken: "machine_to_machine_token",
  JwtTemplate: "jwt_template",
  OauthAccessToken: "oauth_access_token",
  IdpOAuthAccessToken: "clerk_idp_oauth_access_token",
  OAuthApplication: "oauth_application",
  Organization: "organization",
  OrganizationDomain: "organization_domain",
  OrganizationInvitation: "organization_invitation",
  OrganizationMembership: "organization_membership",
  OrganizationSettings: "organization_settings",
  PhoneNumber: "phone_number",
  ProxyCheck: "proxy_check",
  RedirectUrl: "redirect_url",
  SamlAccount: "saml_account",
  SamlConnection: "saml_connection",
  Session: "session",
  SignInAttempt: "sign_in_attempt",
  SignInToken: "sign_in_token",
  SignUpAttempt: "sign_up_attempt",
  SmsMessage: "sms_message",
  User: "user",
  WaitlistEntry: "waitlist_entry",
  Web3Wallet: "web3_wallet",
  Token: "token",
  TotalCount: "total_count",
  TestingToken: "testing_token",
  Role: "role",
  Permission: "permission",
  BillingPayer: "commerce_payer",
  BillingPaymentAttempt: "commerce_payment_attempt",
  BillingSubscription: "commerce_subscription",
  BillingSubscriptionItem: "commerce_subscription_item",
  BillingPlan: "commerce_plan",
  Feature: "feature"
};
var Machine = class _Machine {
  constructor(id, name, instanceId, createdAt, updatedAt, scopedMachines, defaultTokenTtl, secretKey) {
    this.id = id;
    this.name = name;
    this.instanceId = instanceId;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.scopedMachines = scopedMachines;
    this.defaultTokenTtl = defaultTokenTtl;
    this.secretKey = secretKey;
  }
  static fromJSON(data) {
    return new _Machine(data.id, data.name, data.instance_id, data.created_at, data.updated_at, data.scoped_machines.map((m) => new _Machine(m.id, m.name, m.instance_id, m.created_at, m.updated_at, [], m.default_token_ttl)), data.default_token_ttl, data.secret_key);
  }
};
var MachineScope = class _MachineScope {
  constructor(fromMachineId, toMachineId, createdAt, deleted) {
    this.fromMachineId = fromMachineId;
    this.toMachineId = toMachineId;
    this.createdAt = createdAt;
    this.deleted = deleted;
  }
  static fromJSON(data) {
    return new _MachineScope(data.from_machine_id, data.to_machine_id, data.created_at, data.deleted);
  }
};
var MachineSecretKey = class _MachineSecretKey {
  constructor(secret) {
    this.secret = secret;
  }
  static fromJSON(data) {
    return new _MachineSecretKey(data.secret);
  }
};
var M2MToken = class _M2MToken {
  constructor(id, subject, scopes, claims, revoked, revocationReason, expired, expiration, createdAt, updatedAt, token) {
    this.id = id;
    this.subject = subject;
    this.scopes = scopes;
    this.claims = claims;
    this.revoked = revoked;
    this.revocationReason = revocationReason;
    this.expired = expired;
    this.expiration = expiration;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.token = token;
  }
  static fromJSON(data) {
    return new _M2MToken(data.id, data.subject, data.scopes, data.claims, data.revoked, data.revocation_reason, data.expired, data.expiration, data.created_at, data.updated_at, data.token);
  }
};
var JwtTemplate = class _JwtTemplate {
  constructor(id, name, claims, lifetime, allowedClockSkew, customSigningKey, signingAlgorithm, createdAt, updatedAt) {
    this.id = id;
    this.name = name;
    this.claims = claims;
    this.lifetime = lifetime;
    this.allowedClockSkew = allowedClockSkew;
    this.customSigningKey = customSigningKey;
    this.signingAlgorithm = signingAlgorithm;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }
  static fromJSON(data) {
    return new _JwtTemplate(data.id, data.name, data.claims, data.lifetime, data.allowed_clock_skew, data.custom_signing_key, data.signing_algorithm, data.created_at, data.updated_at);
  }
};
var OauthAccessToken = class _OauthAccessToken {
  constructor(externalAccountId, provider, token, publicMetadata = {}, label, scopes, tokenSecret, expiresAt, idToken) {
    this.externalAccountId = externalAccountId;
    this.provider = provider;
    this.token = token;
    this.publicMetadata = publicMetadata;
    this.label = label;
    this.scopes = scopes;
    this.tokenSecret = tokenSecret;
    this.expiresAt = expiresAt;
    this.idToken = idToken;
  }
  static fromJSON(data) {
    return new _OauthAccessToken(data.external_account_id, data.provider, data.token, data.public_metadata, data.label || "", data.scopes, data.token_secret, data.expires_at, data.id_token);
  }
};
var OAuthApplication = class _OAuthApplication {
  constructor(id, instanceId, name, clientId, clientUri, clientImageUrl, dynamicallyRegistered, consentScreenEnabled, pkceRequired, isPublic, scopes, redirectUris, authorizeUrl, tokenFetchUrl, userInfoUrl, discoveryUrl, tokenIntrospectionUrl, createdAt, updatedAt, clientSecret) {
    this.id = id;
    this.instanceId = instanceId;
    this.name = name;
    this.clientId = clientId;
    this.clientUri = clientUri;
    this.clientImageUrl = clientImageUrl;
    this.dynamicallyRegistered = dynamicallyRegistered;
    this.consentScreenEnabled = consentScreenEnabled;
    this.pkceRequired = pkceRequired;
    this.isPublic = isPublic;
    this.scopes = scopes;
    this.redirectUris = redirectUris;
    this.authorizeUrl = authorizeUrl;
    this.tokenFetchUrl = tokenFetchUrl;
    this.userInfoUrl = userInfoUrl;
    this.discoveryUrl = discoveryUrl;
    this.tokenIntrospectionUrl = tokenIntrospectionUrl;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.clientSecret = clientSecret;
  }
  static fromJSON(data) {
    return new _OAuthApplication(data.id, data.instance_id, data.name, data.client_id, data.client_uri, data.client_image_url, data.dynamically_registered, data.consent_screen_enabled, data.pkce_required, data.public, data.scopes, data.redirect_uris, data.authorize_url, data.token_fetch_url, data.user_info_url, data.discovery_url, data.token_introspection_url, data.created_at, data.updated_at, data.client_secret);
  }
};
var Organization = class _Organization {
  constructor(id, name, slug, imageUrl, hasImage, createdAt, updatedAt, publicMetadata = {}, privateMetadata = {}, maxAllowedMemberships, adminDeleteEnabled, membersCount, createdBy) {
    this.id = id;
    this.name = name;
    this.slug = slug;
    this.imageUrl = imageUrl;
    this.hasImage = hasImage;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.publicMetadata = publicMetadata;
    this.privateMetadata = privateMetadata;
    this.maxAllowedMemberships = maxAllowedMemberships;
    this.adminDeleteEnabled = adminDeleteEnabled;
    this.membersCount = membersCount;
    this.createdBy = createdBy;
    this._raw = null;
  }
  get raw() {
    return this._raw;
  }
  static fromJSON(data) {
    const res = new _Organization(data.id, data.name, data.slug, data.image_url || "", data.has_image, data.created_at, data.updated_at, data.public_metadata, data.private_metadata, data.max_allowed_memberships, data.admin_delete_enabled, data.members_count, data.created_by);
    res._raw = data;
    return res;
  }
};
var OrganizationInvitation = class _OrganizationInvitation {
  constructor(id, emailAddress, role, roleName, organizationId, createdAt, updatedAt, expiresAt, url, status, publicMetadata = {}, privateMetadata = {}, publicOrganizationData) {
    this.id = id;
    this.emailAddress = emailAddress;
    this.role = role;
    this.roleName = roleName;
    this.organizationId = organizationId;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.expiresAt = expiresAt;
    this.url = url;
    this.status = status;
    this.publicMetadata = publicMetadata;
    this.privateMetadata = privateMetadata;
    this.publicOrganizationData = publicOrganizationData;
    this._raw = null;
  }
  get raw() {
    return this._raw;
  }
  static fromJSON(data) {
    const res = new _OrganizationInvitation(data.id, data.email_address, data.role, data.role_name, data.organization_id, data.created_at, data.updated_at, data.expires_at, data.url, data.status, data.public_metadata, data.private_metadata, data.public_organization_data);
    res._raw = data;
    return res;
  }
};
var OrganizationMembership = class _OrganizationMembership {
  constructor(id, role, permissions, publicMetadata = {}, privateMetadata = {}, createdAt, updatedAt, organization, publicUserData) {
    this.id = id;
    this.role = role;
    this.permissions = permissions;
    this.publicMetadata = publicMetadata;
    this.privateMetadata = privateMetadata;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.organization = organization;
    this.publicUserData = publicUserData;
    this._raw = null;
  }
  get raw() {
    return this._raw;
  }
  static fromJSON(data) {
    const res = new _OrganizationMembership(data.id, data.role, data.permissions, data.public_metadata, data.private_metadata, data.created_at, data.updated_at, Organization.fromJSON(data.organization), OrganizationMembershipPublicUserData.fromJSON(data.public_user_data));
    res._raw = data;
    return res;
  }
};
var OrganizationMembershipPublicUserData = class _OrganizationMembershipPublicUserData {
  constructor(identifier, firstName, lastName, imageUrl, hasImage, userId) {
    this.identifier = identifier;
    this.firstName = firstName;
    this.lastName = lastName;
    this.imageUrl = imageUrl;
    this.hasImage = hasImage;
    this.userId = userId;
  }
  static fromJSON(data) {
    return new _OrganizationMembershipPublicUserData(data.identifier, data.first_name, data.last_name, data.image_url, data.has_image, data.user_id);
  }
};
var OrganizationSettings = class _OrganizationSettings {
  constructor(enabled, maxAllowedMemberships, maxAllowedRoles, maxAllowedPermissions, creatorRole, adminDeleteEnabled, domainsEnabled, slugDisabled, domainsEnrollmentModes, domainsDefaultRole) {
    this.enabled = enabled;
    this.maxAllowedMemberships = maxAllowedMemberships;
    this.maxAllowedRoles = maxAllowedRoles;
    this.maxAllowedPermissions = maxAllowedPermissions;
    this.creatorRole = creatorRole;
    this.adminDeleteEnabled = adminDeleteEnabled;
    this.domainsEnabled = domainsEnabled;
    this.slugDisabled = slugDisabled;
    this.domainsEnrollmentModes = domainsEnrollmentModes;
    this.domainsDefaultRole = domainsDefaultRole;
  }
  static fromJSON(data) {
    return new _OrganizationSettings(data.enabled, data.max_allowed_memberships, data.max_allowed_roles, data.max_allowed_permissions, data.creator_role, data.admin_delete_enabled, data.domains_enabled, data.slug_disabled, data.domains_enrollment_modes, data.domains_default_role);
  }
};
var PhoneNumber = class _PhoneNumber {
  constructor(id, phoneNumber, reservedForSecondFactor, defaultSecondFactor, verification, linkedTo) {
    this.id = id;
    this.phoneNumber = phoneNumber;
    this.reservedForSecondFactor = reservedForSecondFactor;
    this.defaultSecondFactor = defaultSecondFactor;
    this.verification = verification;
    this.linkedTo = linkedTo;
  }
  static fromJSON(data) {
    return new _PhoneNumber(data.id, data.phone_number, data.reserved_for_second_factor, data.default_second_factor, data.verification && Verification.fromJSON(data.verification), data.linked_to.map((link) => IdentificationLink.fromJSON(link)));
  }
};
var ProxyCheck = class _ProxyCheck {
  constructor(id, domainId, lastRunAt, proxyUrl, successful, createdAt, updatedAt) {
    this.id = id;
    this.domainId = domainId;
    this.lastRunAt = lastRunAt;
    this.proxyUrl = proxyUrl;
    this.successful = successful;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }
  static fromJSON(data) {
    return new _ProxyCheck(data.id, data.domain_id, data.last_run_at, data.proxy_url, data.successful, data.created_at, data.updated_at);
  }
};
var RedirectUrl = class _RedirectUrl {
  constructor(id, url, createdAt, updatedAt) {
    this.id = id;
    this.url = url;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }
  static fromJSON(data) {
    return new _RedirectUrl(data.id, data.url, data.created_at, data.updated_at);
  }
};
var SamlConnection = class _SamlConnection {
  constructor(id, name, domain, organizationId, idpEntityId, idpSsoUrl, idpCertificate, idpMetadataUrl, idpMetadata, acsUrl, spEntityId, spMetadataUrl, active, provider, userCount, syncUserAttributes, allowSubdomains, allowIdpInitiated, createdAt, updatedAt, attributeMapping) {
    this.id = id;
    this.name = name;
    this.domain = domain;
    this.organizationId = organizationId;
    this.idpEntityId = idpEntityId;
    this.idpSsoUrl = idpSsoUrl;
    this.idpCertificate = idpCertificate;
    this.idpMetadataUrl = idpMetadataUrl;
    this.idpMetadata = idpMetadata;
    this.acsUrl = acsUrl;
    this.spEntityId = spEntityId;
    this.spMetadataUrl = spMetadataUrl;
    this.active = active;
    this.provider = provider;
    this.userCount = userCount;
    this.syncUserAttributes = syncUserAttributes;
    this.allowSubdomains = allowSubdomains;
    this.allowIdpInitiated = allowIdpInitiated;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.attributeMapping = attributeMapping;
  }
  static fromJSON(data) {
    return new _SamlConnection(data.id, data.name, data.domain, data.organization_id, data.idp_entity_id, data.idp_sso_url, data.idp_certificate, data.idp_metadata_url, data.idp_metadata, data.acs_url, data.sp_entity_id, data.sp_metadata_url, data.active, data.provider, data.user_count, data.sync_user_attributes, data.allow_subdomains, data.allow_idp_initiated, data.created_at, data.updated_at, data.attribute_mapping && AttributeMapping.fromJSON(data.attribute_mapping));
  }
};
var SamlAccountConnection = class _SamlAccountConnection {
  constructor(id, name, domain, active, provider, syncUserAttributes, allowSubdomains, allowIdpInitiated, createdAt, updatedAt) {
    this.id = id;
    this.name = name;
    this.domain = domain;
    this.active = active;
    this.provider = provider;
    this.syncUserAttributes = syncUserAttributes;
    this.allowSubdomains = allowSubdomains;
    this.allowIdpInitiated = allowIdpInitiated;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }
  static fromJSON(data) {
    return new _SamlAccountConnection(data.id, data.name, data.domain, data.active, data.provider, data.sync_user_attributes, data.allow_subdomains, data.allow_idp_initiated, data.created_at, data.updated_at);
  }
};
var AttributeMapping = class _AttributeMapping {
  constructor(userId, emailAddress, firstName, lastName) {
    this.userId = userId;
    this.emailAddress = emailAddress;
    this.firstName = firstName;
    this.lastName = lastName;
  }
  static fromJSON(data) {
    return new _AttributeMapping(data.user_id, data.email_address, data.first_name, data.last_name);
  }
};
var SamlAccount = class _SamlAccount {
  constructor(id, provider, providerUserId, active, emailAddress, firstName, lastName, verification, samlConnection, lastAuthenticatedAt, enterpriseConnectionId) {
    this.id = id;
    this.provider = provider;
    this.providerUserId = providerUserId;
    this.active = active;
    this.emailAddress = emailAddress;
    this.firstName = firstName;
    this.lastName = lastName;
    this.verification = verification;
    this.samlConnection = samlConnection;
    this.lastAuthenticatedAt = lastAuthenticatedAt;
    this.enterpriseConnectionId = enterpriseConnectionId;
  }
  static fromJSON(data) {
    return new _SamlAccount(data.id, data.provider, data.provider_user_id, data.active, data.email_address, data.first_name, data.last_name, data.verification && Verification.fromJSON(data.verification), data.saml_connection && SamlAccountConnection.fromJSON(data.saml_connection), data.last_authenticated_at ?? null, data.enterprise_connection_id);
  }
};
var SignInToken = class _SignInToken {
  constructor(id, userId, token, status, url, createdAt, updatedAt) {
    this.id = id;
    this.userId = userId;
    this.token = token;
    this.status = status;
    this.url = url;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
  }
  static fromJSON(data) {
    return new _SignInToken(data.id, data.user_id, data.token, data.status, data.url, data.created_at, data.updated_at);
  }
};
var SignUpAttemptVerification = class _SignUpAttemptVerification {
  constructor(nextAction, supportedStrategies) {
    this.nextAction = nextAction;
    this.supportedStrategies = supportedStrategies;
  }
  static fromJSON(data) {
    return new _SignUpAttemptVerification(data.next_action, data.supported_strategies);
  }
};
var SignUpAttemptVerifications = class _SignUpAttemptVerifications {
  constructor(emailAddress, phoneNumber, web3Wallet, externalAccount) {
    this.emailAddress = emailAddress;
    this.phoneNumber = phoneNumber;
    this.web3Wallet = web3Wallet;
    this.externalAccount = externalAccount;
  }
  static fromJSON(data) {
    return new _SignUpAttemptVerifications(data.email_address && SignUpAttemptVerification.fromJSON(data.email_address), data.phone_number && SignUpAttemptVerification.fromJSON(data.phone_number), data.web3_wallet && SignUpAttemptVerification.fromJSON(data.web3_wallet), data.external_account);
  }
};
var SignUpAttempt = class _SignUpAttempt {
  constructor(id, status, requiredFields, optionalFields, missingFields, unverifiedFields, verifications, username, emailAddress, phoneNumber, web3Wallet, passwordEnabled, firstName, lastName, customAction, externalId, createdSessionId, createdUserId, abandonAt, legalAcceptedAt, publicMetadata, unsafeMetadata) {
    this.id = id;
    this.status = status;
    this.requiredFields = requiredFields;
    this.optionalFields = optionalFields;
    this.missingFields = missingFields;
    this.unverifiedFields = unverifiedFields;
    this.verifications = verifications;
    this.username = username;
    this.emailAddress = emailAddress;
    this.phoneNumber = phoneNumber;
    this.web3Wallet = web3Wallet;
    this.passwordEnabled = passwordEnabled;
    this.firstName = firstName;
    this.lastName = lastName;
    this.customAction = customAction;
    this.externalId = externalId;
    this.createdSessionId = createdSessionId;
    this.createdUserId = createdUserId;
    this.abandonAt = abandonAt;
    this.legalAcceptedAt = legalAcceptedAt;
    this.publicMetadata = publicMetadata;
    this.unsafeMetadata = unsafeMetadata;
  }
  static fromJSON(data) {
    return new _SignUpAttempt(data.id, data.status, data.required_fields, data.optional_fields, data.missing_fields, data.unverified_fields, data.verifications ? SignUpAttemptVerifications.fromJSON(data.verifications) : null, data.username, data.email_address, data.phone_number, data.web3_wallet, data.password_enabled, data.first_name, data.last_name, data.custom_action, data.external_id, data.created_session_id, data.created_user_id, data.abandon_at, data.legal_accepted_at, data.public_metadata, data.unsafe_metadata);
  }
};
var SMSMessage = class _SMSMessage {
  constructor(id, fromPhoneNumber, toPhoneNumber, message, status, phoneNumberId, data) {
    this.id = id;
    this.fromPhoneNumber = fromPhoneNumber;
    this.toPhoneNumber = toPhoneNumber;
    this.message = message;
    this.status = status;
    this.phoneNumberId = phoneNumberId;
    this.data = data;
  }
  static fromJSON(data) {
    return new _SMSMessage(data.id, data.from_phone_number, data.to_phone_number, data.message, data.status, data.phone_number_id, data.data);
  }
};
var Token = class _Token {
  constructor(jwt) {
    this.jwt = jwt;
  }
  static fromJSON(data) {
    return new _Token(data.jwt);
  }
};
var Web3Wallet = class _Web3Wallet {
  constructor(id, web3Wallet, verification) {
    this.id = id;
    this.web3Wallet = web3Wallet;
    this.verification = verification;
  }
  static fromJSON(data) {
    return new _Web3Wallet(data.id, data.web3_wallet, data.verification && Verification.fromJSON(data.verification));
  }
};
var User = class _User {
  constructor(id, passwordEnabled, totpEnabled, backupCodeEnabled, twoFactorEnabled, banned, locked, createdAt, updatedAt, imageUrl, hasImage, primaryEmailAddressId, primaryPhoneNumberId, primaryWeb3WalletId, lastSignInAt, externalId, username, firstName, lastName, publicMetadata = {}, privateMetadata = {}, unsafeMetadata = {}, emailAddresses = [], phoneNumbers = [], web3Wallets = [], externalAccounts = [], samlAccounts = [], lastActiveAt, createOrganizationEnabled, createOrganizationsLimit = null, deleteSelfEnabled, legalAcceptedAt, locale) {
    this.id = id;
    this.passwordEnabled = passwordEnabled;
    this.totpEnabled = totpEnabled;
    this.backupCodeEnabled = backupCodeEnabled;
    this.twoFactorEnabled = twoFactorEnabled;
    this.banned = banned;
    this.locked = locked;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.imageUrl = imageUrl;
    this.hasImage = hasImage;
    this.primaryEmailAddressId = primaryEmailAddressId;
    this.primaryPhoneNumberId = primaryPhoneNumberId;
    this.primaryWeb3WalletId = primaryWeb3WalletId;
    this.lastSignInAt = lastSignInAt;
    this.externalId = externalId;
    this.username = username;
    this.firstName = firstName;
    this.lastName = lastName;
    this.publicMetadata = publicMetadata;
    this.privateMetadata = privateMetadata;
    this.unsafeMetadata = unsafeMetadata;
    this.emailAddresses = emailAddresses;
    this.phoneNumbers = phoneNumbers;
    this.web3Wallets = web3Wallets;
    this.externalAccounts = externalAccounts;
    this.samlAccounts = samlAccounts;
    this.lastActiveAt = lastActiveAt;
    this.createOrganizationEnabled = createOrganizationEnabled;
    this.createOrganizationsLimit = createOrganizationsLimit;
    this.deleteSelfEnabled = deleteSelfEnabled;
    this.legalAcceptedAt = legalAcceptedAt;
    this.locale = locale;
    this._raw = null;
  }
  get raw() {
    return this._raw;
  }
  static fromJSON(data) {
    const res = new _User(data.id, data.password_enabled, data.totp_enabled, data.backup_code_enabled, data.two_factor_enabled, data.banned, data.locked, data.created_at, data.updated_at, data.image_url, data.has_image, data.primary_email_address_id, data.primary_phone_number_id, data.primary_web3_wallet_id, data.last_sign_in_at, data.external_id, data.username, data.first_name, data.last_name, data.public_metadata, data.private_metadata, data.unsafe_metadata, (data.email_addresses || []).map((x) => EmailAddress.fromJSON(x)), (data.phone_numbers || []).map((x) => PhoneNumber.fromJSON(x)), (data.web3_wallets || []).map((x) => Web3Wallet.fromJSON(x)), (data.external_accounts || []).map((x) => ExternalAccount.fromJSON(x)), (data.saml_accounts || []).map((x) => SamlAccount.fromJSON(x)), data.last_active_at, data.create_organization_enabled, data.create_organizations_limit, data.delete_self_enabled, data.legal_accepted_at, data.locale);
    res._raw = data;
    return res;
  }
  get primaryEmailAddress() {
    return this.emailAddresses.find(({ id }) => id === this.primaryEmailAddressId) ?? null;
  }
  get primaryPhoneNumber() {
    return this.phoneNumbers.find(({ id }) => id === this.primaryPhoneNumberId) ?? null;
  }
  get primaryWeb3Wallet() {
    return this.web3Wallets.find(({ id }) => id === this.primaryWeb3WalletId) ?? null;
  }
  get fullName() {
    return [this.firstName, this.lastName].join(" ").trim() || null;
  }
};
var WaitlistEntry = class _WaitlistEntry {
  constructor(id, emailAddress, status, invitation, createdAt, updatedAt, isLocked) {
    this.id = id;
    this.emailAddress = emailAddress;
    this.status = status;
    this.invitation = invitation;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.isLocked = isLocked;
  }
  static fromJSON(data) {
    return new _WaitlistEntry(data.id, data.email_address, data.status, data.invitation && Invitation.fromJSON(data.invitation), data.created_at, data.updated_at, data.is_locked);
  }
};
var Feature = class _Feature {
  constructor(id, name, description, slug, avatarUrl) {
    this.id = id;
    this.name = name;
    this.description = description;
    this.slug = slug;
    this.avatarUrl = avatarUrl;
  }
  static fromJSON(data) {
    return new _Feature(data.id, data.name, data.description ?? null, data.slug, data.avatar_url ?? null);
  }
};
var BillingPlan = class _BillingPlan {
  constructor(id, name, slug, description, isDefault, isRecurring, hasBaseFee, publiclyVisible, fee, annualFee, annualMonthlyFee, forPayerType, features) {
    this.id = id;
    this.name = name;
    this.slug = slug;
    this.description = description;
    this.isDefault = isDefault;
    this.isRecurring = isRecurring;
    this.hasBaseFee = hasBaseFee;
    this.publiclyVisible = publiclyVisible;
    this.fee = fee;
    this.annualFee = annualFee;
    this.annualMonthlyFee = annualMonthlyFee;
    this.forPayerType = forPayerType;
    this.features = features;
  }
  static fromJSON(data) {
    const formatAmountJSON = (fee) => {
      return fee ? {
        amount: fee.amount,
        amountFormatted: fee.amount_formatted,
        currency: fee.currency,
        currencySymbol: fee.currency_symbol
      } : null;
    };
    return new _BillingPlan(data.id, data.name, data.slug, data.description ?? null, data.is_default, data.is_recurring, data.has_base_fee, data.publicly_visible, formatAmountJSON(data.fee), formatAmountJSON(data.annual_fee), formatAmountJSON(data.annual_monthly_fee), data.for_payer_type, (data.features ?? []).map((feature) => Feature.fromJSON(feature)));
  }
};
var BillingSubscriptionItem = class _BillingSubscriptionItem {
  constructor(id, status, planPeriod, periodStart, nextPayment, amount, plan, planId, createdAt, updatedAt, periodEnd, canceledAt, pastDueAt, endedAt, payerId, isFreeTrial, lifetimePaid) {
    this.id = id;
    this.status = status;
    this.planPeriod = planPeriod;
    this.periodStart = periodStart;
    this.nextPayment = nextPayment;
    this.amount = amount;
    this.plan = plan;
    this.planId = planId;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.periodEnd = periodEnd;
    this.canceledAt = canceledAt;
    this.pastDueAt = pastDueAt;
    this.endedAt = endedAt;
    this.payerId = payerId;
    this.isFreeTrial = isFreeTrial;
    this.lifetimePaid = lifetimePaid;
  }
  static fromJSON(data) {
    function formatAmountJSON(amount) {
      if (!amount) {
        return amount;
      }
      return {
        amount: amount.amount,
        amountFormatted: amount.amount_formatted,
        currency: amount.currency,
        currencySymbol: amount.currency_symbol
      };
    }
    return new _BillingSubscriptionItem(data.id, data.status, data.plan_period, data.period_start, data.next_payment, formatAmountJSON(data.amount) ?? undefined, data.plan ? BillingPlan.fromJSON(data.plan) : null, data.plan_id ?? null, data.created_at, data.updated_at, data.period_end, data.canceled_at, data.past_due_at, data.ended_at, data.payer_id, data.is_free_trial, formatAmountJSON(data.lifetime_paid) ?? undefined);
  }
};
var BillingSubscription = class _BillingSubscription {
  constructor(id, status, payerId, createdAt, updatedAt, activeAt, pastDueAt, subscriptionItems, nextPayment, eligibleForFreeTrial) {
    this.id = id;
    this.status = status;
    this.payerId = payerId;
    this.createdAt = createdAt;
    this.updatedAt = updatedAt;
    this.activeAt = activeAt;
    this.pastDueAt = pastDueAt;
    this.subscriptionItems = subscriptionItems;
    this.nextPayment = nextPayment;
    this.eligibleForFreeTrial = eligibleForFreeTrial;
  }
  static fromJSON(data) {
    const nextPayment = data.next_payment ? {
      date: data.next_payment.date,
      amount: {
        amount: data.next_payment.amount.amount,
        amountFormatted: data.next_payment.amount.amount_formatted,
        currency: data.next_payment.amount.currency,
        currencySymbol: data.next_payment.amount.currency_symbol
      }
    } : null;
    return new _BillingSubscription(data.id, data.status, data.payer_id, data.created_at, data.updated_at, data.active_at ?? null, data.past_due_at ?? null, (data.subscription_items ?? []).map((item) => BillingSubscriptionItem.fromJSON(item)), nextPayment, data.eligible_for_free_trial ?? false);
  }
};
function deserialize(payload) {
  let data, totalCount;
  if (Array.isArray(payload)) {
    const data2 = payload.map((item) => jsonToObject(item));
    return { data: data2 };
  } else if (isPaginated(payload)) {
    data = payload.data.map((item) => jsonToObject(item));
    totalCount = payload.total_count;
    return { data, totalCount };
  } else {
    return { data: jsonToObject(payload) };
  }
}
function isPaginated(payload) {
  if (!payload || typeof payload !== "object" || !("data" in payload)) {
    return false;
  }
  return Array.isArray(payload.data) && payload.data !== undefined;
}
function getCount(item) {
  return item.total_count;
}
function jsonToObject(item) {
  if (typeof item !== "string" && "object" in item && "deleted" in item) {
    return DeletedObject.fromJSON(item);
  }
  switch (item.object) {
    case ObjectType.AccountlessApplication:
      return AccountlessApplication.fromJSON(item);
    case ObjectType.ActorToken:
      return ActorToken.fromJSON(item);
    case ObjectType.AllowlistIdentifier:
      return AllowlistIdentifier.fromJSON(item);
    case ObjectType.ApiKey:
      return APIKey.fromJSON(item);
    case ObjectType.BlocklistIdentifier:
      return BlocklistIdentifier.fromJSON(item);
    case ObjectType.Client:
      return Client.fromJSON(item);
    case ObjectType.Cookies:
      return Cookies2.fromJSON(item);
    case ObjectType.Domain:
      return Domain.fromJSON(item);
    case ObjectType.EmailAddress:
      return EmailAddress.fromJSON(item);
    case ObjectType.Email:
      return Email.fromJSON(item);
    case ObjectType.IdpOAuthAccessToken:
      return IdPOAuthAccessToken.fromJSON(item);
    case ObjectType.Instance:
      return Instance.fromJSON(item);
    case ObjectType.InstanceRestrictions:
      return InstanceRestrictions.fromJSON(item);
    case ObjectType.InstanceSettings:
      return InstanceSettings.fromJSON(item);
    case ObjectType.Invitation:
      return Invitation.fromJSON(item);
    case ObjectType.JwtTemplate:
      return JwtTemplate.fromJSON(item);
    case ObjectType.Machine:
      return Machine.fromJSON(item);
    case ObjectType.MachineScope:
      return MachineScope.fromJSON(item);
    case ObjectType.MachineSecretKey:
      return MachineSecretKey.fromJSON(item);
    case ObjectType.M2MToken:
      return M2MToken.fromJSON(item);
    case ObjectType.OauthAccessToken:
      return OauthAccessToken.fromJSON(item);
    case ObjectType.OAuthApplication:
      return OAuthApplication.fromJSON(item);
    case ObjectType.Organization:
      return Organization.fromJSON(item);
    case ObjectType.OrganizationInvitation:
      return OrganizationInvitation.fromJSON(item);
    case ObjectType.OrganizationMembership:
      return OrganizationMembership.fromJSON(item);
    case ObjectType.OrganizationSettings:
      return OrganizationSettings.fromJSON(item);
    case ObjectType.PhoneNumber:
      return PhoneNumber.fromJSON(item);
    case ObjectType.ProxyCheck:
      return ProxyCheck.fromJSON(item);
    case ObjectType.RedirectUrl:
      return RedirectUrl.fromJSON(item);
    case ObjectType.SamlConnection:
      return SamlConnection.fromJSON(item);
    case ObjectType.SignInToken:
      return SignInToken.fromJSON(item);
    case ObjectType.SignUpAttempt:
      return SignUpAttempt.fromJSON(item);
    case ObjectType.Session:
      return Session.fromJSON(item);
    case ObjectType.SmsMessage:
      return SMSMessage.fromJSON(item);
    case ObjectType.Token:
      return Token.fromJSON(item);
    case ObjectType.TotalCount:
      return getCount(item);
    case ObjectType.User:
      return User.fromJSON(item);
    case ObjectType.WaitlistEntry:
      return WaitlistEntry.fromJSON(item);
    case ObjectType.BillingPlan:
      return BillingPlan.fromJSON(item);
    case ObjectType.BillingSubscription:
      return BillingSubscription.fromJSON(item);
    case ObjectType.BillingSubscriptionItem:
      return BillingSubscriptionItem.fromJSON(item);
    case ObjectType.Feature:
      return Feature.fromJSON(item);
    default:
      return item;
  }
}
function buildRequest(options) {
  const requestFn = async (requestOptions) => {
    const {
      secretKey,
      machineSecretKey,
      useMachineSecretKey = false,
      requireSecretKey = true,
      apiUrl = API_URL,
      apiVersion = API_VERSION,
      userAgent = USER_AGENT,
      skipApiVersionInUrl = false
    } = options;
    const { path, method, queryParams, headerParams, bodyParams, formData, options: opts } = requestOptions;
    const { deepSnakecaseBodyParamKeys = false } = opts || {};
    if (requireSecretKey) {
      assertValidSecretKey(secretKey);
    }
    const url = skipApiVersionInUrl ? joinPaths(apiUrl, path) : joinPaths(apiUrl, apiVersion, path);
    const finalUrl = new URL(url);
    if (queryParams) {
      const snakecasedQueryParams = snakecase_keys_default({ ...queryParams });
      for (const [key, val] of Object.entries(snakecasedQueryParams)) {
        if (val) {
          [val].flat().forEach((v) => finalUrl.searchParams.append(key, v));
        }
      }
    }
    const headers = new Headers({
      "Clerk-API-Version": SUPPORTED_BAPI_VERSION,
      [constants.Headers.UserAgent]: userAgent,
      ...headerParams
    });
    const authorizationHeader = constants.Headers.Authorization;
    if (!headers.has(authorizationHeader)) {
      if (useMachineSecretKey && machineSecretKey) {
        headers.set(authorizationHeader, `Bearer ${machineSecretKey}`);
      } else if (secretKey) {
        headers.set(authorizationHeader, `Bearer ${secretKey}`);
      }
    }
    let res;
    try {
      if (formData) {
        res = await runtime.fetch(finalUrl.href, {
          method,
          headers,
          body: formData
        });
      } else {
        headers.set("Content-Type", "application/json");
        const buildBody = () => {
          const hasBody = method !== "GET" && bodyParams && Object.keys(bodyParams).length > 0;
          if (!hasBody) {
            return null;
          }
          const formatKeys = (object) => snakecase_keys_default(object, { deep: deepSnakecaseBodyParamKeys });
          return {
            body: JSON.stringify(Array.isArray(bodyParams) ? bodyParams.map(formatKeys) : formatKeys(bodyParams))
          };
        };
        res = await runtime.fetch(finalUrl.href, {
          method,
          headers,
          ...buildBody()
        });
      }
      const isJSONResponse = res?.headers && res.headers?.get(constants.Headers.ContentType) === constants.ContentTypes.Json;
      const responseBody = await (isJSONResponse ? res.json() : res.text());
      if (!res.ok) {
        return {
          data: null,
          errors: parseErrors2(responseBody),
          status: res?.status,
          statusText: res?.statusText,
          clerkTraceId: getTraceId(responseBody, res?.headers),
          retryAfter: getRetryAfter(res?.headers)
        };
      }
      return {
        ...deserialize(responseBody),
        errors: null
      };
    } catch (err) {
      if (err instanceof Error) {
        return {
          data: null,
          errors: [
            {
              code: "unexpected_error",
              message: err.message || "Unexpected error"
            }
          ],
          clerkTraceId: getTraceId(err, res?.headers)
        };
      }
      return {
        data: null,
        errors: parseErrors2(err),
        status: res?.status,
        statusText: res?.statusText,
        clerkTraceId: getTraceId(err, res?.headers),
        retryAfter: getRetryAfter(res?.headers)
      };
    }
  };
  return withLegacyRequestReturn(requestFn);
}
function getTraceId(data, headers) {
  if (data && typeof data === "object" && "clerk_trace_id" in data && typeof data.clerk_trace_id === "string") {
    return data.clerk_trace_id;
  }
  const cfRay = headers?.get("cf-ray");
  return cfRay || "";
}
function getRetryAfter(headers) {
  const retryAfter = headers?.get("Retry-After");
  if (!retryAfter) {
    return;
  }
  const value = parseInt(retryAfter, 10);
  if (isNaN(value)) {
    return;
  }
  return value;
}
function parseErrors2(data) {
  if (!!data && typeof data === "object" && "errors" in data) {
    const errors = data.errors;
    return errors.length > 0 ? errors.map(parseError2) : [];
  }
  return [];
}
function withLegacyRequestReturn(cb) {
  return async (...args) => {
    const { data, errors, totalCount, status, statusText, clerkTraceId, retryAfter } = await cb(...args);
    if (errors) {
      const error = new ClerkAPIResponseError(statusText || "", {
        data: [],
        status,
        clerkTraceId,
        retryAfter
      });
      error.errors = errors;
      throw error;
    }
    if (typeof totalCount !== "undefined") {
      return { data, totalCount };
    }
    return data;
  };
}
function createBackendApiClient(options) {
  const request = buildRequest(options);
  return {
    __experimental_accountlessApplications: new AccountlessApplicationAPI(buildRequest({ ...options, requireSecretKey: false })),
    actorTokens: new ActorTokenAPI(request),
    allowlistIdentifiers: new AllowlistIdentifierAPI(request),
    apiKeys: new APIKeysAPI(buildRequest({
      ...options,
      skipApiVersionInUrl: true
    })),
    betaFeatures: new BetaFeaturesAPI(request),
    blocklistIdentifiers: new BlocklistIdentifierAPI(request),
    billing: new BillingAPI(request),
    clients: new ClientAPI(request),
    domains: new DomainAPI(request),
    emailAddresses: new EmailAddressAPI(request),
    idPOAuthAccessToken: new IdPOAuthAccessTokenApi(buildRequest({
      ...options,
      skipApiVersionInUrl: true
    })),
    instance: new InstanceAPI(request),
    invitations: new InvitationAPI(request),
    jwks: new JwksAPI(request),
    jwtTemplates: new JwtTemplatesApi(request),
    machines: new MachineApi(request),
    m2m: new M2MTokenApi(buildRequest({
      ...options,
      skipApiVersionInUrl: true,
      requireSecretKey: false,
      useMachineSecretKey: true
    })),
    oauthApplications: new OAuthApplicationsApi(request),
    organizations: new OrganizationAPI(request),
    phoneNumbers: new PhoneNumberAPI(request),
    proxyChecks: new ProxyCheckAPI(request),
    redirectUrls: new RedirectUrlAPI(request),
    samlConnections: new SamlConnectionAPI(request),
    sessions: new SessionAPI(request),
    signInTokens: new SignInTokenAPI(request),
    signUps: new SignUpAPI(request),
    testingTokens: new TestingTokenAPI(request),
    users: new UserAPI(request),
    waitlistEntries: new WaitlistEntryAPI(request),
    webhooks: new WebhookAPI(request)
  };
}
var M2M_TOKEN_PREFIX = "mt_";
var OAUTH_TOKEN_PREFIX = "oat_";
var API_KEY_PREFIX = "ak_";
var MACHINE_TOKEN_PREFIXES = [M2M_TOKEN_PREFIX, OAUTH_TOKEN_PREFIX, API_KEY_PREFIX];
var JwtFormatRegExp = /^[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+$/;
function isJwtFormat(token) {
  return JwtFormatRegExp.test(token);
}
var OAUTH_ACCESS_TOKEN_TYPES = ["at+jwt", "application/at+jwt"];
function isOAuthJwt(token) {
  if (!isJwtFormat(token)) {
    return false;
  }
  try {
    const { data, errors } = decodeJwt(token);
    return !errors && !!data && OAUTH_ACCESS_TOKEN_TYPES.includes(data.header.typ);
  } catch {
    return false;
  }
}
function isMachineTokenByPrefix(token) {
  return MACHINE_TOKEN_PREFIXES.some((prefix) => token.startsWith(prefix));
}
function isMachineToken(token) {
  return isMachineTokenByPrefix(token) || isOAuthJwt(token);
}
function getMachineTokenType(token) {
  if (token.startsWith(M2M_TOKEN_PREFIX)) {
    return TokenType.M2MToken;
  }
  if (token.startsWith(OAUTH_TOKEN_PREFIX) || isOAuthJwt(token)) {
    return TokenType.OAuthToken;
  }
  if (token.startsWith(API_KEY_PREFIX)) {
    return TokenType.ApiKey;
  }
  throw new Error("Unknown machine token type");
}
var isTokenTypeAccepted = (tokenType, acceptsToken) => {
  if (!tokenType) {
    return false;
  }
  if (acceptsToken === "any") {
    return true;
  }
  const tokenTypes = Array.isArray(acceptsToken) ? acceptsToken : [acceptsToken];
  return tokenTypes.includes(tokenType);
};
function isMachineTokenType(type) {
  return type === TokenType.ApiKey || type === TokenType.M2MToken || type === TokenType.OAuthToken;
}
var createDebug = (data) => {
  return () => {
    const res = { ...data };
    res.secretKey = (res.secretKey || "").substring(0, 7);
    res.jwtKey = (res.jwtKey || "").substring(0, 7);
    return { ...res };
  };
};
function signedInAuthObject(authenticateContext, sessionToken, sessionClaims) {
  const { actor, sessionId, sessionStatus, userId, orgId, orgRole, orgSlug, orgPermissions, factorVerificationAge } = __experimental_JWTPayloadToAuthObjectProperties(sessionClaims);
  const apiClient = createBackendApiClient(authenticateContext);
  const getToken = createGetToken({
    sessionId,
    sessionToken,
    fetcher: async (sessionId2, template, expiresInSeconds) => (await apiClient.sessions.getToken(sessionId2, template || "", expiresInSeconds)).jwt
  });
  return {
    tokenType: TokenType.SessionToken,
    actor,
    sessionClaims,
    sessionId,
    sessionStatus,
    userId,
    orgId,
    orgRole,
    orgSlug,
    orgPermissions,
    factorVerificationAge,
    getToken,
    has: createCheckAuthorization({
      orgId,
      orgRole,
      orgPermissions,
      userId,
      factorVerificationAge,
      features: sessionClaims.fea || "",
      plans: sessionClaims.pla || ""
    }),
    debug: createDebug({ ...authenticateContext, sessionToken }),
    isAuthenticated: true
  };
}
function signedOutAuthObject(debugData, initialSessionStatus) {
  return {
    tokenType: TokenType.SessionToken,
    sessionClaims: null,
    sessionId: null,
    sessionStatus: initialSessionStatus ?? null,
    userId: null,
    actor: null,
    orgId: null,
    orgRole: null,
    orgSlug: null,
    orgPermissions: null,
    factorVerificationAge: null,
    getToken: () => Promise.resolve(null),
    has: () => false,
    debug: createDebug(debugData),
    isAuthenticated: false
  };
}
function authenticatedMachineObject(tokenType, token, verificationResult, debugData) {
  const baseObject = {
    id: verificationResult.id,
    subject: verificationResult.subject,
    getToken: () => Promise.resolve(token),
    has: () => false,
    debug: createDebug(debugData),
    isAuthenticated: true
  };
  switch (tokenType) {
    case TokenType.ApiKey: {
      const result = verificationResult;
      return {
        ...baseObject,
        tokenType,
        name: result.name,
        claims: result.claims,
        scopes: result.scopes,
        userId: result.subject.startsWith("user_") ? result.subject : null,
        orgId: result.subject.startsWith("org_") ? result.subject : null
      };
    }
    case TokenType.M2MToken: {
      const result = verificationResult;
      return {
        ...baseObject,
        tokenType,
        claims: result.claims,
        scopes: result.scopes,
        machineId: result.subject
      };
    }
    case TokenType.OAuthToken: {
      const result = verificationResult;
      return {
        ...baseObject,
        tokenType,
        scopes: result.scopes,
        userId: result.subject,
        clientId: result.clientId
      };
    }
    default:
      throw new Error(`Invalid token type: ${tokenType}`);
  }
}
function unauthenticatedMachineObject(tokenType, debugData) {
  const baseObject = {
    id: null,
    subject: null,
    scopes: null,
    has: () => false,
    getToken: () => Promise.resolve(null),
    debug: createDebug(debugData),
    isAuthenticated: false
  };
  switch (tokenType) {
    case TokenType.ApiKey: {
      return {
        ...baseObject,
        tokenType,
        name: null,
        claims: null,
        scopes: null,
        userId: null,
        orgId: null
      };
    }
    case TokenType.M2MToken: {
      return {
        ...baseObject,
        tokenType,
        claims: null,
        scopes: null,
        machineId: null
      };
    }
    case TokenType.OAuthToken: {
      return {
        ...baseObject,
        tokenType,
        scopes: null,
        userId: null,
        clientId: null
      };
    }
    default:
      throw new Error(`Invalid token type: ${tokenType}`);
  }
}
function invalidTokenAuthObject() {
  return {
    isAuthenticated: false,
    tokenType: null,
    getToken: () => Promise.resolve(null),
    has: () => false,
    debug: () => ({})
  };
}
var createGetToken = (params) => {
  const { fetcher, sessionToken, sessionId } = params || {};
  return async (options = {}) => {
    if (!sessionId) {
      return null;
    }
    if (options.template || options.expiresInSeconds !== undefined) {
      return fetcher(sessionId, options.template, options.expiresInSeconds);
    }
    return sessionToken;
  };
};
var getAuthObjectForAcceptedToken = ({
  authObject,
  acceptsToken = TokenType.SessionToken
}) => {
  if (acceptsToken === "any") {
    return authObject;
  }
  if (Array.isArray(acceptsToken)) {
    if (!isTokenTypeAccepted(authObject.tokenType, acceptsToken)) {
      return invalidTokenAuthObject();
    }
    return authObject;
  }
  if (!isTokenTypeAccepted(authObject.tokenType, acceptsToken)) {
    if (isMachineTokenType(acceptsToken)) {
      return unauthenticatedMachineObject(acceptsToken, authObject.debug);
    }
    return signedOutAuthObject(authObject.debug);
  }
  return authObject;
};
var AuthStatus = {
  SignedIn: "signed-in",
  SignedOut: "signed-out",
  Handshake: "handshake"
};
var AuthErrorReason = {
  ClientUATWithoutSessionToken: "client-uat-but-no-session-token",
  DevBrowserMissing: "dev-browser-missing",
  DevBrowserSync: "dev-browser-sync",
  PrimaryRespondsToSyncing: "primary-responds-to-syncing",
  PrimaryDomainCrossOriginSync: "primary-domain-cross-origin-sync",
  SatelliteCookieNeedsSyncing: "satellite-needs-syncing",
  SessionTokenAndUATMissing: "session-token-and-uat-missing",
  SessionTokenMissing: "session-token-missing",
  SessionTokenExpired: "session-token-expired",
  SessionTokenIATBeforeClientUAT: "session-token-iat-before-client-uat",
  SessionTokenNBF: "session-token-nbf",
  SessionTokenIatInTheFuture: "session-token-iat-in-the-future",
  SessionTokenWithoutClientUAT: "session-token-but-no-client-uat",
  ActiveOrganizationMismatch: "active-organization-mismatch",
  TokenTypeMismatch: "token-type-mismatch",
  UnexpectedError: "unexpected-error"
};
function signedIn(params) {
  const { authenticateContext, headers = new Headers, token } = params;
  const toAuth = ({ treatPendingAsSignedOut = true } = {}) => {
    if (params.tokenType === TokenType.SessionToken) {
      const { sessionClaims } = params;
      const authObject = signedInAuthObject(authenticateContext, token, sessionClaims);
      if (treatPendingAsSignedOut && authObject.sessionStatus === "pending") {
        return signedOutAuthObject(undefined, authObject.sessionStatus);
      }
      return authObject;
    }
    const { machineData } = params;
    return authenticatedMachineObject(params.tokenType, token, machineData, authenticateContext);
  };
  return {
    status: AuthStatus.SignedIn,
    reason: null,
    message: null,
    proxyUrl: authenticateContext.proxyUrl || "",
    publishableKey: authenticateContext.publishableKey || "",
    isSatellite: authenticateContext.isSatellite || false,
    domain: authenticateContext.domain || "",
    signInUrl: authenticateContext.signInUrl || "",
    signUpUrl: authenticateContext.signUpUrl || "",
    afterSignInUrl: authenticateContext.afterSignInUrl || "",
    afterSignUpUrl: authenticateContext.afterSignUpUrl || "",
    isSignedIn: true,
    isAuthenticated: true,
    tokenType: params.tokenType,
    toAuth,
    headers,
    token
  };
}
function signedOut(params) {
  const { authenticateContext, headers = new Headers, reason, message = "", tokenType } = params;
  const toAuth = () => {
    if (tokenType === TokenType.SessionToken) {
      return signedOutAuthObject({ ...authenticateContext, status: AuthStatus.SignedOut, reason, message });
    }
    return unauthenticatedMachineObject(tokenType, { reason, message, headers });
  };
  return withDebugHeaders({
    status: AuthStatus.SignedOut,
    reason,
    message,
    proxyUrl: authenticateContext.proxyUrl || "",
    publishableKey: authenticateContext.publishableKey || "",
    isSatellite: authenticateContext.isSatellite || false,
    domain: authenticateContext.domain || "",
    signInUrl: authenticateContext.signInUrl || "",
    signUpUrl: authenticateContext.signUpUrl || "",
    afterSignInUrl: authenticateContext.afterSignInUrl || "",
    afterSignUpUrl: authenticateContext.afterSignUpUrl || "",
    isSignedIn: false,
    isAuthenticated: false,
    tokenType,
    toAuth,
    headers,
    token: null
  });
}
function handshake(authenticateContext, reason, message = "", headers) {
  return withDebugHeaders({
    status: AuthStatus.Handshake,
    reason,
    message,
    publishableKey: authenticateContext.publishableKey || "",
    isSatellite: authenticateContext.isSatellite || false,
    domain: authenticateContext.domain || "",
    proxyUrl: authenticateContext.proxyUrl || "",
    signInUrl: authenticateContext.signInUrl || "",
    signUpUrl: authenticateContext.signUpUrl || "",
    afterSignInUrl: authenticateContext.afterSignInUrl || "",
    afterSignUpUrl: authenticateContext.afterSignUpUrl || "",
    isSignedIn: false,
    isAuthenticated: false,
    tokenType: TokenType.SessionToken,
    toAuth: () => null,
    headers,
    token: null
  });
}
function signedOutInvalidToken() {
  const authObject = invalidTokenAuthObject();
  return withDebugHeaders({
    status: AuthStatus.SignedOut,
    reason: AuthErrorReason.TokenTypeMismatch,
    message: "",
    proxyUrl: "",
    publishableKey: "",
    isSatellite: false,
    domain: "",
    signInUrl: "",
    signUpUrl: "",
    afterSignInUrl: "",
    afterSignUpUrl: "",
    isSignedIn: false,
    isAuthenticated: false,
    tokenType: null,
    toAuth: () => authObject,
    headers: new Headers,
    token: null
  });
}
var withDebugHeaders = (requestState) => {
  const headers = new Headers(requestState.headers || {});
  if (requestState.message) {
    try {
      headers.set(constants.Headers.AuthMessage, requestState.message);
    } catch {}
  }
  if (requestState.reason) {
    try {
      headers.set(constants.Headers.AuthReason, requestState.reason);
    } catch {}
  }
  if (requestState.status) {
    try {
      headers.set(constants.Headers.AuthStatus, requestState.status);
    } catch {}
  }
  requestState.headers = headers;
  return requestState;
};
var import_cookie = __toESM2(require_dist());
var ClerkUrl = class extends URL {
  isCrossOrigin(other) {
    return this.origin !== new URL(other.toString()).origin;
  }
};
var createClerkUrl = (...args) => {
  return new ClerkUrl(...args);
};
var ClerkRequest = class extends Request {
  constructor(input, init) {
    const url = typeof input !== "string" && "url" in input ? input.url : String(input);
    super(url, init || typeof input === "string" ? undefined : input);
    this.clerkUrl = this.deriveUrlFromHeaders(this);
    this.cookies = this.parseCookies(this);
  }
  toJSON() {
    return {
      url: this.clerkUrl.href,
      method: this.method,
      headers: JSON.stringify(Object.fromEntries(this.headers)),
      clerkUrl: this.clerkUrl.toString(),
      cookies: JSON.stringify(Object.fromEntries(this.cookies))
    };
  }
  deriveUrlFromHeaders(req) {
    const initialUrl = new URL(req.url);
    const forwardedProto = req.headers.get(constants.Headers.ForwardedProto);
    const forwardedHost = req.headers.get(constants.Headers.ForwardedHost);
    const host = req.headers.get(constants.Headers.Host);
    const protocol = initialUrl.protocol;
    const resolvedHost = this.getFirstValueFromHeader(forwardedHost) ?? host;
    const resolvedProtocol = this.getFirstValueFromHeader(forwardedProto) ?? protocol?.replace(/[:/]/, "");
    const origin = resolvedHost && resolvedProtocol ? `${resolvedProtocol}://${resolvedHost}` : initialUrl.origin;
    if (origin === initialUrl.origin) {
      return createClerkUrl(initialUrl);
    }
    return createClerkUrl(initialUrl.pathname + initialUrl.search, origin);
  }
  getFirstValueFromHeader(value) {
    return value?.split(",")[0];
  }
  parseCookies(req) {
    const cookiesRecord = (0, import_cookie.parse)(this.decodeCookieValue(req.headers.get("cookie") || ""));
    return new Map(Object.entries(cookiesRecord));
  }
  decodeCookieValue(str) {
    return str ? str.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent) : str;
  }
};
var createClerkRequest = (...args) => {
  const isClerkRequest = args[0] && typeof args[0] === "object" && "clerkUrl" in args[0] && "cookies" in args[0];
  return isClerkRequest ? args[0] : new ClerkRequest(...args);
};
var getCookieName = (cookieDirective) => {
  return cookieDirective.split(";")[0]?.split("=")[0];
};
var getCookieValue = (cookieDirective) => {
  return cookieDirective.split(";")[0]?.split("=")[1];
};
var cache = {};
var lastUpdatedAt = 0;
function getFromCache(kid) {
  return cache[kid];
}
function getCacheValues() {
  return Object.values(cache);
}
function setInCache(cacheKey, jwk, shouldExpire = true) {
  cache[cacheKey] = jwk;
  lastUpdatedAt = shouldExpire ? Date.now() : -1;
}
var PEM_HEADER = "-----BEGIN PUBLIC KEY-----";
var PEM_TRAILER = "-----END PUBLIC KEY-----";
var RSA_PREFIX = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA";
var RSA_SUFFIX = "IDAQAB";
function loadClerkJwkFromPem(params) {
  const { kid, pem } = params;
  const prefixedKid = `local-${kid}`;
  const cachedJwk = getFromCache(prefixedKid);
  if (cachedJwk) {
    return cachedJwk;
  }
  if (!pem) {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.SetClerkJWTKey,
      message: "Missing local JWK.",
      reason: TokenVerificationErrorReason.LocalJWKMissing
    });
  }
  const modulus = pem.replace(/\r\n|\n|\r/g, "").replace(PEM_HEADER, "").replace(PEM_TRAILER, "").replace(RSA_PREFIX, "").replace(RSA_SUFFIX, "").replace(/\+/g, "-").replace(/\//g, "_");
  const jwk = { kid: prefixedKid, kty: "RSA", alg: "RS256", n: modulus, e: "AQAB" };
  setInCache(prefixedKid, jwk, false);
  return jwk;
}
async function loadClerkJWKFromRemote(params) {
  const { secretKey, apiUrl = API_URL, apiVersion = API_VERSION, kid, skipJwksCache } = params;
  if (skipJwksCache || cacheHasExpired() || !getFromCache(kid)) {
    if (!secretKey) {
      throw new TokenVerificationError({
        action: TokenVerificationErrorAction.ContactSupport,
        message: "Failed to load JWKS from Clerk Backend or Frontend API.",
        reason: TokenVerificationErrorReason.RemoteJWKFailedToLoad
      });
    }
    const fetcher = () => fetchJWKSFromBAPI(apiUrl, secretKey, apiVersion);
    const { keys } = await retry(fetcher);
    if (!keys || !keys.length) {
      throw new TokenVerificationError({
        action: TokenVerificationErrorAction.ContactSupport,
        message: "The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",
        reason: TokenVerificationErrorReason.RemoteJWKFailedToLoad
      });
    }
    keys.forEach((key) => setInCache(key.kid, key));
  }
  const jwk = getFromCache(kid);
  if (!jwk) {
    const cacheValues = getCacheValues();
    const jwkKeys = cacheValues.map((jwk2) => jwk2.kid).sort().join(", ");
    throw new TokenVerificationError({
      action: `Go to your Dashboard and validate your secret and public keys are correct. ${TokenVerificationErrorAction.ContactSupport} if the issue persists.`,
      message: `Unable to find a signing key in JWKS that matches the kid='${kid}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT. The following kid is available: ${jwkKeys}`,
      reason: TokenVerificationErrorReason.JWKKidMismatch
    });
  }
  return jwk;
}
async function fetchJWKSFromBAPI(apiUrl, key, apiVersion) {
  if (!key) {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.SetClerkSecretKey,
      message: "Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",
      reason: TokenVerificationErrorReason.RemoteJWKFailedToLoad
    });
  }
  const url = new URL(apiUrl);
  url.pathname = joinPaths(url.pathname, apiVersion, "/jwks");
  const response = await runtime.fetch(url.href, {
    headers: {
      Authorization: `Bearer ${key}`,
      "Clerk-API-Version": SUPPORTED_BAPI_VERSION,
      "Content-Type": "application/json",
      "User-Agent": USER_AGENT
    }
  });
  if (!response.ok) {
    const json2 = await response.json();
    const invalidSecretKeyError = getErrorObjectByCode(json2?.errors, TokenVerificationErrorCode.InvalidSecretKey);
    if (invalidSecretKeyError) {
      const reason = TokenVerificationErrorReason.InvalidSecretKey;
      throw new TokenVerificationError({
        action: TokenVerificationErrorAction.ContactSupport,
        message: invalidSecretKeyError.message,
        reason
      });
    }
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.ContactSupport,
      message: `Error loading Clerk JWKS from ${url.href} with code=${response.status}`,
      reason: TokenVerificationErrorReason.RemoteJWKFailedToLoad
    });
  }
  return response.json();
}
function cacheHasExpired() {
  if (lastUpdatedAt === -1) {
    return false;
  }
  const isExpired = Date.now() - lastUpdatedAt >= MAX_CACHE_LAST_UPDATED_AT_SECONDS * 1000;
  if (isExpired) {
    cache = {};
  }
  return isExpired;
}
var getErrorObjectByCode = (errors, code) => {
  if (!errors) {
    return null;
  }
  return errors.find((err) => err.code === code);
};
async function verifyToken(token, options) {
  const { data: decodedResult, errors } = decodeJwt(token);
  if (errors) {
    return { errors };
  }
  const { header } = decodedResult;
  const { kid } = header;
  try {
    let key;
    if (options.jwtKey) {
      key = loadClerkJwkFromPem({ kid, pem: options.jwtKey });
    } else if (options.secretKey) {
      key = await loadClerkJWKFromRemote({ ...options, kid });
    } else {
      return {
        errors: [
          new TokenVerificationError({
            action: TokenVerificationErrorAction.SetClerkJWTKey,
            message: "Failed to resolve JWK during verification.",
            reason: TokenVerificationErrorReason.JWKFailedToResolve
          })
        ]
      };
    }
    return await verifyJwt(token, { ...options, key });
  } catch (error) {
    return { errors: [error] };
  }
}
function handleClerkAPIError(tokenType, err, notFoundMessage) {
  if (isClerkAPIResponseError(err)) {
    let code;
    let message;
    switch (err.status) {
      case 401:
        code = MachineTokenVerificationErrorCode.InvalidSecretKey;
        message = err.errors[0]?.message || "Invalid secret key";
        break;
      case 404:
        code = MachineTokenVerificationErrorCode.TokenInvalid;
        message = notFoundMessage;
        break;
      default:
        code = MachineTokenVerificationErrorCode.UnexpectedError;
        message = "Unexpected error";
    }
    return {
      data: undefined,
      tokenType,
      errors: [
        new MachineTokenVerificationError({
          message,
          code,
          status: err.status
        })
      ]
    };
  }
  return {
    data: undefined,
    tokenType,
    errors: [
      new MachineTokenVerificationError({
        message: "Unexpected error",
        code: MachineTokenVerificationErrorCode.UnexpectedError,
        status: err.status
      })
    ]
  };
}
async function verifyM2MToken(token, options) {
  try {
    const client2 = createBackendApiClient(options);
    const verifiedToken = await client2.m2m.verify({ token });
    return { data: verifiedToken, tokenType: TokenType.M2MToken, errors: undefined };
  } catch (err) {
    return handleClerkAPIError(TokenType.M2MToken, err, "Machine token not found");
  }
}
async function verifyJwtOAuthToken(accessToken, options) {
  let decoded;
  try {
    decoded = decodeJwt(accessToken);
  } catch (e) {
    return {
      data: undefined,
      tokenType: TokenType.OAuthToken,
      errors: [
        new MachineTokenVerificationError({
          code: MachineTokenVerificationErrorCode.TokenInvalid,
          message: e.message
        })
      ]
    };
  }
  const { data: decodedResult, errors } = decoded;
  if (errors) {
    return {
      data: undefined,
      tokenType: TokenType.OAuthToken,
      errors: [
        new MachineTokenVerificationError({
          code: MachineTokenVerificationErrorCode.TokenInvalid,
          message: errors[0].message
        })
      ]
    };
  }
  const { header } = decodedResult;
  const { kid } = header;
  let key;
  try {
    if (options.jwtKey) {
      key = loadClerkJwkFromPem({ kid, pem: options.jwtKey });
    } else if (options.secretKey) {
      key = await loadClerkJWKFromRemote({ ...options, kid });
    } else {
      return {
        data: undefined,
        tokenType: TokenType.OAuthToken,
        errors: [
          new MachineTokenVerificationError({
            action: TokenVerificationErrorAction.SetClerkJWTKey,
            message: "Failed to resolve JWK during verification.",
            code: MachineTokenVerificationErrorCode.TokenVerificationFailed
          })
        ]
      };
    }
    const { data: payload, errors: verifyErrors } = await verifyJwt(accessToken, {
      ...options,
      key,
      headerType: OAUTH_ACCESS_TOKEN_TYPES
    });
    if (verifyErrors) {
      return {
        data: undefined,
        tokenType: TokenType.OAuthToken,
        errors: [
          new MachineTokenVerificationError({
            code: MachineTokenVerificationErrorCode.TokenVerificationFailed,
            message: verifyErrors[0].message
          })
        ]
      };
    }
    const token = IdPOAuthAccessToken.fromJwtPayload(payload, options.clockSkewInMs);
    return { data: token, tokenType: TokenType.OAuthToken, errors: undefined };
  } catch (error) {
    return {
      tokenType: TokenType.OAuthToken,
      errors: [
        new MachineTokenVerificationError({
          code: MachineTokenVerificationErrorCode.TokenVerificationFailed,
          message: error.message
        })
      ]
    };
  }
}
async function verifyOAuthToken(accessToken, options) {
  if (isJwtFormat(accessToken)) {
    return verifyJwtOAuthToken(accessToken, options);
  }
  try {
    const client2 = createBackendApiClient(options);
    const verifiedToken = await client2.idPOAuthAccessToken.verify(accessToken);
    return { data: verifiedToken, tokenType: TokenType.OAuthToken, errors: undefined };
  } catch (err) {
    return handleClerkAPIError(TokenType.OAuthToken, err, "OAuth token not found");
  }
}
async function verifyAPIKey(secret, options) {
  try {
    const client2 = createBackendApiClient(options);
    const verifiedToken = await client2.apiKeys.verify(secret);
    return { data: verifiedToken, tokenType: TokenType.ApiKey, errors: undefined };
  } catch (err) {
    return handleClerkAPIError(TokenType.ApiKey, err, "API key not found");
  }
}
async function verifyMachineAuthToken(token, options) {
  if (token.startsWith(M2M_TOKEN_PREFIX)) {
    return verifyM2MToken(token, options);
  }
  if (token.startsWith(OAUTH_TOKEN_PREFIX) || isJwtFormat(token)) {
    return verifyOAuthToken(token, options);
  }
  if (token.startsWith(API_KEY_PREFIX)) {
    return verifyAPIKey(token, options);
  }
  throw new Error("Unknown machine token type");
}
async function verifyHandshakeJwt(token, { key }) {
  const { data: decoded, errors } = decodeJwt(token);
  if (errors) {
    throw errors[0];
  }
  const { header, payload } = decoded;
  const { typ, alg } = header;
  assertHeaderType(typ);
  assertHeaderAlgorithm(alg);
  const { data: signatureValid, errors: signatureErrors } = await hasValidSignature(decoded, key);
  if (signatureErrors) {
    throw new TokenVerificationError({
      reason: TokenVerificationErrorReason.TokenVerificationFailed,
      message: `Error verifying handshake token. ${signatureErrors[0]}`
    });
  }
  if (!signatureValid) {
    throw new TokenVerificationError({
      reason: TokenVerificationErrorReason.TokenInvalidSignature,
      message: "Handshake signature is invalid."
    });
  }
  return payload;
}
async function verifyHandshakeToken(token, options) {
  const { secretKey, apiUrl, apiVersion, jwksCacheTtlInMs, jwtKey, skipJwksCache } = options;
  const { data, errors } = decodeJwt(token);
  if (errors) {
    throw errors[0];
  }
  const { kid } = data.header;
  let key;
  if (jwtKey) {
    key = loadClerkJwkFromPem({ kid, pem: jwtKey });
  } else if (secretKey) {
    key = await loadClerkJWKFromRemote({ secretKey, apiUrl, apiVersion, kid, jwksCacheTtlInMs, skipJwksCache });
  } else {
    throw new TokenVerificationError({
      action: TokenVerificationErrorAction.SetClerkJWTKey,
      message: "Failed to resolve JWK during handshake verification.",
      reason: TokenVerificationErrorReason.JWKFailedToResolve
    });
  }
  return verifyHandshakeJwt(token, { key });
}
var HandshakeService = class {
  constructor(authenticateContext, options, organizationMatcher) {
    this.authenticateContext = authenticateContext;
    this.options = options;
    this.organizationMatcher = organizationMatcher;
  }
  isRequestEligibleForHandshake() {
    const { accept, secFetchDest } = this.authenticateContext;
    if (secFetchDest === "document" || secFetchDest === "iframe") {
      return true;
    }
    if (!secFetchDest && accept?.startsWith("text/html")) {
      return true;
    }
    return false;
  }
  buildRedirectToHandshake(reason) {
    if (!this.authenticateContext?.clerkUrl) {
      throw new Error("Missing clerkUrl in authenticateContext");
    }
    const redirectUrl = this.removeDevBrowserFromURL(this.authenticateContext.clerkUrl);
    let baseUrl = this.authenticateContext.frontendApi.startsWith("http") ? this.authenticateContext.frontendApi : `https://${this.authenticateContext.frontendApi}`;
    baseUrl = baseUrl.replace(/\/+$/, "") + "/";
    const url = new URL("v1/client/handshake", baseUrl);
    url.searchParams.append("redirect_url", redirectUrl?.href || "");
    url.searchParams.append("__clerk_api_version", SUPPORTED_BAPI_VERSION);
    url.searchParams.append(constants.QueryParameters.SuffixedCookies, this.authenticateContext.usesSuffixedCookies().toString());
    url.searchParams.append(constants.QueryParameters.HandshakeReason, reason);
    url.searchParams.append(constants.QueryParameters.HandshakeFormat, "nonce");
    if (this.authenticateContext.sessionToken) {
      url.searchParams.append(constants.QueryParameters.Session, this.authenticateContext.sessionToken);
    }
    if (this.authenticateContext.instanceType === "development" && this.authenticateContext.devBrowserToken) {
      url.searchParams.append(constants.QueryParameters.DevBrowser, this.authenticateContext.devBrowserToken);
    }
    const toActivate = this.getOrganizationSyncTarget(this.authenticateContext.clerkUrl, this.organizationMatcher);
    if (toActivate) {
      const params = this.getOrganizationSyncQueryParams(toActivate);
      params.forEach((value, key) => {
        url.searchParams.append(key, value);
      });
    }
    return new Headers({ [constants.Headers.Location]: url.href });
  }
  async getCookiesFromHandshake() {
    const cookiesToSet = [];
    if (this.authenticateContext.handshakeNonce) {
      try {
        const handshakePayload = await this.authenticateContext.apiClient?.clients.getHandshakePayload({
          nonce: this.authenticateContext.handshakeNonce
        });
        if (handshakePayload) {
          cookiesToSet.push(...handshakePayload.directives);
        }
      } catch (error) {
        console.error("Clerk: HandshakeService: error getting handshake payload:", error);
      }
    } else if (this.authenticateContext.handshakeToken) {
      const handshakePayload = await verifyHandshakeToken(this.authenticateContext.handshakeToken, this.authenticateContext);
      if (handshakePayload && Array.isArray(handshakePayload.handshake)) {
        cookiesToSet.push(...handshakePayload.handshake);
      }
    }
    return cookiesToSet;
  }
  async resolveHandshake() {
    const headers = new Headers({
      "Access-Control-Allow-Origin": "null",
      "Access-Control-Allow-Credentials": "true"
    });
    const cookiesToSet = await this.getCookiesFromHandshake();
    let sessionToken = "";
    cookiesToSet.forEach((x) => {
      headers.append("Set-Cookie", x);
      if (getCookieName(x).startsWith(constants.Cookies.Session)) {
        sessionToken = getCookieValue(x);
      }
    });
    if (this.authenticateContext.instanceType === "development") {
      const newUrl = new URL(this.authenticateContext.clerkUrl);
      newUrl.searchParams.delete(constants.QueryParameters.Handshake);
      newUrl.searchParams.delete(constants.QueryParameters.HandshakeHelp);
      newUrl.searchParams.delete(constants.QueryParameters.DevBrowser);
      newUrl.searchParams.delete(constants.QueryParameters.HandshakeNonce);
      headers.append(constants.Headers.Location, newUrl.toString());
      headers.set(constants.Headers.CacheControl, "no-store");
    }
    if (sessionToken === "") {
      return signedOut({
        tokenType: TokenType.SessionToken,
        authenticateContext: this.authenticateContext,
        reason: AuthErrorReason.SessionTokenMissing,
        message: "",
        headers
      });
    }
    const { data, errors: [error] = [] } = await verifyToken(sessionToken, this.authenticateContext);
    if (data) {
      return signedIn({
        tokenType: TokenType.SessionToken,
        authenticateContext: this.authenticateContext,
        sessionClaims: data,
        headers,
        token: sessionToken
      });
    }
    if (this.authenticateContext.instanceType === "development" && (error?.reason === TokenVerificationErrorReason.TokenExpired || error?.reason === TokenVerificationErrorReason.TokenNotActiveYet || error?.reason === TokenVerificationErrorReason.TokenIatInTheFuture)) {
      const developmentError = new TokenVerificationError({
        action: error.action,
        message: error.message,
        reason: error.reason
      });
      developmentError.tokenCarrier = "cookie";
      console.error(`Clerk: Clock skew detected. This usually means that your system clock is inaccurate. Clerk will attempt to account for the clock skew in development.

To resolve this issue, make sure your system's clock is set to the correct time (e.g. turn off and on automatic time synchronization).

---

${developmentError.getFullMessage()}`);
      const { data: retryResult, errors: [retryError] = [] } = await verifyToken(sessionToken, {
        ...this.authenticateContext,
        clockSkewInMs: 86400000
      });
      if (retryResult) {
        return signedIn({
          tokenType: TokenType.SessionToken,
          authenticateContext: this.authenticateContext,
          sessionClaims: retryResult,
          headers,
          token: sessionToken
        });
      }
      throw new Error(retryError?.message || "Clerk: Handshake retry failed.");
    }
    throw new Error(error?.message || "Clerk: Handshake failed.");
  }
  handleTokenVerificationErrorInDevelopment(error) {
    if (error.reason === TokenVerificationErrorReason.TokenInvalidSignature) {
      const msg = `Clerk: Handshake token verification failed due to an invalid signature. If you have switched Clerk keys locally, clear your cookies and try again.`;
      throw new Error(msg);
    }
    throw new Error(`Clerk: Handshake token verification failed: ${error.getFullMessage()}.`);
  }
  checkAndTrackRedirectLoop(headers) {
    if (this.authenticateContext.handshakeRedirectLoopCounter === 3) {
      return true;
    }
    const newCounterValue = this.authenticateContext.handshakeRedirectLoopCounter + 1;
    const cookieName = constants.Cookies.RedirectCount;
    headers.append("Set-Cookie", `${cookieName}=${newCounterValue}; SameSite=Lax; HttpOnly; Max-Age=2`);
    return false;
  }
  removeDevBrowserFromURL(url) {
    const updatedURL = new URL(url);
    updatedURL.searchParams.delete(constants.QueryParameters.DevBrowser);
    updatedURL.searchParams.delete(constants.QueryParameters.LegacyDevBrowser);
    return updatedURL;
  }
  getOrganizationSyncTarget(url, matchers) {
    return matchers.findTarget(url);
  }
  getOrganizationSyncQueryParams(toActivate) {
    const ret = /* @__PURE__ */ new Map;
    if (toActivate.type === "personalAccount") {
      ret.set("organization_id", "");
    }
    if (toActivate.type === "organization") {
      if (toActivate.organizationId) {
        ret.set("organization_id", toActivate.organizationId);
      }
      if (toActivate.organizationSlug) {
        ret.set("organization_id", toActivate.organizationSlug);
      }
    }
    return ret;
  }
};
var OrganizationMatcher = class {
  constructor(options) {
    this.organizationPattern = this.createMatcher(options?.organizationPatterns);
    this.personalAccountPattern = this.createMatcher(options?.personalAccountPatterns);
  }
  createMatcher(pattern) {
    if (!pattern) {
      return null;
    }
    try {
      return match2(pattern);
    } catch (e) {
      throw new Error(`Invalid pattern "${pattern}": ${e}`);
    }
  }
  findTarget(url) {
    const orgTarget = this.findOrganizationTarget(url);
    if (orgTarget) {
      return orgTarget;
    }
    return this.findPersonalAccountTarget(url);
  }
  findOrganizationTarget(url) {
    if (!this.organizationPattern) {
      return null;
    }
    try {
      const result = this.organizationPattern(url.pathname);
      if (!result || !("params" in result)) {
        return null;
      }
      const params = result.params;
      if (params.id) {
        return { type: "organization", organizationId: params.id };
      }
      if (params.slug) {
        return { type: "organization", organizationSlug: params.slug };
      }
      return null;
    } catch (e) {
      console.error("Failed to match organization pattern:", e);
      return null;
    }
  }
  findPersonalAccountTarget(url) {
    if (!this.personalAccountPattern) {
      return null;
    }
    try {
      const result = this.personalAccountPattern(url.pathname);
      return result ? { type: "personalAccount" } : null;
    } catch (e) {
      console.error("Failed to match personal account pattern:", e);
      return null;
    }
  }
};
var RefreshTokenErrorReason = {
  NonEligibleNoCookie: "non-eligible-no-refresh-cookie",
  NonEligibleNonGet: "non-eligible-non-get",
  InvalidSessionToken: "invalid-session-token",
  MissingApiClient: "missing-api-client",
  MissingSessionToken: "missing-session-token",
  MissingRefreshToken: "missing-refresh-token",
  ExpiredSessionTokenDecodeFailed: "expired-session-token-decode-failed",
  ExpiredSessionTokenMissingSidClaim: "expired-session-token-missing-sid-claim",
  FetchError: "fetch-error",
  UnexpectedSDKError: "unexpected-sdk-error",
  UnexpectedBAPIError: "unexpected-bapi-error"
};
function assertSignInUrlExists(signInUrl, key) {
  if (!signInUrl && isDevelopmentFromSecretKey(key)) {
    throw new Error(`Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite`);
  }
}
function assertProxyUrlOrDomain(proxyUrlOrDomain) {
  if (!proxyUrlOrDomain) {
    throw new Error(`Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl`);
  }
}
function assertSignInUrlFormatAndOrigin(_signInUrl, origin) {
  let signInUrl;
  try {
    signInUrl = new URL(_signInUrl);
  } catch {
    throw new Error(`The signInUrl needs to have a absolute url format.`);
  }
  if (signInUrl.origin === origin) {
    throw new Error(`The signInUrl needs to be on a different origin than your satellite application.`);
  }
}
function assertMachineSecretOrSecretKey(authenticateContext) {
  if (!authenticateContext.machineSecretKey && !authenticateContext.secretKey) {
    throw new Error("Machine token authentication requires either a Machine secret key or a Clerk secret key. Ensure a Clerk secret key or Machine secret key is set.");
  }
}
function isRequestEligibleForRefresh(err, authenticateContext, request) {
  return err.reason === TokenVerificationErrorReason.TokenExpired && !!authenticateContext.refreshTokenInCookie && request.method === "GET";
}
function checkTokenTypeMismatch(parsedTokenType, acceptsToken, authenticateContext) {
  const mismatch = !isTokenTypeAccepted(parsedTokenType, acceptsToken);
  if (mismatch) {
    const tokenTypeToReturn = typeof acceptsToken === "string" ? acceptsToken : parsedTokenType;
    return signedOut({
      tokenType: tokenTypeToReturn,
      authenticateContext,
      reason: AuthErrorReason.TokenTypeMismatch
    });
  }
  return null;
}
function isTokenTypeInAcceptedArray(acceptsToken, authenticateContext) {
  let parsedTokenType = null;
  const { tokenInHeader } = authenticateContext;
  if (tokenInHeader) {
    if (isMachineToken(tokenInHeader)) {
      parsedTokenType = getMachineTokenType(tokenInHeader);
    } else {
      parsedTokenType = TokenType.SessionToken;
    }
  }
  const typeToCheck = parsedTokenType ?? TokenType.SessionToken;
  return isTokenTypeAccepted(typeToCheck, acceptsToken);
}
var authenticateRequest = async (request, options) => {
  const authenticateContext = await createAuthenticateContext(createClerkRequest(request), options);
  const acceptsToken = options.acceptsToken ?? TokenType.SessionToken;
  if (acceptsToken !== TokenType.M2MToken) {
    assertValidSecretKey(authenticateContext.secretKey);
    if (authenticateContext.isSatellite) {
      assertSignInUrlExists(authenticateContext.signInUrl, authenticateContext.secretKey);
      if (authenticateContext.signInUrl && authenticateContext.origin) {
        assertSignInUrlFormatAndOrigin(authenticateContext.signInUrl, authenticateContext.origin);
      }
      assertProxyUrlOrDomain(authenticateContext.proxyUrl || authenticateContext.domain);
    }
  }
  if (acceptsToken === TokenType.M2MToken) {
    assertMachineSecretOrSecretKey(authenticateContext);
  }
  const organizationMatcher = new OrganizationMatcher(options.organizationSyncOptions);
  const handshakeService = new HandshakeService(authenticateContext, { organizationSyncOptions: options.organizationSyncOptions }, organizationMatcher);
  async function refreshToken(authenticateContext2) {
    if (!options.apiClient) {
      return {
        data: null,
        error: {
          message: "An apiClient is needed to perform token refresh.",
          cause: { reason: RefreshTokenErrorReason.MissingApiClient }
        }
      };
    }
    const { sessionToken: expiredSessionToken, refreshTokenInCookie: refreshToken2 } = authenticateContext2;
    if (!expiredSessionToken) {
      return {
        data: null,
        error: {
          message: "Session token must be provided.",
          cause: { reason: RefreshTokenErrorReason.MissingSessionToken }
        }
      };
    }
    if (!refreshToken2) {
      return {
        data: null,
        error: {
          message: "Refresh token must be provided.",
          cause: { reason: RefreshTokenErrorReason.MissingRefreshToken }
        }
      };
    }
    const { data: decodeResult, errors: decodedErrors } = decodeJwt(expiredSessionToken);
    if (!decodeResult || decodedErrors) {
      return {
        data: null,
        error: {
          message: "Unable to decode the expired session token.",
          cause: { reason: RefreshTokenErrorReason.ExpiredSessionTokenDecodeFailed, errors: decodedErrors }
        }
      };
    }
    if (!decodeResult?.payload?.sid) {
      return {
        data: null,
        error: {
          message: "Expired session token is missing the `sid` claim.",
          cause: { reason: RefreshTokenErrorReason.ExpiredSessionTokenMissingSidClaim }
        }
      };
    }
    try {
      const response = await options.apiClient.sessions.refreshSession(decodeResult.payload.sid, {
        format: "cookie",
        suffixed_cookies: authenticateContext2.usesSuffixedCookies(),
        expired_token: expiredSessionToken || "",
        refresh_token: refreshToken2 || "",
        request_origin: authenticateContext2.clerkUrl.origin,
        request_headers: Object.fromEntries(Array.from(request.headers.entries()).map(([k, v]) => [k, [v]]))
      });
      return { data: response.cookies, error: null };
    } catch (err) {
      if (err?.errors?.length) {
        if (err.errors[0].code === "unexpected_error") {
          return {
            data: null,
            error: {
              message: `Fetch unexpected error`,
              cause: { reason: RefreshTokenErrorReason.FetchError, errors: err.errors }
            }
          };
        }
        return {
          data: null,
          error: {
            message: err.errors[0].code,
            cause: { reason: err.errors[0].code, errors: err.errors }
          }
        };
      } else {
        return {
          data: null,
          error: {
            message: `Unexpected Server/BAPI error`,
            cause: { reason: RefreshTokenErrorReason.UnexpectedBAPIError, errors: [err] }
          }
        };
      }
    }
  }
  async function attemptRefresh(authenticateContext2) {
    const { data: cookiesToSet, error } = await refreshToken(authenticateContext2);
    if (!cookiesToSet || cookiesToSet.length === 0) {
      return { data: null, error };
    }
    const headers = new Headers;
    let sessionToken = "";
    cookiesToSet.forEach((x) => {
      headers.append("Set-Cookie", x);
      if (getCookieName(x).startsWith(constants.Cookies.Session)) {
        sessionToken = getCookieValue(x);
      }
    });
    const { data: jwtPayload, errors } = await verifyToken(sessionToken, authenticateContext2);
    if (errors) {
      return {
        data: null,
        error: {
          message: `Clerk: unable to verify refreshed session token.`,
          cause: { reason: RefreshTokenErrorReason.InvalidSessionToken, errors }
        }
      };
    }
    return { data: { jwtPayload, sessionToken, headers }, error: null };
  }
  function handleMaybeHandshakeStatus(authenticateContext2, reason, message, headers) {
    if (!handshakeService.isRequestEligibleForHandshake()) {
      return signedOut({
        tokenType: TokenType.SessionToken,
        authenticateContext: authenticateContext2,
        reason,
        message
      });
    }
    const handshakeHeaders = headers ?? handshakeService.buildRedirectToHandshake(reason);
    if (handshakeHeaders.get(constants.Headers.Location)) {
      handshakeHeaders.set(constants.Headers.CacheControl, "no-store");
    }
    const isRedirectLoop = handshakeService.checkAndTrackRedirectLoop(handshakeHeaders);
    if (isRedirectLoop) {
      const msg = `Clerk: Refreshing the session token resulted in an infinite redirect loop. This usually means that your Clerk instance keys do not match - make sure to copy the correct publishable and secret keys from the Clerk dashboard.`;
      console.log(msg);
      return signedOut({
        tokenType: TokenType.SessionToken,
        authenticateContext: authenticateContext2,
        reason,
        message
      });
    }
    return handshake(authenticateContext2, reason, message, handshakeHeaders);
  }
  function handleMaybeOrganizationSyncHandshake(authenticateContext2, auth) {
    const organizationSyncTarget = organizationMatcher.findTarget(authenticateContext2.clerkUrl);
    if (!organizationSyncTarget) {
      return null;
    }
    let mustActivate = false;
    if (organizationSyncTarget.type === "organization") {
      if (organizationSyncTarget.organizationSlug && organizationSyncTarget.organizationSlug !== auth.orgSlug) {
        mustActivate = true;
      }
      if (organizationSyncTarget.organizationId && organizationSyncTarget.organizationId !== auth.orgId) {
        mustActivate = true;
      }
    }
    if (organizationSyncTarget.type === "personalAccount" && auth.orgId) {
      mustActivate = true;
    }
    if (!mustActivate) {
      return null;
    }
    if (authenticateContext2.handshakeRedirectLoopCounter >= 3) {
      console.warn("Clerk: Organization activation handshake loop detected. This is likely due to an invalid organization ID or slug. Skipping organization activation.");
      return null;
    }
    const handshakeState = handleMaybeHandshakeStatus(authenticateContext2, AuthErrorReason.ActiveOrganizationMismatch, "");
    if (handshakeState.status !== "handshake") {
      return null;
    }
    return handshakeState;
  }
  async function authenticateRequestWithTokenInHeader() {
    const { tokenInHeader } = authenticateContext;
    try {
      const { data, errors } = await verifyToken(tokenInHeader, authenticateContext);
      if (errors) {
        throw errors[0];
      }
      return signedIn({
        tokenType: TokenType.SessionToken,
        authenticateContext,
        sessionClaims: data,
        headers: new Headers,
        token: tokenInHeader
      });
    } catch (err) {
      return handleSessionTokenError(err, "header");
    }
  }
  async function authenticateRequestWithTokenInCookie() {
    const hasActiveClient = authenticateContext.clientUat;
    const hasSessionToken = !!authenticateContext.sessionTokenInCookie;
    const hasDevBrowserToken = !!authenticateContext.devBrowserToken;
    if (authenticateContext.handshakeNonce || authenticateContext.handshakeToken) {
      try {
        return await handshakeService.resolveHandshake();
      } catch (error) {
        if (error instanceof TokenVerificationError && authenticateContext.instanceType === "development") {
          handshakeService.handleTokenVerificationErrorInDevelopment(error);
        } else {
          console.error("Clerk: unable to resolve handshake:", error);
        }
      }
    }
    const isRequestEligibleForMultiDomainSync = authenticateContext.isSatellite && authenticateContext.secFetchDest === "document";
    if (authenticateContext.instanceType === "production" && isRequestEligibleForMultiDomainSync) {
      return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.SatelliteCookieNeedsSyncing, "");
    }
    if (authenticateContext.instanceType === "development" && isRequestEligibleForMultiDomainSync && !authenticateContext.clerkUrl.searchParams.has(constants.QueryParameters.ClerkSynced)) {
      const redirectURL = new URL(authenticateContext.signInUrl);
      redirectURL.searchParams.append(constants.QueryParameters.ClerkRedirectUrl, authenticateContext.clerkUrl.toString());
      const headers = new Headers({ [constants.Headers.Location]: redirectURL.toString() });
      return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.SatelliteCookieNeedsSyncing, "", headers);
    }
    const redirectUrl = new URL(authenticateContext.clerkUrl).searchParams.get(constants.QueryParameters.ClerkRedirectUrl);
    if (authenticateContext.instanceType === "development" && !authenticateContext.isSatellite && redirectUrl) {
      const redirectBackToSatelliteUrl = new URL(redirectUrl);
      if (authenticateContext.devBrowserToken) {
        redirectBackToSatelliteUrl.searchParams.append(constants.QueryParameters.DevBrowser, authenticateContext.devBrowserToken);
      }
      redirectBackToSatelliteUrl.searchParams.append(constants.QueryParameters.ClerkSynced, "true");
      const headers = new Headers({ [constants.Headers.Location]: redirectBackToSatelliteUrl.toString() });
      return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.PrimaryRespondsToSyncing, "", headers);
    }
    if (authenticateContext.instanceType === "development" && authenticateContext.clerkUrl.searchParams.has(constants.QueryParameters.DevBrowser)) {
      return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.DevBrowserSync, "");
    }
    if (authenticateContext.instanceType === "development" && !hasDevBrowserToken) {
      return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.DevBrowserMissing, "");
    }
    if (!hasActiveClient && !hasSessionToken) {
      return signedOut({
        tokenType: TokenType.SessionToken,
        authenticateContext,
        reason: AuthErrorReason.SessionTokenAndUATMissing
      });
    }
    if (!hasActiveClient && hasSessionToken) {
      return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.SessionTokenWithoutClientUAT, "");
    }
    if (hasActiveClient && !hasSessionToken) {
      return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.ClientUATWithoutSessionToken, "");
    }
    const { data: decodeResult, errors: decodedErrors } = decodeJwt(authenticateContext.sessionTokenInCookie);
    if (decodedErrors) {
      return handleSessionTokenError(decodedErrors[0], "cookie");
    }
    if (decodeResult.payload.iat < authenticateContext.clientUat) {
      return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.SessionTokenIATBeforeClientUAT, "");
    }
    try {
      const { data, errors } = await verifyToken(authenticateContext.sessionTokenInCookie, authenticateContext);
      if (errors) {
        throw errors[0];
      }
      const signedInRequestState = signedIn({
        tokenType: TokenType.SessionToken,
        authenticateContext,
        sessionClaims: data,
        headers: new Headers,
        token: authenticateContext.sessionTokenInCookie
      });
      const shouldForceHandshakeForCrossDomain = !authenticateContext.isSatellite && authenticateContext.secFetchDest === "document" && authenticateContext.isCrossOriginReferrer() && !authenticateContext.isKnownClerkReferrer() && authenticateContext.handshakeRedirectLoopCounter === 0;
      if (shouldForceHandshakeForCrossDomain) {
        return handleMaybeHandshakeStatus(authenticateContext, AuthErrorReason.PrimaryDomainCrossOriginSync, "Cross-origin request from satellite domain requires handshake");
      }
      const authObject = signedInRequestState.toAuth();
      if (authObject.userId) {
        const handshakeRequestState = handleMaybeOrganizationSyncHandshake(authenticateContext, authObject);
        if (handshakeRequestState) {
          return handshakeRequestState;
        }
      }
      return signedInRequestState;
    } catch (err) {
      return handleSessionTokenError(err, "cookie");
    }
    return signedOut({
      tokenType: TokenType.SessionToken,
      authenticateContext,
      reason: AuthErrorReason.UnexpectedError
    });
  }
  async function handleSessionTokenError(err, tokenCarrier) {
    if (!(err instanceof TokenVerificationError)) {
      return signedOut({
        tokenType: TokenType.SessionToken,
        authenticateContext,
        reason: AuthErrorReason.UnexpectedError
      });
    }
    let refreshError;
    if (isRequestEligibleForRefresh(err, authenticateContext, request)) {
      const { data, error } = await attemptRefresh(authenticateContext);
      if (data) {
        return signedIn({
          tokenType: TokenType.SessionToken,
          authenticateContext,
          sessionClaims: data.jwtPayload,
          headers: data.headers,
          token: data.sessionToken
        });
      }
      if (error?.cause?.reason) {
        refreshError = error.cause.reason;
      } else {
        refreshError = RefreshTokenErrorReason.UnexpectedSDKError;
      }
    } else {
      if (request.method !== "GET") {
        refreshError = RefreshTokenErrorReason.NonEligibleNonGet;
      } else if (!authenticateContext.refreshTokenInCookie) {
        refreshError = RefreshTokenErrorReason.NonEligibleNoCookie;
      } else {
        refreshError = null;
      }
    }
    err.tokenCarrier = tokenCarrier;
    const reasonToHandshake = [
      TokenVerificationErrorReason.TokenExpired,
      TokenVerificationErrorReason.TokenNotActiveYet,
      TokenVerificationErrorReason.TokenIatInTheFuture
    ].includes(err.reason);
    if (reasonToHandshake) {
      return handleMaybeHandshakeStatus(authenticateContext, convertTokenVerificationErrorReasonToAuthErrorReason({ tokenError: err.reason, refreshError }), err.getFullMessage());
    }
    return signedOut({
      tokenType: TokenType.SessionToken,
      authenticateContext,
      reason: err.reason,
      message: err.getFullMessage()
    });
  }
  function handleMachineError(tokenType, err) {
    if (!(err instanceof MachineTokenVerificationError)) {
      return signedOut({
        tokenType,
        authenticateContext,
        reason: AuthErrorReason.UnexpectedError
      });
    }
    return signedOut({
      tokenType,
      authenticateContext,
      reason: err.code,
      message: err.getFullMessage()
    });
  }
  async function authenticateMachineRequestWithTokenInHeader() {
    const { tokenInHeader } = authenticateContext;
    if (!tokenInHeader) {
      return handleSessionTokenError(new Error("Missing token in header"), "header");
    }
    if (!isMachineToken(tokenInHeader)) {
      return signedOut({
        tokenType: acceptsToken,
        authenticateContext,
        reason: AuthErrorReason.TokenTypeMismatch,
        message: ""
      });
    }
    const parsedTokenType = getMachineTokenType(tokenInHeader);
    const mismatchState = checkTokenTypeMismatch(parsedTokenType, acceptsToken, authenticateContext);
    if (mismatchState) {
      return mismatchState;
    }
    const { data, tokenType, errors } = await verifyMachineAuthToken(tokenInHeader, authenticateContext);
    if (errors) {
      return handleMachineError(tokenType, errors[0]);
    }
    return signedIn({
      tokenType,
      authenticateContext,
      machineData: data,
      token: tokenInHeader
    });
  }
  async function authenticateAnyRequestWithTokenInHeader() {
    const { tokenInHeader } = authenticateContext;
    if (!tokenInHeader) {
      return handleSessionTokenError(new Error("Missing token in header"), "header");
    }
    if (isMachineToken(tokenInHeader)) {
      const parsedTokenType = getMachineTokenType(tokenInHeader);
      const mismatchState = checkTokenTypeMismatch(parsedTokenType, acceptsToken, authenticateContext);
      if (mismatchState) {
        return mismatchState;
      }
      const { data: data2, tokenType, errors: errors2 } = await verifyMachineAuthToken(tokenInHeader, authenticateContext);
      if (errors2) {
        return handleMachineError(tokenType, errors2[0]);
      }
      return signedIn({
        tokenType,
        authenticateContext,
        machineData: data2,
        token: tokenInHeader
      });
    }
    const { data, errors } = await verifyToken(tokenInHeader, authenticateContext);
    if (errors) {
      return handleSessionTokenError(errors[0], "header");
    }
    return signedIn({
      tokenType: TokenType.SessionToken,
      authenticateContext,
      sessionClaims: data,
      token: tokenInHeader
    });
  }
  if (Array.isArray(acceptsToken)) {
    if (!isTokenTypeInAcceptedArray(acceptsToken, authenticateContext)) {
      return signedOutInvalidToken();
    }
  }
  if (authenticateContext.tokenInHeader) {
    if (acceptsToken === "any" || Array.isArray(acceptsToken)) {
      return authenticateAnyRequestWithTokenInHeader();
    }
    if (acceptsToken === TokenType.SessionToken) {
      return authenticateRequestWithTokenInHeader();
    }
    return authenticateMachineRequestWithTokenInHeader();
  }
  if (acceptsToken === TokenType.OAuthToken || acceptsToken === TokenType.ApiKey || acceptsToken === TokenType.M2MToken) {
    return signedOut({
      tokenType: acceptsToken,
      authenticateContext,
      reason: "No token in header"
    });
  }
  return authenticateRequestWithTokenInCookie();
};
var debugRequestState = (params) => {
  const { isSignedIn, isAuthenticated, proxyUrl, reason, message, publishableKey, isSatellite, domain } = params;
  return { isSignedIn, isAuthenticated, proxyUrl, reason, message, publishableKey, isSatellite, domain };
};
var convertTokenVerificationErrorReasonToAuthErrorReason = ({
  tokenError,
  refreshError
}) => {
  switch (tokenError) {
    case TokenVerificationErrorReason.TokenExpired:
      return `${AuthErrorReason.SessionTokenExpired}-refresh-${refreshError}`;
    case TokenVerificationErrorReason.TokenNotActiveYet:
      return AuthErrorReason.SessionTokenNBF;
    case TokenVerificationErrorReason.TokenIatInTheFuture:
      return AuthErrorReason.SessionTokenIatInTheFuture;
    default:
      return AuthErrorReason.UnexpectedError;
  }
};
var defaultOptions2 = {
  secretKey: "",
  machineSecretKey: "",
  jwtKey: "",
  apiUrl: undefined,
  apiVersion: undefined,
  proxyUrl: "",
  publishableKey: "",
  isSatellite: false,
  domain: "",
  audience: ""
};
function createAuthenticateRequest(params) {
  const buildTimeOptions = mergePreDefinedOptions(defaultOptions2, params.options);
  const apiClient = params.apiClient;
  const authenticateRequest2 = (request, options = {}) => {
    const { apiUrl, apiVersion } = buildTimeOptions;
    const runTimeOptions = mergePreDefinedOptions(buildTimeOptions, options);
    return authenticateRequest(request, {
      ...options,
      ...runTimeOptions,
      apiUrl,
      apiVersion,
      apiClient
    });
  };
  return {
    authenticateRequest: authenticateRequest2,
    debugRequestState
  };
}

// ../../node_modules/@clerk/backend/dist/chunk-P263NW7Z.mjs
function withLegacyReturn(cb) {
  return async (...args) => {
    const { data, errors } = await cb(...args);
    if (errors) {
      throw errors[0];
    }
    return data;
  };
}

// ../../node_modules/@clerk/shared/dist/runtime/underscore-DjQrhefX.mjs
function snakeToCamel(str) {
  return str ? str.replace(/([-_][a-z])/g, (match3) => match3.toUpperCase().replace(/-|_/, "")) : "";
}
function camelToSnake(str) {
  return str ? str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`) : "";
}
var createDeepObjectTransformer = (transform) => {
  const deepTransform = (obj) => {
    if (!obj)
      return obj;
    if (Array.isArray(obj))
      return obj.map((el) => {
        if (typeof el === "object" || Array.isArray(el))
          return deepTransform(el);
        return el;
      });
    const copy = { ...obj };
    const keys = Object.keys(copy);
    for (const oldName of keys) {
      const newName = transform(oldName.toString());
      if (newName !== oldName) {
        copy[newName] = copy[oldName];
        delete copy[oldName];
      }
      if (typeof copy[newName] === "object")
        copy[newName] = deepTransform(copy[newName]);
    }
    return copy;
  };
  return deepTransform;
};
var deepCamelToSnake = createDeepObjectTransformer(camelToSnake);
var deepSnakeToCamel = createDeepObjectTransformer(snakeToCamel);
function isTruthy(value) {
  if (typeof value === `boolean`)
    return value;
  if (value === undefined || value === null)
    return false;
  if (typeof value === `string`) {
    if (value.toLowerCase() === `true`)
      return true;
    if (value.toLowerCase() === `false`)
      return false;
  }
  const number = parseInt(value, 10);
  if (isNaN(number))
    return false;
  if (number > 0)
    return true;
  return false;
}

// ../../node_modules/@clerk/shared/dist/runtime/telemetry-wqMDWlvR.mjs
var DEFAULT_CACHE_TTL_MS = 86400000;
var TelemetryEventThrottler = class {
  #cache;
  #cacheTtl = DEFAULT_CACHE_TTL_MS;
  constructor(cache2) {
    this.#cache = cache2;
  }
  isEventThrottled(payload) {
    const now = Date.now();
    const key = this.#generateKey(payload);
    const entry = this.#cache.getItem(key);
    if (!entry) {
      this.#cache.setItem(key, now);
      return false;
    }
    if (now - entry > this.#cacheTtl) {
      this.#cache.setItem(key, now);
      return false;
    }
    return true;
  }
  #generateKey(event) {
    const { sk: _sk, pk: _pk, payload, ...rest } = event;
    const sanitizedEvent = {
      ...payload,
      ...rest
    };
    return JSON.stringify(Object.keys({
      ...payload,
      ...rest
    }).sort().map((key) => sanitizedEvent[key]));
  }
};
var LocalStorageThrottlerCache = class {
  #storageKey = "clerk_telemetry_throttler";
  getItem(key) {
    return this.#getCache()[key];
  }
  setItem(key, value) {
    try {
      const cache2 = this.#getCache();
      cache2[key] = value;
      localStorage.setItem(this.#storageKey, JSON.stringify(cache2));
    } catch (err) {
      if (err instanceof DOMException && (err.name === "QuotaExceededError" || err.name === "NS_ERROR_DOM_QUOTA_REACHED") && localStorage.length > 0)
        localStorage.removeItem(this.#storageKey);
    }
  }
  removeItem(key) {
    try {
      const cache2 = this.#getCache();
      delete cache2[key];
      localStorage.setItem(this.#storageKey, JSON.stringify(cache2));
    } catch {}
  }
  #getCache() {
    try {
      const cacheString = localStorage.getItem(this.#storageKey);
      if (!cacheString)
        return {};
      return JSON.parse(cacheString);
    } catch {
      return {};
    }
  }
  static isSupported() {
    return typeof window !== "undefined" && !!window.localStorage;
  }
};
var InMemoryThrottlerCache = class {
  #cache = /* @__PURE__ */ new Map;
  #maxSize = 1e4;
  getItem(key) {
    if (this.#cache.size > this.#maxSize) {
      this.#cache.clear();
      return;
    }
    return this.#cache.get(key);
  }
  setItem(key, value) {
    this.#cache.set(key, value);
  }
  removeItem(key) {
    this.#cache.delete(key);
  }
};
function isWindowClerkWithMetadata(clerk) {
  return typeof clerk === "object" && clerk !== null && "constructor" in clerk && typeof clerk.constructor === "function";
}
var VALID_LOG_LEVELS = new Set([
  "error",
  "warn",
  "info",
  "debug",
  "trace"
]);
var DEFAULT_CONFIG = {
  samplingRate: 1,
  maxBufferSize: 5,
  endpoint: "https://clerk-telemetry.com"
};
var TelemetryCollector = class {
  #config;
  #eventThrottler;
  #metadata = {};
  #buffer = [];
  #pendingFlush = null;
  constructor(options) {
    this.#config = {
      maxBufferSize: options.maxBufferSize ?? DEFAULT_CONFIG.maxBufferSize,
      samplingRate: options.samplingRate ?? DEFAULT_CONFIG.samplingRate,
      perEventSampling: options.perEventSampling ?? true,
      disabled: options.disabled ?? false,
      debug: options.debug ?? false,
      endpoint: DEFAULT_CONFIG.endpoint
    };
    if (!options.clerkVersion && typeof window === "undefined")
      this.#metadata.clerkVersion = "";
    else
      this.#metadata.clerkVersion = options.clerkVersion ?? "";
    this.#metadata.sdk = options.sdk;
    this.#metadata.sdkVersion = options.sdkVersion;
    this.#metadata.publishableKey = options.publishableKey ?? "";
    const parsedKey = parsePublishableKey(options.publishableKey);
    if (parsedKey)
      this.#metadata.instanceType = parsedKey.instanceType;
    if (options.secretKey)
      this.#metadata.secretKey = options.secretKey.substring(0, 16);
    this.#eventThrottler = new TelemetryEventThrottler(LocalStorageThrottlerCache.isSupported() ? new LocalStorageThrottlerCache : new InMemoryThrottlerCache);
  }
  get isEnabled() {
    if (this.#metadata.instanceType !== "development")
      return false;
    if (this.#config.disabled || typeof process !== "undefined" && process.env && isTruthy(process.env.CLERK_TELEMETRY_DISABLED))
      return false;
    if (typeof window !== "undefined" && !!window?.navigator?.webdriver)
      return false;
    return true;
  }
  get isDebug() {
    return this.#config.debug || typeof process !== "undefined" && process.env && isTruthy(process.env.CLERK_TELEMETRY_DEBUG);
  }
  record(event) {
    try {
      const preparedPayload = this.#preparePayload(event.event, event.payload);
      this.#logEvent(preparedPayload.event, preparedPayload);
      if (!this.#shouldRecord(preparedPayload, event.eventSamplingRate))
        return;
      this.#buffer.push({
        kind: "event",
        value: preparedPayload
      });
      this.#scheduleFlush();
    } catch (error) {
      console.error("[clerk/telemetry] Error recording telemetry event", error);
    }
  }
  recordLog(entry) {
    try {
      if (!this.#shouldRecordLog(entry))
        return;
      const levelIsValid = typeof entry?.level === "string" && VALID_LOG_LEVELS.has(entry.level);
      const messageIsValid = typeof entry?.message === "string" && entry.message.trim().length > 0;
      let normalizedTimestamp = null;
      const timestampInput = entry?.timestamp;
      if (typeof timestampInput === "number" || typeof timestampInput === "string") {
        const candidate = new Date(timestampInput);
        if (!Number.isNaN(candidate.getTime()))
          normalizedTimestamp = candidate;
      }
      if (!levelIsValid || !messageIsValid || normalizedTimestamp === null) {
        if (this.isDebug && typeof console !== "undefined")
          console.warn("[clerk/telemetry] Dropping invalid telemetry log entry", {
            levelIsValid,
            messageIsValid,
            timestampIsValid: normalizedTimestamp !== null
          });
        return;
      }
      const sdkMetadata = this.#getSDKMetadata();
      const logData = {
        sdk: sdkMetadata.name,
        sdkv: sdkMetadata.version,
        cv: this.#metadata.clerkVersion ?? "",
        lvl: entry.level,
        msg: entry.message,
        ts: normalizedTimestamp.toISOString(),
        pk: this.#metadata.publishableKey || null,
        payload: this.#sanitizeContext(entry.context)
      };
      this.#buffer.push({
        kind: "log",
        value: logData
      });
      this.#scheduleFlush();
    } catch (error) {
      console.error("[clerk/telemetry] Error recording telemetry log entry", error);
    }
  }
  #shouldRecord(preparedPayload, eventSamplingRate) {
    return this.isEnabled && !this.isDebug && this.#shouldBeSampled(preparedPayload, eventSamplingRate);
  }
  #shouldRecordLog(_entry) {
    return true;
  }
  #shouldBeSampled(preparedPayload, eventSamplingRate) {
    const randomSeed = Math.random();
    if (!(randomSeed <= this.#config.samplingRate && (this.#config.perEventSampling === false || typeof eventSamplingRate === "undefined" || randomSeed <= eventSamplingRate)))
      return false;
    return !this.#eventThrottler.isEventThrottled(preparedPayload);
  }
  #scheduleFlush() {
    if (typeof window === "undefined") {
      this.#flush();
      return;
    }
    if (this.#buffer.length >= this.#config.maxBufferSize) {
      if (this.#pendingFlush)
        if (typeof cancelIdleCallback !== "undefined")
          cancelIdleCallback(Number(this.#pendingFlush));
        else
          clearTimeout(Number(this.#pendingFlush));
      this.#flush();
      return;
    }
    if (this.#pendingFlush)
      return;
    if ("requestIdleCallback" in window)
      this.#pendingFlush = requestIdleCallback(() => {
        this.#flush();
        this.#pendingFlush = null;
      });
    else
      this.#pendingFlush = setTimeout(() => {
        this.#flush();
        this.#pendingFlush = null;
      }, 0);
  }
  #flush() {
    const itemsToSend = [...this.#buffer];
    this.#buffer = [];
    this.#pendingFlush = null;
    if (itemsToSend.length === 0)
      return;
    const eventsToSend = itemsToSend.filter((item) => item.kind === "event").map((item) => item.value);
    const logsToSend = itemsToSend.filter((item) => item.kind === "log").map((item) => item.value);
    if (eventsToSend.length > 0) {
      const eventsUrl = new URL("/v1/event", this.#config.endpoint);
      fetch(eventsUrl, {
        headers: { "Content-Type": "application/json" },
        keepalive: true,
        method: "POST",
        body: JSON.stringify({ events: eventsToSend })
      }).catch(() => {
        return;
      });
    }
    if (logsToSend.length > 0) {
      const logsUrl = new URL("/v1/logs", this.#config.endpoint);
      fetch(logsUrl, {
        headers: { "Content-Type": "application/json" },
        keepalive: true,
        method: "POST",
        body: JSON.stringify({ logs: logsToSend })
      }).catch(() => {
        return;
      });
    }
  }
  #logEvent(event, payload) {
    if (!this.isDebug)
      return;
    if (typeof console.groupCollapsed !== "undefined") {
      console.groupCollapsed("[clerk/telemetry]", event);
      console.log(payload);
      console.groupEnd();
    } else
      console.log("[clerk/telemetry]", event, payload);
  }
  #getSDKMetadata() {
    const sdkMetadata = {
      name: this.#metadata.sdk,
      version: this.#metadata.sdkVersion
    };
    if (typeof window !== "undefined") {
      const windowWithClerk = window;
      if (windowWithClerk.Clerk) {
        const windowClerk = windowWithClerk.Clerk;
        if (isWindowClerkWithMetadata(windowClerk) && windowClerk.constructor.sdkMetadata) {
          const { name, version: version2 } = windowClerk.constructor.sdkMetadata;
          if (name !== undefined)
            sdkMetadata.name = name;
          if (version2 !== undefined)
            sdkMetadata.version = version2;
        }
      }
    }
    return sdkMetadata;
  }
  #preparePayload(event, payload) {
    const sdkMetadata = this.#getSDKMetadata();
    return {
      event,
      cv: this.#metadata.clerkVersion ?? "",
      it: this.#metadata.instanceType ?? "",
      sdk: sdkMetadata.name,
      sdkv: sdkMetadata.version,
      ...this.#metadata.publishableKey ? { pk: this.#metadata.publishableKey } : {},
      ...this.#metadata.secretKey ? { sk: this.#metadata.secretKey } : {},
      payload
    };
  }
  #sanitizeContext(context) {
    if (context === null || typeof context === "undefined")
      return null;
    if (typeof context !== "object")
      return null;
    try {
      const cleaned = JSON.parse(JSON.stringify(context));
      if (cleaned && typeof cleaned === "object" && !Array.isArray(cleaned))
        return cleaned;
      return null;
    } catch {
      return null;
    }
  }
};
var AUTH_COMPONENTS = new Set(["SignIn", "SignUp"]);

// ../../node_modules/@clerk/backend/dist/index.mjs
var verifyToken2 = withLegacyReturn(verifyToken);
function createClerkClient(options) {
  const opts = { ...options };
  const apiClient = createBackendApiClient(opts);
  const requestState = createAuthenticateRequest({ options: opts, apiClient });
  const telemetry = new TelemetryCollector({
    publishableKey: opts.publishableKey,
    secretKey: opts.secretKey,
    samplingRate: 0.1,
    ...opts.sdkMetadata ? { sdk: opts.sdkMetadata.name, sdkVersion: opts.sdkMetadata.version } : {},
    ...opts.telemetry || {}
  });
  return {
    ...apiClient,
    ...requestState,
    telemetry
  };
}

// ../../node_modules/hono/dist/helper/adapter/index.js
var env = (c, runtime2) => {
  const global2 = globalThis;
  const globalEnv = global2?.process?.env;
  runtime2 ??= getRuntimeKey();
  const runtimeEnvHandlers = {
    bun: () => globalEnv,
    node: () => globalEnv,
    "edge-light": () => globalEnv,
    deno: () => {
      return Deno.env.toObject();
    },
    workerd: () => c.env,
    fastly: () => ({}),
    other: () => ({})
  };
  return runtimeEnvHandlers[runtime2]();
};
var knownUserAgents = {
  deno: "Deno",
  bun: "Bun",
  workerd: "Cloudflare-Workers",
  node: "Node.js"
};
var getRuntimeKey = () => {
  const global2 = globalThis;
  const userAgentSupported = typeof navigator !== "undefined" && typeof navigator.userAgent === "string";
  if (userAgentSupported) {
    for (const [runtimeKey, userAgent] of Object.entries(knownUserAgents)) {
      if (checkUserAgentEquals(userAgent)) {
        return runtimeKey;
      }
    }
  }
  if (typeof global2?.EdgeRuntime === "string") {
    return "edge-light";
  }
  if (global2?.fastly !== undefined) {
    return "fastly";
  }
  if (global2?.process?.release?.name === "node") {
    return "node";
  }
  return "other";
};
var checkUserAgentEquals = (platform) => {
  const userAgent = navigator.userAgent;
  return userAgent.startsWith(platform);
};

// ../../node_modules/@hono/clerk-auth/dist/index.js
var getAuth = (c, options) => {
  return c.get("clerkAuth")(options);
};
var clerkMiddleware = (options) => {
  return async (c, next) => {
    const clerkEnv = env(c);
    const { secretKey, publishableKey, apiUrl, apiVersion, ...rest } = options || {
      secretKey: clerkEnv.CLERK_SECRET_KEY || "",
      publishableKey: clerkEnv.CLERK_PUBLISHABLE_KEY || "",
      apiUrl: clerkEnv.CLERK_API_URL,
      apiVersion: clerkEnv.CLERK_API_VERSION
    };
    if (!secretKey)
      throw new Error("Missing Clerk Secret key");
    if (!publishableKey)
      throw new Error("Missing Clerk Publishable key");
    const clerkClient = createClerkClient({
      ...rest,
      apiUrl,
      apiVersion,
      secretKey,
      publishableKey
    });
    const requestState = await clerkClient.authenticateRequest(c.req.raw, {
      ...rest,
      secretKey,
      publishableKey,
      acceptsToken: "any"
    });
    if (requestState.headers) {
      requestState.headers.forEach((value, key) => {
        c.res.headers.append(key, value);
      });
      const locationHeader = requestState.headers.get("location");
      if (locationHeader)
        return c.redirect(locationHeader, 307);
      else if (requestState.status === "handshake")
        throw new Error("Clerk: unexpected handshake without redirect");
    }
    const authObjectFn = (options$1) => getAuthObjectForAcceptedToken({
      authObject: requestState.toAuth(options$1),
      acceptsToken: "any"
    });
    c.set("clerkAuth", authObjectFn);
    c.set("clerk", clerkClient);
    await next();
  };
};

// src/services/user-sync.ts
async function syncUser(db2, clerkUser) {
  const email = clerkUser.emailAddresses[0]?.emailAddress;
  if (!email)
    throw new Error("User has no email");
  const name = [clerkUser.firstName, clerkUser.lastName].filter(Boolean).join(" ") || email;
  const [existing] = await db2.select().from(users).where(eq(users.clerkId, clerkUser.id)).limit(1);
  if (existing) {
    const [updated] = await db2.update(users).set({
      email,
      name,
      avatarUrl: clerkUser.imageUrl,
      updatedAt: new Date
    }).where(eq(users.id, existing.id)).returning();
    if (!updated) {
      throw new Error("Failed to update user");
    }
    return updated;
  }
  const [created] = await db2.insert(users).values({
    clerkId: clerkUser.id,
    email,
    name,
    avatarUrl: clerkUser.imageUrl
  }).returning();
  if (!created) {
    throw new Error("Failed to create user");
  }
  return created;
}
async function getUserByClerkId(db2, clerkId) {
  const [user] = await db2.select().from(users).where(eq(users.clerkId, clerkId)).limit(1);
  return user || null;
}

// src/middleware/auth.ts
var clerkAuth = clerkMiddleware();
var authMiddleware = createMiddleware(async (c, next) => {
  const auth = getAuth(c);
  if (!auth?.userId) {
    c.set("user", null);
    await next();
    return;
  }
  const db2 = c.var.db;
  const clerkClient = c.get("clerk");
  let localUser = await getUserByClerkId(db2, auth.userId);
  if (!localUser) {
    const clerkUser = await clerkClient.users.getUser(auth.userId);
    localUser = await syncUser(db2, clerkUser);
  }
  if (!localUser) {
    throw new UnauthorizedError("User not found");
  }
  let role = "guest";
  let workspaceId = null;
  if (auth.orgId) {
    let [workspace] = await db2.select().from(workspaces).where(eq(workspaces.clerkOrgId, auth.orgId)).limit(1);
    if (!workspace) {
      const orgRole = auth.orgRole || "member";
      const isAdmin = orgRole === "org:admin" || orgRole === "admin";
      const clerkOrg = await clerkClient.organizations.getOrganization({
        organizationId: auth.orgId
      });
      const [newWorkspace] = await db2.insert(workspaces).values({
        name: clerkOrg.name,
        slug: clerkOrg.slug || auth.orgId,
        clerkOrgId: auth.orgId,
        ownerId: localUser.id
      }).returning();
      workspace = newWorkspace;
      if (workspace) {
        await db2.insert(workspaceMembers).values({
          workspaceId: workspace.id,
          userId: localUser.id,
          role: isAdmin ? "super_admin" : "member"
        });
      }
    }
    if (workspace) {
      workspaceId = workspace.id;
      let [membership] = await db2.select().from(workspaceMembers).where(and(eq(workspaceMembers.workspaceId, workspace.id), eq(workspaceMembers.userId, localUser.id))).limit(1);
      if (!membership) {
        const orgRole = auth.orgRole || "member";
        const isAdmin = orgRole === "org:admin" || orgRole === "admin";
        const [newMembership] = await db2.insert(workspaceMembers).values({
          workspaceId: workspace.id,
          userId: localUser.id,
          role: isAdmin ? "super_admin" : "member"
        }).returning();
        membership = newMembership;
      }
      if (membership) {
        role = membership.role;
      }
    }
  }
  const user = {
    id: localUser.id,
    clerkId: localUser.clerkId,
    email: localUser.email,
    name: localUser.name,
    role,
    orgId: auth.orgId || null,
    workspaceId
  };
  c.set("user", user);
  await next();
});
var requireAuth = createMiddleware(async (c, next) => {
  const user = c.var.user;
  if (!user) {
    throw new UnauthorizedError("Authentication required");
  }
  await next();
});
var requireWorkspace = createMiddleware(async (c, next) => {
  const user = c.var.user;
  if (!user) {
    throw new UnauthorizedError("Authentication required");
  }
  if (!user.workspaceId) {
    throw new UnauthorizedError("No active workspace. Please select an organization.");
  }
  await next();
});

// src/routes/auth.ts
var import_svix = __toESM(require_dist4(), 1);

// src/lib/response.ts
function success(c, data, meta, status = 200) {
  const response = { success: true, data };
  if (meta)
    response.meta = meta;
  return c.json(response, status);
}
function created(c, data) {
  return success(c, data, undefined, 201);
}
function noContent(c) {
  return c.body(null, 204);
}
function paginated(c, data, { page, limit, total }) {
  return success(c, data, { page, limit, total });
}

// src/routes/auth.ts
var auth = new Hono2;
auth.get("/me", requireAuth, (c) => {
  const user = getAuthUser(c.var);
  return success(c, {
    id: user.id,
    email: user.email,
    name: user.name,
    role: user.role,
    workspaceId: user.workspaceId
  });
});
auth.post("/webhook/clerk", async (c) => {
  const webhookSecret = process.env.CLERK_WEBHOOK_SECRET;
  if (!webhookSecret) {
    console.error("CLERK_WEBHOOK_SECRET not configured");
    return c.json({ error: "Webhook not configured" }, 500);
  }
  const svixId = c.req.header("svix-id");
  const svixTimestamp = c.req.header("svix-timestamp");
  const svixSignature = c.req.header("svix-signature");
  if (!svixId || !svixTimestamp || !svixSignature) {
    return c.json({ error: "Missing headers" }, 400);
  }
  const body = await c.req.text();
  try {
    const wh = new import_svix.Webhook(webhookSecret);
    const evt = wh.verify(body, {
      "svix-id": svixId,
      "svix-timestamp": svixTimestamp,
      "svix-signature": svixSignature
    });
    const db2 = c.var.db;
    switch (evt.type) {
      case "user.created":
      case "user.updated":
        await syncUser(db2, evt.data);
        break;
    }
    return c.json({ received: true });
  } catch (err) {
    console.error("Webhook verification failed:", err);
    return c.json({ error: "Invalid signature" }, 400);
  }
});
var auth_default = auth;

// ../../node_modules/hono/dist/utils/cookie.js
var validCookieNameRegEx = /^[\w!#$%&'*.^`|~+-]+$/;
var validCookieValueRegEx = /^[ !#-:<-[\]-~]*$/;
var parse3 = (cookie, name) => {
  if (name && cookie.indexOf(name) === -1) {
    return {};
  }
  const pairs = cookie.trim().split(";");
  const parsedCookie = {};
  for (let pairStr of pairs) {
    pairStr = pairStr.trim();
    const valueStartPos = pairStr.indexOf("=");
    if (valueStartPos === -1) {
      continue;
    }
    const cookieName = pairStr.substring(0, valueStartPos).trim();
    if (name && name !== cookieName || !validCookieNameRegEx.test(cookieName)) {
      continue;
    }
    let cookieValue = pairStr.substring(valueStartPos + 1).trim();
    if (cookieValue.startsWith('"') && cookieValue.endsWith('"')) {
      cookieValue = cookieValue.slice(1, -1);
    }
    if (validCookieValueRegEx.test(cookieValue)) {
      parsedCookie[cookieName] = cookieValue.indexOf("%") !== -1 ? tryDecode(cookieValue, decodeURIComponent_) : cookieValue;
      if (name) {
        break;
      }
    }
  }
  return parsedCookie;
};

// ../../node_modules/hono/dist/helper/cookie/index.js
var getCookie = (c, key, prefix) => {
  const cookie = c.req.raw.headers.get("Cookie");
  if (typeof key === "string") {
    if (!cookie) {
      return;
    }
    let finalKey = key;
    if (prefix === "secure") {
      finalKey = "__Secure-" + key;
    } else if (prefix === "host") {
      finalKey = "__Host-" + key;
    }
    const obj2 = parse3(cookie, finalKey);
    return obj2[finalKey];
  }
  if (!cookie) {
    return {};
  }
  const obj = parse3(cookie);
  return obj;
};

// ../../node_modules/hono/dist/utils/buffer.js
var bufferToFormData = (arrayBuffer, contentType) => {
  const response = new Response(arrayBuffer, {
    headers: {
      "Content-Type": contentType
    }
  });
  return response.formData();
};

// ../../node_modules/hono/dist/validator/validator.js
var jsonRegex = /^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/;
var multipartRegex = /^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/;
var urlencodedRegex = /^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/;
var validator = (target, validationFunc) => {
  return async (c, next) => {
    let value = {};
    const contentType = c.req.header("Content-Type");
    switch (target) {
      case "json":
        if (!contentType || !jsonRegex.test(contentType)) {
          break;
        }
        try {
          value = await c.req.json();
        } catch {
          const message = "Malformed JSON in request body";
          throw new HTTPException(400, { message });
        }
        break;
      case "form": {
        if (!contentType || !(multipartRegex.test(contentType) || urlencodedRegex.test(contentType))) {
          break;
        }
        let formData;
        if (c.req.bodyCache.formData) {
          formData = await c.req.bodyCache.formData;
        } else {
          try {
            const arrayBuffer = await c.req.arrayBuffer();
            formData = await bufferToFormData(arrayBuffer, contentType);
            c.req.bodyCache.formData = formData;
          } catch (e) {
            let message = "Malformed FormData request.";
            message += e instanceof Error ? ` ${e.message}` : ` ${String(e)}`;
            throw new HTTPException(400, { message });
          }
        }
        const form = {};
        formData.forEach((value2, key) => {
          if (key.endsWith("[]")) {
            (form[key] ??= []).push(value2);
          } else if (Array.isArray(form[key])) {
            form[key].push(value2);
          } else if (key in form) {
            form[key] = [form[key], value2];
          } else {
            form[key] = value2;
          }
        });
        value = form;
        break;
      }
      case "query":
        value = Object.fromEntries(Object.entries(c.req.queries()).map(([k, v]) => {
          return v.length === 1 ? [k, v[0]] : [k, v];
        }));
        break;
      case "param":
        value = c.req.param();
        break;
      case "header":
        value = c.req.header();
        break;
      case "cookie":
        value = getCookie(c);
        break;
    }
    const res = await validationFunc(value, c);
    if (res instanceof Response) {
      return res;
    }
    c.req.addValidatedData(target, res);
    return await next();
  };
};

// ../../node_modules/@hono/zod-validator/dist/index.js
function zValidatorFunction(target, schema2, hook, options) {
  return validator(target, async (value, c) => {
    let validatorValue = value;
    if (target === "header" && "_def" in schema2 || target === "header" && "_zod" in schema2) {
      const schemaKeys = Object.keys("in" in schema2 ? schema2.in.shape : schema2.shape);
      const caseInsensitiveKeymap = Object.fromEntries(schemaKeys.map((key) => [key.toLowerCase(), key]));
      validatorValue = Object.fromEntries(Object.entries(value).map(([key, value$1]) => [caseInsensitiveKeymap[key] || key, value$1]));
    }
    const result = options && options.validationFunction ? await options.validationFunction(schema2, validatorValue) : await schema2.safeParseAsync(validatorValue);
    if (hook) {
      const hookResult = await hook({
        data: validatorValue,
        ...result,
        target
      }, c);
      if (hookResult) {
        if (hookResult instanceof Response)
          return hookResult;
        if ("response" in hookResult)
          return hookResult.response;
      }
    }
    if (!result.success)
      return c.json(result, 400);
    return result.data;
  });
}
var zValidator = zValidatorFunction;

// ../../node_modules/zod/v3/external.js
var exports_external = {};
__export(exports_external, {
  void: () => voidType,
  util: () => util,
  unknown: () => unknownType,
  union: () => unionType,
  undefined: () => undefinedType,
  tuple: () => tupleType,
  transformer: () => effectsType,
  symbol: () => symbolType,
  string: () => stringType,
  strictObject: () => strictObjectType,
  setErrorMap: () => setErrorMap,
  set: () => setType,
  record: () => recordType,
  quotelessJson: () => quotelessJson,
  promise: () => promiseType,
  preprocess: () => preprocessType,
  pipeline: () => pipelineType,
  ostring: () => ostring,
  optional: () => optionalType,
  onumber: () => onumber,
  oboolean: () => oboolean,
  objectUtil: () => objectUtil,
  object: () => objectType,
  number: () => numberType,
  nullable: () => nullableType,
  null: () => nullType,
  never: () => neverType,
  nativeEnum: () => nativeEnumType,
  nan: () => nanType,
  map: () => mapType,
  makeIssue: () => makeIssue,
  literal: () => literalType,
  lazy: () => lazyType,
  late: () => late,
  isValid: () => isValid,
  isDirty: () => isDirty,
  isAsync: () => isAsync,
  isAborted: () => isAborted,
  intersection: () => intersectionType,
  instanceof: () => instanceOfType,
  getParsedType: () => getParsedType,
  getErrorMap: () => getErrorMap,
  function: () => functionType,
  enum: () => enumType,
  effect: () => effectsType,
  discriminatedUnion: () => discriminatedUnionType,
  defaultErrorMap: () => en_default,
  datetimeRegex: () => datetimeRegex,
  date: () => dateType,
  custom: () => custom,
  coerce: () => coerce,
  boolean: () => booleanType,
  bigint: () => bigIntType,
  array: () => arrayType,
  any: () => anyType,
  addIssueToContext: () => addIssueToContext,
  ZodVoid: () => ZodVoid,
  ZodUnknown: () => ZodUnknown,
  ZodUnion: () => ZodUnion,
  ZodUndefined: () => ZodUndefined,
  ZodType: () => ZodType,
  ZodTuple: () => ZodTuple,
  ZodTransformer: () => ZodEffects,
  ZodSymbol: () => ZodSymbol,
  ZodString: () => ZodString,
  ZodSet: () => ZodSet,
  ZodSchema: () => ZodType,
  ZodRecord: () => ZodRecord,
  ZodReadonly: () => ZodReadonly,
  ZodPromise: () => ZodPromise,
  ZodPipeline: () => ZodPipeline,
  ZodParsedType: () => ZodParsedType,
  ZodOptional: () => ZodOptional,
  ZodObject: () => ZodObject,
  ZodNumber: () => ZodNumber,
  ZodNullable: () => ZodNullable,
  ZodNull: () => ZodNull,
  ZodNever: () => ZodNever,
  ZodNativeEnum: () => ZodNativeEnum,
  ZodNaN: () => ZodNaN,
  ZodMap: () => ZodMap,
  ZodLiteral: () => ZodLiteral,
  ZodLazy: () => ZodLazy,
  ZodIssueCode: () => ZodIssueCode,
  ZodIntersection: () => ZodIntersection,
  ZodFunction: () => ZodFunction,
  ZodFirstPartyTypeKind: () => ZodFirstPartyTypeKind,
  ZodError: () => ZodError,
  ZodEnum: () => ZodEnum,
  ZodEffects: () => ZodEffects,
  ZodDiscriminatedUnion: () => ZodDiscriminatedUnion,
  ZodDefault: () => ZodDefault,
  ZodDate: () => ZodDate,
  ZodCatch: () => ZodCatch,
  ZodBranded: () => ZodBranded,
  ZodBoolean: () => ZodBoolean,
  ZodBigInt: () => ZodBigInt,
  ZodArray: () => ZodArray,
  ZodAny: () => ZodAny,
  Schema: () => ZodType,
  ParseStatus: () => ParseStatus,
  OK: () => OK,
  NEVER: () => NEVER,
  INVALID: () => INVALID,
  EMPTY_PATH: () => EMPTY_PATH,
  DIRTY: () => DIRTY,
  BRAND: () => BRAND
});

// ../../node_modules/zod/v3/helpers/util.js
var util;
(function(util2) {
  util2.assertEqual = (_2) => {};
  function assertIs(_arg) {}
  util2.assertIs = assertIs;
  function assertNever(_x) {
    throw new Error;
  }
  util2.assertNever = assertNever;
  util2.arrayToEnum = (items) => {
    const obj = {};
    for (const item of items) {
      obj[item] = item;
    }
    return obj;
  };
  util2.getValidEnumValues = (obj) => {
    const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== "number");
    const filtered = {};
    for (const k of validKeys) {
      filtered[k] = obj[k];
    }
    return util2.objectValues(filtered);
  };
  util2.objectValues = (obj) => {
    return util2.objectKeys(obj).map(function(e) {
      return obj[e];
    });
  };
  util2.objectKeys = typeof Object.keys === "function" ? (obj) => Object.keys(obj) : (object) => {
    const keys = [];
    for (const key in object) {
      if (Object.prototype.hasOwnProperty.call(object, key)) {
        keys.push(key);
      }
    }
    return keys;
  };
  util2.find = (arr, checker) => {
    for (const item of arr) {
      if (checker(item))
        return item;
    }
    return;
  };
  util2.isInteger = typeof Number.isInteger === "function" ? (val) => Number.isInteger(val) : (val) => typeof val === "number" && Number.isFinite(val) && Math.floor(val) === val;
  function joinValues(array, separator = " | ") {
    return array.map((val) => typeof val === "string" ? `'${val}'` : val).join(separator);
  }
  util2.joinValues = joinValues;
  util2.jsonStringifyReplacer = (_2, value) => {
    if (typeof value === "bigint") {
      return value.toString();
    }
    return value;
  };
})(util || (util = {}));
var objectUtil;
(function(objectUtil2) {
  objectUtil2.mergeShapes = (first, second) => {
    return {
      ...first,
      ...second
    };
  };
})(objectUtil || (objectUtil = {}));
var ZodParsedType = util.arrayToEnum([
  "string",
  "nan",
  "number",
  "integer",
  "float",
  "boolean",
  "date",
  "bigint",
  "symbol",
  "function",
  "undefined",
  "null",
  "array",
  "object",
  "unknown",
  "promise",
  "void",
  "never",
  "map",
  "set"
]);
var getParsedType = (data) => {
  const t = typeof data;
  switch (t) {
    case "undefined":
      return ZodParsedType.undefined;
    case "string":
      return ZodParsedType.string;
    case "number":
      return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;
    case "boolean":
      return ZodParsedType.boolean;
    case "function":
      return ZodParsedType.function;
    case "bigint":
      return ZodParsedType.bigint;
    case "symbol":
      return ZodParsedType.symbol;
    case "object":
      if (Array.isArray(data)) {
        return ZodParsedType.array;
      }
      if (data === null) {
        return ZodParsedType.null;
      }
      if (data.then && typeof data.then === "function" && data.catch && typeof data.catch === "function") {
        return ZodParsedType.promise;
      }
      if (typeof Map !== "undefined" && data instanceof Map) {
        return ZodParsedType.map;
      }
      if (typeof Set !== "undefined" && data instanceof Set) {
        return ZodParsedType.set;
      }
      if (typeof Date !== "undefined" && data instanceof Date) {
        return ZodParsedType.date;
      }
      return ZodParsedType.object;
    default:
      return ZodParsedType.unknown;
  }
};

// ../../node_modules/zod/v3/ZodError.js
var ZodIssueCode = util.arrayToEnum([
  "invalid_type",
  "invalid_literal",
  "custom",
  "invalid_union",
  "invalid_union_discriminator",
  "invalid_enum_value",
  "unrecognized_keys",
  "invalid_arguments",
  "invalid_return_type",
  "invalid_date",
  "invalid_string",
  "too_small",
  "too_big",
  "invalid_intersection_types",
  "not_multiple_of",
  "not_finite"
]);
var quotelessJson = (obj) => {
  const json2 = JSON.stringify(obj, null, 2);
  return json2.replace(/"([^"]+)":/g, "$1:");
};

class ZodError extends Error {
  get errors() {
    return this.issues;
  }
  constructor(issues) {
    super();
    this.issues = [];
    this.addIssue = (sub) => {
      this.issues = [...this.issues, sub];
    };
    this.addIssues = (subs = []) => {
      this.issues = [...this.issues, ...subs];
    };
    const actualProto = new.target.prototype;
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(this, actualProto);
    } else {
      this.__proto__ = actualProto;
    }
    this.name = "ZodError";
    this.issues = issues;
  }
  format(_mapper) {
    const mapper = _mapper || function(issue) {
      return issue.message;
    };
    const fieldErrors = { _errors: [] };
    const processError = (error) => {
      for (const issue of error.issues) {
        if (issue.code === "invalid_union") {
          issue.unionErrors.map(processError);
        } else if (issue.code === "invalid_return_type") {
          processError(issue.returnTypeError);
        } else if (issue.code === "invalid_arguments") {
          processError(issue.argumentsError);
        } else if (issue.path.length === 0) {
          fieldErrors._errors.push(mapper(issue));
        } else {
          let curr = fieldErrors;
          let i = 0;
          while (i < issue.path.length) {
            const el = issue.path[i];
            const terminal = i === issue.path.length - 1;
            if (!terminal) {
              curr[el] = curr[el] || { _errors: [] };
            } else {
              curr[el] = curr[el] || { _errors: [] };
              curr[el]._errors.push(mapper(issue));
            }
            curr = curr[el];
            i++;
          }
        }
      }
    };
    processError(this);
    return fieldErrors;
  }
  static assert(value) {
    if (!(value instanceof ZodError)) {
      throw new Error(`Not a ZodError: ${value}`);
    }
  }
  toString() {
    return this.message;
  }
  get message() {
    return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);
  }
  get isEmpty() {
    return this.issues.length === 0;
  }
  flatten(mapper = (issue) => issue.message) {
    const fieldErrors = {};
    const formErrors = [];
    for (const sub of this.issues) {
      if (sub.path.length > 0) {
        const firstEl = sub.path[0];
        fieldErrors[firstEl] = fieldErrors[firstEl] || [];
        fieldErrors[firstEl].push(mapper(sub));
      } else {
        formErrors.push(mapper(sub));
      }
    }
    return { formErrors, fieldErrors };
  }
  get formErrors() {
    return this.flatten();
  }
}
ZodError.create = (issues) => {
  const error = new ZodError(issues);
  return error;
};

// ../../node_modules/zod/v3/locales/en.js
var errorMap = (issue, _ctx) => {
  let message;
  switch (issue.code) {
    case ZodIssueCode.invalid_type:
      if (issue.received === ZodParsedType.undefined) {
        message = "Required";
      } else {
        message = `Expected ${issue.expected}, received ${issue.received}`;
      }
      break;
    case ZodIssueCode.invalid_literal:
      message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;
      break;
    case ZodIssueCode.unrecognized_keys:
      message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, ", ")}`;
      break;
    case ZodIssueCode.invalid_union:
      message = `Invalid input`;
      break;
    case ZodIssueCode.invalid_union_discriminator:
      message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;
      break;
    case ZodIssueCode.invalid_enum_value:
      message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;
      break;
    case ZodIssueCode.invalid_arguments:
      message = `Invalid function arguments`;
      break;
    case ZodIssueCode.invalid_return_type:
      message = `Invalid function return type`;
      break;
    case ZodIssueCode.invalid_date:
      message = `Invalid date`;
      break;
    case ZodIssueCode.invalid_string:
      if (typeof issue.validation === "object") {
        if ("includes" in issue.validation) {
          message = `Invalid input: must include "${issue.validation.includes}"`;
          if (typeof issue.validation.position === "number") {
            message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;
          }
        } else if ("startsWith" in issue.validation) {
          message = `Invalid input: must start with "${issue.validation.startsWith}"`;
        } else if ("endsWith" in issue.validation) {
          message = `Invalid input: must end with "${issue.validation.endsWith}"`;
        } else {
          util.assertNever(issue.validation);
        }
      } else if (issue.validation !== "regex") {
        message = `Invalid ${issue.validation}`;
      } else {
        message = "Invalid";
      }
      break;
    case ZodIssueCode.too_small:
      if (issue.type === "array")
        message = `Array must contain ${issue.exact ? "exactly" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;
      else if (issue.type === "string")
        message = `String must contain ${issue.exact ? "exactly" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;
      else if (issue.type === "number")
        message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;
      else if (issue.type === "bigint")
        message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;
      else if (issue.type === "date")
        message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;
      else
        message = "Invalid input";
      break;
    case ZodIssueCode.too_big:
      if (issue.type === "array")
        message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;
      else if (issue.type === "string")
        message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;
      else if (issue.type === "number")
        message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;
      else if (issue.type === "bigint")
        message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;
      else if (issue.type === "date")
        message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;
      else
        message = "Invalid input";
      break;
    case ZodIssueCode.custom:
      message = `Invalid input`;
      break;
    case ZodIssueCode.invalid_intersection_types:
      message = `Intersection results could not be merged`;
      break;
    case ZodIssueCode.not_multiple_of:
      message = `Number must be a multiple of ${issue.multipleOf}`;
      break;
    case ZodIssueCode.not_finite:
      message = "Number must be finite";
      break;
    default:
      message = _ctx.defaultError;
      util.assertNever(issue);
  }
  return { message };
};
var en_default = errorMap;

// ../../node_modules/zod/v3/errors.js
var overrideErrorMap = en_default;
function setErrorMap(map) {
  overrideErrorMap = map;
}
function getErrorMap() {
  return overrideErrorMap;
}
// ../../node_modules/zod/v3/helpers/parseUtil.js
var makeIssue = (params) => {
  const { data, path, errorMaps, issueData } = params;
  const fullPath = [...path, ...issueData.path || []];
  const fullIssue = {
    ...issueData,
    path: fullPath
  };
  if (issueData.message !== undefined) {
    return {
      ...issueData,
      path: fullPath,
      message: issueData.message
    };
  }
  let errorMessage = "";
  const maps = errorMaps.filter((m) => !!m).slice().reverse();
  for (const map of maps) {
    errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;
  }
  return {
    ...issueData,
    path: fullPath,
    message: errorMessage
  };
};
var EMPTY_PATH = [];
function addIssueToContext(ctx, issueData) {
  const overrideMap = getErrorMap();
  const issue = makeIssue({
    issueData,
    data: ctx.data,
    path: ctx.path,
    errorMaps: [
      ctx.common.contextualErrorMap,
      ctx.schemaErrorMap,
      overrideMap,
      overrideMap === en_default ? undefined : en_default
    ].filter((x) => !!x)
  });
  ctx.common.issues.push(issue);
}

class ParseStatus {
  constructor() {
    this.value = "valid";
  }
  dirty() {
    if (this.value === "valid")
      this.value = "dirty";
  }
  abort() {
    if (this.value !== "aborted")
      this.value = "aborted";
  }
  static mergeArray(status, results) {
    const arrayValue = [];
    for (const s2 of results) {
      if (s2.status === "aborted")
        return INVALID;
      if (s2.status === "dirty")
        status.dirty();
      arrayValue.push(s2.value);
    }
    return { status: status.value, value: arrayValue };
  }
  static async mergeObjectAsync(status, pairs) {
    const syncPairs = [];
    for (const pair of pairs) {
      const key = await pair.key;
      const value = await pair.value;
      syncPairs.push({
        key,
        value
      });
    }
    return ParseStatus.mergeObjectSync(status, syncPairs);
  }
  static mergeObjectSync(status, pairs) {
    const finalObject = {};
    for (const pair of pairs) {
      const { key, value } = pair;
      if (key.status === "aborted")
        return INVALID;
      if (value.status === "aborted")
        return INVALID;
      if (key.status === "dirty")
        status.dirty();
      if (value.status === "dirty")
        status.dirty();
      if (key.value !== "__proto__" && (typeof value.value !== "undefined" || pair.alwaysSet)) {
        finalObject[key.value] = value.value;
      }
    }
    return { status: status.value, value: finalObject };
  }
}
var INVALID = Object.freeze({
  status: "aborted"
});
var DIRTY = (value) => ({ status: "dirty", value });
var OK = (value) => ({ status: "valid", value });
var isAborted = (x) => x.status === "aborted";
var isDirty = (x) => x.status === "dirty";
var isValid = (x) => x.status === "valid";
var isAsync = (x) => typeof Promise !== "undefined" && x instanceof Promise;
// ../../node_modules/zod/v3/helpers/errorUtil.js
var errorUtil;
(function(errorUtil2) {
  errorUtil2.errToObj = (message) => typeof message === "string" ? { message } : message || {};
  errorUtil2.toString = (message) => typeof message === "string" ? message : message?.message;
})(errorUtil || (errorUtil = {}));

// ../../node_modules/zod/v3/types.js
class ParseInputLazyPath {
  constructor(parent, value, path, key) {
    this._cachedPath = [];
    this.parent = parent;
    this.data = value;
    this._path = path;
    this._key = key;
  }
  get path() {
    if (!this._cachedPath.length) {
      if (Array.isArray(this._key)) {
        this._cachedPath.push(...this._path, ...this._key);
      } else {
        this._cachedPath.push(...this._path, this._key);
      }
    }
    return this._cachedPath;
  }
}
var handleResult = (ctx, result) => {
  if (isValid(result)) {
    return { success: true, data: result.value };
  } else {
    if (!ctx.common.issues.length) {
      throw new Error("Validation failed but no issues detected.");
    }
    return {
      success: false,
      get error() {
        if (this._error)
          return this._error;
        const error = new ZodError(ctx.common.issues);
        this._error = error;
        return this._error;
      }
    };
  }
};
function processCreateParams(params) {
  if (!params)
    return {};
  const { errorMap: errorMap2, invalid_type_error, required_error, description } = params;
  if (errorMap2 && (invalid_type_error || required_error)) {
    throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
  }
  if (errorMap2)
    return { errorMap: errorMap2, description };
  const customMap = (iss, ctx) => {
    const { message } = params;
    if (iss.code === "invalid_enum_value") {
      return { message: message ?? ctx.defaultError };
    }
    if (typeof ctx.data === "undefined") {
      return { message: message ?? required_error ?? ctx.defaultError };
    }
    if (iss.code !== "invalid_type")
      return { message: ctx.defaultError };
    return { message: message ?? invalid_type_error ?? ctx.defaultError };
  };
  return { errorMap: customMap, description };
}

class ZodType {
  get description() {
    return this._def.description;
  }
  _getType(input) {
    return getParsedType(input.data);
  }
  _getOrReturnCtx(input, ctx) {
    return ctx || {
      common: input.parent.common,
      data: input.data,
      parsedType: getParsedType(input.data),
      schemaErrorMap: this._def.errorMap,
      path: input.path,
      parent: input.parent
    };
  }
  _processInputParams(input) {
    return {
      status: new ParseStatus,
      ctx: {
        common: input.parent.common,
        data: input.data,
        parsedType: getParsedType(input.data),
        schemaErrorMap: this._def.errorMap,
        path: input.path,
        parent: input.parent
      }
    };
  }
  _parseSync(input) {
    const result = this._parse(input);
    if (isAsync(result)) {
      throw new Error("Synchronous parse encountered promise.");
    }
    return result;
  }
  _parseAsync(input) {
    const result = this._parse(input);
    return Promise.resolve(result);
  }
  parse(data, params) {
    const result = this.safeParse(data, params);
    if (result.success)
      return result.data;
    throw result.error;
  }
  safeParse(data, params) {
    const ctx = {
      common: {
        issues: [],
        async: params?.async ?? false,
        contextualErrorMap: params?.errorMap
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType(data)
    };
    const result = this._parseSync({ data, path: ctx.path, parent: ctx });
    return handleResult(ctx, result);
  }
  "~validate"(data) {
    const ctx = {
      common: {
        issues: [],
        async: !!this["~standard"].async
      },
      path: [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType(data)
    };
    if (!this["~standard"].async) {
      try {
        const result = this._parseSync({ data, path: [], parent: ctx });
        return isValid(result) ? {
          value: result.value
        } : {
          issues: ctx.common.issues
        };
      } catch (err) {
        if (err?.message?.toLowerCase()?.includes("encountered")) {
          this["~standard"].async = true;
        }
        ctx.common = {
          issues: [],
          async: true
        };
      }
    }
    return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result) ? {
      value: result.value
    } : {
      issues: ctx.common.issues
    });
  }
  async parseAsync(data, params) {
    const result = await this.safeParseAsync(data, params);
    if (result.success)
      return result.data;
    throw result.error;
  }
  async safeParseAsync(data, params) {
    const ctx = {
      common: {
        issues: [],
        contextualErrorMap: params?.errorMap,
        async: true
      },
      path: params?.path || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data,
      parsedType: getParsedType(data)
    };
    const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });
    const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));
    return handleResult(ctx, result);
  }
  refine(check, message) {
    const getIssueProperties = (val) => {
      if (typeof message === "string" || typeof message === "undefined") {
        return { message };
      } else if (typeof message === "function") {
        return message(val);
      } else {
        return message;
      }
    };
    return this._refinement((val, ctx) => {
      const result = check(val);
      const setError = () => ctx.addIssue({
        code: ZodIssueCode.custom,
        ...getIssueProperties(val)
      });
      if (typeof Promise !== "undefined" && result instanceof Promise) {
        return result.then((data) => {
          if (!data) {
            setError();
            return false;
          } else {
            return true;
          }
        });
      }
      if (!result) {
        setError();
        return false;
      } else {
        return true;
      }
    });
  }
  refinement(check, refinementData) {
    return this._refinement((val, ctx) => {
      if (!check(val)) {
        ctx.addIssue(typeof refinementData === "function" ? refinementData(val, ctx) : refinementData);
        return false;
      } else {
        return true;
      }
    });
  }
  _refinement(refinement) {
    return new ZodEffects({
      schema: this,
      typeName: ZodFirstPartyTypeKind.ZodEffects,
      effect: { type: "refinement", refinement }
    });
  }
  superRefine(refinement) {
    return this._refinement(refinement);
  }
  constructor(def) {
    this.spa = this.safeParseAsync;
    this._def = def;
    this.parse = this.parse.bind(this);
    this.safeParse = this.safeParse.bind(this);
    this.parseAsync = this.parseAsync.bind(this);
    this.safeParseAsync = this.safeParseAsync.bind(this);
    this.spa = this.spa.bind(this);
    this.refine = this.refine.bind(this);
    this.refinement = this.refinement.bind(this);
    this.superRefine = this.superRefine.bind(this);
    this.optional = this.optional.bind(this);
    this.nullable = this.nullable.bind(this);
    this.nullish = this.nullish.bind(this);
    this.array = this.array.bind(this);
    this.promise = this.promise.bind(this);
    this.or = this.or.bind(this);
    this.and = this.and.bind(this);
    this.transform = this.transform.bind(this);
    this.brand = this.brand.bind(this);
    this.default = this.default.bind(this);
    this.catch = this.catch.bind(this);
    this.describe = this.describe.bind(this);
    this.pipe = this.pipe.bind(this);
    this.readonly = this.readonly.bind(this);
    this.isNullable = this.isNullable.bind(this);
    this.isOptional = this.isOptional.bind(this);
    this["~standard"] = {
      version: 1,
      vendor: "zod",
      validate: (data) => this["~validate"](data)
    };
  }
  optional() {
    return ZodOptional.create(this, this._def);
  }
  nullable() {
    return ZodNullable.create(this, this._def);
  }
  nullish() {
    return this.nullable().optional();
  }
  array() {
    return ZodArray.create(this);
  }
  promise() {
    return ZodPromise.create(this, this._def);
  }
  or(option) {
    return ZodUnion.create([this, option], this._def);
  }
  and(incoming) {
    return ZodIntersection.create(this, incoming, this._def);
  }
  transform(transform) {
    return new ZodEffects({
      ...processCreateParams(this._def),
      schema: this,
      typeName: ZodFirstPartyTypeKind.ZodEffects,
      effect: { type: "transform", transform }
    });
  }
  default(def) {
    const defaultValueFunc = typeof def === "function" ? def : () => def;
    return new ZodDefault({
      ...processCreateParams(this._def),
      innerType: this,
      defaultValue: defaultValueFunc,
      typeName: ZodFirstPartyTypeKind.ZodDefault
    });
  }
  brand() {
    return new ZodBranded({
      typeName: ZodFirstPartyTypeKind.ZodBranded,
      type: this,
      ...processCreateParams(this._def)
    });
  }
  catch(def) {
    const catchValueFunc = typeof def === "function" ? def : () => def;
    return new ZodCatch({
      ...processCreateParams(this._def),
      innerType: this,
      catchValue: catchValueFunc,
      typeName: ZodFirstPartyTypeKind.ZodCatch
    });
  }
  describe(description) {
    const This = this.constructor;
    return new This({
      ...this._def,
      description
    });
  }
  pipe(target) {
    return ZodPipeline.create(this, target);
  }
  readonly() {
    return ZodReadonly.create(this);
  }
  isOptional() {
    return this.safeParse(undefined).success;
  }
  isNullable() {
    return this.safeParse(null).success;
  }
}
var cuidRegex = /^c[^\s-]{8,}$/i;
var cuid2Regex = /^[0-9a-z]+$/;
var ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;
var uuidRegex = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i;
var nanoidRegex = /^[a-z0-9_-]{21}$/i;
var jwtRegex = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;
var durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
var emailRegex = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;
var _emojiRegex = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
var emojiRegex;
var ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/;
var ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;
var ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;
var base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;
var dateRegexSource = `((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`;
var dateRegex = new RegExp(`^${dateRegexSource}$`);
function timeRegexSource(args) {
  let secondsRegexSource = `[0-5]\\d`;
  if (args.precision) {
    secondsRegexSource = `${secondsRegexSource}\\.\\d{${args.precision}}`;
  } else if (args.precision == null) {
    secondsRegexSource = `${secondsRegexSource}(\\.\\d+)?`;
  }
  const secondsQuantifier = args.precision ? "+" : "?";
  return `([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${secondsQuantifier}`;
}
function timeRegex(args) {
  return new RegExp(`^${timeRegexSource(args)}$`);
}
function datetimeRegex(args) {
  let regex = `${dateRegexSource}T${timeRegexSource(args)}`;
  const opts = [];
  opts.push(args.local ? `Z?` : `Z`);
  if (args.offset)
    opts.push(`([+-]\\d{2}:?\\d{2})`);
  regex = `${regex}(${opts.join("|")})`;
  return new RegExp(`^${regex}$`);
}
function isValidIP(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4Regex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6Regex.test(ip)) {
    return true;
  }
  return false;
}
function isValidJWT(jwt, alg) {
  if (!jwtRegex.test(jwt))
    return false;
  try {
    const [header] = jwt.split(".");
    if (!header)
      return false;
    const base64 = header.replace(/-/g, "+").replace(/_/g, "/").padEnd(header.length + (4 - header.length % 4) % 4, "=");
    const decoded = JSON.parse(atob(base64));
    if (typeof decoded !== "object" || decoded === null)
      return false;
    if ("typ" in decoded && decoded?.typ !== "JWT")
      return false;
    if (!decoded.alg)
      return false;
    if (alg && decoded.alg !== alg)
      return false;
    return true;
  } catch {
    return false;
  }
}
function isValidCidr(ip, version2) {
  if ((version2 === "v4" || !version2) && ipv4CidrRegex.test(ip)) {
    return true;
  }
  if ((version2 === "v6" || !version2) && ipv6CidrRegex.test(ip)) {
    return true;
  }
  return false;
}

class ZodString extends ZodType {
  _parse(input) {
    if (this._def.coerce) {
      input.data = String(input.data);
    }
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.string) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.string,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const status = new ParseStatus;
    let ctx = undefined;
    for (const check of this._def.checks) {
      if (check.kind === "min") {
        if (input.data.length < check.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_small,
            minimum: check.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "max") {
        if (input.data.length > check.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_big,
            maximum: check.value,
            type: "string",
            inclusive: true,
            exact: false,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "length") {
        const tooBig = input.data.length > check.value;
        const tooSmall = input.data.length < check.value;
        if (tooBig || tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          if (tooBig) {
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              maximum: check.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check.message
            });
          } else if (tooSmall) {
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              minimum: check.value,
              type: "string",
              inclusive: true,
              exact: true,
              message: check.message
            });
          }
          status.dirty();
        }
      } else if (check.kind === "email") {
        if (!emailRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "email",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "emoji") {
        if (!emojiRegex) {
          emojiRegex = new RegExp(_emojiRegex, "u");
        }
        if (!emojiRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "emoji",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "uuid") {
        if (!uuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "uuid",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "nanoid") {
        if (!nanoidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "nanoid",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "cuid") {
        if (!cuidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "cuid2") {
        if (!cuid2Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cuid2",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "ulid") {
        if (!ulidRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ulid",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "url") {
        try {
          new URL(input.data);
        } catch {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "url",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "regex") {
        check.regex.lastIndex = 0;
        const testResult = check.regex.test(input.data);
        if (!testResult) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "regex",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "trim") {
        input.data = input.data.trim();
      } else if (check.kind === "includes") {
        if (!input.data.includes(check.value, check.position)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_string,
            validation: { includes: check.value, position: check.position },
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "toLowerCase") {
        input.data = input.data.toLowerCase();
      } else if (check.kind === "toUpperCase") {
        input.data = input.data.toUpperCase();
      } else if (check.kind === "startsWith") {
        if (!input.data.startsWith(check.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_string,
            validation: { startsWith: check.value },
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "endsWith") {
        if (!input.data.endsWith(check.value)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_string,
            validation: { endsWith: check.value },
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "datetime") {
        const regex = datetimeRegex(check);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_string,
            validation: "datetime",
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "date") {
        const regex = dateRegex;
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_string,
            validation: "date",
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "time") {
        const regex = timeRegex(check);
        if (!regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_string,
            validation: "time",
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "duration") {
        if (!durationRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "duration",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "ip") {
        if (!isValidIP(input.data, check.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "ip",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "jwt") {
        if (!isValidJWT(input.data, check.alg)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "jwt",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "cidr") {
        if (!isValidCidr(input.data, check.version)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "cidr",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "base64") {
        if (!base64Regex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "base64url") {
        if (!base64urlRegex.test(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            validation: "base64url",
            code: ZodIssueCode.invalid_string,
            message: check.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check);
      }
    }
    return { status: status.value, value: input.data };
  }
  _regex(regex, validation, message) {
    return this.refinement((data) => regex.test(data), {
      validation,
      code: ZodIssueCode.invalid_string,
      ...errorUtil.errToObj(message)
    });
  }
  _addCheck(check) {
    return new ZodString({
      ...this._def,
      checks: [...this._def.checks, check]
    });
  }
  email(message) {
    return this._addCheck({ kind: "email", ...errorUtil.errToObj(message) });
  }
  url(message) {
    return this._addCheck({ kind: "url", ...errorUtil.errToObj(message) });
  }
  emoji(message) {
    return this._addCheck({ kind: "emoji", ...errorUtil.errToObj(message) });
  }
  uuid(message) {
    return this._addCheck({ kind: "uuid", ...errorUtil.errToObj(message) });
  }
  nanoid(message) {
    return this._addCheck({ kind: "nanoid", ...errorUtil.errToObj(message) });
  }
  cuid(message) {
    return this._addCheck({ kind: "cuid", ...errorUtil.errToObj(message) });
  }
  cuid2(message) {
    return this._addCheck({ kind: "cuid2", ...errorUtil.errToObj(message) });
  }
  ulid(message) {
    return this._addCheck({ kind: "ulid", ...errorUtil.errToObj(message) });
  }
  base64(message) {
    return this._addCheck({ kind: "base64", ...errorUtil.errToObj(message) });
  }
  base64url(message) {
    return this._addCheck({
      kind: "base64url",
      ...errorUtil.errToObj(message)
    });
  }
  jwt(options) {
    return this._addCheck({ kind: "jwt", ...errorUtil.errToObj(options) });
  }
  ip(options) {
    return this._addCheck({ kind: "ip", ...errorUtil.errToObj(options) });
  }
  cidr(options) {
    return this._addCheck({ kind: "cidr", ...errorUtil.errToObj(options) });
  }
  datetime(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "datetime",
        precision: null,
        offset: false,
        local: false,
        message: options
      });
    }
    return this._addCheck({
      kind: "datetime",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      offset: options?.offset ?? false,
      local: options?.local ?? false,
      ...errorUtil.errToObj(options?.message)
    });
  }
  date(message) {
    return this._addCheck({ kind: "date", message });
  }
  time(options) {
    if (typeof options === "string") {
      return this._addCheck({
        kind: "time",
        precision: null,
        message: options
      });
    }
    return this._addCheck({
      kind: "time",
      precision: typeof options?.precision === "undefined" ? null : options?.precision,
      ...errorUtil.errToObj(options?.message)
    });
  }
  duration(message) {
    return this._addCheck({ kind: "duration", ...errorUtil.errToObj(message) });
  }
  regex(regex, message) {
    return this._addCheck({
      kind: "regex",
      regex,
      ...errorUtil.errToObj(message)
    });
  }
  includes(value, options) {
    return this._addCheck({
      kind: "includes",
      value,
      position: options?.position,
      ...errorUtil.errToObj(options?.message)
    });
  }
  startsWith(value, message) {
    return this._addCheck({
      kind: "startsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  endsWith(value, message) {
    return this._addCheck({
      kind: "endsWith",
      value,
      ...errorUtil.errToObj(message)
    });
  }
  min(minLength, message) {
    return this._addCheck({
      kind: "min",
      value: minLength,
      ...errorUtil.errToObj(message)
    });
  }
  max(maxLength, message) {
    return this._addCheck({
      kind: "max",
      value: maxLength,
      ...errorUtil.errToObj(message)
    });
  }
  length(len, message) {
    return this._addCheck({
      kind: "length",
      value: len,
      ...errorUtil.errToObj(message)
    });
  }
  nonempty(message) {
    return this.min(1, errorUtil.errToObj(message));
  }
  trim() {
    return new ZodString({
      ...this._def,
      checks: [...this._def.checks, { kind: "trim" }]
    });
  }
  toLowerCase() {
    return new ZodString({
      ...this._def,
      checks: [...this._def.checks, { kind: "toLowerCase" }]
    });
  }
  toUpperCase() {
    return new ZodString({
      ...this._def,
      checks: [...this._def.checks, { kind: "toUpperCase" }]
    });
  }
  get isDatetime() {
    return !!this._def.checks.find((ch) => ch.kind === "datetime");
  }
  get isDate() {
    return !!this._def.checks.find((ch) => ch.kind === "date");
  }
  get isTime() {
    return !!this._def.checks.find((ch) => ch.kind === "time");
  }
  get isDuration() {
    return !!this._def.checks.find((ch) => ch.kind === "duration");
  }
  get isEmail() {
    return !!this._def.checks.find((ch) => ch.kind === "email");
  }
  get isURL() {
    return !!this._def.checks.find((ch) => ch.kind === "url");
  }
  get isEmoji() {
    return !!this._def.checks.find((ch) => ch.kind === "emoji");
  }
  get isUUID() {
    return !!this._def.checks.find((ch) => ch.kind === "uuid");
  }
  get isNANOID() {
    return !!this._def.checks.find((ch) => ch.kind === "nanoid");
  }
  get isCUID() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid");
  }
  get isCUID2() {
    return !!this._def.checks.find((ch) => ch.kind === "cuid2");
  }
  get isULID() {
    return !!this._def.checks.find((ch) => ch.kind === "ulid");
  }
  get isIP() {
    return !!this._def.checks.find((ch) => ch.kind === "ip");
  }
  get isCIDR() {
    return !!this._def.checks.find((ch) => ch.kind === "cidr");
  }
  get isBase64() {
    return !!this._def.checks.find((ch) => ch.kind === "base64");
  }
  get isBase64url() {
    return !!this._def.checks.find((ch) => ch.kind === "base64url");
  }
  get minLength() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxLength() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
}
ZodString.create = (params) => {
  return new ZodString({
    checks: [],
    typeName: ZodFirstPartyTypeKind.ZodString,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};
function floatSafeRemainder(val, step) {
  const valDecCount = (val.toString().split(".")[1] || "").length;
  const stepDecCount = (step.toString().split(".")[1] || "").length;
  const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
  const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
  const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
  return valInt % stepInt / 10 ** decCount;
}

class ZodNumber extends ZodType {
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
    this.step = this.multipleOf;
  }
  _parse(input) {
    if (this._def.coerce) {
      input.data = Number(input.data);
    }
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.number) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.number,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    let ctx = undefined;
    const status = new ParseStatus;
    for (const check of this._def.checks) {
      if (check.kind === "int") {
        if (!util.isInteger(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_type,
            expected: "integer",
            received: "float",
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "min") {
        const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_small,
            minimum: check.value,
            type: "number",
            inclusive: check.inclusive,
            exact: false,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "max") {
        const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_big,
            maximum: check.value,
            type: "number",
            inclusive: check.inclusive,
            exact: false,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "multipleOf") {
        if (floatSafeRemainder(input.data, check.value) !== 0) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.not_multiple_of,
            multipleOf: check.value,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "finite") {
        if (!Number.isFinite(input.data)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.not_finite,
            message: check.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check);
      }
    }
    return { status: status.value, value: input.data };
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new ZodNumber({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check) {
    return new ZodNumber({
      ...this._def,
      checks: [...this._def.checks, check]
    });
  }
  int(message) {
    return this._addCheck({
      kind: "int",
      message: errorUtil.toString(message)
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  finite(message) {
    return this._addCheck({
      kind: "finite",
      message: errorUtil.toString(message)
    });
  }
  safe(message) {
    return this._addCheck({
      kind: "min",
      inclusive: true,
      value: Number.MIN_SAFE_INTEGER,
      message: errorUtil.toString(message)
    })._addCheck({
      kind: "max",
      inclusive: true,
      value: Number.MAX_SAFE_INTEGER,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
  get isInt() {
    return !!this._def.checks.find((ch) => ch.kind === "int" || ch.kind === "multipleOf" && util.isInteger(ch.value));
  }
  get isFinite() {
    let max = null;
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "finite" || ch.kind === "int" || ch.kind === "multipleOf") {
        return true;
      } else if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      } else if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return Number.isFinite(min) && Number.isFinite(max);
  }
}
ZodNumber.create = (params) => {
  return new ZodNumber({
    checks: [],
    typeName: ZodFirstPartyTypeKind.ZodNumber,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};

class ZodBigInt extends ZodType {
  constructor() {
    super(...arguments);
    this.min = this.gte;
    this.max = this.lte;
  }
  _parse(input) {
    if (this._def.coerce) {
      try {
        input.data = BigInt(input.data);
      } catch {
        return this._getInvalidInput(input);
      }
    }
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.bigint) {
      return this._getInvalidInput(input);
    }
    let ctx = undefined;
    const status = new ParseStatus;
    for (const check of this._def.checks) {
      if (check.kind === "min") {
        const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;
        if (tooSmall) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_small,
            type: "bigint",
            minimum: check.value,
            inclusive: check.inclusive,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "max") {
        const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;
        if (tooBig) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_big,
            type: "bigint",
            maximum: check.value,
            inclusive: check.inclusive,
            message: check.message
          });
          status.dirty();
        }
      } else if (check.kind === "multipleOf") {
        if (input.data % check.value !== BigInt(0)) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.not_multiple_of,
            multipleOf: check.value,
            message: check.message
          });
          status.dirty();
        }
      } else {
        util.assertNever(check);
      }
    }
    return { status: status.value, value: input.data };
  }
  _getInvalidInput(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode.invalid_type,
      expected: ZodParsedType.bigint,
      received: ctx.parsedType
    });
    return INVALID;
  }
  gte(value, message) {
    return this.setLimit("min", value, true, errorUtil.toString(message));
  }
  gt(value, message) {
    return this.setLimit("min", value, false, errorUtil.toString(message));
  }
  lte(value, message) {
    return this.setLimit("max", value, true, errorUtil.toString(message));
  }
  lt(value, message) {
    return this.setLimit("max", value, false, errorUtil.toString(message));
  }
  setLimit(kind, value, inclusive, message) {
    return new ZodBigInt({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind,
          value,
          inclusive,
          message: errorUtil.toString(message)
        }
      ]
    });
  }
  _addCheck(check) {
    return new ZodBigInt({
      ...this._def,
      checks: [...this._def.checks, check]
    });
  }
  positive(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  negative(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: false,
      message: errorUtil.toString(message)
    });
  }
  nonpositive(message) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  nonnegative(message) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: true,
      message: errorUtil.toString(message)
    });
  }
  multipleOf(value, message) {
    return this._addCheck({
      kind: "multipleOf",
      value,
      message: errorUtil.toString(message)
    });
  }
  get minValue() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min;
  }
  get maxValue() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max;
  }
}
ZodBigInt.create = (params) => {
  return new ZodBigInt({
    checks: [],
    typeName: ZodFirstPartyTypeKind.ZodBigInt,
    coerce: params?.coerce ?? false,
    ...processCreateParams(params)
  });
};

class ZodBoolean extends ZodType {
  _parse(input) {
    if (this._def.coerce) {
      input.data = Boolean(input.data);
    }
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.boolean) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.boolean,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
}
ZodBoolean.create = (params) => {
  return new ZodBoolean({
    typeName: ZodFirstPartyTypeKind.ZodBoolean,
    coerce: params?.coerce || false,
    ...processCreateParams(params)
  });
};

class ZodDate extends ZodType {
  _parse(input) {
    if (this._def.coerce) {
      input.data = new Date(input.data);
    }
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.date) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.date,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    if (Number.isNaN(input.data.getTime())) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode.invalid_date
      });
      return INVALID;
    }
    const status = new ParseStatus;
    let ctx = undefined;
    for (const check of this._def.checks) {
      if (check.kind === "min") {
        if (input.data.getTime() < check.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_small,
            message: check.message,
            inclusive: true,
            exact: false,
            minimum: check.value,
            type: "date"
          });
          status.dirty();
        }
      } else if (check.kind === "max") {
        if (input.data.getTime() > check.value) {
          ctx = this._getOrReturnCtx(input, ctx);
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_big,
            message: check.message,
            inclusive: true,
            exact: false,
            maximum: check.value,
            type: "date"
          });
          status.dirty();
        }
      } else {
        util.assertNever(check);
      }
    }
    return {
      status: status.value,
      value: new Date(input.data.getTime())
    };
  }
  _addCheck(check) {
    return new ZodDate({
      ...this._def,
      checks: [...this._def.checks, check]
    });
  }
  min(minDate, message) {
    return this._addCheck({
      kind: "min",
      value: minDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  max(maxDate, message) {
    return this._addCheck({
      kind: "max",
      value: maxDate.getTime(),
      message: errorUtil.toString(message)
    });
  }
  get minDate() {
    let min = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "min") {
        if (min === null || ch.value > min)
          min = ch.value;
      }
    }
    return min != null ? new Date(min) : null;
  }
  get maxDate() {
    let max = null;
    for (const ch of this._def.checks) {
      if (ch.kind === "max") {
        if (max === null || ch.value < max)
          max = ch.value;
      }
    }
    return max != null ? new Date(max) : null;
  }
}
ZodDate.create = (params) => {
  return new ZodDate({
    checks: [],
    coerce: params?.coerce || false,
    typeName: ZodFirstPartyTypeKind.ZodDate,
    ...processCreateParams(params)
  });
};

class ZodSymbol extends ZodType {
  _parse(input) {
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.symbol) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.symbol,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
}
ZodSymbol.create = (params) => {
  return new ZodSymbol({
    typeName: ZodFirstPartyTypeKind.ZodSymbol,
    ...processCreateParams(params)
  });
};

class ZodUndefined extends ZodType {
  _parse(input) {
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.undefined,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
}
ZodUndefined.create = (params) => {
  return new ZodUndefined({
    typeName: ZodFirstPartyTypeKind.ZodUndefined,
    ...processCreateParams(params)
  });
};

class ZodNull extends ZodType {
  _parse(input) {
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.null) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.null,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
}
ZodNull.create = (params) => {
  return new ZodNull({
    typeName: ZodFirstPartyTypeKind.ZodNull,
    ...processCreateParams(params)
  });
};

class ZodAny extends ZodType {
  constructor() {
    super(...arguments);
    this._any = true;
  }
  _parse(input) {
    return OK(input.data);
  }
}
ZodAny.create = (params) => {
  return new ZodAny({
    typeName: ZodFirstPartyTypeKind.ZodAny,
    ...processCreateParams(params)
  });
};

class ZodUnknown extends ZodType {
  constructor() {
    super(...arguments);
    this._unknown = true;
  }
  _parse(input) {
    return OK(input.data);
  }
}
ZodUnknown.create = (params) => {
  return new ZodUnknown({
    typeName: ZodFirstPartyTypeKind.ZodUnknown,
    ...processCreateParams(params)
  });
};

class ZodNever extends ZodType {
  _parse(input) {
    const ctx = this._getOrReturnCtx(input);
    addIssueToContext(ctx, {
      code: ZodIssueCode.invalid_type,
      expected: ZodParsedType.never,
      received: ctx.parsedType
    });
    return INVALID;
  }
}
ZodNever.create = (params) => {
  return new ZodNever({
    typeName: ZodFirstPartyTypeKind.ZodNever,
    ...processCreateParams(params)
  });
};

class ZodVoid extends ZodType {
  _parse(input) {
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.undefined) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.void,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return OK(input.data);
  }
}
ZodVoid.create = (params) => {
  return new ZodVoid({
    typeName: ZodFirstPartyTypeKind.ZodVoid,
    ...processCreateParams(params)
  });
};

class ZodArray extends ZodType {
  _parse(input) {
    const { ctx, status } = this._processInputParams(input);
    const def = this._def;
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (def.exactLength !== null) {
      const tooBig = ctx.data.length > def.exactLength.value;
      const tooSmall = ctx.data.length < def.exactLength.value;
      if (tooBig || tooSmall) {
        addIssueToContext(ctx, {
          code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,
          minimum: tooSmall ? def.exactLength.value : undefined,
          maximum: tooBig ? def.exactLength.value : undefined,
          type: "array",
          inclusive: true,
          exact: true,
          message: def.exactLength.message
        });
        status.dirty();
      }
    }
    if (def.minLength !== null) {
      if (ctx.data.length < def.minLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.too_small,
          minimum: def.minLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.minLength.message
        });
        status.dirty();
      }
    }
    if (def.maxLength !== null) {
      if (ctx.data.length > def.maxLength.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.too_big,
          maximum: def.maxLength.value,
          type: "array",
          inclusive: true,
          exact: false,
          message: def.maxLength.message
        });
        status.dirty();
      }
    }
    if (ctx.common.async) {
      return Promise.all([...ctx.data].map((item, i) => {
        return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));
      })).then((result2) => {
        return ParseStatus.mergeArray(status, result2);
      });
    }
    const result = [...ctx.data].map((item, i) => {
      return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));
    });
    return ParseStatus.mergeArray(status, result);
  }
  get element() {
    return this._def.type;
  }
  min(minLength, message) {
    return new ZodArray({
      ...this._def,
      minLength: { value: minLength, message: errorUtil.toString(message) }
    });
  }
  max(maxLength, message) {
    return new ZodArray({
      ...this._def,
      maxLength: { value: maxLength, message: errorUtil.toString(message) }
    });
  }
  length(len, message) {
    return new ZodArray({
      ...this._def,
      exactLength: { value: len, message: errorUtil.toString(message) }
    });
  }
  nonempty(message) {
    return this.min(1, message);
  }
}
ZodArray.create = (schema2, params) => {
  return new ZodArray({
    type: schema2,
    minLength: null,
    maxLength: null,
    exactLength: null,
    typeName: ZodFirstPartyTypeKind.ZodArray,
    ...processCreateParams(params)
  });
};
function deepPartialify(schema2) {
  if (schema2 instanceof ZodObject) {
    const newShape = {};
    for (const key in schema2.shape) {
      const fieldSchema = schema2.shape[key];
      newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));
    }
    return new ZodObject({
      ...schema2._def,
      shape: () => newShape
    });
  } else if (schema2 instanceof ZodArray) {
    return new ZodArray({
      ...schema2._def,
      type: deepPartialify(schema2.element)
    });
  } else if (schema2 instanceof ZodOptional) {
    return ZodOptional.create(deepPartialify(schema2.unwrap()));
  } else if (schema2 instanceof ZodNullable) {
    return ZodNullable.create(deepPartialify(schema2.unwrap()));
  } else if (schema2 instanceof ZodTuple) {
    return ZodTuple.create(schema2.items.map((item) => deepPartialify(item)));
  } else {
    return schema2;
  }
}

class ZodObject extends ZodType {
  constructor() {
    super(...arguments);
    this._cached = null;
    this.nonstrict = this.passthrough;
    this.augment = this.extend;
  }
  _getCached() {
    if (this._cached !== null)
      return this._cached;
    const shape = this._def.shape();
    const keys = util.objectKeys(shape);
    this._cached = { shape, keys };
    return this._cached;
  }
  _parse(input) {
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.object) {
      const ctx2 = this._getOrReturnCtx(input);
      addIssueToContext(ctx2, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.object,
        received: ctx2.parsedType
      });
      return INVALID;
    }
    const { status, ctx } = this._processInputParams(input);
    const { shape, keys: shapeKeys } = this._getCached();
    const extraKeys = [];
    if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === "strip")) {
      for (const key in ctx.data) {
        if (!shapeKeys.includes(key)) {
          extraKeys.push(key);
        }
      }
    }
    const pairs = [];
    for (const key of shapeKeys) {
      const keyValidator = shape[key];
      const value = ctx.data[key];
      pairs.push({
        key: { status: "valid", value: key },
        value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (this._def.catchall instanceof ZodNever) {
      const unknownKeys = this._def.unknownKeys;
      if (unknownKeys === "passthrough") {
        for (const key of extraKeys) {
          pairs.push({
            key: { status: "valid", value: key },
            value: { status: "valid", value: ctx.data[key] }
          });
        }
      } else if (unknownKeys === "strict") {
        if (extraKeys.length > 0) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.unrecognized_keys,
            keys: extraKeys
          });
          status.dirty();
        }
      } else if (unknownKeys === "strip") {} else {
        throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);
      }
    } else {
      const catchall = this._def.catchall;
      for (const key of extraKeys) {
        const value = ctx.data[key];
        pairs.push({
          key: { status: "valid", value: key },
          value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
          alwaysSet: key in ctx.data
        });
      }
    }
    if (ctx.common.async) {
      return Promise.resolve().then(async () => {
        const syncPairs = [];
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          syncPairs.push({
            key,
            value,
            alwaysSet: pair.alwaysSet
          });
        }
        return syncPairs;
      }).then((syncPairs) => {
        return ParseStatus.mergeObjectSync(status, syncPairs);
      });
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get shape() {
    return this._def.shape();
  }
  strict(message) {
    errorUtil.errToObj;
    return new ZodObject({
      ...this._def,
      unknownKeys: "strict",
      ...message !== undefined ? {
        errorMap: (issue, ctx) => {
          const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;
          if (issue.code === "unrecognized_keys")
            return {
              message: errorUtil.errToObj(message).message ?? defaultError
            };
          return {
            message: defaultError
          };
        }
      } : {}
    });
  }
  strip() {
    return new ZodObject({
      ...this._def,
      unknownKeys: "strip"
    });
  }
  passthrough() {
    return new ZodObject({
      ...this._def,
      unknownKeys: "passthrough"
    });
  }
  extend(augmentation) {
    return new ZodObject({
      ...this._def,
      shape: () => ({
        ...this._def.shape(),
        ...augmentation
      })
    });
  }
  merge(merging) {
    const merged = new ZodObject({
      unknownKeys: merging._def.unknownKeys,
      catchall: merging._def.catchall,
      shape: () => ({
        ...this._def.shape(),
        ...merging._def.shape()
      }),
      typeName: ZodFirstPartyTypeKind.ZodObject
    });
    return merged;
  }
  setKey(key, schema2) {
    return this.augment({ [key]: schema2 });
  }
  catchall(index2) {
    return new ZodObject({
      ...this._def,
      catchall: index2
    });
  }
  pick(mask) {
    const shape = {};
    for (const key of util.objectKeys(mask)) {
      if (mask[key] && this.shape[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new ZodObject({
      ...this._def,
      shape: () => shape
    });
  }
  omit(mask) {
    const shape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (!mask[key]) {
        shape[key] = this.shape[key];
      }
    }
    return new ZodObject({
      ...this._def,
      shape: () => shape
    });
  }
  deepPartial() {
    return deepPartialify(this);
  }
  partial(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      const fieldSchema = this.shape[key];
      if (mask && !mask[key]) {
        newShape[key] = fieldSchema;
      } else {
        newShape[key] = fieldSchema.optional();
      }
    }
    return new ZodObject({
      ...this._def,
      shape: () => newShape
    });
  }
  required(mask) {
    const newShape = {};
    for (const key of util.objectKeys(this.shape)) {
      if (mask && !mask[key]) {
        newShape[key] = this.shape[key];
      } else {
        const fieldSchema = this.shape[key];
        let newField = fieldSchema;
        while (newField instanceof ZodOptional) {
          newField = newField._def.innerType;
        }
        newShape[key] = newField;
      }
    }
    return new ZodObject({
      ...this._def,
      shape: () => newShape
    });
  }
  keyof() {
    return createZodEnum(util.objectKeys(this.shape));
  }
}
ZodObject.create = (shape, params) => {
  return new ZodObject({
    shape: () => shape,
    unknownKeys: "strip",
    catchall: ZodNever.create(),
    typeName: ZodFirstPartyTypeKind.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject.strictCreate = (shape, params) => {
  return new ZodObject({
    shape: () => shape,
    unknownKeys: "strict",
    catchall: ZodNever.create(),
    typeName: ZodFirstPartyTypeKind.ZodObject,
    ...processCreateParams(params)
  });
};
ZodObject.lazycreate = (shape, params) => {
  return new ZodObject({
    shape,
    unknownKeys: "strip",
    catchall: ZodNever.create(),
    typeName: ZodFirstPartyTypeKind.ZodObject,
    ...processCreateParams(params)
  });
};

class ZodUnion extends ZodType {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const options = this._def.options;
    function handleResults(results) {
      for (const result of results) {
        if (result.result.status === "valid") {
          return result.result;
        }
      }
      for (const result of results) {
        if (result.result.status === "dirty") {
          ctx.common.issues.push(...result.ctx.common.issues);
          return result.result;
        }
      }
      const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_union,
        unionErrors
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return Promise.all(options.map(async (option) => {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        return {
          result: await option._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: childCtx
          }),
          ctx: childCtx
        };
      })).then(handleResults);
    } else {
      let dirty = undefined;
      const issues = [];
      for (const option of options) {
        const childCtx = {
          ...ctx,
          common: {
            ...ctx.common,
            issues: []
          },
          parent: null
        };
        const result = option._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: childCtx
        });
        if (result.status === "valid") {
          return result;
        } else if (result.status === "dirty" && !dirty) {
          dirty = { result, ctx: childCtx };
        }
        if (childCtx.common.issues.length) {
          issues.push(childCtx.common.issues);
        }
      }
      if (dirty) {
        ctx.common.issues.push(...dirty.ctx.common.issues);
        return dirty.result;
      }
      const unionErrors = issues.map((issues2) => new ZodError(issues2));
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_union,
        unionErrors
      });
      return INVALID;
    }
  }
  get options() {
    return this._def.options;
  }
}
ZodUnion.create = (types2, params) => {
  return new ZodUnion({
    options: types2,
    typeName: ZodFirstPartyTypeKind.ZodUnion,
    ...processCreateParams(params)
  });
};
var getDiscriminator = (type) => {
  if (type instanceof ZodLazy) {
    return getDiscriminator(type.schema);
  } else if (type instanceof ZodEffects) {
    return getDiscriminator(type.innerType());
  } else if (type instanceof ZodLiteral) {
    return [type.value];
  } else if (type instanceof ZodEnum) {
    return type.options;
  } else if (type instanceof ZodNativeEnum) {
    return util.objectValues(type.enum);
  } else if (type instanceof ZodDefault) {
    return getDiscriminator(type._def.innerType);
  } else if (type instanceof ZodUndefined) {
    return [undefined];
  } else if (type instanceof ZodNull) {
    return [null];
  } else if (type instanceof ZodOptional) {
    return [undefined, ...getDiscriminator(type.unwrap())];
  } else if (type instanceof ZodNullable) {
    return [null, ...getDiscriminator(type.unwrap())];
  } else if (type instanceof ZodBranded) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodReadonly) {
    return getDiscriminator(type.unwrap());
  } else if (type instanceof ZodCatch) {
    return getDiscriminator(type._def.innerType);
  } else {
    return [];
  }
};

class ZodDiscriminatedUnion extends ZodType {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const discriminator = this.discriminator;
    const discriminatorValue = ctx.data[discriminator];
    const option = this.optionsMap.get(discriminatorValue);
    if (!option) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_union_discriminator,
        options: Array.from(this.optionsMap.keys()),
        path: [discriminator]
      });
      return INVALID;
    }
    if (ctx.common.async) {
      return option._parseAsync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    } else {
      return option._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
    }
  }
  get discriminator() {
    return this._def.discriminator;
  }
  get options() {
    return this._def.options;
  }
  get optionsMap() {
    return this._def.optionsMap;
  }
  static create(discriminator, options, params) {
    const optionsMap = new Map;
    for (const type of options) {
      const discriminatorValues = getDiscriminator(type.shape[discriminator]);
      if (!discriminatorValues.length) {
        throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);
      }
      for (const value of discriminatorValues) {
        if (optionsMap.has(value)) {
          throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);
        }
        optionsMap.set(value, type);
      }
    }
    return new ZodDiscriminatedUnion({
      typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,
      discriminator,
      options,
      optionsMap,
      ...processCreateParams(params)
    });
  }
}
function mergeValues(a, b2) {
  const aType = getParsedType(a);
  const bType = getParsedType(b2);
  if (a === b2) {
    return { valid: true, data: a };
  } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {
    const bKeys = util.objectKeys(b2);
    const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);
    const newObj = { ...a, ...b2 };
    for (const key of sharedKeys) {
      const sharedValue = mergeValues(a[key], b2[key]);
      if (!sharedValue.valid) {
        return { valid: false };
      }
      newObj[key] = sharedValue.data;
    }
    return { valid: true, data: newObj };
  } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {
    if (a.length !== b2.length) {
      return { valid: false };
    }
    const newArray = [];
    for (let index2 = 0;index2 < a.length; index2++) {
      const itemA = a[index2];
      const itemB = b2[index2];
      const sharedValue = mergeValues(itemA, itemB);
      if (!sharedValue.valid) {
        return { valid: false };
      }
      newArray.push(sharedValue.data);
    }
    return { valid: true, data: newArray };
  } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b2) {
    return { valid: true, data: a };
  } else {
    return { valid: false };
  }
}

class ZodIntersection extends ZodType {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const handleParsed = (parsedLeft, parsedRight) => {
      if (isAborted(parsedLeft) || isAborted(parsedRight)) {
        return INVALID;
      }
      const merged = mergeValues(parsedLeft.value, parsedRight.value);
      if (!merged.valid) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_intersection_types
        });
        return INVALID;
      }
      if (isDirty(parsedLeft) || isDirty(parsedRight)) {
        status.dirty();
      }
      return { status: status.value, value: merged.data };
    };
    if (ctx.common.async) {
      return Promise.all([
        this._def.left._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }),
        this._def.right._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        })
      ]).then(([left, right]) => handleParsed(left, right));
    } else {
      return handleParsed(this._def.left._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }), this._def.right._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      }));
    }
  }
}
ZodIntersection.create = (left, right, params) => {
  return new ZodIntersection({
    left,
    right,
    typeName: ZodFirstPartyTypeKind.ZodIntersection,
    ...processCreateParams(params)
  });
};

class ZodTuple extends ZodType {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.array) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.array,
        received: ctx.parsedType
      });
      return INVALID;
    }
    if (ctx.data.length < this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.too_small,
        minimum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      return INVALID;
    }
    const rest = this._def.rest;
    if (!rest && ctx.data.length > this._def.items.length) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.too_big,
        maximum: this._def.items.length,
        inclusive: true,
        exact: false,
        type: "array"
      });
      status.dirty();
    }
    const items = [...ctx.data].map((item, itemIndex) => {
      const schema2 = this._def.items[itemIndex] || this._def.rest;
      if (!schema2)
        return null;
      return schema2._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));
    }).filter((x) => !!x);
    if (ctx.common.async) {
      return Promise.all(items).then((results) => {
        return ParseStatus.mergeArray(status, results);
      });
    } else {
      return ParseStatus.mergeArray(status, items);
    }
  }
  get items() {
    return this._def.items;
  }
  rest(rest) {
    return new ZodTuple({
      ...this._def,
      rest
    });
  }
}
ZodTuple.create = (schemas, params) => {
  if (!Array.isArray(schemas)) {
    throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
  }
  return new ZodTuple({
    items: schemas,
    typeName: ZodFirstPartyTypeKind.ZodTuple,
    rest: null,
    ...processCreateParams(params)
  });
};

class ZodRecord extends ZodType {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.object) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.object,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const pairs = [];
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    for (const key in ctx.data) {
      pairs.push({
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),
        value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),
        alwaysSet: key in ctx.data
      });
    }
    if (ctx.common.async) {
      return ParseStatus.mergeObjectAsync(status, pairs);
    } else {
      return ParseStatus.mergeObjectSync(status, pairs);
    }
  }
  get element() {
    return this._def.valueType;
  }
  static create(first, second, third) {
    if (second instanceof ZodType) {
      return new ZodRecord({
        keyType: first,
        valueType: second,
        typeName: ZodFirstPartyTypeKind.ZodRecord,
        ...processCreateParams(third)
      });
    }
    return new ZodRecord({
      keyType: ZodString.create(),
      valueType: first,
      typeName: ZodFirstPartyTypeKind.ZodRecord,
      ...processCreateParams(second)
    });
  }
}

class ZodMap extends ZodType {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.map) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.map,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const keyType = this._def.keyType;
    const valueType = this._def.valueType;
    const pairs = [...ctx.data.entries()].map(([key, value], index2) => {
      return {
        key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index2, "key"])),
        value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index2, "value"]))
      };
    });
    if (ctx.common.async) {
      const finalMap = new Map;
      return Promise.resolve().then(async () => {
        for (const pair of pairs) {
          const key = await pair.key;
          const value = await pair.value;
          if (key.status === "aborted" || value.status === "aborted") {
            return INVALID;
          }
          if (key.status === "dirty" || value.status === "dirty") {
            status.dirty();
          }
          finalMap.set(key.value, value.value);
        }
        return { status: status.value, value: finalMap };
      });
    } else {
      const finalMap = new Map;
      for (const pair of pairs) {
        const key = pair.key;
        const value = pair.value;
        if (key.status === "aborted" || value.status === "aborted") {
          return INVALID;
        }
        if (key.status === "dirty" || value.status === "dirty") {
          status.dirty();
        }
        finalMap.set(key.value, value.value);
      }
      return { status: status.value, value: finalMap };
    }
  }
}
ZodMap.create = (keyType, valueType, params) => {
  return new ZodMap({
    valueType,
    keyType,
    typeName: ZodFirstPartyTypeKind.ZodMap,
    ...processCreateParams(params)
  });
};

class ZodSet extends ZodType {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.set) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.set,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const def = this._def;
    if (def.minSize !== null) {
      if (ctx.data.size < def.minSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.too_small,
          minimum: def.minSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.minSize.message
        });
        status.dirty();
      }
    }
    if (def.maxSize !== null) {
      if (ctx.data.size > def.maxSize.value) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.too_big,
          maximum: def.maxSize.value,
          type: "set",
          inclusive: true,
          exact: false,
          message: def.maxSize.message
        });
        status.dirty();
      }
    }
    const valueType = this._def.valueType;
    function finalizeSet(elements2) {
      const parsedSet = new Set;
      for (const element of elements2) {
        if (element.status === "aborted")
          return INVALID;
        if (element.status === "dirty")
          status.dirty();
        parsedSet.add(element.value);
      }
      return { status: status.value, value: parsedSet };
    }
    const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));
    if (ctx.common.async) {
      return Promise.all(elements).then((elements2) => finalizeSet(elements2));
    } else {
      return finalizeSet(elements);
    }
  }
  min(minSize, message) {
    return new ZodSet({
      ...this._def,
      minSize: { value: minSize, message: errorUtil.toString(message) }
    });
  }
  max(maxSize, message) {
    return new ZodSet({
      ...this._def,
      maxSize: { value: maxSize, message: errorUtil.toString(message) }
    });
  }
  size(size2, message) {
    return this.min(size2, message).max(size2, message);
  }
  nonempty(message) {
    return this.min(1, message);
  }
}
ZodSet.create = (valueType, params) => {
  return new ZodSet({
    valueType,
    minSize: null,
    maxSize: null,
    typeName: ZodFirstPartyTypeKind.ZodSet,
    ...processCreateParams(params)
  });
};

class ZodFunction extends ZodType {
  constructor() {
    super(...arguments);
    this.validate = this.implement;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.function) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.function,
        received: ctx.parsedType
      });
      return INVALID;
    }
    function makeArgsIssue(args, error) {
      return makeIssue({
        data: args,
        path: ctx.path,
        errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), en_default].filter((x) => !!x),
        issueData: {
          code: ZodIssueCode.invalid_arguments,
          argumentsError: error
        }
      });
    }
    function makeReturnsIssue(returns, error) {
      return makeIssue({
        data: returns,
        path: ctx.path,
        errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), en_default].filter((x) => !!x),
        issueData: {
          code: ZodIssueCode.invalid_return_type,
          returnTypeError: error
        }
      });
    }
    const params = { errorMap: ctx.common.contextualErrorMap };
    const fn = ctx.data;
    if (this._def.returns instanceof ZodPromise) {
      const me = this;
      return OK(async function(...args) {
        const error = new ZodError([]);
        const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {
          error.addIssue(makeArgsIssue(args, e));
          throw error;
        });
        const result = await Reflect.apply(fn, this, parsedArgs);
        const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e) => {
          error.addIssue(makeReturnsIssue(result, e));
          throw error;
        });
        return parsedReturns;
      });
    } else {
      const me = this;
      return OK(function(...args) {
        const parsedArgs = me._def.args.safeParse(args, params);
        if (!parsedArgs.success) {
          throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);
        }
        const result = Reflect.apply(fn, this, parsedArgs.data);
        const parsedReturns = me._def.returns.safeParse(result, params);
        if (!parsedReturns.success) {
          throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);
        }
        return parsedReturns.data;
      });
    }
  }
  parameters() {
    return this._def.args;
  }
  returnType() {
    return this._def.returns;
  }
  args(...items) {
    return new ZodFunction({
      ...this._def,
      args: ZodTuple.create(items).rest(ZodUnknown.create())
    });
  }
  returns(returnType) {
    return new ZodFunction({
      ...this._def,
      returns: returnType
    });
  }
  implement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  strictImplement(func) {
    const validatedFunc = this.parse(func);
    return validatedFunc;
  }
  static create(args, returns, params) {
    return new ZodFunction({
      args: args ? args : ZodTuple.create([]).rest(ZodUnknown.create()),
      returns: returns || ZodUnknown.create(),
      typeName: ZodFirstPartyTypeKind.ZodFunction,
      ...processCreateParams(params)
    });
  }
}

class ZodLazy extends ZodType {
  get schema() {
    return this._def.getter();
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const lazySchema = this._def.getter();
    return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });
  }
}
ZodLazy.create = (getter, params) => {
  return new ZodLazy({
    getter,
    typeName: ZodFirstPartyTypeKind.ZodLazy,
    ...processCreateParams(params)
  });
};

class ZodLiteral extends ZodType {
  _parse(input) {
    if (input.data !== this._def.value) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode.invalid_literal,
        expected: this._def.value
      });
      return INVALID;
    }
    return { status: "valid", value: input.data };
  }
  get value() {
    return this._def.value;
  }
}
ZodLiteral.create = (value, params) => {
  return new ZodLiteral({
    value,
    typeName: ZodFirstPartyTypeKind.ZodLiteral,
    ...processCreateParams(params)
  });
};
function createZodEnum(values2, params) {
  return new ZodEnum({
    values: values2,
    typeName: ZodFirstPartyTypeKind.ZodEnum,
    ...processCreateParams(params)
  });
}

class ZodEnum extends ZodType {
  _parse(input) {
    if (typeof input.data !== "string") {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(this._def.values);
    }
    if (!this._cache.has(input.data)) {
      const ctx = this._getOrReturnCtx(input);
      const expectedValues = this._def.values;
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get options() {
    return this._def.values;
  }
  get enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Values() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  get Enum() {
    const enumValues = {};
    for (const val of this._def.values) {
      enumValues[val] = val;
    }
    return enumValues;
  }
  extract(values2, newDef = this._def) {
    return ZodEnum.create(values2, {
      ...this._def,
      ...newDef
    });
  }
  exclude(values2, newDef = this._def) {
    return ZodEnum.create(this.options.filter((opt) => !values2.includes(opt)), {
      ...this._def,
      ...newDef
    });
  }
}
ZodEnum.create = createZodEnum;

class ZodNativeEnum extends ZodType {
  _parse(input) {
    const nativeEnumValues = util.getValidEnumValues(this._def.values);
    const ctx = this._getOrReturnCtx(input);
    if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        expected: util.joinValues(expectedValues),
        received: ctx.parsedType,
        code: ZodIssueCode.invalid_type
      });
      return INVALID;
    }
    if (!this._cache) {
      this._cache = new Set(util.getValidEnumValues(this._def.values));
    }
    if (!this._cache.has(input.data)) {
      const expectedValues = util.objectValues(nativeEnumValues);
      addIssueToContext(ctx, {
        received: ctx.data,
        code: ZodIssueCode.invalid_enum_value,
        options: expectedValues
      });
      return INVALID;
    }
    return OK(input.data);
  }
  get enum() {
    return this._def.values;
  }
}
ZodNativeEnum.create = (values2, params) => {
  return new ZodNativeEnum({
    values: values2,
    typeName: ZodFirstPartyTypeKind.ZodNativeEnum,
    ...processCreateParams(params)
  });
};

class ZodPromise extends ZodType {
  unwrap() {
    return this._def.type;
  }
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.promise,
        received: ctx.parsedType
      });
      return INVALID;
    }
    const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);
    return OK(promisified.then((data) => {
      return this._def.type.parseAsync(data, {
        path: ctx.path,
        errorMap: ctx.common.contextualErrorMap
      });
    }));
  }
}
ZodPromise.create = (schema2, params) => {
  return new ZodPromise({
    type: schema2,
    typeName: ZodFirstPartyTypeKind.ZodPromise,
    ...processCreateParams(params)
  });
};

class ZodEffects extends ZodType {
  innerType() {
    return this._def.schema;
  }
  sourceType() {
    return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
  }
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    const effect = this._def.effect || null;
    const checkCtx = {
      addIssue: (arg) => {
        addIssueToContext(ctx, arg);
        if (arg.fatal) {
          status.abort();
        } else {
          status.dirty();
        }
      },
      get path() {
        return ctx.path;
      }
    };
    checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);
    if (effect.type === "preprocess") {
      const processed = effect.transform(ctx.data, checkCtx);
      if (ctx.common.async) {
        return Promise.resolve(processed).then(async (processed2) => {
          if (status.value === "aborted")
            return INVALID;
          const result = await this._def.schema._parseAsync({
            data: processed2,
            path: ctx.path,
            parent: ctx
          });
          if (result.status === "aborted")
            return INVALID;
          if (result.status === "dirty")
            return DIRTY(result.value);
          if (status.value === "dirty")
            return DIRTY(result.value);
          return result;
        });
      } else {
        if (status.value === "aborted")
          return INVALID;
        const result = this._def.schema._parseSync({
          data: processed,
          path: ctx.path,
          parent: ctx
        });
        if (result.status === "aborted")
          return INVALID;
        if (result.status === "dirty")
          return DIRTY(result.value);
        if (status.value === "dirty")
          return DIRTY(result.value);
        return result;
      }
    }
    if (effect.type === "refinement") {
      const executeRefinement = (acc) => {
        const result = effect.refinement(acc, checkCtx);
        if (ctx.common.async) {
          return Promise.resolve(result);
        }
        if (result instanceof Promise) {
          throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
        }
        return acc;
      };
      if (ctx.common.async === false) {
        const inner = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inner.status === "aborted")
          return INVALID;
        if (inner.status === "dirty")
          status.dirty();
        executeRefinement(inner.value);
        return { status: status.value, value: inner.value };
      } else {
        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {
          if (inner.status === "aborted")
            return INVALID;
          if (inner.status === "dirty")
            status.dirty();
          return executeRefinement(inner.value).then(() => {
            return { status: status.value, value: inner.value };
          });
        });
      }
    }
    if (effect.type === "transform") {
      if (ctx.common.async === false) {
        const base = this._def.schema._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (!isValid(base))
          return INVALID;
        const result = effect.transform(base.value, checkCtx);
        if (result instanceof Promise) {
          throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);
        }
        return { status: status.value, value: result };
      } else {
        return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {
          if (!isValid(base))
            return INVALID;
          return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({
            status: status.value,
            value: result
          }));
        });
      }
    }
    util.assertNever(effect);
  }
}
ZodEffects.create = (schema2, effect, params) => {
  return new ZodEffects({
    schema: schema2,
    typeName: ZodFirstPartyTypeKind.ZodEffects,
    effect,
    ...processCreateParams(params)
  });
};
ZodEffects.createWithPreprocess = (preprocess, schema2, params) => {
  return new ZodEffects({
    schema: schema2,
    effect: { type: "preprocess", transform: preprocess },
    typeName: ZodFirstPartyTypeKind.ZodEffects,
    ...processCreateParams(params)
  });
};
class ZodOptional extends ZodType {
  _parse(input) {
    const parsedType = this._getType(input);
    if (parsedType === ZodParsedType.undefined) {
      return OK(undefined);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
}
ZodOptional.create = (type, params) => {
  return new ZodOptional({
    innerType: type,
    typeName: ZodFirstPartyTypeKind.ZodOptional,
    ...processCreateParams(params)
  });
};

class ZodNullable extends ZodType {
  _parse(input) {
    const parsedType = this._getType(input);
    if (parsedType === ZodParsedType.null) {
      return OK(null);
    }
    return this._def.innerType._parse(input);
  }
  unwrap() {
    return this._def.innerType;
  }
}
ZodNullable.create = (type, params) => {
  return new ZodNullable({
    innerType: type,
    typeName: ZodFirstPartyTypeKind.ZodNullable,
    ...processCreateParams(params)
  });
};

class ZodDefault extends ZodType {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    let data = ctx.data;
    if (ctx.parsedType === ZodParsedType.undefined) {
      data = this._def.defaultValue();
    }
    return this._def.innerType._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  removeDefault() {
    return this._def.innerType;
  }
}
ZodDefault.create = (type, params) => {
  return new ZodDefault({
    innerType: type,
    typeName: ZodFirstPartyTypeKind.ZodDefault,
    defaultValue: typeof params.default === "function" ? params.default : () => params.default,
    ...processCreateParams(params)
  });
};

class ZodCatch extends ZodType {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const newCtx = {
      ...ctx,
      common: {
        ...ctx.common,
        issues: []
      }
    };
    const result = this._def.innerType._parse({
      data: newCtx.data,
      path: newCtx.path,
      parent: {
        ...newCtx
      }
    });
    if (isAsync(result)) {
      return result.then((result2) => {
        return {
          status: "valid",
          value: result2.status === "valid" ? result2.value : this._def.catchValue({
            get error() {
              return new ZodError(newCtx.common.issues);
            },
            input: newCtx.data
          })
        };
      });
    } else {
      return {
        status: "valid",
        value: result.status === "valid" ? result.value : this._def.catchValue({
          get error() {
            return new ZodError(newCtx.common.issues);
          },
          input: newCtx.data
        })
      };
    }
  }
  removeCatch() {
    return this._def.innerType;
  }
}
ZodCatch.create = (type, params) => {
  return new ZodCatch({
    innerType: type,
    typeName: ZodFirstPartyTypeKind.ZodCatch,
    catchValue: typeof params.catch === "function" ? params.catch : () => params.catch,
    ...processCreateParams(params)
  });
};

class ZodNaN extends ZodType {
  _parse(input) {
    const parsedType = this._getType(input);
    if (parsedType !== ZodParsedType.nan) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.nan,
        received: ctx.parsedType
      });
      return INVALID;
    }
    return { status: "valid", value: input.data };
  }
}
ZodNaN.create = (params) => {
  return new ZodNaN({
    typeName: ZodFirstPartyTypeKind.ZodNaN,
    ...processCreateParams(params)
  });
};
var BRAND = Symbol("zod_brand");

class ZodBranded extends ZodType {
  _parse(input) {
    const { ctx } = this._processInputParams(input);
    const data = ctx.data;
    return this._def.type._parse({
      data,
      path: ctx.path,
      parent: ctx
    });
  }
  unwrap() {
    return this._def.type;
  }
}

class ZodPipeline extends ZodType {
  _parse(input) {
    const { status, ctx } = this._processInputParams(input);
    if (ctx.common.async) {
      const handleAsync = async () => {
        const inResult = await this._def.in._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inResult.status === "aborted")
          return INVALID;
        if (inResult.status === "dirty") {
          status.dirty();
          return DIRTY(inResult.value);
        } else {
          return this._def.out._parseAsync({
            data: inResult.value,
            path: ctx.path,
            parent: ctx
          });
        }
      };
      return handleAsync();
    } else {
      const inResult = this._def.in._parseSync({
        data: ctx.data,
        path: ctx.path,
        parent: ctx
      });
      if (inResult.status === "aborted")
        return INVALID;
      if (inResult.status === "dirty") {
        status.dirty();
        return {
          status: "dirty",
          value: inResult.value
        };
      } else {
        return this._def.out._parseSync({
          data: inResult.value,
          path: ctx.path,
          parent: ctx
        });
      }
    }
  }
  static create(a, b2) {
    return new ZodPipeline({
      in: a,
      out: b2,
      typeName: ZodFirstPartyTypeKind.ZodPipeline
    });
  }
}

class ZodReadonly extends ZodType {
  _parse(input) {
    const result = this._def.innerType._parse(input);
    const freeze = (data) => {
      if (isValid(data)) {
        data.value = Object.freeze(data.value);
      }
      return data;
    };
    return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);
  }
  unwrap() {
    return this._def.innerType;
  }
}
ZodReadonly.create = (type, params) => {
  return new ZodReadonly({
    innerType: type,
    typeName: ZodFirstPartyTypeKind.ZodReadonly,
    ...processCreateParams(params)
  });
};
function cleanParams(params, data) {
  const p = typeof params === "function" ? params(data) : typeof params === "string" ? { message: params } : params;
  const p2 = typeof p === "string" ? { message: p } : p;
  return p2;
}
function custom(check, _params = {}, fatal) {
  if (check)
    return ZodAny.create().superRefine((data, ctx) => {
      const r = check(data);
      if (r instanceof Promise) {
        return r.then((r2) => {
          if (!r2) {
            const params = cleanParams(_params, data);
            const _fatal = params.fatal ?? fatal ?? true;
            ctx.addIssue({ code: "custom", ...params, fatal: _fatal });
          }
        });
      }
      if (!r) {
        const params = cleanParams(_params, data);
        const _fatal = params.fatal ?? fatal ?? true;
        ctx.addIssue({ code: "custom", ...params, fatal: _fatal });
      }
      return;
    });
  return ZodAny.create();
}
var late = {
  object: ZodObject.lazycreate
};
var ZodFirstPartyTypeKind;
(function(ZodFirstPartyTypeKind2) {
  ZodFirstPartyTypeKind2["ZodString"] = "ZodString";
  ZodFirstPartyTypeKind2["ZodNumber"] = "ZodNumber";
  ZodFirstPartyTypeKind2["ZodNaN"] = "ZodNaN";
  ZodFirstPartyTypeKind2["ZodBigInt"] = "ZodBigInt";
  ZodFirstPartyTypeKind2["ZodBoolean"] = "ZodBoolean";
  ZodFirstPartyTypeKind2["ZodDate"] = "ZodDate";
  ZodFirstPartyTypeKind2["ZodSymbol"] = "ZodSymbol";
  ZodFirstPartyTypeKind2["ZodUndefined"] = "ZodUndefined";
  ZodFirstPartyTypeKind2["ZodNull"] = "ZodNull";
  ZodFirstPartyTypeKind2["ZodAny"] = "ZodAny";
  ZodFirstPartyTypeKind2["ZodUnknown"] = "ZodUnknown";
  ZodFirstPartyTypeKind2["ZodNever"] = "ZodNever";
  ZodFirstPartyTypeKind2["ZodVoid"] = "ZodVoid";
  ZodFirstPartyTypeKind2["ZodArray"] = "ZodArray";
  ZodFirstPartyTypeKind2["ZodObject"] = "ZodObject";
  ZodFirstPartyTypeKind2["ZodUnion"] = "ZodUnion";
  ZodFirstPartyTypeKind2["ZodDiscriminatedUnion"] = "ZodDiscriminatedUnion";
  ZodFirstPartyTypeKind2["ZodIntersection"] = "ZodIntersection";
  ZodFirstPartyTypeKind2["ZodTuple"] = "ZodTuple";
  ZodFirstPartyTypeKind2["ZodRecord"] = "ZodRecord";
  ZodFirstPartyTypeKind2["ZodMap"] = "ZodMap";
  ZodFirstPartyTypeKind2["ZodSet"] = "ZodSet";
  ZodFirstPartyTypeKind2["ZodFunction"] = "ZodFunction";
  ZodFirstPartyTypeKind2["ZodLazy"] = "ZodLazy";
  ZodFirstPartyTypeKind2["ZodLiteral"] = "ZodLiteral";
  ZodFirstPartyTypeKind2["ZodEnum"] = "ZodEnum";
  ZodFirstPartyTypeKind2["ZodEffects"] = "ZodEffects";
  ZodFirstPartyTypeKind2["ZodNativeEnum"] = "ZodNativeEnum";
  ZodFirstPartyTypeKind2["ZodOptional"] = "ZodOptional";
  ZodFirstPartyTypeKind2["ZodNullable"] = "ZodNullable";
  ZodFirstPartyTypeKind2["ZodDefault"] = "ZodDefault";
  ZodFirstPartyTypeKind2["ZodCatch"] = "ZodCatch";
  ZodFirstPartyTypeKind2["ZodPromise"] = "ZodPromise";
  ZodFirstPartyTypeKind2["ZodBranded"] = "ZodBranded";
  ZodFirstPartyTypeKind2["ZodPipeline"] = "ZodPipeline";
  ZodFirstPartyTypeKind2["ZodReadonly"] = "ZodReadonly";
})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));
var instanceOfType = (cls, params = {
  message: `Input not instance of ${cls.name}`
}) => custom((data) => data instanceof cls, params);
var stringType = ZodString.create;
var numberType = ZodNumber.create;
var nanType = ZodNaN.create;
var bigIntType = ZodBigInt.create;
var booleanType = ZodBoolean.create;
var dateType = ZodDate.create;
var symbolType = ZodSymbol.create;
var undefinedType = ZodUndefined.create;
var nullType = ZodNull.create;
var anyType = ZodAny.create;
var unknownType = ZodUnknown.create;
var neverType = ZodNever.create;
var voidType = ZodVoid.create;
var arrayType = ZodArray.create;
var objectType = ZodObject.create;
var strictObjectType = ZodObject.strictCreate;
var unionType = ZodUnion.create;
var discriminatedUnionType = ZodDiscriminatedUnion.create;
var intersectionType = ZodIntersection.create;
var tupleType = ZodTuple.create;
var recordType = ZodRecord.create;
var mapType = ZodMap.create;
var setType = ZodSet.create;
var functionType = ZodFunction.create;
var lazyType = ZodLazy.create;
var literalType = ZodLiteral.create;
var enumType = ZodEnum.create;
var nativeEnumType = ZodNativeEnum.create;
var promiseType = ZodPromise.create;
var effectsType = ZodEffects.create;
var optionalType = ZodOptional.create;
var nullableType = ZodNullable.create;
var preprocessType = ZodEffects.createWithPreprocess;
var pipelineType = ZodPipeline.create;
var ostring = () => stringType().optional();
var onumber = () => numberType().optional();
var oboolean = () => booleanType().optional();
var coerce = {
  string: (arg) => ZodString.create({ ...arg, coerce: true }),
  number: (arg) => ZodNumber.create({ ...arg, coerce: true }),
  boolean: (arg) => ZodBoolean.create({
    ...arg,
    coerce: true
  }),
  bigint: (arg) => ZodBigInt.create({ ...arg, coerce: true }),
  date: (arg) => ZodDate.create({ ...arg, coerce: true })
};
var NEVER = INVALID;
// src/services/activity.ts
async function logActivity(db2, params) {
  const [log2] = await db2.insert(activityLogs).values({
    workspaceId: params.workspaceId,
    entityType: params.entityType,
    entityId: params.entityId,
    userId: params.userId,
    action: params.action,
    changes: params.changes,
    metadata: params.metadata
  }).returning();
  return log2;
}
function computeChanges(original, updated, fields) {
  const changes = {};
  let hasChanges = false;
  for (const field of fields) {
    if (field in updated && updated[field] !== original[field]) {
      changes[field] = {
        old: original[field],
        new: updated[field]
      };
      hasChanges = true;
    }
  }
  return hasChanges ? changes : undefined;
}

// src/services/comment.ts
async function getCommentsByTask(db2, taskId, limit = 50, offset = 0) {
  return db2.query.comments.findMany({
    where: eq(comments.taskId, taskId),
    with: { user: true },
    orderBy: [desc(comments.createdAt)],
    limit,
    offset
  });
}
async function createComment(db2, taskId, userId, workspaceId, content) {
  const [comment] = await db2.insert(comments).values({ taskId, userId, content }).returning();
  if (!comment) {
    throw new Error("Failed to create comment");
  }
  await logActivity(db2, {
    workspaceId,
    entityType: "task",
    entityId: taskId,
    userId,
    action: "commented",
    metadata: { commentId: comment.id }
  });
  return db2.query.comments.findFirst({
    where: eq(comments.id, comment.id),
    with: { user: true }
  });
}
async function updateComment(db2, commentId, userId, content) {
  const existing = await db2.query.comments.findFirst({
    where: eq(comments.id, commentId)
  });
  if (!existing)
    throw new NotFoundError("Comment", commentId);
  if (existing.userId !== userId)
    throw new NotFoundError("Comment", commentId);
  const [updated] = await db2.update(comments).set({ content, updatedAt: new Date }).where(eq(comments.id, commentId)).returning();
  if (!updated) {
    throw new NotFoundError("Comment", commentId);
  }
  return db2.query.comments.findFirst({
    where: eq(comments.id, updated.id),
    with: { user: true }
  });
}
async function deleteComment(db2, commentId, userId) {
  const existing = await db2.query.comments.findFirst({
    where: eq(comments.id, commentId)
  });
  if (!existing)
    throw new NotFoundError("Comment", commentId);
  if (existing.userId !== userId)
    throw new NotFoundError("Comment", commentId);
  await db2.delete(comments).where(eq(comments.id, commentId));
}

// src/lib/redis.ts
var import_ioredis = __toESM(require_built3(), 1);
var redisUrl = process.env.REDIS_URL || "redis://localhost:6379";
var redis = new import_ioredis.default(redisUrl, {
  maxRetriesPerRequest: 3,
  lazyConnect: true
});
var redisSub = new import_ioredis.default(redisUrl, {
  maxRetriesPerRequest: 3,
  lazyConnect: true
});
var isConnected = false;
async function connectRedis() {
  try {
    await redis.connect();
    await redisSub.connect();
    isConnected = true;
    console.log("Redis connected successfully");
  } catch (error) {
    console.warn("Redis connection failed, running without real-time sync:", error);
    isConnected = false;
  }
}
function isRedisConnected() {
  return isConnected;
}
var CHANNELS = {
  taskUpdate: (projectId) => `task:${projectId}`,
  presence: (projectId) => `presence:${projectId}`
};

// src/lib/websocket.ts
class WebSocketManager {
  connections = new Map;
  userSockets = new Map;
  addConnection(ws) {
    this.userSockets.set(ws.data.userId, ws);
  }
  removeConnection(ws) {
    this.userSockets.delete(ws.data.userId);
    for (const room of ws.data.rooms) {
      this.leaveRoom(ws, room);
    }
  }
  joinRoom(ws, room) {
    ws.data.rooms.add(room);
    if (!this.connections.has(room)) {
      this.connections.set(room, new Set);
    }
    const roomSet = this.connections.get(room);
    if (roomSet) {
      roomSet.add(ws);
    }
  }
  leaveRoom(ws, room) {
    ws.data.rooms.delete(room);
    this.connections.get(room)?.delete(ws);
  }
  broadcast(room, message, excludeUserId) {
    const clients = this.connections.get(room);
    if (!clients)
      return;
    const payload = JSON.stringify(message);
    for (const ws of clients) {
      if (excludeUserId && ws.data.userId === excludeUserId)
        continue;
      if (ws.readyState === 1) {
        ws.send(payload);
      }
    }
  }
  getRoomUsers(room) {
    const clients = this.connections.get(room);
    if (!clients)
      return [];
    return [...clients].map((ws) => ws.data.userId);
  }
  getConnectionCount() {
    return this.userSockets.size;
  }
  getRoomCount() {
    return this.connections.size;
  }
}
var wsManager = new WebSocketManager;

// src/services/realtime.ts
async function emitTaskEvent(event) {
  const room = `project:${event.projectId}`;
  wsManager.broadcast(room, event, event.userId);
  if (isRedisConnected()) {
    try {
      const channel = CHANNELS.taskUpdate(event.projectId);
      await redis.publish(channel, JSON.stringify(event));
    } catch (error) {
      console.error("Failed to publish to Redis:", error);
    }
  }
}
function initRealtimeSubscriptions() {
  if (!isRedisConnected()) {
    console.log("Redis not connected, running in single-instance mode");
    return;
  }
  redisSub.psubscribe("task:*", "presence:*").catch((err) => {
    console.error("Failed to subscribe to Redis channels:", err);
  });
  redisSub.on("pmessage", (_pattern, _channel, message) => {
    try {
      const event = JSON.parse(message);
      const room = `project:${event.projectId}`;
      wsManager.broadcast(room, event, event.userId);
    } catch (err) {
      console.error("Failed to process Redis message:", err);
    }
  });
  console.log("Real-time subscriptions initialized");
}

// src/routes/comments.ts
var commentsRouter = new Hono2;
var commentSchema = exports_external.object({
  content: exports_external.string().min(1)
});
commentsRouter.get("/tasks/:taskId/comments", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("taskId");
  const result = await getCommentsByTask(db2, taskId);
  return success(c, result);
});
commentsRouter.post("/tasks/:taskId/comments", requireWorkspace, zValidator("json", commentSchema), async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const taskId = c.req.param("taskId");
  const { content } = c.req.valid("json");
  const result = await createComment(db2, taskId, user.id, workspaceId, content);
  const task = await db2.query.tasks.findFirst({
    where: (tasks3, { eq: eq2 }) => eq2(tasks3.id, taskId)
  });
  if (task) {
    await emitTaskEvent({
      type: "task:updated",
      projectId: task.projectId,
      data: { commentAdded: result },
      userId: user.id
    });
  }
  return created(c, result);
});
commentsRouter.patch("/comments/:id", requireWorkspace, zValidator("json", commentSchema), async (c) => {
  const user = getAuthUser(c.var);
  const db2 = c.var.db;
  const commentId = c.req.param("id");
  const { content } = c.req.valid("json");
  const result = await updateComment(db2, commentId, user.id, content);
  return success(c, result);
});
commentsRouter.delete("/comments/:id", requireWorkspace, async (c) => {
  const user = getAuthUser(c.var);
  const db2 = c.var.db;
  const commentId = c.req.param("id");
  await deleteComment(db2, commentId, user.id);
  return noContent(c);
});
var comments_default = commentsRouter;

// src/routes/dashboard.ts
var dashboard = new Hono2;
dashboard.get("/dashboard/stats", requireWorkspace, async (c) => {
  const user = c.var.user;
  const workspaceId = user.workspaceId;
  const db2 = c.var.db;
  const stats = await getDashboardStats(db2, workspaceId);
  return success(c, stats);
});
dashboard.get("/activity", requireWorkspace, async (c) => {
  const user = c.var.user;
  const workspaceId = user.workspaceId;
  const db2 = c.var.db;
  const activities = await getRecentActivity(db2, workspaceId);
  return success(c, activities);
});
dashboard.get("/tasks/recent", requireWorkspace, async (c) => {
  const user = c.var.user;
  const workspaceId = user.workspaceId;
  const db2 = c.var.db;
  const recentTasks = await getRecentTasks(db2, workspaceId);
  return success(c, recentTasks);
});
async function getDashboardStats(db2, workspaceId) {
  const workspaceProjects = await db2.query.projects.findMany({
    where: eq(projects.workspaceId, workspaceId),
    columns: { id: true }
  });
  const projectIds = workspaceProjects.map((p) => p.id);
  if (projectIds.length === 0) {
    return { openTasks: 0, completedTasks: 0, projects: 0, members: 0 };
  }
  const completedStatuses = await db2.query.workflowStatuses.findMany({
    where: and(sql`${workflowStatuses.projectId} = ANY(${projectIds})`, eq(workflowStatuses.isFinal, true)),
    columns: { id: true }
  });
  const completedStatusIds = completedStatuses.map((s2) => s2.id);
  const [taskCounts] = await db2.select({
    total: sql`count(*)::int`,
    completed: sql`count(*) FILTER (WHERE ${tasks.statusId} = ANY(${completedStatusIds}))::int`
  }).from(tasks).where(sql`${tasks.projectId} = ANY(${projectIds})`);
  const [memberCount] = await db2.select({ count: sql`count(*)::int` }).from(workspaceMembers).where(eq(workspaceMembers.workspaceId, workspaceId));
  return {
    openTasks: (taskCounts?.total ?? 0) - (taskCounts?.completed ?? 0),
    completedTasks: taskCounts?.completed ?? 0,
    projects: projectIds.length,
    members: memberCount?.count ?? 0
  };
}
async function getRecentActivity(db2, workspaceId) {
  const logs = await db2.query.activityLogs.findMany({
    where: eq(activityLogs.workspaceId, workspaceId),
    with: { user: true },
    orderBy: [desc(activityLogs.createdAt)],
    limit: 20
  });
  return logs.map((log2) => ({
    id: log2.id,
    action: log2.action,
    targetType: log2.entityType,
    targetTitle: log2.metadata?.title ?? log2.entityId,
    user: {
      name: log2.user?.name ?? "Unknown",
      avatarUrl: log2.user?.avatarUrl
    },
    createdAt: log2.createdAt.toISOString()
  }));
}
async function getRecentTasks(db2, workspaceId) {
  const workspaceProjects = await db2.query.projects.findMany({
    where: eq(projects.workspaceId, workspaceId),
    columns: { id: true }
  });
  const projectIds = workspaceProjects.map((p) => p.id);
  if (projectIds.length === 0) {
    return [];
  }
  const recentTasks = await db2.query.tasks.findMany({
    where: sql`${tasks.projectId} = ANY(${projectIds})`,
    orderBy: [desc(tasks.updatedAt), desc(tasks.createdAt)],
    limit: 10,
    with: {
      assignee: true,
      status: true
    }
  });
  return recentTasks.map((task) => ({
    id: task.id,
    title: task.title,
    description: task.description,
    priority: task.priority,
    statusId: task.statusId,
    order: task.order,
    dueDate: task.dueDate?.toISOString(),
    projectId: task.projectId,
    assignee: task.assignee ? {
      id: task.assignee.id,
      name: task.assignee.name,
      avatarUrl: task.assignee.avatarUrl
    } : undefined
  }));
}
var dashboard_default = dashboard;

// src/routes/health.ts
var health = new Hono2;
health.get("/", (c) => {
  return c.json({
    status: "healthy",
    timestamp: new Date().toISOString(),
    version: process.env.npm_package_version || "0.0.0"
  });
});
health.get("/ready", async (c) => {
  const db2 = c.var.db;
  try {
    await db2.execute(sql`SELECT 1`);
    return c.json({ status: "ready", database: "connected" });
  } catch {
    return c.json({ status: "not ready", database: "disconnected" }, 503);
  }
});
var health_default = health;

// ../../packages/shared/src/types/auth.ts
var ROLE_PERMISSIONS = {
  super_admin: [
    "workspace:read",
    "workspace:update",
    "workspace:delete",
    "workspace:invite",
    "project:create",
    "project:read",
    "project:update",
    "project:delete",
    "task:create",
    "task:read",
    "task:update",
    "task:delete",
    "task:assign",
    "comment:create",
    "comment:read",
    "comment:update",
    "comment:delete"
  ],
  pm: [
    "workspace:read",
    "workspace:invite",
    "project:create",
    "project:read",
    "project:update",
    "task:create",
    "task:read",
    "task:update",
    "task:assign",
    "comment:create",
    "comment:read",
    "comment:update",
    "comment:delete"
  ],
  member: [
    "workspace:read",
    "project:read",
    "task:create",
    "task:read",
    "task:update",
    "comment:create",
    "comment:read",
    "comment:update"
  ],
  guest: ["workspace:read", "project:read", "task:read", "comment:read"]
};
function hasPermission(role, permission) {
  return ROLE_PERMISSIONS[role]?.includes(permission) ?? false;
}
function hasAnyPermission(role, permissions) {
  return permissions.some((p) => hasPermission(role, p));
}
// ../../packages/shared/src/validators/workspace.ts
var createWorkspaceSchema = exports_external.object({
  name: exports_external.string().min(1).max(100),
  slug: exports_external.string().min(1).max(50).regex(/^[a-z0-9-]+$/, "Slug must be lowercase alphanumeric with hyphens"),
  clerkOrgId: exports_external.string().min(1)
});
var updateWorkspaceSchema = exports_external.object({
  name: exports_external.string().min(1).max(100).optional(),
  settings: exports_external.object({
    defaultProjectView: exports_external.enum(["kanban", "list", "calendar"]).optional(),
    allowGuestInvites: exports_external.boolean().optional()
  }).optional()
});
var inviteMemberSchema = exports_external.object({
  email: exports_external.string().email(),
  role: exports_external.enum(["super_admin", "pm", "member", "guest"]).default("member")
});
// ../../packages/shared/src/validators/project.ts
var createProjectSchema = exports_external.object({
  name: exports_external.string().min(1).max(200),
  description: exports_external.string().max(2000).optional()
});
var updateProjectSchema = exports_external.object({
  name: exports_external.string().min(1).max(200).optional(),
  description: exports_external.string().max(2000).optional().nullable(),
  status: exports_external.enum(["active", "archived", "deleted"]).optional()
});
var createWorkflowStatusSchema = exports_external.object({
  name: exports_external.string().min(1).max(50),
  color: exports_external.string().regex(/^#[0-9A-Fa-f]{6}$/).default("#6366f1"),
  isDefault: exports_external.boolean().optional(),
  isFinal: exports_external.boolean().optional()
});
var updateWorkflowStatusSchema = createWorkflowStatusSchema.partial();
var reorderStatusesSchema = exports_external.object({
  orderedIds: exports_external.array(exports_external.string().uuid())
});
// ../../packages/shared/src/validators/task.ts
var taskFilterSchema = exports_external.object({
  statusId: exports_external.string().uuid().optional(),
  assigneeId: exports_external.string().uuid().optional(),
  priority: exports_external.enum(["low", "medium", "high", "urgent"]).optional(),
  search: exports_external.string().optional(),
  dueBefore: exports_external.string().datetime().optional(),
  dueAfter: exports_external.string().datetime().optional(),
  page: exports_external.coerce.number().min(1).default(1),
  limit: exports_external.coerce.number().min(1).max(100).default(50)
});
var createTaskSchema = exports_external.object({
  title: exports_external.string().min(1).max(500),
  description: exports_external.string().max(50000).optional(),
  priority: exports_external.enum(["low", "medium", "high", "urgent"]).default("medium"),
  statusId: exports_external.string().uuid().optional(),
  assigneeId: exports_external.string().uuid().optional().nullable(),
  dueDate: exports_external.string().datetime().optional().nullable().transform((val) => val ? new Date(val) : null)
});
var updateTaskSchema = exports_external.object({
  title: exports_external.string().min(1).max(500).optional(),
  description: exports_external.string().max(50000).optional().nullable(),
  priority: exports_external.enum(["low", "medium", "high", "urgent"]).optional(),
  statusId: exports_external.string().uuid().optional(),
  assigneeId: exports_external.string().uuid().optional().nullable(),
  dueDate: exports_external.string().datetime().optional().nullable().transform((val) => val ? new Date(val) : null)
});
var moveTaskSchema = exports_external.object({
  statusId: exports_external.string().uuid(),
  order: exports_external.number().int().min(0)
});
var addDependencySchema = exports_external.object({
  dependsOnId: exports_external.string().uuid()
});
var addWatcherSchema = exports_external.object({
  userId: exports_external.string().uuid()
});
var uploadAttachmentSchema = exports_external.object({
  fileName: exports_external.string().min(1).max(255),
  fileUrl: exports_external.string().url(),
  fileSize: exports_external.number().int().positive(),
  mimeType: exports_external.string().min(1)
});
// src/middleware/rbac.ts
var requireRole = (...allowedRoles) => {
  return createMiddleware(async (c, next) => {
    const user = c.var.user;
    if (!user) {
      throw new UnauthorizedError;
    }
    if (!allowedRoles.includes(user.role)) {
      throw new ForbiddenError(`Role ${user.role} not allowed. Required: ${allowedRoles.join(" or ")}`);
    }
    await next();
  });
};
var requirePermission = (...permissions) => {
  return createMiddleware(async (c, next) => {
    const user = c.var.user;
    if (!user) {
      throw new UnauthorizedError;
    }
    if (!hasAnyPermission(user.role, permissions)) {
      throw new ForbiddenError(`Permission denied. Required: ${permissions.join(" or ")}`);
    }
    await next();
  });
};

// src/services/project.ts
var DEFAULT_STATUSES = [
  { name: "To Do", color: "#6b7280", order: 0, isDefault: true },
  { name: "In Progress", color: "#3b82f6", order: 1 },
  { name: "Review", color: "#f59e0b", order: 2 },
  { name: "Done", color: "#10b981", order: 3, isFinal: true }
];
async function getProjectsByWorkspace(db2, workspaceId) {
  return db2.query.projects.findMany({
    where: and(eq(projects.workspaceId, workspaceId), ne(projects.status, "deleted")),
    with: {
      createdBy: true
    },
    orderBy: (projects3, { desc: desc2 }) => [desc2(projects3.createdAt)]
  });
}
async function getProjectById(db2, projectId, workspaceId) {
  const project3 = await db2.query.projects.findFirst({
    where: and(eq(projects.id, projectId), eq(projects.workspaceId, workspaceId), ne(projects.status, "deleted")),
    with: {
      createdBy: true,
      workflowStatuses: {
        orderBy: (statuses, { asc: asc2 }) => [asc2(statuses.order)]
      }
    }
  });
  if (!project3) {
    throw new NotFoundError("Project", projectId);
  }
  return project3;
}
async function createProject(db2, workspaceId, createdById, data) {
  const [project3] = await db2.insert(projects).values({
    ...data,
    workspaceId,
    createdById
  }).returning();
  if (!project3) {
    throw new NotFoundError("Project");
  }
  await db2.insert(workflowStatuses).values(DEFAULT_STATUSES.map((status) => ({
    ...status,
    projectId: project3.id
  })));
  return getProjectById(db2, project3.id, workspaceId);
}
async function updateProject(db2, projectId, workspaceId, data) {
  const [updated] = await db2.update(projects).set({
    ...data,
    updatedAt: new Date
  }).where(and(eq(projects.id, projectId), eq(projects.workspaceId, workspaceId))).returning();
  if (!updated) {
    throw new NotFoundError("Project", projectId);
  }
  return updated;
}
async function deleteProject(db2, projectId, workspaceId) {
  return updateProject(db2, projectId, workspaceId, { status: "archived" });
}
async function getProjectStatuses(db2, projectId) {
  return db2.query.workflowStatuses.findMany({
    where: eq(workflowStatuses.projectId, projectId),
    orderBy: (statuses, { asc: asc2 }) => [asc2(statuses.order)]
  });
}
async function createWorkflowStatus(db2, projectId, data) {
  const existing = await db2.select({ maxOrder: workflowStatuses.order }).from(workflowStatuses).where(eq(workflowStatuses.projectId, projectId)).orderBy(asc(workflowStatuses.order));
  const maxOrder = existing.length > 0 ? Math.max(...existing.map((e) => e.maxOrder)) : -1;
  const [status] = await db2.insert(workflowStatuses).values({
    ...data,
    projectId,
    order: maxOrder + 1
  }).returning();
  return status;
}
async function updateWorkflowStatus(db2, statusId, projectId, data) {
  const [updated] = await db2.update(workflowStatuses).set(data).where(and(eq(workflowStatuses.id, statusId), eq(workflowStatuses.projectId, projectId))).returning();
  if (!updated) {
    throw new NotFoundError("Workflow status", statusId);
  }
  return updated;
}
async function deleteWorkflowStatus(db2, statusId, projectId) {
  const result = await db2.delete(workflowStatuses).where(and(eq(workflowStatuses.id, statusId), eq(workflowStatuses.projectId, projectId))).returning();
  if (result.length === 0) {
    throw new NotFoundError("Workflow status", statusId);
  }
  return result[0];
}
async function reorderStatuses(db2, projectId, orderedIds) {
  await Promise.all(orderedIds.map((id, index2) => db2.update(workflowStatuses).set({ order: index2 }).where(and(eq(workflowStatuses.id, id), eq(workflowStatuses.projectId, projectId)))));
  return getProjectStatuses(db2, projectId);
}

// src/routes/projects.ts
var projects3 = new Hono2;
projects3.get("/", requireWorkspace, async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const result = await getProjectsByWorkspace(db2, workspaceId);
  return success(c, result);
});
projects3.post("/", requireWorkspace, requirePermission("project:create"), zValidator("json", createProjectSchema), async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const data = c.req.valid("json");
  const result = await createProject(db2, workspaceId, user.id, data);
  return created(c, result);
});
projects3.get("/:id", requireWorkspace, async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const projectId = c.req.param("id");
  const result = await getProjectById(db2, projectId, workspaceId);
  return success(c, result);
});
projects3.patch("/:id", requireWorkspace, requirePermission("project:update"), zValidator("json", updateProjectSchema), async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const projectId = c.req.param("id");
  const data = c.req.valid("json");
  const result = await updateProject(db2, projectId, workspaceId, data);
  return success(c, result);
});
projects3.delete("/:id", requireWorkspace, requirePermission("project:delete"), async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const projectId = c.req.param("id");
  await deleteProject(db2, projectId, workspaceId);
  return noContent(c);
});
projects3.get("/:id/statuses", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const projectId = c.req.param("id");
  const result = await getProjectStatuses(db2, projectId);
  return success(c, result);
});
projects3.post("/:id/statuses", requireWorkspace, requirePermission("project:update"), zValidator("json", createWorkflowStatusSchema), async (c) => {
  const db2 = c.var.db;
  const projectId = c.req.param("id");
  const data = c.req.valid("json");
  const result = await createWorkflowStatus(db2, projectId, data);
  return created(c, result);
});
projects3.patch("/:id/statuses/:statusId", requireWorkspace, requirePermission("project:update"), zValidator("json", updateWorkflowStatusSchema), async (c) => {
  const db2 = c.var.db;
  const projectId = c.req.param("id");
  const statusId = c.req.param("statusId");
  const data = c.req.valid("json");
  const result = await updateWorkflowStatus(db2, statusId, projectId, data);
  return success(c, result);
});
projects3.delete("/:id/statuses/:statusId", requireWorkspace, requirePermission("project:update"), async (c) => {
  const db2 = c.var.db;
  const projectId = c.req.param("id");
  const statusId = c.req.param("statusId");
  await deleteWorkflowStatus(db2, statusId, projectId);
  return noContent(c);
});
projects3.post("/:id/statuses/reorder", requireWorkspace, requirePermission("project:update"), zValidator("json", reorderStatusesSchema), async (c) => {
  const db2 = c.var.db;
  const projectId = c.req.param("id");
  const { orderedIds } = c.req.valid("json");
  const result = await reorderStatuses(db2, projectId, orderedIds);
  return success(c, result);
});
var projects_default = projects3;

// src/services/task.ts
async function getTasksByProject(db2, projectId, filters) {
  const {
    page,
    limit,
    statusId,
    assigneeId,
    priority,
    search,
    dueBefore,
    dueAfter
  } = filters;
  let query = db2.select().from(tasks).where(eq(tasks.projectId, projectId)).$dynamic();
  if (statusId) {
    query = query.where(eq(tasks.statusId, statusId));
  }
  if (assigneeId) {
    query = query.where(eq(tasks.assigneeId, assigneeId));
  }
  if (priority) {
    query = query.where(eq(tasks.priority, priority));
  }
  if (search) {
    query = query.where(like(tasks.title, `%${search}%`));
  }
  if (dueBefore) {
    query = query.where(lte(tasks.dueDate, new Date(dueBefore)));
  }
  if (dueAfter) {
    query = query.where(gte(tasks.dueDate, new Date(dueAfter)));
  }
  const offset = (page - 1) * limit;
  const [taskList, countResult] = await Promise.all([
    query.orderBy(asc(tasks.order), desc(tasks.createdAt)).limit(limit).offset(offset),
    db2.select({ count: sql`count(*)::int` }).from(tasks).where(eq(tasks.projectId, projectId))
  ]);
  return {
    data: taskList,
    meta: {
      page,
      limit,
      total: countResult[0]?.count ?? 0
    }
  };
}
async function getTaskById(db2, taskId) {
  const task3 = await db2.query.tasks.findFirst({
    where: eq(tasks.id, taskId),
    with: {
      project: true,
      status: true,
      assignee: true,
      createdBy: true,
      comments: {
        with: { user: true },
        orderBy: (comments3, { desc: desc2 }) => [desc2(comments3.createdAt)],
        limit: 20
      },
      attachments: true,
      watchers: {
        with: { user: true }
      },
      dependencies: {
        with: { dependsOn: true }
      }
    }
  });
  if (!task3) {
    throw new NotFoundError("Task", taskId);
  }
  return task3;
}
async function createTask(db2, projectId, createdById, workspaceId, data) {
  let statusId = data.statusId;
  if (!statusId) {
    const defaultStatus = await db2.query.workflowStatuses.findFirst({
      where: and(eq(workflowStatuses.projectId, projectId), eq(workflowStatuses.isDefault, true))
    });
    statusId = defaultStatus?.id;
  }
  const finalStatusId = statusId ?? "";
  const maxOrderResult = await db2.select({ maxOrder: sql`COALESCE(MAX(${tasks.order}), -1)` }).from(tasks).where(and(eq(tasks.projectId, projectId), eq(tasks.statusId, finalStatusId)));
  const order = (maxOrderResult[0]?.maxOrder ?? -1) + 1;
  const [task3] = await db2.insert(tasks).values({
    ...data,
    projectId,
    createdById,
    statusId,
    order
  }).returning();
  if (!task3) {
    throw new NotFoundError("Task");
  }
  await logActivity(db2, {
    workspaceId,
    entityType: "task",
    entityId: task3.id,
    userId: createdById,
    action: "created",
    metadata: { title: task3.title }
  });
  const result = await getTaskById(db2, task3.id);
  await emitTaskEvent({
    type: "task:created",
    projectId,
    data: result,
    userId: createdById
  });
  return result;
}
async function updateTask(db2, taskId, userId, workspaceId, data) {
  const existing = await getTaskById(db2, taskId);
  const [updated] = await db2.update(tasks).set({
    ...data,
    updatedAt: new Date,
    completedAt: data.statusId ? null : existing.completedAt
  }).where(eq(tasks.id, taskId)).returning();
  if (!updated) {
    throw new NotFoundError("Task", taskId);
  }
  const changes = computeChanges(existing, data, [
    "title",
    "description",
    "priority",
    "assigneeId",
    "dueDate"
  ]);
  if (changes) {
    await logActivity(db2, {
      workspaceId,
      entityType: "task",
      entityId: taskId,
      userId,
      action: "updated",
      changes
    });
  }
  if (data.statusId && data.statusId !== existing.statusId) {
    await logActivity(db2, {
      workspaceId,
      entityType: "task",
      entityId: taskId,
      userId,
      action: "status_changed",
      changes: {
        statusId: { old: existing.statusId, new: data.statusId }
      }
    });
  }
  if (data.assigneeId !== undefined && data.assigneeId !== existing.assigneeId) {
    await logActivity(db2, {
      workspaceId,
      entityType: "task",
      entityId: taskId,
      userId,
      action: "assigned",
      changes: {
        assigneeId: { old: existing.assigneeId, new: data.assigneeId }
      }
    });
  }
  const result = await getTaskById(db2, taskId);
  await emitTaskEvent({
    type: "task:updated",
    projectId: existing.projectId,
    data: { task: result, changes },
    userId
  });
  return result;
}
async function moveTask(db2, taskId, userId, workspaceId, data) {
  const existing = await getTaskById(db2, taskId);
  const [updated] = await db2.update(tasks).set({
    statusId: data.statusId,
    order: data.order,
    updatedAt: new Date
  }).where(eq(tasks.id, taskId)).returning();
  if (data.statusId !== existing.statusId) {
    await logActivity(db2, {
      workspaceId,
      entityType: "task",
      entityId: taskId,
      userId,
      action: "moved",
      changes: {
        statusId: { old: existing.statusId, new: data.statusId },
        order: { old: existing.order, new: data.order }
      }
    });
  }
  const result = await getTaskById(db2, taskId);
  await emitTaskEvent({
    type: "task:moved",
    projectId: existing.projectId,
    data: {
      taskId,
      fromStatus: existing.statusId,
      toStatus: data.statusId,
      order: data.order,
      task: result
    },
    userId
  });
  return result;
}
async function deleteTask(db2, taskId, userId, workspaceId) {
  const existing = await getTaskById(db2, taskId);
  await db2.delete(tasks).where(eq(tasks.id, taskId));
  await logActivity(db2, {
    workspaceId,
    entityType: "task",
    entityId: taskId,
    userId,
    action: "deleted",
    metadata: { title: existing.title }
  });
  await emitTaskEvent({
    type: "task:deleted",
    projectId: existing.projectId,
    data: { taskId, title: existing.title },
    userId
  });
}
async function getTaskDependencies(db2, taskId) {
  return db2.query.taskDependencies.findMany({
    where: eq(taskDependencies.taskId, taskId),
    with: { dependsOn: true }
  });
}
async function addTaskDependency(db2, taskId, dependsOnId) {
  if (taskId === dependsOnId) {
    throw new ValidationError({ dependsOnId: "Task cannot depend on itself" });
  }
  const existing = await db2.query.taskDependencies.findFirst({
    where: and(eq(taskDependencies.taskId, dependsOnId), eq(taskDependencies.dependsOnId, taskId))
  });
  if (existing) {
    throw new ValidationError({ dependsOnId: "Circular dependency detected" });
  }
  const [dep] = await db2.insert(taskDependencies).values({ taskId, dependsOnId }).returning();
  return dep;
}
async function removeTaskDependency(db2, taskId, dependsOnId) {
  await db2.delete(taskDependencies).where(and(eq(taskDependencies.taskId, taskId), eq(taskDependencies.dependsOnId, dependsOnId)));
}
async function getTaskWatchers(db2, taskId) {
  return db2.query.taskWatchers.findMany({
    where: eq(taskWatchers.taskId, taskId),
    with: { user: true }
  });
}
async function addTaskWatcher(db2, taskId, userId) {
  const [watcher] = await db2.insert(taskWatchers).values({ taskId, userId }).onConflictDoNothing().returning();
  return watcher;
}
async function removeTaskWatcher(db2, taskId, userId) {
  await db2.delete(taskWatchers).where(and(eq(taskWatchers.taskId, taskId), eq(taskWatchers.userId, userId)));
}
async function getTaskAttachments(db2, taskId) {
  return db2.query.attachments.findMany({
    where: eq(attachments.taskId, taskId),
    with: { uploadedBy: true }
  });
}
async function addAttachment(db2, taskId, uploadedById, data) {
  const [attachment] = await db2.insert(attachments).values({
    taskId,
    uploadedById,
    ...data
  }).returning();
  return attachment;
}
async function deleteAttachment(db2, attachmentId) {
  const result = await db2.delete(attachments).where(eq(attachments.id, attachmentId)).returning();
  if (result.length === 0) {
    throw new NotFoundError("Attachment", attachmentId);
  }
}
async function getTaskActivity(db2, taskId) {
  return db2.query.activityLogs.findMany({
    where: (logs, { eq: eq2, and: and2 }) => and2(eq2(logs.entityType, "task"), eq2(logs.entityId, taskId)),
    with: { user: true },
    orderBy: (logs, { desc: desc2 }) => [desc2(logs.createdAt)],
    limit: 50
  });
}

// src/routes/tasks.ts
var tasksRouter = new Hono2;
var projectTasks = new Hono2;
projectTasks.get("/:projectId/tasks", requireWorkspace, zValidator("query", taskFilterSchema), async (c) => {
  const db2 = c.var.db;
  const projectId = c.req.param("projectId");
  const filters = c.req.valid("query");
  const result = await getTasksByProject(db2, projectId, filters);
  return paginated(c, result.data, result.meta);
});
projectTasks.post("/:projectId/tasks", requireWorkspace, requirePermission("task:create"), zValidator("json", createTaskSchema), async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const projectId = c.req.param("projectId");
  const data = c.req.valid("json");
  const result = await createTask(db2, projectId, user.id, workspaceId, data);
  return created(c, result);
});
tasksRouter.get("/:id", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const result = await getTaskById(db2, taskId);
  return success(c, result);
});
tasksRouter.patch("/:id", requireWorkspace, requirePermission("task:update"), zValidator("json", updateTaskSchema), async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const data = c.req.valid("json");
  const result = await updateTask(db2, taskId, user.id, workspaceId, data);
  return success(c, result);
});
tasksRouter.post("/:id/move", requireWorkspace, requirePermission("task:update"), zValidator("json", moveTaskSchema), async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const data = c.req.valid("json");
  const result = await moveTask(db2, taskId, user.id, workspaceId, data);
  return success(c, result);
});
tasksRouter.delete("/:id", requireWorkspace, requirePermission("task:delete"), async (c) => {
  const user = getAuthUser(c.var);
  const workspaceId = getWorkspaceId(user);
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  await deleteTask(db2, taskId, user.id, workspaceId);
  return noContent(c);
});
tasksRouter.get("/:id/dependencies", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const result = await getTaskDependencies(db2, taskId);
  return success(c, result);
});
tasksRouter.post("/:id/dependencies", requireWorkspace, requirePermission("task:update"), zValidator("json", addDependencySchema), async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const { dependsOnId } = c.req.valid("json");
  const result = await addTaskDependency(db2, taskId, dependsOnId);
  return created(c, result);
});
tasksRouter.delete("/:id/dependencies/:depId", requireWorkspace, requirePermission("task:update"), async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const depId = c.req.param("depId");
  await removeTaskDependency(db2, taskId, depId);
  return noContent(c);
});
tasksRouter.get("/:id/watchers", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const result = await getTaskWatchers(db2, taskId);
  return success(c, result);
});
tasksRouter.post("/:id/watchers", requireWorkspace, zValidator("json", addWatcherSchema), async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const { userId } = c.req.valid("json");
  const result = await addTaskWatcher(db2, taskId, userId);
  return created(c, result);
});
tasksRouter.delete("/:id/watchers/:userId", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const userId = c.req.param("userId");
  await removeTaskWatcher(db2, taskId, userId);
  return noContent(c);
});
tasksRouter.get("/:id/attachments", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const result = await getTaskAttachments(db2, taskId);
  return success(c, result);
});
tasksRouter.post("/:id/attachments", requireWorkspace, requirePermission("task:update"), zValidator("json", uploadAttachmentSchema), async (c) => {
  const user = getAuthUser(c.var);
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const data = c.req.valid("json");
  const result = await addAttachment(db2, taskId, user.id, data);
  return created(c, result);
});
tasksRouter.get("/:id/activity", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const taskId = c.req.param("id");
  const result = await getTaskActivity(db2, taskId);
  return success(c, result);
});
var attachmentsRouter = new Hono2;
attachmentsRouter.delete("/:id", requireWorkspace, requirePermission("task:update"), async (c) => {
  const db2 = c.var.db;
  const attachmentId = c.req.param("id");
  await deleteAttachment(db2, attachmentId);
  return noContent(c);
});

// src/services/workspace.ts
async function getWorkspacesByUserId(db2, userId) {
  const memberships = await db2.query.workspaceMembers.findMany({
    where: eq(workspaceMembers.userId, userId),
    with: {
      workspace: true
    }
  });
  return memberships.map((m) => ({
    ...m.workspace,
    role: m.role
  }));
}
async function getWorkspaceById(db2, workspaceId, userId) {
  const workspace3 = await db2.query.workspaces.findFirst({
    where: eq(workspaces.id, workspaceId),
    with: {
      owner: true,
      members: {
        with: { user: true }
      },
      projects: {
        where: (projects4, { ne: ne2 }) => ne2(projects4.status, "deleted")
      }
    }
  });
  if (!workspace3) {
    throw new NotFoundError("Workspace", workspaceId);
  }
  const isMember = workspace3.members.some((m) => m.userId === userId);
  if (!isMember) {
    throw new NotFoundError("Workspace", workspaceId);
  }
  return workspace3;
}
async function updateWorkspace(db2, workspaceId, data) {
  const [updated] = await db2.update(workspaces).set({
    ...data,
    updatedAt: new Date
  }).where(eq(workspaces.id, workspaceId)).returning();
  if (!updated) {
    throw new NotFoundError("Workspace", workspaceId);
  }
  return updated;
}
async function getWorkspaceMembers(db2, workspaceId) {
  return db2.query.workspaceMembers.findMany({
    where: eq(workspaceMembers.workspaceId, workspaceId),
    with: { user: true }
  });
}
async function removeWorkspaceMember(db2, workspaceId, userId) {
  const result = await db2.delete(workspaceMembers).where(and(eq(workspaceMembers.workspaceId, workspaceId), eq(workspaceMembers.userId, userId))).returning();
  if (result.length === 0) {
    throw new NotFoundError("Member");
  }
  return result[0];
}

// src/routes/workspaces.ts
var workspaces3 = new Hono2;
workspaces3.get("/", requireAuth, async (c) => {
  const user = getAuthUser(c.var);
  const db2 = c.var.db;
  const result = await getWorkspacesByUserId(db2, user.id);
  return success(c, result);
});
workspaces3.get("/:id", requireAuth, async (c) => {
  const user = getAuthUser(c.var);
  const db2 = c.var.db;
  const workspaceId = c.req.param("id");
  const result = await getWorkspaceById(db2, workspaceId, user.id);
  return success(c, result);
});
workspaces3.patch("/:id", requireWorkspace, requirePermission("workspace:update"), zValidator("json", updateWorkspaceSchema), async (c) => {
  const db2 = c.var.db;
  const workspaceId = c.req.param("id");
  const data = c.req.valid("json");
  const result = await updateWorkspace(db2, workspaceId, data);
  return success(c, result);
});
workspaces3.get("/:id/members", requireWorkspace, async (c) => {
  const db2 = c.var.db;
  const workspaceId = c.req.param("id");
  const members = await getWorkspaceMembers(db2, workspaceId);
  return success(c, members);
});
workspaces3.post("/:id/members", requireWorkspace, requirePermission("workspace:invite"), zValidator("json", inviteMemberSchema), async (c) => {
  const { email, role } = c.req.valid("json");
  return success(c, { message: "Invitation sent", email, role });
});
workspaces3.delete("/:id/members/:userId", requireWorkspace, requireRole("super_admin", "pm"), async (c) => {
  const db2 = c.var.db;
  const workspaceId = c.req.param("id");
  const userId = c.req.param("userId");
  await removeWorkspaceMember(db2, workspaceId, userId);
  return success(c, { message: "Member removed" });
});
var workspaces_default = workspaces3;

// src/routes/index.ts
var routes = new Hono2;
routes.route("/health", health_default);
routes.use("/api/*", clerkAuth);
routes.use("/api/*", authMiddleware);
routes.route("/api/auth", auth_default);
routes.route("/api/workspaces", workspaces_default);
routes.route("/api/projects", projects_default);
routes.route("/api/projects", projectTasks);
routes.route("/api", dashboard_default);
routes.route("/api/tasks", tasksRouter);
routes.route("/api/attachments", attachmentsRouter);
routes.route("/api", comments_default);
var routes_default = routes;

// src/app.ts
var app = new Hono2;
app.use("*", requestId());
app.use("*", logger());
app.use("*", secureHeaders());
app.use("*", cors({
  origin: process.env.CORS_ORIGIN?.split(",") || [
    "http://localhost:5173",
    "http://localhost:3000"
  ],
  credentials: true
}));
app.use("*", dbMiddleware);
app.use("/api/*", rateLimit({ limit: 100, windowMs: 60000 }));
app.route("/", routes_default);
app.onError(errorHandler2);
app.notFound(notFoundHandler2);

// ../../node_modules/hono/dist/middleware/serve-static/index.js
var ENCODINGS = {
  br: ".br",
  zstd: ".zst",
  gzip: ".gz"
};
var ENCODINGS_ORDERED_KEYS = Object.keys(ENCODINGS);

// ../../node_modules/hono/dist/helper/ssg/middleware.js
var X_HONO_DISABLE_SSG_HEADER_KEY = "x-hono-disable-ssg";
var SSG_DISABLED_RESPONSE = (() => {
  try {
    return new Response("SSG is disabled", {
      status: 404,
      headers: { [X_HONO_DISABLE_SSG_HEADER_KEY]: "true" }
    });
  } catch {
    return null;
  }
})();
// ../../node_modules/hono/dist/adapter/bun/ssg.js
var { write } = Bun;

// ../../node_modules/hono/dist/helper/websocket/index.js
var WSContext = class {
  #init;
  constructor(init) {
    this.#init = init;
    this.raw = init.raw;
    this.url = init.url ? new URL(init.url) : null;
    this.protocol = init.protocol ?? null;
  }
  send(source, options) {
    this.#init.send(source, options ?? {});
  }
  raw;
  binaryType = "arraybuffer";
  get readyState() {
    return this.#init.readyState;
  }
  url;
  protocol;
  close(code, reason) {
    this.#init.close(code, reason);
  }
};
var createWSMessageEvent = (source) => {
  return new MessageEvent("message", {
    data: source
  });
};
var defineWebSocketHelper = (handler) => {
  return (...args) => {
    if (typeof args[0] === "function") {
      const [createEvents, options] = args;
      return async function upgradeWebSocket(c, next) {
        const events = await createEvents(c);
        const result = await handler(c, events, options);
        if (result) {
          return result;
        }
        await next();
      };
    } else {
      const [c, events, options] = args;
      return (async () => {
        const upgraded = await handler(c, events, options);
        if (!upgraded) {
          throw new Error("Failed to upgrade WebSocket");
        }
        return upgraded;
      })();
    }
  };
};

// ../../node_modules/hono/dist/adapter/bun/server.js
var getBunServer = (c) => ("server" in c.env) ? c.env.server : c.env;

// ../../node_modules/hono/dist/adapter/bun/websocket.js
var createWSContext = (ws) => {
  return new WSContext({
    send: (source, options) => {
      ws.send(source, options?.compress);
    },
    raw: ws,
    readyState: ws.readyState,
    url: ws.data.url,
    protocol: ws.data.protocol,
    close(code, reason) {
      ws.close(code, reason);
    }
  });
};
var upgradeWebSocket = defineWebSocketHelper((c, events) => {
  const server = getBunServer(c);
  if (!server) {
    throw new TypeError("env has to include the 2nd argument of fetch.");
  }
  const upgradeResult = server.upgrade(c.req.raw, {
    data: {
      events,
      url: new URL(c.req.url),
      protocol: c.req.url
    }
  });
  if (upgradeResult) {
    return new Response(null);
  }
  return;
});
var websocket = {
  open(ws) {
    const websocketListeners = ws.data.events;
    if (websocketListeners.onOpen) {
      websocketListeners.onOpen(new Event("open"), createWSContext(ws));
    }
  },
  close(ws, code, reason) {
    const websocketListeners = ws.data.events;
    if (websocketListeners.onClose) {
      websocketListeners.onClose(new CloseEvent("close", {
        code,
        reason
      }), createWSContext(ws));
    }
  },
  message(ws, message) {
    const websocketListeners = ws.data.events;
    if (websocketListeners.onMessage) {
      const normalizedReceiveData = typeof message === "string" ? message : message.buffer;
      websocketListeners.onMessage(createWSMessageEvent(normalizedReceiveData), createWSContext(ws));
    }
  }
};
var createBunWebSocket = () => ({
  upgradeWebSocket,
  websocket
});

// src/routes/ws.ts
var { upgradeWebSocket: upgradeWebSocket2, websocket: websocket2 } = createBunWebSocket();
var wsRoutes = new Hono2;
wsRoutes.get("/connect", upgradeWebSocket2((c) => {
  const auth4 = getAuth(c);
  return {
    onOpen(_event, ws) {
      const rawWs = ws.raw;
      if (rawWs) {
        rawWs.data = {
          userId: auth4?.userId || "anonymous",
          workspaceId: auth4?.orgId || "",
          rooms: new Set
        };
        wsManager.addConnection(rawWs);
        ws.send(JSON.stringify({ type: "connected" }));
      }
    },
    onMessage(event, ws) {
      const rawWs = ws.raw;
      if (!rawWs)
        return;
      try {
        const msg = JSON.parse(event.data);
        switch (msg.type) {
          case "subscribe":
            if (msg.room) {
              wsManager.joinRoom(rawWs, msg.room);
              ws.send(JSON.stringify({ type: "subscribed", room: msg.room }));
            }
            break;
          case "unsubscribe":
            if (msg.room) {
              wsManager.leaveRoom(rawWs, msg.room);
              ws.send(JSON.stringify({ type: "unsubscribed", room: msg.room }));
            }
            break;
          case "ping":
            ws.send(JSON.stringify({ type: "pong" }));
            break;
        }
      } catch (err) {
        console.error("WebSocket message error:", err);
      }
    },
    onClose(_event, ws) {
      const rawWs = ws.raw;
      if (rawWs) {
        wsManager.removeConnection(rawWs);
      }
    }
  };
}));

// src/index.ts
var port = process.env.PORT || 3001;
app.route("/ws", wsRoutes);
async function init() {
  await connectRedis();
  initRealtimeSubscriptions();
  console.log(`Starting API server on port ${port}...`);
}
init().catch(console.error);
var src_default2 = {
  port,
  fetch: app.fetch,
  websocket: websocket2,
  maxRequestBodySize: 50 * 1024 * 1024
};
export {
  src_default2 as default
};
</file>

<file path="apps/api/src/lib/errors.ts">
export class AppError extends Error {
  constructor(
    public message: string,
    public statusCode = 500,
    public code = 'INTERNAL_ERROR',
    public details?: unknown,
  ) {
    super(message)
    this.name = 'AppError'
  }
}

export class NotFoundError extends AppError {
  constructor(resource: string, id?: string) {
    super(
      id ? `${resource} with id ${id} not found` : `${resource} not found`,
      404,
      'NOT_FOUND',
    )
  }
}

export class UnauthorizedError extends AppError {
  constructor(message = 'Unauthorized') {
    super(message, 401, 'UNAUTHORIZED')
  }
}

export class ForbiddenError extends AppError {
  constructor(message = 'Forbidden') {
    super(message, 403, 'FORBIDDEN')
  }
}

export class ValidationError extends AppError {
  constructor(details: unknown) {
    super('Validation failed', 400, 'VALIDATION_ERROR', details)
  }
}

export class ConflictError extends AppError {
  constructor(message: string) {
    super(message, 409, 'CONFLICT')
  }
}

// Helper to safely get authenticated user from context
export function getAuthUser<
  T extends { user?: { id: string; workspaceId?: string | null } },
>(vars: T): NonNullable<T['user']> {
  const user = vars.user
  if (!user) {
    throw new UnauthorizedError('User not authenticated')
  }
  return user
}

// Helper to safely get workspace ID from user
export function getWorkspaceId(user: { workspaceId?: string | null }): string {
  const workspaceId = user.workspaceId
  if (!workspaceId) {
    throw new ForbiddenError('No workspace selected')
  }
  return workspaceId
}
</file>

<file path="apps/api/src/lib/redis.ts">
import Redis from 'ioredis'

const redisUrl = process.env.REDIS_URL || 'redis://localhost:6379'

// Main client for publishing
export const redis = new Redis(redisUrl, {
  maxRetriesPerRequest: 3,
  lazyConnect: true,
})

// Separate client for subscriptions (required by Redis)
export const redisSub = new Redis(redisUrl, {
  maxRetriesPerRequest: 3,
  lazyConnect: true,
})

// Connection state tracking
let isConnected = false

export async function connectRedis() {
  try {
    await redis.connect()
    await redisSub.connect()
    isConnected = true
    console.log('Redis connected successfully')
  } catch (error) {
    console.warn(
      'Redis connection failed, running without real-time sync:',
      error,
    )
    isConnected = false
  }
}

export function isRedisConnected() {
  return isConnected
}

// Pub/sub channel helpers
export const CHANNELS = {
  taskUpdate: (projectId: string) => `task:${projectId}`,
  presence: (projectId: string) => `presence:${projectId}`,
}
</file>

<file path="apps/api/src/lib/response.ts">
import type { Context } from 'hono'
import type { ContentfulStatusCode } from 'hono/utils/http-status'

export type ApiResponse<T> = {
  success: true
  data: T
  meta?: {
    page?: number
    limit?: number
    total?: number
  }
}

export type ApiError = {
  success: false
  error: {
    code: string
    message: string
    details?: unknown
  }
}

export function success<T>(
  c: Context,
  data: T,
  meta?: ApiResponse<T>['meta'],
  status: ContentfulStatusCode = 200,
) {
  const response: ApiResponse<T> = { success: true, data }
  if (meta) response.meta = meta
  return c.json(response, status)
}

export function created<T>(c: Context, data: T) {
  return success(c, data, undefined, 201)
}

export function noContent(c: Context) {
  return c.body(null, 204)
}

export function paginated<T>(
  c: Context,
  data: T[],
  { page, limit, total }: { page: number; limit: number; total: number },
) {
  return success(c, data, { page, limit, total })
}
</file>

<file path="apps/api/src/lib/validators.ts">
import { z } from 'zod'

// Common
export const uuidSchema = z.string().uuid()
export const paginationSchema = z.object({
  page: z.coerce.number().min(1).default(1),
  limit: z.coerce.number().min(1).max(100).default(20),
})

// ID params
export const idParamSchema = z.object({
  id: uuidSchema,
})
</file>

<file path="apps/api/src/lib/websocket.ts">
import type { ServerWebSocket } from 'bun'

export type WSData = {
  userId: string
  workspaceId: string
  rooms: Set<string>
}

class WebSocketManager {
  private connections = new Map<string, Set<ServerWebSocket<WSData>>>()
  private userSockets = new Map<string, ServerWebSocket<WSData>>()

  addConnection(ws: ServerWebSocket<WSData>) {
    this.userSockets.set(ws.data.userId, ws)
  }

  removeConnection(ws: ServerWebSocket<WSData>) {
    this.userSockets.delete(ws.data.userId)
    for (const room of ws.data.rooms) {
      this.leaveRoom(ws, room)
    }
  }

  joinRoom(ws: ServerWebSocket<WSData>, room: string) {
    ws.data.rooms.add(room)
    if (!this.connections.has(room)) {
      this.connections.set(room, new Set())
    }
    const roomSet = this.connections.get(room)
    if (roomSet) {
      roomSet.add(ws)
    }
  }

  leaveRoom(ws: ServerWebSocket<WSData>, room: string) {
    ws.data.rooms.delete(room)
    this.connections.get(room)?.delete(ws)
  }

  broadcast(room: string, message: object, excludeUserId?: string) {
    const clients = this.connections.get(room)
    if (!clients) return

    const payload = JSON.stringify(message)
    for (const ws of clients) {
      if (excludeUserId && ws.data.userId === excludeUserId) continue
      if (ws.readyState === 1) {
        ws.send(payload)
      }
    }
  }

  getRoomUsers(room: string): string[] {
    const clients = this.connections.get(room)
    if (!clients) return []
    return [...clients].map((ws) => ws.data.userId)
  }

  getConnectionCount(): number {
    return this.userSockets.size
  }

  getRoomCount(): number {
    return this.connections.size
  }
}

export const wsManager = new WebSocketManager()
</file>

<file path="apps/api/src/middleware/auth.ts">
import { clerkMiddleware, getAuth } from '@hono/clerk-auth'
import { workspaceMembers, workspaces } from '@repo/db/schema'
import type { Role } from '@repo/shared'
import { and, eq } from 'drizzle-orm'
import { createMiddleware } from 'hono/factory'
import { UnauthorizedError } from '../lib/errors'
import { getUserByClerkId, syncUser } from '../services/user-sync'
import type { AuthUser, Variables } from '../types/context'

// Wrap Clerk middleware
export const clerkAuth = clerkMiddleware()

// Extract and enrich user context
export const authMiddleware = createMiddleware<{ Variables: Variables }>(
  async (c, next) => {
    const auth = getAuth(c)

    if (!auth?.userId) {
      c.set('user', null)
      await next()
      return
    }

    const db = c.var.db
    const clerkClient = c.get('clerk')

    // Get or sync user
    let localUser = await getUserByClerkId(db, auth.userId)

    if (!localUser) {
      // Fetch from Clerk and sync
      const clerkUser = await clerkClient.users.getUser(auth.userId)
      localUser = await syncUser(db, clerkUser)
    }

    if (!localUser) {
      throw new UnauthorizedError('User not found')
    }

    // Get workspace and role from organization
    let role: Role = 'guest'
    let workspaceId: string | null = null

    if (auth.orgId) {
      // Find workspace by Clerk org ID
      let [workspace] = await db
        .select()
        .from(workspaces)
        .where(eq(workspaces.clerkOrgId, auth.orgId))
        .limit(1)

      // Auto-create workspace if it doesn't exist
      if (!workspace) {
        const orgRole = auth.orgRole || 'member'
        const isAdmin = orgRole === 'org:admin' || orgRole === 'admin'

        // Get org details from Clerk
        const clerkOrg = await clerkClient.organizations.getOrganization({
          organizationId: auth.orgId,
        })

        // Create workspace
        const [newWorkspace] = await db
          .insert(workspaces)
          .values({
            name: clerkOrg.name,
            slug: clerkOrg.slug || auth.orgId,
            clerkOrgId: auth.orgId,
            ownerId: localUser.id,
          })
          .returning()

        workspace = newWorkspace

        // Add user as member (super_admin for org admins)
        if (workspace) {
          await db.insert(workspaceMembers).values({
            workspaceId: workspace.id,
            userId: localUser.id,
            role: isAdmin ? 'super_admin' : 'member',
          })
        }
      }

      if (workspace) {
        workspaceId = workspace.id

        // Get member role
        let [membership] = await db
          .select()
          .from(workspaceMembers)
          .where(
            and(
              eq(workspaceMembers.workspaceId, workspace.id),
              eq(workspaceMembers.userId, localUser.id),
            ),
          )
          .limit(1)

        // Auto-add user to workspace if not a member
        if (!membership) {
          const orgRole = auth.orgRole || 'member'
          const isAdmin = orgRole === 'org:admin' || orgRole === 'admin'

          const [newMembership] = await db
            .insert(workspaceMembers)
            .values({
              workspaceId: workspace.id,
              userId: localUser.id,
              role: isAdmin ? 'super_admin' : 'member',
            })
            .returning()

          membership = newMembership
        }

        if (membership) {
          role = membership.role as Role
        }
      }
    }

    const user: AuthUser = {
      id: localUser.id,
      clerkId: localUser.clerkId,
      email: localUser.email,
      name: localUser.name,
      role,
      orgId: auth.orgId || null,
      workspaceId,
    }

    c.set('user', user)
    await next()
  },
)

// Require authentication
export const requireAuth = createMiddleware<{ Variables: Variables }>(
  async (c, next) => {
    const user = c.var.user

    if (!user) {
      throw new UnauthorizedError('Authentication required')
    }

    await next()
  },
)

// Require active organization/workspace
export const requireWorkspace = createMiddleware<{ Variables: Variables }>(
  async (c, next) => {
    const user = c.var.user

    if (!user) {
      throw new UnauthorizedError('Authentication required')
    }

    if (!user.workspaceId) {
      throw new UnauthorizedError(
        'No active workspace. Please select an organization.',
      )
    }

    await next()
  },
)
</file>

<file path="apps/api/src/middleware/db.ts">
import { db } from '@repo/db'
import { createMiddleware } from 'hono/factory'
import type { Variables } from '../types/context'

export const dbMiddleware = createMiddleware<{ Variables: Variables }>(
  async (c, next) => {
    c.set('db', db)
    await next()
  },
)
</file>

<file path="apps/api/src/middleware/error.ts">
import type { Context } from 'hono'
import { HTTPException } from 'hono/http-exception'
import type { ContentfulStatusCode } from 'hono/utils/http-status'
import { AppError } from '../lib/errors'
import type { ApiError } from '../lib/response'

export function errorHandler(err: Error, c: Context) {
  console.error(`[Error] ${err.message}`, {
    stack: err.stack,
    requestId: c.get('requestId'),
  })

  if (err instanceof AppError) {
    const response: ApiError = {
      success: false,
      error: {
        code: err.code,
        message: err.message,
        details: err.details,
      },
    }
    return c.json(response, err.statusCode as ContentfulStatusCode)
  }

  if (err instanceof HTTPException) {
    const response: ApiError = {
      success: false,
      error: {
        code: 'HTTP_ERROR',
        message: err.message,
      },
    }
    return c.json(response, err.status)
  }

  // Unknown error
  const response: ApiError = {
    success: false,
    error: {
      code: 'INTERNAL_ERROR',
      message:
        process.env.NODE_ENV === 'production'
          ? 'Internal server error'
          : err.message,
    },
  }
  return c.json(response, 500)
}

export function notFoundHandler(c: Context) {
  const response: ApiError = {
    success: false,
    error: {
      code: 'NOT_FOUND',
      message: `Route ${c.req.method} ${c.req.path} not found`,
    },
  }
  return c.json(response, 404)
}
</file>

<file path="apps/api/src/middleware/rate-limit.ts">
import { createMiddleware } from 'hono/factory'
import { HTTPException } from 'hono/http-exception'
import type { Variables } from '../types/context'

type RateLimitRecord = { count: number; reset: number }
const store = new Map<string, RateLimitRecord>()

export const rateLimit = (
  options: { limit?: number; windowMs?: number } = {},
) => {
  const { limit = 100, windowMs = 60_000 } = options

  return createMiddleware<{ Variables: Variables }>(async (c, next) => {
    const key =
      c.req.header('x-forwarded-for') || c.req.header('x-real-ip') || 'unknown'
    const now = Date.now()
    const record = store.get(key)

    if (!record || record.reset < now) {
      store.set(key, { count: 1, reset: now + windowMs })
    } else if (record.count >= limit) {
      c.header('X-RateLimit-Limit', String(limit))
      c.header('X-RateLimit-Remaining', '0')
      c.header('X-RateLimit-Reset', String(Math.ceil(record.reset / 1000)))
      throw new HTTPException(429, { message: 'Rate limit exceeded' })
    } else {
      record.count++
    }

    c.header('X-RateLimit-Limit', String(limit))
    c.header('X-RateLimit-Remaining', String(limit - (record?.count || 1)))

    await next()
  })
}

// Cleanup stale entries every 5 minutes
setInterval(
  () => {
    const now = Date.now()
    for (const [key, record] of store) {
      if (record.reset < now) {
        store.delete(key)
      }
    }
  },
  5 * 60 * 1000,
)
</file>

<file path="apps/api/src/middleware/rbac.ts">
import type { Permission, Role } from '@repo/shared'
import { hasAnyPermission, hasPermission } from '@repo/shared'
import type { Context } from 'hono'
import { createMiddleware } from 'hono/factory'
import { ForbiddenError, UnauthorizedError } from '../lib/errors'
import type { Variables } from '../types/context'

// Require specific role(s)
export const requireRole = (...allowedRoles: Role[]) => {
  return createMiddleware<{ Variables: Variables }>(async (c, next) => {
    const user = c.var.user

    if (!user) {
      throw new UnauthorizedError()
    }

    if (!allowedRoles.includes(user.role)) {
      throw new ForbiddenError(
        `Role ${user.role} not allowed. Required: ${allowedRoles.join(' or ')}`,
      )
    }

    await next()
  })
}

// Require specific permission(s)
export const requirePermission = (...permissions: Permission[]) => {
  return createMiddleware<{ Variables: Variables }>(async (c, next) => {
    const user = c.var.user

    if (!user) {
      throw new UnauthorizedError()
    }

    if (!hasAnyPermission(user.role, permissions)) {
      throw new ForbiddenError(
        `Permission denied. Required: ${permissions.join(' or ')}`,
      )
    }

    await next()
  })
}

// Check if user can modify resource
export const requireOwnerOrRole = (
  getOwnerId: (c: Context<{ Variables: Variables }>) => Promise<string | null>,
  ...allowedRoles: Role[]
) => {
  return createMiddleware<{ Variables: Variables }>(async (c, next) => {
    const user = c.var.user

    if (!user) {
      throw new UnauthorizedError()
    }

    // Super admin can do anything
    if (allowedRoles.includes(user.role)) {
      await next()
      return
    }

    // Check ownership
    const ownerId = await getOwnerId(c)
    if (ownerId !== user.id) {
      throw new ForbiddenError('You can only modify your own resources')
    }

    await next()
  })
}
</file>

<file path="apps/api/src/routes/auth.ts">
import { Hono } from 'hono'
import { Webhook } from 'svix'
import { getAuthUser } from '../lib/errors'
import { success } from '../lib/response'
import { requireAuth } from '../middleware/auth'
import { syncUser } from '../services/user-sync'
import type { Variables } from '../types/context'

// Clerk webhook event type
interface ClerkWebhookEvent {
  type: string
  data: {
    id: string
    email_addresses?: Array<{ email_address: string }>
    first_name?: string | null
    last_name?: string | null
    image_url?: string | null
    [key: string]: unknown
  }
}

const auth = new Hono<{ Variables: Variables }>()

// Get current user
auth.get('/me', requireAuth, (c) => {
  const user = getAuthUser(c.var)
  return success(c, {
    id: user.id,
    email: user.email,
    name: user.name,
    role: user.role,
    workspaceId: user.workspaceId,
  })
})

// Clerk webhook for user events
auth.post('/webhook/clerk', async (c) => {
  const webhookSecret = process.env.CLERK_WEBHOOK_SECRET

  if (!webhookSecret) {
    console.error('CLERK_WEBHOOK_SECRET not configured')
    return c.json({ error: 'Webhook not configured' }, 500)
  }

  const svixId = c.req.header('svix-id')
  const svixTimestamp = c.req.header('svix-timestamp')
  const svixSignature = c.req.header('svix-signature')

  if (!svixId || !svixTimestamp || !svixSignature) {
    return c.json({ error: 'Missing headers' }, 400)
  }

  const body = await c.req.text()

  try {
    const wh = new Webhook(webhookSecret)
    const evt = wh.verify(body, {
      'svix-id': svixId,
      'svix-timestamp': svixTimestamp,
      'svix-signature': svixSignature,
    }) as ClerkWebhookEvent

    const db = c.var.db

    switch (evt.type) {
      case 'user.created':
      case 'user.updated':
        await syncUser(db, evt.data)
        break
      // Handle other events as needed
    }

    return c.json({ received: true })
  } catch (err) {
    console.error('Webhook verification failed:', err)
    return c.json({ error: 'Invalid signature' }, 400)
  }
})

export default auth
</file>

<file path="apps/api/src/routes/comments.ts">
import { zValidator } from '@hono/zod-validator'
import { Hono } from 'hono'
import { z } from 'zod'
import { getAuthUser, getWorkspaceId } from '../lib/errors'
import { created, noContent, success } from '../lib/response'
import { requireWorkspace } from '../middleware/auth'
import * as commentService from '../services/comment'
import { emitTaskEvent } from '../services/realtime'
import type { Variables } from '../types/context'

const commentsRouter = new Hono<{ Variables: Variables }>()

const commentSchema = z.object({
  content: z.string().min(1),
})

// List comments for a task
commentsRouter.get('/tasks/:taskId/comments', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('taskId')
  const result = await commentService.getCommentsByTask(db, taskId)
  return success(c, result)
})

// Create comment
commentsRouter.post(
  '/tasks/:taskId/comments',
  requireWorkspace,
  zValidator('json', commentSchema),
  async (c) => {
    const user = getAuthUser(c.var)
    const workspaceId = getWorkspaceId(user)
    const db = c.var.db
    const taskId = c.req.param('taskId')
    const { content } = c.req.valid('json')

    const result = await commentService.createComment(
      db,
      taskId,
      user.id,
      workspaceId,
      content,
    )

    // Get task to find projectId for real-time event
    const task = await db.query.tasks.findFirst({
      where: (tasks, { eq }) => eq(tasks.id, taskId),
    })

    if (task) {
      await emitTaskEvent({
        type: 'task:updated',
        projectId: task.projectId,
        data: { commentAdded: result },
        userId: user.id,
      })
    }

    return created(c, result)
  },
)

// Update comment
commentsRouter.patch(
  '/comments/:id',
  requireWorkspace,
  zValidator('json', commentSchema),
  async (c) => {
    const user = getAuthUser(c.var)
    const db = c.var.db
    const commentId = c.req.param('id')
    const { content } = c.req.valid('json')

    const result = await commentService.updateComment(
      db,
      commentId,
      user.id,
      content,
    )
    return success(c, result)
  },
)

// Delete comment
commentsRouter.delete('/comments/:id', requireWorkspace, async (c) => {
  const user = getAuthUser(c.var)
  const db = c.var.db
  const commentId = c.req.param('id')

  await commentService.deleteComment(db, commentId, user.id)
  return noContent(c)
})

export default commentsRouter
</file>

<file path="apps/api/src/routes/dashboard.ts">
import type { Database } from '@repo/db'
import {
  activityLogs,
  projects,
  tasks,
  workflowStatuses,
  workspaceMembers,
} from '@repo/db/schema'
import { and, desc, eq, sql } from 'drizzle-orm'
import { Hono } from 'hono'
import { success } from '../lib/response'
import { requireWorkspace } from '../middleware/auth'
import type { Variables } from '../types/context'

const dashboard = new Hono<{ Variables: Variables }>()

// Get dashboard stats
dashboard.get('/dashboard/stats', requireWorkspace, async (c) => {
  const user = c.var.user!
  const workspaceId = user.workspaceId!
  const db = c.var.db

  const stats = await getDashboardStats(db, workspaceId)
  return success(c, stats)
})

// Get global activity feed
dashboard.get('/activity', requireWorkspace, async (c) => {
  const user = c.var.user!
  const workspaceId = user.workspaceId!
  const db = c.var.db

  const activities = await getRecentActivity(db, workspaceId)
  return success(c, activities)
})

// Get recent tasks
dashboard.get('/tasks/recent', requireWorkspace, async (c) => {
  const user = c.var.user!
  const workspaceId = user.workspaceId!
  const db = c.var.db

  const recentTasks = await getRecentTasks(db, workspaceId)
  return success(c, recentTasks)
})

async function getDashboardStats(db: Database, workspaceId: string) {
  // Get all projects in workspace
  const workspaceProjects = await db.query.projects.findMany({
    where: eq(projects.workspaceId, workspaceId),
    columns: { id: true },
  })

  const projectIds = workspaceProjects.map((p) => p.id)

  if (projectIds.length === 0) {
    return { openTasks: 0, completedTasks: 0, projects: 0, members: 0 }
  }

  // Get completed status IDs (statuses marked as final)
  const completedStatuses = await db.query.workflowStatuses.findMany({
    where: and(
      sql`${workflowStatuses.projectId} = ANY(${projectIds})`,
      eq(workflowStatuses.isFinal, true),
    ),
    columns: { id: true },
  })
  const completedStatusIds = completedStatuses.map((s) => s.id)

  // Count tasks
  const [taskCounts] = await db
    .select({
      total: sql<number>`count(*)::int`,
      completed: sql<number>`count(*) FILTER (WHERE ${tasks.statusId} = ANY(${completedStatusIds}))::int`,
    })
    .from(tasks)
    .where(sql`${tasks.projectId} = ANY(${projectIds})`)

  // Count members
  const [memberCount] = await db
    .select({ count: sql<number>`count(*)::int` })
    .from(workspaceMembers)
    .where(eq(workspaceMembers.workspaceId, workspaceId))

  return {
    openTasks: (taskCounts?.total ?? 0) - (taskCounts?.completed ?? 0),
    completedTasks: taskCounts?.completed ?? 0,
    projects: projectIds.length,
    members: memberCount?.count ?? 0,
  }
}

async function getRecentActivity(db: Database, workspaceId: string) {
  const logs = await db.query.activityLogs.findMany({
    where: eq(activityLogs.workspaceId, workspaceId),
    with: { user: true },
    orderBy: [desc(activityLogs.createdAt)],
    limit: 20,
  })

  return logs.map((log) => ({
    id: log.id,
    action: log.action,
    targetType: log.entityType,
    targetTitle: (log.metadata as { title?: string })?.title ?? log.entityId,
    user: {
      name: log.user?.name ?? 'Unknown',
      avatarUrl: log.user?.avatarUrl,
    },
    createdAt: log.createdAt.toISOString(),
  }))
}

async function getRecentTasks(db: Database, workspaceId: string) {
  // Get projects in workspace
  const workspaceProjects = await db.query.projects.findMany({
    where: eq(projects.workspaceId, workspaceId),
    columns: { id: true },
  })

  const projectIds = workspaceProjects.map((p) => p.id)

  if (projectIds.length === 0) {
    return []
  }

  const recentTasks = await db.query.tasks.findMany({
    where: sql`${tasks.projectId} = ANY(${projectIds})`,
    orderBy: [desc(tasks.updatedAt), desc(tasks.createdAt)],
    limit: 10,
    with: {
      assignee: true,
      status: true,
    },
  })

  return recentTasks.map((task) => ({
    id: task.id,
    title: task.title,
    description: task.description,
    priority: task.priority,
    statusId: task.statusId,
    order: task.order,
    dueDate: task.dueDate?.toISOString(),
    projectId: task.projectId,
    assignee: task.assignee
      ? {
          id: task.assignee.id,
          name: task.assignee.name,
          avatarUrl: task.assignee.avatarUrl,
        }
      : undefined,
  }))
}

export default dashboard
</file>

<file path="apps/api/src/routes/health.ts">
import { sql } from 'drizzle-orm'
import { Hono } from 'hono'
import type { Variables } from '../types/context'

const health = new Hono<{ Variables: Variables }>()

health.get('/', (c) => {
  return c.json({
    status: 'healthy',
    timestamp: new Date().toISOString(),
    version: process.env.npm_package_version || '0.0.0',
  })
})

health.get('/ready', async (c) => {
  const db = c.var.db
  try {
    // Simple query to check DB connection
    await db.execute(sql`SELECT 1`)
    return c.json({ status: 'ready', database: 'connected' })
  } catch {
    return c.json({ status: 'not ready', database: 'disconnected' }, 503)
  }
})

export default health
</file>

<file path="apps/api/src/routes/index.ts">
import { Hono } from 'hono'
import { authMiddleware, clerkAuth } from '../middleware/auth'
import type { Variables } from '../types/context'
import auth from './auth'
import comments from './comments'
import dashboard from './dashboard'
import health from './health'
import projects from './projects'
import tasks, { attachmentsRouter, projectTasks } from './tasks'
import workspaces from './workspaces'

const routes = new Hono<{ Variables: Variables }>()

// Public routes
routes.route('/health', health)

// Auth middleware for all /api routes
routes.use('/api/*', clerkAuth)
routes.use('/api/*', authMiddleware)

// API routes
routes.route('/api/auth', auth)
routes.route('/api/workspaces', workspaces)
routes.route('/api/projects', projects)
routes.route('/api/projects', projectTasks) // For /projects/:id/tasks
routes.route('/api', dashboard) // For /dashboard/stats, /activity, /tasks/recent (before tasks router)
routes.route('/api/tasks', tasks) // For /tasks/:id
routes.route('/api/attachments', attachmentsRouter) // For /attachments/:id
routes.route('/api', comments) // For /tasks/:id/comments and /comments/:id

export default routes
</file>

<file path="apps/api/src/routes/projects.ts">
import { zValidator } from '@hono/zod-validator'
import {
  createProjectSchema,
  createWorkflowStatusSchema,
  reorderStatusesSchema,
  updateProjectSchema,
  updateWorkflowStatusSchema,
} from '@repo/shared'
import { Hono } from 'hono'
import { getAuthUser, getWorkspaceId } from '../lib/errors'
import { created, noContent, success } from '../lib/response'
import { requireWorkspace } from '../middleware/auth'
import { requirePermission } from '../middleware/rbac'
import * as projectService from '../services/project'
import type { Variables } from '../types/context'

const projects = new Hono<{ Variables: Variables }>()

// List projects
projects.get('/', requireWorkspace, async (c) => {
  const user = getAuthUser(c.var)
  const workspaceId = getWorkspaceId(user)
  const db = c.var.db
  const result = await projectService.getProjectsByWorkspace(db, workspaceId)
  return success(c, result)
})

// Create project
projects.post(
  '/',
  requireWorkspace,
  requirePermission('project:create'),
  zValidator('json', createProjectSchema),
  async (c) => {
    const user = getAuthUser(c.var)
    const workspaceId = getWorkspaceId(user)
    const db = c.var.db
    const data = c.req.valid('json')
    const result = await projectService.createProject(
      db,
      workspaceId,
      user.id,
      data,
    )
    return created(c, result)
  },
)

// Get project
projects.get('/:id', requireWorkspace, async (c) => {
  const user = getAuthUser(c.var)
  const workspaceId = getWorkspaceId(user)
  const db = c.var.db
  const projectId = c.req.param('id')
  const result = await projectService.getProjectById(db, projectId, workspaceId)
  return success(c, result)
})

// Update project
projects.patch(
  '/:id',
  requireWorkspace,
  requirePermission('project:update'),
  zValidator('json', updateProjectSchema),
  async (c) => {
    const user = getAuthUser(c.var)
    const workspaceId = getWorkspaceId(user)
    const db = c.var.db
    const projectId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await projectService.updateProject(
      db,
      projectId,
      workspaceId,
      data,
    )
    return success(c, result)
  },
)

// Delete (archive) project
projects.delete(
  '/:id',
  requireWorkspace,
  requirePermission('project:delete'),
  async (c) => {
    const user = getAuthUser(c.var)
    const workspaceId = getWorkspaceId(user)
    const db = c.var.db
    const projectId = c.req.param('id')
    await projectService.deleteProject(db, projectId, workspaceId)
    return noContent(c)
  },
)

// --- Workflow Statuses ---

// List statuses
projects.get('/:id/statuses', requireWorkspace, async (c) => {
  const db = c.var.db
  const projectId = c.req.param('id')
  const result = await projectService.getProjectStatuses(db, projectId)
  return success(c, result)
})

// Create status
projects.post(
  '/:id/statuses',
  requireWorkspace,
  requirePermission('project:update'),
  zValidator('json', createWorkflowStatusSchema),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await projectService.createWorkflowStatus(
      db,
      projectId,
      data,
    )
    return created(c, result)
  },
)

// Update status
projects.patch(
  '/:id/statuses/:statusId',
  requireWorkspace,
  requirePermission('project:update'),
  zValidator('json', updateWorkflowStatusSchema),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('id')
    const statusId = c.req.param('statusId')
    const data = c.req.valid('json')
    const result = await projectService.updateWorkflowStatus(
      db,
      statusId,
      projectId,
      data,
    )
    return success(c, result)
  },
)

// Delete status
projects.delete(
  '/:id/statuses/:statusId',
  requireWorkspace,
  requirePermission('project:update'),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('id')
    const statusId = c.req.param('statusId')
    await projectService.deleteWorkflowStatus(db, statusId, projectId)
    return noContent(c)
  },
)

// Reorder statuses
projects.post(
  '/:id/statuses/reorder',
  requireWorkspace,
  requirePermission('project:update'),
  zValidator('json', reorderStatusesSchema),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('id')
    const { orderedIds } = c.req.valid('json')
    const result = await projectService.reorderStatuses(
      db,
      projectId,
      orderedIds,
    )
    return success(c, result)
  },
)

export default projects
</file>

<file path="apps/api/src/routes/tasks.ts">
import { zValidator } from '@hono/zod-validator'
import {
  addDependencySchema,
  addWatcherSchema,
  createTaskSchema,
  moveTaskSchema,
  taskFilterSchema,
  updateTaskSchema,
  uploadAttachmentSchema,
} from '@repo/shared'
import { Hono } from 'hono'
import { getAuthUser, getWorkspaceId } from '../lib/errors'
import { created, noContent, paginated, success } from '../lib/response'
import { requireWorkspace } from '../middleware/auth'
import { requirePermission } from '../middleware/rbac'
import * as taskService from '../services/task'
import type { Variables } from '../types/context'

const tasksRouter = new Hono<{ Variables: Variables }>()

// Project-scoped task routes
const projectTasks = new Hono<{ Variables: Variables }>()

// List tasks in project
projectTasks.get(
  '/:projectId/tasks',
  requireWorkspace,
  zValidator('query', taskFilterSchema),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('projectId')
    const filters = c.req.valid('query')
    const result = await taskService.getTasksByProject(db, projectId, filters)
    return paginated(c, result.data, result.meta)
  },
)

// Create task
projectTasks.post(
  '/:projectId/tasks',
  requireWorkspace,
  requirePermission('task:create'),
  zValidator('json', createTaskSchema),
  async (c) => {
    const user = getAuthUser(c.var)
    const workspaceId = getWorkspaceId(user)
    const db = c.var.db
    const projectId = c.req.param('projectId')
    const data = c.req.valid('json')
    const result = await taskService.createTask(
      db,
      projectId,
      user.id,
      workspaceId,
      data,
    )
    return created(c, result)
  },
)

// Task-specific routes
// Get task
tasksRouter.get('/:id', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskById(db, taskId)
  return success(c, result)
})

// Update task
tasksRouter.patch(
  '/:id',
  requireWorkspace,
  requirePermission('task:update'),
  zValidator('json', updateTaskSchema),
  async (c) => {
    const user = getAuthUser(c.var)
    const workspaceId = getWorkspaceId(user)
    const db = c.var.db
    const taskId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await taskService.updateTask(
      db,
      taskId,
      user.id,
      workspaceId,
      data,
    )
    return success(c, result)
  },
)

// Move task (change status/order)
tasksRouter.post(
  '/:id/move',
  requireWorkspace,
  requirePermission('task:update'),
  zValidator('json', moveTaskSchema),
  async (c) => {
    const user = getAuthUser(c.var)
    const workspaceId = getWorkspaceId(user)
    const db = c.var.db
    const taskId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await taskService.moveTask(
      db,
      taskId,
      user.id,
      workspaceId,
      data,
    )
    return success(c, result)
  },
)

// Delete task
tasksRouter.delete(
  '/:id',
  requireWorkspace,
  requirePermission('task:delete'),
  async (c) => {
    const user = getAuthUser(c.var)
    const workspaceId = getWorkspaceId(user)
    const db = c.var.db
    const taskId = c.req.param('id')
    await taskService.deleteTask(db, taskId, user.id, workspaceId)
    return noContent(c)
  },
)

// --- Dependencies ---
tasksRouter.get('/:id/dependencies', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskDependencies(db, taskId)
  return success(c, result)
})

tasksRouter.post(
  '/:id/dependencies',
  requireWorkspace,
  requirePermission('task:update'),
  zValidator('json', addDependencySchema),
  async (c) => {
    const db = c.var.db
    const taskId = c.req.param('id')
    const { dependsOnId } = c.req.valid('json')
    const result = await taskService.addTaskDependency(db, taskId, dependsOnId)
    return created(c, result)
  },
)

tasksRouter.delete(
  '/:id/dependencies/:depId',
  requireWorkspace,
  requirePermission('task:update'),
  async (c) => {
    const db = c.var.db
    const taskId = c.req.param('id')
    const depId = c.req.param('depId')
    await taskService.removeTaskDependency(db, taskId, depId)
    return noContent(c)
  },
)

// --- Watchers ---
tasksRouter.get('/:id/watchers', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskWatchers(db, taskId)
  return success(c, result)
})

tasksRouter.post(
  '/:id/watchers',
  requireWorkspace,
  zValidator('json', addWatcherSchema),
  async (c) => {
    const db = c.var.db
    const taskId = c.req.param('id')
    const { userId } = c.req.valid('json')
    const result = await taskService.addTaskWatcher(db, taskId, userId)
    return created(c, result)
  },
)

tasksRouter.delete('/:id/watchers/:userId', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const userId = c.req.param('userId')
  await taskService.removeTaskWatcher(db, taskId, userId)
  return noContent(c)
})

// --- Attachments ---
tasksRouter.get('/:id/attachments', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskAttachments(db, taskId)
  return success(c, result)
})

tasksRouter.post(
  '/:id/attachments',
  requireWorkspace,
  requirePermission('task:update'),
  zValidator('json', uploadAttachmentSchema),
  async (c) => {
    const user = getAuthUser(c.var)
    const db = c.var.db
    const taskId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await taskService.addAttachment(db, taskId, user.id, data)
    return created(c, result)
  },
)

// --- Activity ---
tasksRouter.get('/:id/activity', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskActivity(db, taskId)
  return success(c, result)
})

// --- Standalone Attachment Delete ---
// Separate router for /attachments/:id since it's not nested under /tasks/:id
const attachmentsRouter = new Hono<{ Variables: Variables }>()

attachmentsRouter.delete(
  '/:id',
  requireWorkspace,
  requirePermission('task:update'),
  async (c) => {
    const db = c.var.db
    const attachmentId = c.req.param('id')
    await taskService.deleteAttachment(db, attachmentId)
    return noContent(c)
  },
)

// Export both routers
export { projectTasks, attachmentsRouter, tasksRouter as default }
</file>

<file path="apps/api/src/routes/workspaces.ts">
import { zValidator } from '@hono/zod-validator'
import { inviteMemberSchema, updateWorkspaceSchema } from '@repo/shared'
import { Hono } from 'hono'
import { getAuthUser } from '../lib/errors'
import { success } from '../lib/response'
import { requireAuth, requireWorkspace } from '../middleware/auth'
import { requirePermission, requireRole } from '../middleware/rbac'
import * as workspaceService from '../services/workspace'
import type { Variables } from '../types/context'

const workspaces = new Hono<{ Variables: Variables }>()

// List user's workspaces
workspaces.get('/', requireAuth, async (c) => {
  const user = getAuthUser(c.var)
  const db = c.var.db
  const result = await workspaceService.getWorkspacesByUserId(db, user.id)
  return success(c, result)
})

// Get workspace by ID
workspaces.get('/:id', requireAuth, async (c) => {
  const user = getAuthUser(c.var)
  const db = c.var.db
  const workspaceId = c.req.param('id')
  const result = await workspaceService.getWorkspaceById(
    db,
    workspaceId,
    user.id,
  )
  return success(c, result)
})

// Update workspace
workspaces.patch(
  '/:id',
  requireWorkspace,
  requirePermission('workspace:update'),
  zValidator('json', updateWorkspaceSchema),
  async (c) => {
    const db = c.var.db
    const workspaceId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await workspaceService.updateWorkspace(db, workspaceId, data)
    return success(c, result)
  },
)

// List workspace members
workspaces.get('/:id/members', requireWorkspace, async (c) => {
  const db = c.var.db
  const workspaceId = c.req.param('id')
  const members = await workspaceService.getWorkspaceMembers(db, workspaceId)
  return success(c, members)
})

// Invite member (via Clerk, then add to local DB)
workspaces.post(
  '/:id/members',
  requireWorkspace,
  requirePermission('workspace:invite'),
  zValidator('json', inviteMemberSchema),
  async (c) => {
    // Note: Actual invite happens via Clerk Organizations
    // This endpoint handles post-invite local DB sync
    const { email, role } = c.req.valid('json')

    // TODO: Look up user by email, add to workspace
    // For now, return success message
    return success(c, { message: 'Invitation sent', email, role })
  },
)

// Remove member
workspaces.delete(
  '/:id/members/:userId',
  requireWorkspace,
  requireRole('super_admin', 'pm'),
  async (c) => {
    const db = c.var.db
    const workspaceId = c.req.param('id')
    const userId = c.req.param('userId')
    await workspaceService.removeWorkspaceMember(db, workspaceId, userId)
    return success(c, { message: 'Member removed' })
  },
)

export default workspaces
</file>

<file path="apps/api/src/routes/ws.ts">
import { getAuth } from '@hono/clerk-auth'
import { Hono } from 'hono'
import { createBunWebSocket } from 'hono/bun'
import { type WSData, wsManager } from '../lib/websocket'
import type { Variables } from '../types/context'

const { upgradeWebSocket, websocket } = createBunWebSocket<WSData>()

const wsRoutes = new Hono<{ Variables: Variables }>()

wsRoutes.get(
  '/connect',
  upgradeWebSocket((c) => {
    const auth = getAuth(c)

    return {
      onOpen(_event, ws) {
        const rawWs = ws.raw
        if (rawWs) {
          rawWs.data = {
            userId: auth?.userId || 'anonymous',
            workspaceId: auth?.orgId || '',
            rooms: new Set(),
          }
          wsManager.addConnection(rawWs)
          ws.send(JSON.stringify({ type: 'connected' }))
        }
      },

      onMessage(event, ws) {
        const rawWs = ws.raw
        if (!rawWs) return

        try {
          const msg = JSON.parse(event.data as string) as {
            type: string
            room?: string
          }

          switch (msg.type) {
            case 'subscribe':
              if (msg.room) {
                wsManager.joinRoom(rawWs, msg.room)
                ws.send(JSON.stringify({ type: 'subscribed', room: msg.room }))
              }
              break

            case 'unsubscribe':
              if (msg.room) {
                wsManager.leaveRoom(rawWs, msg.room)
                ws.send(
                  JSON.stringify({ type: 'unsubscribed', room: msg.room }),
                )
              }
              break

            case 'ping':
              ws.send(JSON.stringify({ type: 'pong' }))
              break
          }
        } catch (err) {
          console.error('WebSocket message error:', err)
        }
      },

      onClose(_event, ws) {
        const rawWs = ws.raw
        if (rawWs) {
          wsManager.removeConnection(rawWs)
        }
      },
    }
  }),
)

export { websocket, wsRoutes as default }
</file>

<file path="apps/api/src/services/__tests__/task.test.ts">
import { beforeEach, describe, expect, it } from 'bun:test'
import '../../../tests/setup'
import {
  createTestProject,
  createTestUser,
  createTestWorkspace,
} from '../../../tests/helpers'
import { testDb } from '../../../tests/setup'
import * as taskService from '../task'

describe('Task Service', () => {
  let user: Awaited<ReturnType<typeof createTestUser>>
  let workspace: Awaited<ReturnType<typeof createTestWorkspace>>
  let project: Awaited<ReturnType<typeof createTestProject>>['project']
  let statuses: Awaited<ReturnType<typeof createTestProject>>['statuses']

  beforeEach(async () => {
    user = await createTestUser()
    workspace = await createTestWorkspace(user.id)
    const result = await createTestProject(workspace.id, user.id)
    project = result.project
    statuses = result.statuses
  })

  describe('createTask', () => {
    it('creates a task with default status', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' },
      )

      expect(task).toBeDefined()
      expect(task.title).toBe('Test Task')
      expect(task.statusId).toBe(statuses[0].id) // Default status (isDefault: true)
      expect(task.order).toBe(0)
    })

    it('creates a task with specified status', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task', statusId: statuses[1].id },
      )

      expect(task.statusId).toBe(statuses[1].id)
    })

    it('creates multiple tasks with incremented order', async () => {
      const task1 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Task 1' },
      )
      const task2 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Task 2' },
      )

      expect(task1.order).toBe(0)
      expect(task2.order).toBe(1)
    })

    it('creates a task with priority and description', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        {
          title: 'High Priority Task',
          description: 'This is important',
          priority: 'high',
        },
      )

      expect(task.title).toBe('High Priority Task')
      expect(task.description).toBe('This is important')
      expect(task.priority).toBe('high')
    })
  })

  describe('getTaskById', () => {
    it('returns task with relations', async () => {
      const created = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' },
      )

      const task = await taskService.getTaskById(testDb, created.id)

      expect(task.id).toBe(created.id)
      expect(task.project).toBeDefined()
      expect(task.status).toBeDefined()
      expect(task.createdBy).toBeDefined()
    })

    it('throws NotFoundError for non-existent task', async () => {
      await expect(
        taskService.getTaskById(testDb, '00000000-0000-0000-0000-000000000000'),
      ).rejects.toThrow()
    })
  })

  describe('updateTask', () => {
    it('updates task title', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Original Title' },
      )

      const updated = await taskService.updateTask(
        testDb,
        task.id,
        user.id,
        workspace.id,
        { title: 'Updated Title' },
      )

      expect(updated.title).toBe('Updated Title')
    })

    it('updates task priority', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task', priority: 'low' },
      )

      const updated = await taskService.updateTask(
        testDb,
        task.id,
        user.id,
        workspace.id,
        { priority: 'urgent' },
      )

      expect(updated.priority).toBe('urgent')
    })
  })

  describe('moveTask', () => {
    it('moves task to different status', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' },
      )

      const moved = await taskService.moveTask(
        testDb,
        task.id,
        user.id,
        workspace.id,
        { statusId: statuses[2].id, order: 0 },
      )

      expect(moved.statusId).toBe(statuses[2].id)
      expect(moved.order).toBe(0)
    })

    it('updates task order within same status', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' },
      )

      const moved = await taskService.moveTask(
        testDb,
        task.id,
        user.id,
        workspace.id,
        { statusId: statuses[0].id, order: 5 },
      )

      expect(moved.order).toBe(5)
    })
  })

  describe('deleteTask', () => {
    it('deletes a task', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' },
      )

      await taskService.deleteTask(testDb, task.id, user.id, workspace.id)

      await expect(taskService.getTaskById(testDb, task.id)).rejects.toThrow(
        'Task',
      )
    })
  })

  describe('addTaskDependency', () => {
    it('adds a dependency between tasks', async () => {
      const task1 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Task 1' },
      )
      const task2 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Task 2' },
      )

      const dep = await taskService.addTaskDependency(
        testDb,
        task1.id,
        task2.id,
      )

      expect(dep).toBeDefined()
      expect(dep?.taskId).toBe(task1.id)
      expect(dep?.dependsOnId).toBe(task2.id)
    })

    it('prevents self-dependency', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' },
      )

      await expect(
        taskService.addTaskDependency(testDb, task.id, task.id),
      ).rejects.toThrow()
    })

    it('prevents circular dependency', async () => {
      const task1 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Task 1' },
      )
      const task2 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Task 2' },
      )

      // Task 1 depends on Task 2
      await taskService.addTaskDependency(testDb, task1.id, task2.id)

      // Task 2 cannot depend on Task 1 (circular)
      await expect(
        taskService.addTaskDependency(testDb, task2.id, task1.id),
      ).rejects.toThrow()
    })
  })

  describe('removeTaskDependency', () => {
    it('removes a dependency', async () => {
      const task1 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Task 1' },
      )
      const task2 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Task 2' },
      )

      await taskService.addTaskDependency(testDb, task1.id, task2.id)
      await taskService.removeTaskDependency(testDb, task1.id, task2.id)

      const deps = await taskService.getTaskDependencies(testDb, task1.id)
      expect(deps.length).toBe(0)
    })
  })

  describe('addTaskWatcher', () => {
    it('adds a watcher to task', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' },
      )

      const watcher = await taskService.addTaskWatcher(testDb, task.id, user.id)

      expect(watcher?.userId).toBe(user.id)
      expect(watcher?.taskId).toBe(task.id)
    })
  })

  describe('removeTaskWatcher', () => {
    it('removes a watcher from task', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' },
      )

      await taskService.addTaskWatcher(testDb, task.id, user.id)
      await taskService.removeTaskWatcher(testDb, task.id, user.id)

      const watchers = await taskService.getTaskWatchers(testDb, task.id)
      expect(watchers.length).toBe(0)
    })
  })
})
</file>

<file path="apps/api/src/services/activity.ts">
import type { Database } from '@repo/db'
import { activityLogs } from '@repo/db/schema'

type EntityType = 'workspace' | 'project' | 'task' | 'comment'
type ActionType =
  | 'created'
  | 'updated'
  | 'deleted'
  | 'assigned'
  | 'commented'
  | 'status_changed'
  | 'moved'

type ActivityChanges = Record<string, { old: unknown; new: unknown }>

export async function logActivity(
  db: Database,
  params: {
    workspaceId: string
    entityType: EntityType
    entityId: string
    userId: string
    action: ActionType
    changes?: ActivityChanges
    metadata?: Record<string, unknown>
  },
) {
  const [log] = await db
    .insert(activityLogs)
    .values({
      workspaceId: params.workspaceId,
      entityType: params.entityType,
      entityId: params.entityId,
      userId: params.userId,
      action: params.action,
      changes: params.changes,
      metadata: params.metadata,
    })
    .returning()

  return log
}

export function computeChanges<T extends Record<string, unknown>>(
  original: T,
  updated: Partial<T>,
  fields: (keyof T)[],
): ActivityChanges | undefined {
  const changes: ActivityChanges = {}
  let hasChanges = false

  for (const field of fields) {
    if (field in updated && updated[field] !== original[field]) {
      changes[field as string] = {
        old: original[field],
        new: updated[field],
      }
      hasChanges = true
    }
  }

  return hasChanges ? changes : undefined
}
</file>

<file path="apps/api/src/services/comment.ts">
import type { Database } from '@repo/db'
import { comments } from '@repo/db/schema'
import { desc, eq } from 'drizzle-orm'
import { NotFoundError } from '../lib/errors'
import { logActivity } from './activity'

export async function getCommentsByTask(
  db: Database,
  taskId: string,
  limit = 50,
  offset = 0,
) {
  return db.query.comments.findMany({
    where: eq(comments.taskId, taskId),
    with: { user: true },
    orderBy: [desc(comments.createdAt)],
    limit,
    offset,
  })
}

export async function createComment(
  db: Database,
  taskId: string,
  userId: string,
  workspaceId: string,
  content: string,
) {
  const [comment] = await db
    .insert(comments)
    .values({ taskId, userId, content })
    .returning()

  if (!comment) {
    throw new Error('Failed to create comment')
  }

  // Log activity
  await logActivity(db, {
    workspaceId,
    entityType: 'task',
    entityId: taskId,
    userId,
    action: 'commented',
    metadata: { commentId: comment.id },
  })

  return db.query.comments.findFirst({
    where: eq(comments.id, comment.id),
    with: { user: true },
  })
}

export async function updateComment(
  db: Database,
  commentId: string,
  userId: string,
  content: string,
) {
  const existing = await db.query.comments.findFirst({
    where: eq(comments.id, commentId),
  })

  if (!existing) throw new NotFoundError('Comment', commentId)
  if (existing.userId !== userId) throw new NotFoundError('Comment', commentId) // Hide forbidden

  const [updated] = await db
    .update(comments)
    .set({ content, updatedAt: new Date() })
    .where(eq(comments.id, commentId))
    .returning()

  if (!updated) {
    throw new NotFoundError('Comment', commentId)
  }

  return db.query.comments.findFirst({
    where: eq(comments.id, updated.id),
    with: { user: true },
  })
}

export async function deleteComment(
  db: Database,
  commentId: string,
  userId: string,
) {
  const existing = await db.query.comments.findFirst({
    where: eq(comments.id, commentId),
  })

  if (!existing) throw new NotFoundError('Comment', commentId)
  if (existing.userId !== userId) throw new NotFoundError('Comment', commentId)

  await db.delete(comments).where(eq(comments.id, commentId))
}

export async function getCommentById(db: Database, commentId: string) {
  const comment = await db.query.comments.findFirst({
    where: eq(comments.id, commentId),
    with: { user: true, task: true },
  })

  if (!comment) throw new NotFoundError('Comment', commentId)
  return comment
}
</file>

<file path="apps/api/src/services/project.ts">
import type { Database } from '@repo/db'
import { projects, workflowStatuses } from '@repo/db/schema'
import type {
  CreateProjectInput,
  CreateWorkflowStatusInput,
  UpdateProjectInput,
} from '@repo/shared'
import { and, asc, eq, ne } from 'drizzle-orm'
import { NotFoundError } from '../lib/errors'

const DEFAULT_STATUSES = [
  { name: 'To Do', color: '#6b7280', order: 0, isDefault: true },
  { name: 'In Progress', color: '#3b82f6', order: 1 },
  { name: 'Review', color: '#f59e0b', order: 2 },
  { name: 'Done', color: '#10b981', order: 3, isFinal: true },
]

export async function getProjectsByWorkspace(
  db: Database,
  workspaceId: string,
) {
  return db.query.projects.findMany({
    where: and(
      eq(projects.workspaceId, workspaceId),
      ne(projects.status, 'deleted'),
    ),
    with: {
      createdBy: true,
    },
    orderBy: (projects, { desc }) => [desc(projects.createdAt)],
  })
}

export async function getProjectById(
  db: Database,
  projectId: string,
  workspaceId: string,
) {
  const project = await db.query.projects.findFirst({
    where: and(
      eq(projects.id, projectId),
      eq(projects.workspaceId, workspaceId),
      ne(projects.status, 'deleted'),
    ),
    with: {
      createdBy: true,
      workflowStatuses: {
        orderBy: (statuses, { asc }) => [asc(statuses.order)],
      },
    },
  })

  if (!project) {
    throw new NotFoundError('Project', projectId)
  }

  return project
}

export async function createProject(
  db: Database,
  workspaceId: string,
  createdById: string,
  data: CreateProjectInput,
) {
  // Create project
  const [project] = await db
    .insert(projects)
    .values({
      ...data,
      workspaceId,
      createdById,
    })
    .returning()

  if (!project) {
    throw new NotFoundError('Project')
  }

  // Create default workflow statuses
  await db.insert(workflowStatuses).values(
    DEFAULT_STATUSES.map((status) => ({
      ...status,
      projectId: project.id,
    })),
  )

  // Return with statuses
  return getProjectById(db, project.id, workspaceId)
}

export async function updateProject(
  db: Database,
  projectId: string,
  workspaceId: string,
  data: UpdateProjectInput,
) {
  const [updated] = await db
    .update(projects)
    .set({
      ...data,
      updatedAt: new Date(),
    })
    .where(
      and(eq(projects.id, projectId), eq(projects.workspaceId, workspaceId)),
    )
    .returning()

  if (!updated) {
    throw new NotFoundError('Project', projectId)
  }

  return updated
}

export async function deleteProject(
  db: Database,
  projectId: string,
  workspaceId: string,
) {
  // Soft delete
  return updateProject(db, projectId, workspaceId, { status: 'archived' })
}

// Workflow Status Functions
export async function getProjectStatuses(db: Database, projectId: string) {
  return db.query.workflowStatuses.findMany({
    where: eq(workflowStatuses.projectId, projectId),
    orderBy: (statuses, { asc }) => [asc(statuses.order)],
  })
}

export async function createWorkflowStatus(
  db: Database,
  projectId: string,
  data: CreateWorkflowStatusInput,
) {
  // Get max order
  const existing = await db
    .select({ maxOrder: workflowStatuses.order })
    .from(workflowStatuses)
    .where(eq(workflowStatuses.projectId, projectId))
    .orderBy(asc(workflowStatuses.order))

  const maxOrder =
    existing.length > 0 ? Math.max(...existing.map((e) => e.maxOrder)) : -1

  const [status] = await db
    .insert(workflowStatuses)
    .values({
      ...data,
      projectId,
      order: maxOrder + 1,
    })
    .returning()

  return status
}

export async function updateWorkflowStatus(
  db: Database,
  statusId: string,
  projectId: string,
  data: Partial<CreateWorkflowStatusInput>,
) {
  const [updated] = await db
    .update(workflowStatuses)
    .set(data)
    .where(
      and(
        eq(workflowStatuses.id, statusId),
        eq(workflowStatuses.projectId, projectId),
      ),
    )
    .returning()

  if (!updated) {
    throw new NotFoundError('Workflow status', statusId)
  }

  return updated
}

export async function deleteWorkflowStatus(
  db: Database,
  statusId: string,
  projectId: string,
) {
  const result = await db
    .delete(workflowStatuses)
    .where(
      and(
        eq(workflowStatuses.id, statusId),
        eq(workflowStatuses.projectId, projectId),
      ),
    )
    .returning()

  if (result.length === 0) {
    throw new NotFoundError('Workflow status', statusId)
  }

  return result[0]
}

export async function reorderStatuses(
  db: Database,
  projectId: string,
  orderedIds: string[],
) {
  // Update each status with new order
  await Promise.all(
    orderedIds.map((id, index) =>
      db
        .update(workflowStatuses)
        .set({ order: index })
        .where(
          and(
            eq(workflowStatuses.id, id),
            eq(workflowStatuses.projectId, projectId),
          ),
        ),
    ),
  )

  return getProjectStatuses(db, projectId)
}
</file>

<file path="apps/api/src/services/realtime.ts">
import { CHANNELS, isRedisConnected, redis, redisSub } from '../lib/redis'
import { wsManager } from '../lib/websocket'

type TaskEventType =
  | 'task:created'
  | 'task:updated'
  | 'task:moved'
  | 'task:deleted'

export type TaskEvent = {
  type: TaskEventType
  projectId: string
  data: unknown
  userId: string
}

// Emit a task event to all subscribers
export async function emitTaskEvent(event: TaskEvent) {
  const room = `project:${event.projectId}`

  // Always broadcast locally
  wsManager.broadcast(room, event, event.userId)

  // Also publish to Redis for multi-instance sync
  if (isRedisConnected()) {
    try {
      const channel = CHANNELS.taskUpdate(event.projectId)
      await redis.publish(channel, JSON.stringify(event))
    } catch (error) {
      console.error('Failed to publish to Redis:', error)
    }
  }
}

// Subscribe to Redis and broadcast to WebSocket clients
export function initRealtimeSubscriptions() {
  if (!isRedisConnected()) {
    console.log('Redis not connected, running in single-instance mode')
    return
  }

  redisSub.psubscribe('task:*', 'presence:*').catch((err) => {
    console.error('Failed to subscribe to Redis channels:', err)
  })

  redisSub.on('pmessage', (_pattern, _channel, message) => {
    try {
      const event = JSON.parse(message) as TaskEvent
      const room = `project:${event.projectId}`
      // Broadcast to local WebSocket clients, excluding the original sender
      wsManager.broadcast(room, event, event.userId)
    } catch (err) {
      console.error('Failed to process Redis message:', err)
    }
  })

  console.log('Real-time subscriptions initialized')
}
</file>

<file path="apps/api/src/services/task.ts">
import type { Database } from '@repo/db'
import {
  attachments,
  taskDependencies,
  taskWatchers,
  tasks,
  workflowStatuses,
} from '@repo/db/schema'
import type {
  CreateTaskInput,
  MoveTaskInput,
  TaskFilterInput,
  UpdateTaskInput,
} from '@repo/shared'
import { and, asc, desc, eq, gte, like, lte, sql } from 'drizzle-orm'
import { NotFoundError, ValidationError } from '../lib/errors'
import { computeChanges, logActivity } from './activity'
import { emitTaskEvent } from './realtime'

export async function getTasksByProject(
  db: Database,
  projectId: string,
  filters: TaskFilterInput,
) {
  const {
    page,
    limit,
    statusId,
    assigneeId,
    priority,
    search,
    dueBefore,
    dueAfter,
  } = filters

  let query = db
    .select()
    .from(tasks)
    .where(eq(tasks.projectId, projectId))
    .$dynamic()

  if (statusId) {
    query = query.where(eq(tasks.statusId, statusId))
  }
  if (assigneeId) {
    query = query.where(eq(tasks.assigneeId, assigneeId))
  }
  if (priority) {
    query = query.where(eq(tasks.priority, priority))
  }
  if (search) {
    query = query.where(like(tasks.title, `%${search}%`))
  }
  if (dueBefore) {
    query = query.where(lte(tasks.dueDate, new Date(dueBefore)))
  }
  if (dueAfter) {
    query = query.where(gte(tasks.dueDate, new Date(dueAfter)))
  }

  const offset = (page - 1) * limit

  const [taskList, countResult] = await Promise.all([
    query
      .orderBy(asc(tasks.order), desc(tasks.createdAt))
      .limit(limit)
      .offset(offset),
    db
      .select({ count: sql<number>`count(*)::int` })
      .from(tasks)
      .where(eq(tasks.projectId, projectId)),
  ])

  return {
    data: taskList,
    meta: {
      page,
      limit,
      total: countResult[0]?.count ?? 0,
    },
  }
}

export async function getTaskById(db: Database, taskId: string) {
  const task = await db.query.tasks.findFirst({
    where: eq(tasks.id, taskId),
    with: {
      project: true,
      status: true,
      assignee: true,
      createdBy: true,
      comments: {
        with: { user: true },
        orderBy: (comments, { desc }) => [desc(comments.createdAt)],
        limit: 20,
      },
      attachments: true,
      watchers: {
        with: { user: true },
      },
      dependencies: {
        with: { dependsOn: true },
      },
    },
  })

  if (!task) {
    throw new NotFoundError('Task', taskId)
  }

  return task
}

export async function createTask(
  db: Database,
  projectId: string,
  createdById: string,
  workspaceId: string,
  data: CreateTaskInput,
) {
  // Get default status if not provided
  let statusId = data.statusId
  if (!statusId) {
    const defaultStatus = await db.query.workflowStatuses.findFirst({
      where: and(
        eq(workflowStatuses.projectId, projectId),
        eq(workflowStatuses.isDefault, true),
      ),
    })
    statusId = defaultStatus?.id
  }

  // Get max order in status column - handle case where statusId might still be undefined
  const finalStatusId = statusId ?? ''
  const maxOrderResult = await db
    .select({ maxOrder: sql<number>`COALESCE(MAX(${tasks.order}), -1)` })
    .from(tasks)
    .where(
      and(eq(tasks.projectId, projectId), eq(tasks.statusId, finalStatusId)),
    )

  const order = (maxOrderResult[0]?.maxOrder ?? -1) + 1

  const [task] = await db
    .insert(tasks)
    .values({
      ...data,
      projectId,
      createdById,
      statusId,
      order,
    })
    .returning()

  if (!task) {
    throw new NotFoundError('Task')
  }

  // Log activity
  await logActivity(db, {
    workspaceId,
    entityType: 'task',
    entityId: task.id,
    userId: createdById,
    action: 'created',
    metadata: { title: task.title },
  })

  const result = await getTaskById(db, task.id)

  // Emit real-time event
  await emitTaskEvent({
    type: 'task:created',
    projectId,
    data: result,
    userId: createdById,
  })

  return result
}

export async function updateTask(
  db: Database,
  taskId: string,
  userId: string,
  workspaceId: string,
  data: UpdateTaskInput,
) {
  const existing = await getTaskById(db, taskId)

  const [updated] = await db
    .update(tasks)
    .set({
      ...data,
      updatedAt: new Date(),
      completedAt: data.statusId ? null : existing.completedAt, // Reset on status change
    })
    .where(eq(tasks.id, taskId))
    .returning()

  if (!updated) {
    throw new NotFoundError('Task', taskId)
  }

  // Log changes
  const changes = computeChanges(existing, data, [
    'title',
    'description',
    'priority',
    'assigneeId',
    'dueDate',
  ])
  if (changes) {
    await logActivity(db, {
      workspaceId,
      entityType: 'task',
      entityId: taskId,
      userId,
      action: 'updated',
      changes,
    })
  }

  // Log status change separately
  if (data.statusId && data.statusId !== existing.statusId) {
    await logActivity(db, {
      workspaceId,
      entityType: 'task',
      entityId: taskId,
      userId,
      action: 'status_changed',
      changes: {
        statusId: { old: existing.statusId, new: data.statusId },
      },
    })
  }

  // Log assignment change
  if (
    data.assigneeId !== undefined &&
    data.assigneeId !== existing.assigneeId
  ) {
    await logActivity(db, {
      workspaceId,
      entityType: 'task',
      entityId: taskId,
      userId,
      action: 'assigned',
      changes: {
        assigneeId: { old: existing.assigneeId, new: data.assigneeId },
      },
    })
  }

  const result = await getTaskById(db, taskId)

  // Emit real-time event
  await emitTaskEvent({
    type: 'task:updated',
    projectId: existing.projectId,
    data: { task: result, changes },
    userId,
  })

  return result
}

export async function moveTask(
  db: Database,
  taskId: string,
  userId: string,
  workspaceId: string,
  data: MoveTaskInput,
) {
  const existing = await getTaskById(db, taskId)

  // Update task position
  const [updated] = await db
    .update(tasks)
    .set({
      statusId: data.statusId,
      order: data.order,
      updatedAt: new Date(),
    })
    .where(eq(tasks.id, taskId))
    .returning()

  // Log move
  if (data.statusId !== existing.statusId) {
    await logActivity(db, {
      workspaceId,
      entityType: 'task',
      entityId: taskId,
      userId,
      action: 'moved',
      changes: {
        statusId: { old: existing.statusId, new: data.statusId },
        order: { old: existing.order, new: data.order },
      },
    })
  }

  const result = await getTaskById(db, taskId)

  // Emit real-time event
  await emitTaskEvent({
    type: 'task:moved',
    projectId: existing.projectId,
    data: {
      taskId,
      fromStatus: existing.statusId,
      toStatus: data.statusId,
      order: data.order,
      task: result,
    },
    userId,
  })

  return result
}

export async function deleteTask(
  db: Database,
  taskId: string,
  userId: string,
  workspaceId: string,
) {
  const existing = await getTaskById(db, taskId)

  await db.delete(tasks).where(eq(tasks.id, taskId))

  // Log deletion
  await logActivity(db, {
    workspaceId,
    entityType: 'task',
    entityId: taskId,
    userId,
    action: 'deleted',
    metadata: { title: existing.title },
  })

  // Emit real-time event
  await emitTaskEvent({
    type: 'task:deleted',
    projectId: existing.projectId,
    data: { taskId, title: existing.title },
    userId,
  })
}

// Dependencies
export async function getTaskDependencies(db: Database, taskId: string) {
  return db.query.taskDependencies.findMany({
    where: eq(taskDependencies.taskId, taskId),
    with: { dependsOn: true },
  })
}

export async function addTaskDependency(
  db: Database,
  taskId: string,
  dependsOnId: string,
) {
  // Prevent self-dependency
  if (taskId === dependsOnId) {
    throw new ValidationError({ dependsOnId: 'Task cannot depend on itself' })
  }

  // Check for circular dependency
  const existing = await db.query.taskDependencies.findFirst({
    where: and(
      eq(taskDependencies.taskId, dependsOnId),
      eq(taskDependencies.dependsOnId, taskId),
    ),
  })

  if (existing) {
    throw new ValidationError({ dependsOnId: 'Circular dependency detected' })
  }

  const [dep] = await db
    .insert(taskDependencies)
    .values({ taskId, dependsOnId })
    .returning()

  return dep
}

export async function removeTaskDependency(
  db: Database,
  taskId: string,
  dependsOnId: string,
) {
  await db
    .delete(taskDependencies)
    .where(
      and(
        eq(taskDependencies.taskId, taskId),
        eq(taskDependencies.dependsOnId, dependsOnId),
      ),
    )
}

// Watchers
export async function getTaskWatchers(db: Database, taskId: string) {
  return db.query.taskWatchers.findMany({
    where: eq(taskWatchers.taskId, taskId),
    with: { user: true },
  })
}

export async function addTaskWatcher(
  db: Database,
  taskId: string,
  userId: string,
) {
  const [watcher] = await db
    .insert(taskWatchers)
    .values({ taskId, userId })
    .onConflictDoNothing()
    .returning()

  return watcher
}

export async function removeTaskWatcher(
  db: Database,
  taskId: string,
  userId: string,
) {
  await db
    .delete(taskWatchers)
    .where(
      and(eq(taskWatchers.taskId, taskId), eq(taskWatchers.userId, userId)),
    )
}

// Attachments
export async function getTaskAttachments(db: Database, taskId: string) {
  return db.query.attachments.findMany({
    where: eq(attachments.taskId, taskId),
    with: { uploadedBy: true },
  })
}

export async function addAttachment(
  db: Database,
  taskId: string,
  uploadedById: string,
  data: {
    fileName: string
    fileUrl: string
    fileSize: number
    mimeType: string
  },
) {
  const [attachment] = await db
    .insert(attachments)
    .values({
      taskId,
      uploadedById,
      ...data,
    })
    .returning()

  return attachment
}

export async function deleteAttachment(db: Database, attachmentId: string) {
  const result = await db
    .delete(attachments)
    .where(eq(attachments.id, attachmentId))
    .returning()

  if (result.length === 0) {
    throw new NotFoundError('Attachment', attachmentId)
  }
}

// Activity
export async function getTaskActivity(db: Database, taskId: string) {
  return db.query.activityLogs.findMany({
    where: (logs, { eq, and }) =>
      and(eq(logs.entityType, 'task'), eq(logs.entityId, taskId)),
    with: { user: true },
    orderBy: (logs, { desc }) => [desc(logs.createdAt)],
    limit: 50,
  })
}
</file>

<file path="apps/api/src/services/user-sync.ts">
import type { Database } from '@repo/db'
import { users } from '@repo/db/schema'
import { eq } from 'drizzle-orm'

type ClerkUser = {
  id: string
  emailAddresses: { emailAddress: string }[]
  firstName: string | null
  lastName: string | null
  imageUrl: string | null
}

export async function syncUser(db: Database, clerkUser: ClerkUser) {
  const email = clerkUser.emailAddresses[0]?.emailAddress
  if (!email) throw new Error('User has no email')

  const name =
    [clerkUser.firstName, clerkUser.lastName].filter(Boolean).join(' ') || email

  const [existing] = await db
    .select()
    .from(users)
    .where(eq(users.clerkId, clerkUser.id))
    .limit(1)

  if (existing) {
    // Update existing user
    const [updated] = await db
      .update(users)
      .set({
        email,
        name,
        avatarUrl: clerkUser.imageUrl,
        updatedAt: new Date(),
      })
      .where(eq(users.id, existing.id))
      .returning()

    if (!updated) {
      throw new Error('Failed to update user')
    }
    return updated
  }

  // Create new user
  const [created] = await db
    .insert(users)
    .values({
      clerkId: clerkUser.id,
      email,
      name,
      avatarUrl: clerkUser.imageUrl,
    })
    .returning()

  if (!created) {
    throw new Error('Failed to create user')
  }
  return created
}

export async function getUserByClerkId(db: Database, clerkId: string) {
  const [user] = await db
    .select()
    .from(users)
    .where(eq(users.clerkId, clerkId))
    .limit(1)
  return user || null
}
</file>

<file path="apps/api/src/services/workspace.ts">
import type { Database } from '@repo/db'
import { workspaceMembers, workspaces } from '@repo/db/schema'
import type { UpdateWorkspaceInput } from '@repo/shared'
import { and, eq } from 'drizzle-orm'
import { ConflictError, NotFoundError } from '../lib/errors'

export async function getWorkspacesByUserId(db: Database, userId: string) {
  const memberships = await db.query.workspaceMembers.findMany({
    where: eq(workspaceMembers.userId, userId),
    with: {
      workspace: true,
    },
  })
  return memberships.map((m) => ({
    ...m.workspace,
    role: m.role,
  }))
}

export async function getWorkspaceById(
  db: Database,
  workspaceId: string,
  userId: string,
) {
  const workspace = await db.query.workspaces.findFirst({
    where: eq(workspaces.id, workspaceId),
    with: {
      owner: true,
      members: {
        with: { user: true },
      },
      projects: {
        where: (projects, { ne }) => ne(projects.status, 'deleted'),
      },
    },
  })

  if (!workspace) {
    throw new NotFoundError('Workspace', workspaceId)
  }

  // Verify membership
  const isMember = workspace.members.some((m) => m.userId === userId)
  if (!isMember) {
    throw new NotFoundError('Workspace', workspaceId)
  }

  return workspace
}

export async function updateWorkspace(
  db: Database,
  workspaceId: string,
  data: UpdateWorkspaceInput,
) {
  const [updated] = await db
    .update(workspaces)
    .set({
      ...data,
      updatedAt: new Date(),
    })
    .where(eq(workspaces.id, workspaceId))
    .returning()

  if (!updated) {
    throw new NotFoundError('Workspace', workspaceId)
  }

  return updated
}

export async function getWorkspaceMembers(db: Database, workspaceId: string) {
  return db.query.workspaceMembers.findMany({
    where: eq(workspaceMembers.workspaceId, workspaceId),
    with: { user: true },
  })
}

export async function addWorkspaceMember(
  db: Database,
  workspaceId: string,
  userId: string,
  role: 'super_admin' | 'pm' | 'member' | 'guest',
) {
  // Check if already member
  const existing = await db.query.workspaceMembers.findFirst({
    where: and(
      eq(workspaceMembers.workspaceId, workspaceId),
      eq(workspaceMembers.userId, userId),
    ),
  })

  if (existing) {
    throw new ConflictError('User is already a member of this workspace')
  }

  const [member] = await db
    .insert(workspaceMembers)
    .values({
      workspaceId,
      userId,
      role,
    })
    .returning()

  return member
}

export async function removeWorkspaceMember(
  db: Database,
  workspaceId: string,
  userId: string,
) {
  const result = await db
    .delete(workspaceMembers)
    .where(
      and(
        eq(workspaceMembers.workspaceId, workspaceId),
        eq(workspaceMembers.userId, userId),
      ),
    )
    .returning()

  if (result.length === 0) {
    throw new NotFoundError('Member')
  }

  return result[0]
}
</file>

<file path="apps/api/src/types/context.ts">
import type { Database } from '@repo/db'
import type { Role } from '@repo/shared'

export type AuthUser = {
  id: string // Local user ID (UUID)
  clerkId: string // Clerk user ID
  email: string
  name: string
  role: Role
  orgId: string | null // Clerk organization ID
  workspaceId: string | null // Local workspace ID
}

export type Variables = {
  db: Database
  user: AuthUser | null
  requestId: string
}
</file>

<file path="apps/api/src/app.ts">
import { Hono } from 'hono'
import { cors } from 'hono/cors'
import { logger } from 'hono/logger'
import { requestId } from 'hono/request-id'
import { secureHeaders } from 'hono/secure-headers'
import { dbMiddleware } from './middleware/db'
import { errorHandler, notFoundHandler } from './middleware/error'
import { rateLimit } from './middleware/rate-limit'
import routes from './routes'
import type { Variables } from './types/context'

const app = new Hono<{ Variables: Variables }>()

// Global middleware
app.use('*', requestId())
app.use('*', logger())
app.use('*', secureHeaders())
app.use(
  '*',
  cors({
    origin: process.env.CORS_ORIGIN?.split(',') || [
      'http://localhost:5173',
      'http://localhost:3000',
    ],
    credentials: true,
  }),
)
app.use('*', dbMiddleware)

// Rate limit public endpoints
app.use('/api/*', rateLimit({ limit: 100, windowMs: 60_000 }))

// Mount routes
app.route('/', routes)

// Error handlers
app.onError(errorHandler)
app.notFound(notFoundHandler)

export { app }
</file>

<file path="apps/api/src/index.ts">
import { app } from './app'
import { connectRedis } from './lib/redis'
import wsRoutes, { websocket } from './routes/ws'
import { initRealtimeSubscriptions } from './services/realtime'

const port = process.env.PORT || 3001

// Mount WebSocket routes
app.route('/ws', wsRoutes)

// Initialize real-time layer
async function init() {
  await connectRedis()
  initRealtimeSubscriptions()
  console.log(`Starting API server on port ${port}...`)
}

init().catch(console.error)

export default {
  port,
  fetch: app.fetch,
  websocket,
  maxRequestBodySize: 50 * 1024 * 1024, // 50MB for file uploads
}
</file>

<file path="apps/api/tests/integration/tasks.test.ts">
import { beforeEach, describe, expect, it } from 'bun:test'
import '../setup'
import * as taskService from '../../src/services/task'
import {
  createTestProject,
  createTestUser,
  createTestWorkspace,
} from '../helpers'
import { testDb } from '../setup'

describe('Task Integration Tests', () => {
  let user: Awaited<ReturnType<typeof createTestUser>>
  let workspace: Awaited<ReturnType<typeof createTestWorkspace>>
  let project: Awaited<ReturnType<typeof createTestProject>>['project']
  let statuses: Awaited<ReturnType<typeof createTestProject>>['statuses']

  beforeEach(async () => {
    user = await createTestUser()
    workspace = await createTestWorkspace(user.id)
    const result = await createTestProject(workspace.id, user.id)
    project = result.project
    statuses = result.statuses
  })

  describe('Full task lifecycle', () => {
    it('creates, updates, moves, and deletes a task', async () => {
      // Create
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Lifecycle Test Task', priority: 'medium' },
      )
      expect(task.title).toBe('Lifecycle Test Task')
      expect(task.statusId).toBe(statuses[0].id)

      // Update
      const updated = await taskService.updateTask(
        testDb,
        task.id,
        user.id,
        workspace.id,
        { title: 'Updated Lifecycle Task', priority: 'high' },
      )
      expect(updated.title).toBe('Updated Lifecycle Task')
      expect(updated.priority).toBe('high')

      // Move to In Progress
      const moved = await taskService.moveTask(
        testDb,
        task.id,
        user.id,
        workspace.id,
        { statusId: statuses[1].id, order: 0 },
      )
      expect(moved.statusId).toBe(statuses[1].id)

      // Move to Done
      const completed = await taskService.moveTask(
        testDb,
        task.id,
        user.id,
        workspace.id,
        { statusId: statuses[2].id, order: 0 },
      )
      expect(completed.statusId).toBe(statuses[2].id)

      // Delete
      await taskService.deleteTask(testDb, task.id, user.id, workspace.id)
      await expect(taskService.getTaskById(testDb, task.id)).rejects.toThrow()
    })
  })

  describe('Task dependencies workflow', () => {
    it('manages blocking and blocked tasks', async () => {
      // Create three tasks
      const task1 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Foundation Work' },
      )
      const task2 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Build on Foundation' },
      )
      const task3 = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Final Polish' },
      )

      // Task 2 depends on Task 1
      await taskService.addTaskDependency(testDb, task2.id, task1.id)

      // Task 3 depends on Task 2
      await taskService.addTaskDependency(testDb, task3.id, task2.id)

      // Verify dependencies
      const task2Deps = await taskService.getTaskDependencies(testDb, task2.id)
      expect(task2Deps.length).toBe(1)
      expect(task2Deps[0].dependsOnId).toBe(task1.id)

      const task3Deps = await taskService.getTaskDependencies(testDb, task3.id)
      expect(task3Deps.length).toBe(1)
      expect(task3Deps[0].dependsOnId).toBe(task2.id)
    })
  })

  describe('Task watchers workflow', () => {
    it('manages multiple watchers on a task', async () => {
      const user2 = await createTestUser()

      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Watched Task' },
      )

      // Add watchers
      await taskService.addTaskWatcher(testDb, task.id, user.id)
      await taskService.addTaskWatcher(testDb, task.id, user2.id)

      // Verify watchers
      const watchers = await taskService.getTaskWatchers(testDb, task.id)
      expect(watchers.length).toBe(2)

      // Remove one watcher
      await taskService.removeTaskWatcher(testDb, task.id, user.id)
      const remainingWatchers = await taskService.getTaskWatchers(
        testDb,
        task.id,
      )
      expect(remainingWatchers.length).toBe(1)
      expect(remainingWatchers[0].userId).toBe(user2.id)
    })
  })

  describe('Task filtering', () => {
    it('filters tasks by status', async () => {
      // Create tasks in different statuses
      await taskService.createTask(testDb, project.id, user.id, workspace.id, {
        title: 'Todo Task',
      })
      await taskService.createTask(testDb, project.id, user.id, workspace.id, {
        title: 'In Progress Task',
        statusId: statuses[1].id,
      })

      // Filter by status
      const result = await taskService.getTasksByProject(testDb, project.id, {
        page: 1,
        limit: 10,
        statusId: statuses[0].id,
      })

      expect(result.data.length).toBe(1)
      expect(result.data[0].title).toBe('Todo Task')
    })

    it('filters tasks by priority', async () => {
      const uniqueTitle = `High Priority ${Date.now()}`
      await taskService.createTask(testDb, project.id, user.id, workspace.id, {
        title: 'Low Priority Task',
        priority: 'low',
      })
      await taskService.createTask(testDb, project.id, user.id, workspace.id, {
        title: uniqueTitle,
        priority: 'high',
      })

      const result = await taskService.getTasksByProject(testDb, project.id, {
        page: 1,
        limit: 10,
        priority: 'high',
      })

      expect(result.data.length).toBeGreaterThanOrEqual(1)
      expect(result.data.some((t) => t.title === uniqueTitle)).toBe(true)
    })

    it('searches tasks by title', async () => {
      const uniqueTitle = `Fix authentication bug ${Date.now()}`
      await taskService.createTask(testDb, project.id, user.id, workspace.id, {
        title: uniqueTitle,
      })
      await taskService.createTask(testDb, project.id, user.id, workspace.id, {
        title: 'Add new feature',
      })

      const result = await taskService.getTasksByProject(testDb, project.id, {
        page: 1,
        limit: 10,
        search: 'bug',
      })

      expect(result.data.length).toBeGreaterThanOrEqual(1)
      expect(result.data.some((t) => t.title === uniqueTitle)).toBe(true)
    })
  })

  describe('Pagination', () => {
    it('paginates task results', async () => {
      // Create 15 tasks
      for (let i = 1; i <= 15; i++) {
        await taskService.createTask(
          testDb,
          project.id,
          user.id,
          workspace.id,
          { title: `Task ${i}` },
        )
      }

      // First page
      const page1 = await taskService.getTasksByProject(testDb, project.id, {
        page: 1,
        limit: 10,
      })
      expect(page1.data.length).toBe(10)
      expect(page1.meta.total).toBe(15)
      expect(page1.meta.page).toBe(1)

      // Second page
      const page2 = await taskService.getTasksByProject(testDb, project.id, {
        page: 2,
        limit: 10,
      })
      expect(page2.data.length).toBe(5)
      expect(page2.meta.page).toBe(2)
    })
  })
})
</file>

<file path="apps/api/tests/helpers.ts">
import {
  projects,
  users,
  workflowStatuses,
  workspaceMembers,
  workspaces,
} from '@repo/db/schema'
import { testDb } from './setup'

export async function createTestUser(overrides = {}) {
  const result = await testDb
    .insert(users)
    .values({
      clerkId: `clerk_${Math.random().toString(36).slice(2)}`,
      email: `test-${Date.now()}@example.com`,
      name: 'Test User',
      ...overrides,
    })
    .returning()
  const user = result[0]
  if (!user) throw new Error('Failed to create test user')
  return user
}

export async function createTestWorkspace(ownerId: string, overrides = {}) {
  const result = await testDb
    .insert(workspaces)
    .values({
      clerkOrgId: `org_${Math.random().toString(36).slice(2)}`,
      name: 'Test Workspace',
      slug: `test-${Date.now()}`,
      ownerId,
      ...overrides,
    })
    .returning()
  const workspace = result[0]
  if (!workspace) throw new Error('Failed to create test workspace')

  // Add owner as super_admin member
  await testDb.insert(workspaceMembers).values({
    workspaceId: workspace.id,
    userId: ownerId,
    role: 'super_admin',
  })

  return workspace
}

export async function createTestProject(
  workspaceId: string,
  createdById: string,
  overrides = {},
) {
  const projectResult = await testDb
    .insert(projects)
    .values({
      workspaceId,
      createdById,
      name: 'Test Project',
      ...overrides,
    })
    .returning()
  const project = projectResult[0]
  if (!project) throw new Error('Failed to create test project')

  // Create default workflow statuses
  const statuses = await testDb
    .insert(workflowStatuses)
    .values([
      {
        projectId: project.id,
        name: 'To Do',
        color: '#6b7280',
        order: 0,
        isDefault: true,
      },
      {
        projectId: project.id,
        name: 'In Progress',
        color: '#3b82f6',
        order: 1,
      },
      {
        projectId: project.id,
        name: 'Done',
        color: '#10b981',
        order: 2,
        isFinal: true,
      },
    ])
    .returning()

  return { project, statuses }
}

export function mockAuthContext(
  user: { id: string; clerkId: string; email: string; name: string | null },
  workspace: { id: string; clerkOrgId: string },
) {
  return {
    user: {
      id: user.id,
      clerkId: user.clerkId,
      email: user.email,
      name: user.name,
      role: 'super_admin' as const,
      orgId: workspace.clerkOrgId,
      workspaceId: workspace.id,
    },
    db: testDb,
    requestId: 'test-request',
  }
}
</file>

<file path="apps/api/bunfig.toml">
[test]
# Run test files with reduced parallelism to avoid pool conflicts
smol = true
</file>

<file path="apps/api/package.json">
{
  "name": "@repo/api",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "dev": "bun run --watch src/index.ts",
    "build": "bun build src/index.ts --outdir dist --target bun",
    "start": "bun run dist/index.js",
    "test": "bun test",
    "test:watch": "bun test --watch",
    "test:coverage": "bun test --coverage",
    "typecheck": "tsc --noEmit"
  },
  "dependencies": {
    "@aws-sdk/client-s3": "^3.971.0",
    "@clerk/backend": "^2.29.3",
    "@hono/clerk-auth": "^3.1.0",
    "@hono/swagger-ui": "^0.5.0",
    "@hono/zod-openapi": "^0.18.0",
    "@hono/zod-validator": "^0.7.6",
    "@repo/db": "workspace:*",
    "@repo/shared": "workspace:*",
    "hono": "^4.7.0",
    "ioredis": "^5.9.2",
    "pg": "^8.17.1",
    "svix": "^1.84.1",
    "zod": "^3.24.0"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "@types/bun": "latest",
    "@types/pg": "^8.16.0",
    "typescript": "^5.7.0"
  }
}
</file>

<file path="apps/api/tsconfig.json">
{
  "extends": "@repo/typescript-config/base.json",
  "compilerOptions": {
    "types": ["bun"]
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist", "**/*.test.ts", "**/tests/**", "**/__tests__/**"]
}
</file>

<file path="apps/web/dist/assets/index-BtM2bbUj.css">
@layer mantine{*,*:before,*:after{box-sizing:border-box}input,button,textarea,select{font:inherit}button,select{text-transform:none}body{margin:0;font-family:var(--mantine-font-family);font-size:var(--mantine-font-size-md);line-height:var(--mantine-line-height);background-color:var(--mantine-color-body);color:var(--mantine-color-text);-webkit-font-smoothing:var(--mantine-webkit-font-smoothing);-moz-osx-font-smoothing:var(--mantine-moz-font-smoothing)}@media screen and (max-device-width:31.25em){body{-webkit-text-size-adjust:100%}}@media(prefers-reduced-motion:reduce){[data-respect-reduced-motion] [data-reduce-motion]{transition:none;animation:none}}[data-mantine-color-scheme=light] .mantine-light-hidden,[data-mantine-color-scheme=dark] .mantine-dark-hidden{display:none}.mantine-focus-auto:focus-visible{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.mantine-focus-always:focus{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.mantine-focus-never:focus{outline:none}.mantine-active:active{transform:translateY(calc(.0625rem * var(--mantine-scale)))}fieldset:disabled .mantine-active:active{transform:none}:where([dir=rtl]) .mantine-rotate-rtl{transform:rotate(180deg)}:root{color-scheme:var(--mantine-color-scheme);--mantine-z-index-app: 100;--mantine-z-index-modal: 200;--mantine-z-index-popover: 300;--mantine-z-index-overlay: 400;--mantine-z-index-max: 9999;--mantine-scale: 1;--mantine-cursor-type: default;--mantine-webkit-font-smoothing: antialiased;--mantine-color-scheme: light dark;--mantine-moz-font-smoothing: grayscale;--mantine-color-white: #fff;--mantine-color-black: #000;--mantine-line-height: 1.55;--mantine-font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;--mantine-font-family-monospace: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--mantine-font-family-headings: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;--mantine-heading-font-weight: 700;--mantine-radius-default: calc(.25rem * var(--mantine-scale));--mantine-primary-color-0: var(--mantine-color-blue-0);--mantine-primary-color-1: var(--mantine-color-blue-1);--mantine-primary-color-2: var(--mantine-color-blue-2);--mantine-primary-color-3: var(--mantine-color-blue-3);--mantine-primary-color-4: var(--mantine-color-blue-4);--mantine-primary-color-5: var(--mantine-color-blue-5);--mantine-primary-color-6: var(--mantine-color-blue-6);--mantine-primary-color-7: var(--mantine-color-blue-7);--mantine-primary-color-8: var(--mantine-color-blue-8);--mantine-primary-color-9: var(--mantine-color-blue-9);--mantine-primary-color-filled: var(--mantine-color-blue-filled);--mantine-primary-color-filled-hover: var(--mantine-color-blue-filled-hover);--mantine-primary-color-light: var(--mantine-color-blue-light);--mantine-primary-color-light-hover: var(--mantine-color-blue-light-hover);--mantine-primary-color-light-color: var(--mantine-color-blue-light-color);--mantine-breakpoint-xs: 36em;--mantine-breakpoint-sm: 48em;--mantine-breakpoint-md: 62em;--mantine-breakpoint-lg: 75em;--mantine-breakpoint-xl: 88em;--mantine-spacing-xs: calc(.625rem * var(--mantine-scale));--mantine-spacing-sm: calc(.75rem * var(--mantine-scale));--mantine-spacing-md: calc(1rem * var(--mantine-scale));--mantine-spacing-lg: calc(1.25rem * var(--mantine-scale));--mantine-spacing-xl: calc(2rem * var(--mantine-scale));--mantine-font-size-xs: calc(.75rem * var(--mantine-scale));--mantine-font-size-sm: calc(.875rem * var(--mantine-scale));--mantine-font-size-md: calc(1rem * var(--mantine-scale));--mantine-font-size-lg: calc(1.125rem * var(--mantine-scale));--mantine-font-size-xl: calc(1.25rem * var(--mantine-scale));--mantine-line-height-xs: 1.4;--mantine-line-height-sm: 1.45;--mantine-line-height-md: 1.55;--mantine-line-height-lg: 1.6;--mantine-line-height-xl: 1.65;--mantine-shadow-xs: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), 0 calc(.0625rem * var(--mantine-scale)) calc(.125rem * var(--mantine-scale)) rgba(0, 0, 0, .1);--mantine-shadow-sm: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(.625rem * var(--mantine-scale)) calc(.9375rem * var(--mantine-scale)) calc(-.3125rem * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.4375rem * var(--mantine-scale)) calc(.4375rem * var(--mantine-scale)) calc(-.3125rem * var(--mantine-scale));--mantine-shadow-md: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(1.25rem * var(--mantine-scale)) calc(1.5625rem * var(--mantine-scale)) calc(-.3125rem * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.625rem * var(--mantine-scale)) calc(.625rem * var(--mantine-scale)) calc(-.3125rem * var(--mantine-scale));--mantine-shadow-lg: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(1.75rem * var(--mantine-scale)) calc(1.4375rem * var(--mantine-scale)) calc(-.4375rem * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.75rem * var(--mantine-scale)) calc(.75rem * var(--mantine-scale)) calc(-.4375rem * var(--mantine-scale));--mantine-shadow-xl: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(2.25rem * var(--mantine-scale)) calc(1.75rem * var(--mantine-scale)) calc(-.4375rem * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(1.0625rem * var(--mantine-scale)) calc(1.0625rem * var(--mantine-scale)) calc(-.4375rem * var(--mantine-scale));--mantine-radius-xs: calc(.125rem * var(--mantine-scale));--mantine-radius-sm: calc(.25rem * var(--mantine-scale));--mantine-radius-md: calc(.5rem * var(--mantine-scale));--mantine-radius-lg: calc(1rem * var(--mantine-scale));--mantine-radius-xl: calc(2rem * var(--mantine-scale));--mantine-color-dark-0: #c9c9c9;--mantine-color-dark-1: #b8b8b8;--mantine-color-dark-2: #828282;--mantine-color-dark-3: #696969;--mantine-color-dark-4: #424242;--mantine-color-dark-5: #3b3b3b;--mantine-color-dark-6: #2e2e2e;--mantine-color-dark-7: #242424;--mantine-color-dark-8: #1f1f1f;--mantine-color-dark-9: #141414;--mantine-color-gray-0: #f8f9fa;--mantine-color-gray-1: #f1f3f5;--mantine-color-gray-2: #e9ecef;--mantine-color-gray-3: #dee2e6;--mantine-color-gray-4: #ced4da;--mantine-color-gray-5: #adb5bd;--mantine-color-gray-6: #868e96;--mantine-color-gray-7: #495057;--mantine-color-gray-8: #343a40;--mantine-color-gray-9: #212529;--mantine-color-red-0: #fff5f5;--mantine-color-red-1: #ffe3e3;--mantine-color-red-2: #ffc9c9;--mantine-color-red-3: #ffa8a8;--mantine-color-red-4: #ff8787;--mantine-color-red-5: #ff6b6b;--mantine-color-red-6: #fa5252;--mantine-color-red-7: #f03e3e;--mantine-color-red-8: #e03131;--mantine-color-red-9: #c92a2a;--mantine-color-pink-0: #fff0f6;--mantine-color-pink-1: #ffdeeb;--mantine-color-pink-2: #fcc2d7;--mantine-color-pink-3: #faa2c1;--mantine-color-pink-4: #f783ac;--mantine-color-pink-5: #f06595;--mantine-color-pink-6: #e64980;--mantine-color-pink-7: #d6336c;--mantine-color-pink-8: #c2255c;--mantine-color-pink-9: #a61e4d;--mantine-color-grape-0: #f8f0fc;--mantine-color-grape-1: #f3d9fa;--mantine-color-grape-2: #eebefa;--mantine-color-grape-3: #e599f7;--mantine-color-grape-4: #da77f2;--mantine-color-grape-5: #cc5de8;--mantine-color-grape-6: #be4bdb;--mantine-color-grape-7: #ae3ec9;--mantine-color-grape-8: #9c36b5;--mantine-color-grape-9: #862e9c;--mantine-color-violet-0: #f3f0ff;--mantine-color-violet-1: #e5dbff;--mantine-color-violet-2: #d0bfff;--mantine-color-violet-3: #b197fc;--mantine-color-violet-4: #9775fa;--mantine-color-violet-5: #845ef7;--mantine-color-violet-6: #7950f2;--mantine-color-violet-7: #7048e8;--mantine-color-violet-8: #6741d9;--mantine-color-violet-9: #5f3dc4;--mantine-color-indigo-0: #edf2ff;--mantine-color-indigo-1: #dbe4ff;--mantine-color-indigo-2: #bac8ff;--mantine-color-indigo-3: #91a7ff;--mantine-color-indigo-4: #748ffc;--mantine-color-indigo-5: #5c7cfa;--mantine-color-indigo-6: #4c6ef5;--mantine-color-indigo-7: #4263eb;--mantine-color-indigo-8: #3b5bdb;--mantine-color-indigo-9: #364fc7;--mantine-color-blue-0: #e7f5ff;--mantine-color-blue-1: #d0ebff;--mantine-color-blue-2: #a5d8ff;--mantine-color-blue-3: #74c0fc;--mantine-color-blue-4: #4dabf7;--mantine-color-blue-5: #339af0;--mantine-color-blue-6: #228be6;--mantine-color-blue-7: #1c7ed6;--mantine-color-blue-8: #1971c2;--mantine-color-blue-9: #1864ab;--mantine-color-cyan-0: #e3fafc;--mantine-color-cyan-1: #c5f6fa;--mantine-color-cyan-2: #99e9f2;--mantine-color-cyan-3: #66d9e8;--mantine-color-cyan-4: #3bc9db;--mantine-color-cyan-5: #22b8cf;--mantine-color-cyan-6: #15aabf;--mantine-color-cyan-7: #1098ad;--mantine-color-cyan-8: #0c8599;--mantine-color-cyan-9: #0b7285;--mantine-color-teal-0: #e6fcf5;--mantine-color-teal-1: #c3fae8;--mantine-color-teal-2: #96f2d7;--mantine-color-teal-3: #63e6be;--mantine-color-teal-4: #38d9a9;--mantine-color-teal-5: #20c997;--mantine-color-teal-6: #12b886;--mantine-color-teal-7: #0ca678;--mantine-color-teal-8: #099268;--mantine-color-teal-9: #087f5b;--mantine-color-green-0: #ebfbee;--mantine-color-green-1: #d3f9d8;--mantine-color-green-2: #b2f2bb;--mantine-color-green-3: #8ce99a;--mantine-color-green-4: #69db7c;--mantine-color-green-5: #51cf66;--mantine-color-green-6: #40c057;--mantine-color-green-7: #37b24d;--mantine-color-green-8: #2f9e44;--mantine-color-green-9: #2b8a3e;--mantine-color-lime-0: #f4fce3;--mantine-color-lime-1: #e9fac8;--mantine-color-lime-2: #d8f5a2;--mantine-color-lime-3: #c0eb75;--mantine-color-lime-4: #a9e34b;--mantine-color-lime-5: #94d82d;--mantine-color-lime-6: #82c91e;--mantine-color-lime-7: #74b816;--mantine-color-lime-8: #66a80f;--mantine-color-lime-9: #5c940d;--mantine-color-yellow-0: #fff9db;--mantine-color-yellow-1: #fff3bf;--mantine-color-yellow-2: #ffec99;--mantine-color-yellow-3: #ffe066;--mantine-color-yellow-4: #ffd43b;--mantine-color-yellow-5: #fcc419;--mantine-color-yellow-6: #fab005;--mantine-color-yellow-7: #f59f00;--mantine-color-yellow-8: #f08c00;--mantine-color-yellow-9: #e67700;--mantine-color-orange-0: #fff4e6;--mantine-color-orange-1: #ffe8cc;--mantine-color-orange-2: #ffd8a8;--mantine-color-orange-3: #ffc078;--mantine-color-orange-4: #ffa94d;--mantine-color-orange-5: #ff922b;--mantine-color-orange-6: #fd7e14;--mantine-color-orange-7: #f76707;--mantine-color-orange-8: #e8590c;--mantine-color-orange-9: #d9480f;--mantine-h1-font-size: calc(2.125rem * var(--mantine-scale));--mantine-h1-line-height: 1.3;--mantine-h1-font-weight: 700;--mantine-h2-font-size: calc(1.625rem * var(--mantine-scale));--mantine-h2-line-height: 1.35;--mantine-h2-font-weight: 700;--mantine-h3-font-size: calc(1.375rem * var(--mantine-scale));--mantine-h3-line-height: 1.4;--mantine-h3-font-weight: 700;--mantine-h4-font-size: calc(1.125rem * var(--mantine-scale));--mantine-h4-line-height: 1.45;--mantine-h4-font-weight: 700;--mantine-h5-font-size: calc(1rem * var(--mantine-scale));--mantine-h5-line-height: 1.5;--mantine-h5-font-weight: 700;--mantine-h6-font-size: calc(.875rem * var(--mantine-scale));--mantine-h6-line-height: 1.5;--mantine-h6-font-weight: 700}:root[data-mantine-color-scheme=dark]{--mantine-color-scheme: dark;--mantine-primary-color-contrast: var(--mantine-color-white);--mantine-color-bright: var(--mantine-color-white);--mantine-color-text: var(--mantine-color-dark-0);--mantine-color-body: var(--mantine-color-dark-7);--mantine-color-error: var(--mantine-color-red-8);--mantine-color-placeholder: var(--mantine-color-dark-3);--mantine-color-anchor: var(--mantine-color-blue-4);--mantine-color-default: var(--mantine-color-dark-6);--mantine-color-default-hover: var(--mantine-color-dark-5);--mantine-color-default-color: var(--mantine-color-white);--mantine-color-default-border: var(--mantine-color-dark-4);--mantine-color-dimmed: var(--mantine-color-dark-2);--mantine-color-dark-text: var(--mantine-color-dark-4);--mantine-color-dark-filled: var(--mantine-color-dark-8);--mantine-color-dark-filled-hover: var(--mantine-color-dark-7);--mantine-color-dark-light: rgba(36, 36, 36, .15);--mantine-color-dark-light-hover: rgba(36, 36, 36, .2);--mantine-color-dark-light-color: var(--mantine-color-dark-3);--mantine-color-dark-outline: var(--mantine-color-dark-4);--mantine-color-dark-outline-hover: rgba(36, 36, 36, .05);--mantine-color-gray-text: var(--mantine-color-gray-4);--mantine-color-gray-filled: var(--mantine-color-gray-8);--mantine-color-gray-filled-hover: var(--mantine-color-gray-9);--mantine-color-gray-light: rgba(134, 142, 150, .15);--mantine-color-gray-light-hover: rgba(134, 142, 150, .2);--mantine-color-gray-light-color: var(--mantine-color-gray-3);--mantine-color-gray-outline: var(--mantine-color-gray-4);--mantine-color-gray-outline-hover: rgba(206, 212, 218, .05);--mantine-color-red-text: var(--mantine-color-red-4);--mantine-color-red-filled: var(--mantine-color-red-8);--mantine-color-red-filled-hover: var(--mantine-color-red-9);--mantine-color-red-light: rgba(250, 82, 82, .15);--mantine-color-red-light-hover: rgba(250, 82, 82, .2);--mantine-color-red-light-color: var(--mantine-color-red-3);--mantine-color-red-outline: var(--mantine-color-red-4);--mantine-color-red-outline-hover: rgba(255, 135, 135, .05);--mantine-color-pink-text: var(--mantine-color-pink-4);--mantine-color-pink-filled: var(--mantine-color-pink-8);--mantine-color-pink-filled-hover: var(--mantine-color-pink-9);--mantine-color-pink-light: rgba(230, 73, 128, .15);--mantine-color-pink-light-hover: rgba(230, 73, 128, .2);--mantine-color-pink-light-color: var(--mantine-color-pink-3);--mantine-color-pink-outline: var(--mantine-color-pink-4);--mantine-color-pink-outline-hover: rgba(247, 131, 172, .05);--mantine-color-grape-text: var(--mantine-color-grape-4);--mantine-color-grape-filled: var(--mantine-color-grape-8);--mantine-color-grape-filled-hover: var(--mantine-color-grape-9);--mantine-color-grape-light: rgba(190, 75, 219, .15);--mantine-color-grape-light-hover: rgba(190, 75, 219, .2);--mantine-color-grape-light-color: var(--mantine-color-grape-3);--mantine-color-grape-outline: var(--mantine-color-grape-4);--mantine-color-grape-outline-hover: rgba(218, 119, 242, .05);--mantine-color-violet-text: var(--mantine-color-violet-4);--mantine-color-violet-filled: var(--mantine-color-violet-8);--mantine-color-violet-filled-hover: var(--mantine-color-violet-9);--mantine-color-violet-light: rgba(121, 80, 242, .15);--mantine-color-violet-light-hover: rgba(121, 80, 242, .2);--mantine-color-violet-light-color: var(--mantine-color-violet-3);--mantine-color-violet-outline: var(--mantine-color-violet-4);--mantine-color-violet-outline-hover: rgba(151, 117, 250, .05);--mantine-color-indigo-text: var(--mantine-color-indigo-4);--mantine-color-indigo-filled: var(--mantine-color-indigo-8);--mantine-color-indigo-filled-hover: var(--mantine-color-indigo-9);--mantine-color-indigo-light: rgba(76, 110, 245, .15);--mantine-color-indigo-light-hover: rgba(76, 110, 245, .2);--mantine-color-indigo-light-color: var(--mantine-color-indigo-3);--mantine-color-indigo-outline: var(--mantine-color-indigo-4);--mantine-color-indigo-outline-hover: rgba(116, 143, 252, .05);--mantine-color-blue-text: var(--mantine-color-blue-4);--mantine-color-blue-filled: var(--mantine-color-blue-8);--mantine-color-blue-filled-hover: var(--mantine-color-blue-9);--mantine-color-blue-light: rgba(34, 139, 230, .15);--mantine-color-blue-light-hover: rgba(34, 139, 230, .2);--mantine-color-blue-light-color: var(--mantine-color-blue-3);--mantine-color-blue-outline: var(--mantine-color-blue-4);--mantine-color-blue-outline-hover: rgba(77, 171, 247, .05);--mantine-color-cyan-text: var(--mantine-color-cyan-4);--mantine-color-cyan-filled: var(--mantine-color-cyan-8);--mantine-color-cyan-filled-hover: var(--mantine-color-cyan-9);--mantine-color-cyan-light: rgba(21, 170, 191, .15);--mantine-color-cyan-light-hover: rgba(21, 170, 191, .2);--mantine-color-cyan-light-color: var(--mantine-color-cyan-3);--mantine-color-cyan-outline: var(--mantine-color-cyan-4);--mantine-color-cyan-outline-hover: rgba(59, 201, 219, .05);--mantine-color-teal-text: var(--mantine-color-teal-4);--mantine-color-teal-filled: var(--mantine-color-teal-8);--mantine-color-teal-filled-hover: var(--mantine-color-teal-9);--mantine-color-teal-light: rgba(18, 184, 134, .15);--mantine-color-teal-light-hover: rgba(18, 184, 134, .2);--mantine-color-teal-light-color: var(--mantine-color-teal-3);--mantine-color-teal-outline: var(--mantine-color-teal-4);--mantine-color-teal-outline-hover: rgba(56, 217, 169, .05);--mantine-color-green-text: var(--mantine-color-green-4);--mantine-color-green-filled: var(--mantine-color-green-8);--mantine-color-green-filled-hover: var(--mantine-color-green-9);--mantine-color-green-light: rgba(64, 192, 87, .15);--mantine-color-green-light-hover: rgba(64, 192, 87, .2);--mantine-color-green-light-color: var(--mantine-color-green-3);--mantine-color-green-outline: var(--mantine-color-green-4);--mantine-color-green-outline-hover: rgba(105, 219, 124, .05);--mantine-color-lime-text: var(--mantine-color-lime-4);--mantine-color-lime-filled: var(--mantine-color-lime-8);--mantine-color-lime-filled-hover: var(--mantine-color-lime-9);--mantine-color-lime-light: rgba(130, 201, 30, .15);--mantine-color-lime-light-hover: rgba(130, 201, 30, .2);--mantine-color-lime-light-color: var(--mantine-color-lime-3);--mantine-color-lime-outline: var(--mantine-color-lime-4);--mantine-color-lime-outline-hover: rgba(169, 227, 75, .05);--mantine-color-yellow-text: var(--mantine-color-yellow-4);--mantine-color-yellow-filled: var(--mantine-color-yellow-8);--mantine-color-yellow-filled-hover: var(--mantine-color-yellow-9);--mantine-color-yellow-light: rgba(250, 176, 5, .15);--mantine-color-yellow-light-hover: rgba(250, 176, 5, .2);--mantine-color-yellow-light-color: var(--mantine-color-yellow-3);--mantine-color-yellow-outline: var(--mantine-color-yellow-4);--mantine-color-yellow-outline-hover: rgba(255, 212, 59, .05);--mantine-color-orange-text: var(--mantine-color-orange-4);--mantine-color-orange-filled: var(--mantine-color-orange-8);--mantine-color-orange-filled-hover: var(--mantine-color-orange-9);--mantine-color-orange-light: rgba(253, 126, 20, .15);--mantine-color-orange-light-hover: rgba(253, 126, 20, .2);--mantine-color-orange-light-color: var(--mantine-color-orange-3);--mantine-color-orange-outline: var(--mantine-color-orange-4);--mantine-color-orange-outline-hover: rgba(255, 169, 77, .05)}:root[data-mantine-color-scheme=light]{--mantine-color-scheme: light;--mantine-color-bright: var(--mantine-color-black);--mantine-color-text: var(--mantine-color-black);--mantine-color-body: var(--mantine-color-white);--mantine-primary-color-contrast: var(--mantine-color-white);--mantine-color-error: var(--mantine-color-red-6);--mantine-color-placeholder: var(--mantine-color-gray-5);--mantine-color-anchor: var(--mantine-primary-color-filled);--mantine-color-default: var(--mantine-color-white);--mantine-color-default-hover: var(--mantine-color-gray-0);--mantine-color-default-color: var(--mantine-color-gray-9);--mantine-color-default-border: var(--mantine-color-gray-4);--mantine-color-dimmed: var(--mantine-color-gray-6);--mantine-color-dark-text: var(--mantine-color-dark-filled);--mantine-color-dark-filled: var(--mantine-color-dark-6);--mantine-color-dark-filled-hover: var(--mantine-color-dark-7);--mantine-color-dark-light: rgba(56, 56, 56, .1);--mantine-color-dark-light-hover: rgba(56, 56, 56, .12);--mantine-color-dark-light-color: var(--mantine-color-dark-6);--mantine-color-dark-outline: var(--mantine-color-dark-6);--mantine-color-dark-outline-hover: rgba(56, 56, 56, .05);--mantine-color-gray-text: var(--mantine-color-gray-filled);--mantine-color-gray-filled: var(--mantine-color-gray-6);--mantine-color-gray-filled-hover: var(--mantine-color-gray-7);--mantine-color-gray-light: rgba(134, 142, 150, .1);--mantine-color-gray-light-hover: rgba(134, 142, 150, .12);--mantine-color-gray-light-color: var(--mantine-color-gray-6);--mantine-color-gray-outline: var(--mantine-color-gray-6);--mantine-color-gray-outline-hover: rgba(134, 142, 150, .05);--mantine-color-red-text: var(--mantine-color-red-filled);--mantine-color-red-filled: var(--mantine-color-red-6);--mantine-color-red-filled-hover: var(--mantine-color-red-7);--mantine-color-red-light: rgba(250, 82, 82, .1);--mantine-color-red-light-hover: rgba(250, 82, 82, .12);--mantine-color-red-light-color: var(--mantine-color-red-6);--mantine-color-red-outline: var(--mantine-color-red-6);--mantine-color-red-outline-hover: rgba(250, 82, 82, .05);--mantine-color-pink-text: var(--mantine-color-pink-filled);--mantine-color-pink-filled: var(--mantine-color-pink-6);--mantine-color-pink-filled-hover: var(--mantine-color-pink-7);--mantine-color-pink-light: rgba(230, 73, 128, .1);--mantine-color-pink-light-hover: rgba(230, 73, 128, .12);--mantine-color-pink-light-color: var(--mantine-color-pink-6);--mantine-color-pink-outline: var(--mantine-color-pink-6);--mantine-color-pink-outline-hover: rgba(230, 73, 128, .05);--mantine-color-grape-text: var(--mantine-color-grape-filled);--mantine-color-grape-filled: var(--mantine-color-grape-6);--mantine-color-grape-filled-hover: var(--mantine-color-grape-7);--mantine-color-grape-light: rgba(190, 75, 219, .1);--mantine-color-grape-light-hover: rgba(190, 75, 219, .12);--mantine-color-grape-light-color: var(--mantine-color-grape-6);--mantine-color-grape-outline: var(--mantine-color-grape-6);--mantine-color-grape-outline-hover: rgba(190, 75, 219, .05);--mantine-color-violet-text: var(--mantine-color-violet-filled);--mantine-color-violet-filled: var(--mantine-color-violet-6);--mantine-color-violet-filled-hover: var(--mantine-color-violet-7);--mantine-color-violet-light: rgba(121, 80, 242, .1);--mantine-color-violet-light-hover: rgba(121, 80, 242, .12);--mantine-color-violet-light-color: var(--mantine-color-violet-6);--mantine-color-violet-outline: var(--mantine-color-violet-6);--mantine-color-violet-outline-hover: rgba(121, 80, 242, .05);--mantine-color-indigo-text: var(--mantine-color-indigo-filled);--mantine-color-indigo-filled: var(--mantine-color-indigo-6);--mantine-color-indigo-filled-hover: var(--mantine-color-indigo-7);--mantine-color-indigo-light: rgba(76, 110, 245, .1);--mantine-color-indigo-light-hover: rgba(76, 110, 245, .12);--mantine-color-indigo-light-color: var(--mantine-color-indigo-6);--mantine-color-indigo-outline: var(--mantine-color-indigo-6);--mantine-color-indigo-outline-hover: rgba(76, 110, 245, .05);--mantine-color-blue-text: var(--mantine-color-blue-filled);--mantine-color-blue-filled: var(--mantine-color-blue-6);--mantine-color-blue-filled-hover: var(--mantine-color-blue-7);--mantine-color-blue-light: rgba(34, 139, 230, .1);--mantine-color-blue-light-hover: rgba(34, 139, 230, .12);--mantine-color-blue-light-color: var(--mantine-color-blue-6);--mantine-color-blue-outline: var(--mantine-color-blue-6);--mantine-color-blue-outline-hover: rgba(34, 139, 230, .05);--mantine-color-cyan-text: var(--mantine-color-cyan-filled);--mantine-color-cyan-filled: var(--mantine-color-cyan-6);--mantine-color-cyan-filled-hover: var(--mantine-color-cyan-7);--mantine-color-cyan-light: rgba(21, 170, 191, .1);--mantine-color-cyan-light-hover: rgba(21, 170, 191, .12);--mantine-color-cyan-light-color: var(--mantine-color-cyan-6);--mantine-color-cyan-outline: var(--mantine-color-cyan-6);--mantine-color-cyan-outline-hover: rgba(21, 170, 191, .05);--mantine-color-teal-text: var(--mantine-color-teal-filled);--mantine-color-teal-filled: var(--mantine-color-teal-6);--mantine-color-teal-filled-hover: var(--mantine-color-teal-7);--mantine-color-teal-light: rgba(18, 184, 134, .1);--mantine-color-teal-light-hover: rgba(18, 184, 134, .12);--mantine-color-teal-light-color: var(--mantine-color-teal-6);--mantine-color-teal-outline: var(--mantine-color-teal-6);--mantine-color-teal-outline-hover: rgba(18, 184, 134, .05);--mantine-color-green-text: var(--mantine-color-green-filled);--mantine-color-green-filled: var(--mantine-color-green-6);--mantine-color-green-filled-hover: var(--mantine-color-green-7);--mantine-color-green-light: rgba(64, 192, 87, .1);--mantine-color-green-light-hover: rgba(64, 192, 87, .12);--mantine-color-green-light-color: var(--mantine-color-green-6);--mantine-color-green-outline: var(--mantine-color-green-6);--mantine-color-green-outline-hover: rgba(64, 192, 87, .05);--mantine-color-lime-text: var(--mantine-color-lime-filled);--mantine-color-lime-filled: var(--mantine-color-lime-6);--mantine-color-lime-filled-hover: var(--mantine-color-lime-7);--mantine-color-lime-light: rgba(130, 201, 30, .1);--mantine-color-lime-light-hover: rgba(130, 201, 30, .12);--mantine-color-lime-light-color: var(--mantine-color-lime-6);--mantine-color-lime-outline: var(--mantine-color-lime-6);--mantine-color-lime-outline-hover: rgba(130, 201, 30, .05);--mantine-color-yellow-text: var(--mantine-color-yellow-filled);--mantine-color-yellow-filled: var(--mantine-color-yellow-6);--mantine-color-yellow-filled-hover: var(--mantine-color-yellow-7);--mantine-color-yellow-light: rgba(250, 176, 5, .1);--mantine-color-yellow-light-hover: rgba(250, 176, 5, .12);--mantine-color-yellow-light-color: var(--mantine-color-yellow-6);--mantine-color-yellow-outline: var(--mantine-color-yellow-6);--mantine-color-yellow-outline-hover: rgba(250, 176, 5, .05);--mantine-color-orange-text: var(--mantine-color-orange-filled);--mantine-color-orange-filled: var(--mantine-color-orange-6);--mantine-color-orange-filled-hover: var(--mantine-color-orange-7);--mantine-color-orange-light: rgba(253, 126, 20, .1);--mantine-color-orange-light-hover: rgba(253, 126, 20, .12);--mantine-color-orange-light-color: var(--mantine-color-orange-6);--mantine-color-orange-outline: var(--mantine-color-orange-6);--mantine-color-orange-outline-hover: rgba(253, 126, 20, .05)}.m_d57069b5{--scrollarea-scrollbar-size: calc(.75rem * var(--mantine-scale));position:relative;overflow:hidden}.m_c0783ff9{scrollbar-width:none;overscroll-behavior:var(--scrollarea-over-scroll-behavior);-ms-overflow-style:none;-webkit-overflow-scrolling:touch;width:100%;height:100%}.m_c0783ff9::-webkit-scrollbar{display:none}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y],[data-offset-scrollbars=present]):where([data-vertical-hidden]){padding-inline-end:0;padding-inline-start:0}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y],[data-offset-scrollbars=present]):not([data-vertical-hidden]){padding-inline-end:var(--scrollarea-scrollbar-size);padding-inline-start:unset}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x],[data-offset-scrollbars=present]):where([data-horizontal-hidden]){padding-bottom:0}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x],[data-offset-scrollbars=present]):not([data-horizontal-hidden]){padding-bottom:var(--scrollarea-scrollbar-size)}.m_f8f631dd{min-width:100%;display:table}.m_c44ba933{-webkit-user-select:none;user-select:none;touch-action:none;box-sizing:border-box;transition:background-color .15s ease,opacity .15s ease;padding:calc(var(--scrollarea-scrollbar-size) / 5);display:flex;background-color:transparent;flex-direction:row}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_c44ba933:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:hover>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover>.m_d8b5e363{background-color:#ffffff80}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_c44ba933:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:active>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active>.m_d8b5e363{background-color:#ffffff80}}.m_c44ba933:where([data-hidden],[data-state=hidden]){display:none}.m_c44ba933:where([data-orientation=vertical]){width:var(--scrollarea-scrollbar-size);top:0;bottom:var(--sa-corner-width);inset-inline-end:0}.m_c44ba933:where([data-orientation=horizontal]){height:var(--scrollarea-scrollbar-size);flex-direction:column;bottom:0;inset-inline-start:0;inset-inline-end:var(--sa-corner-width)}.m_d8b5e363{flex:1;border-radius:var(--scrollarea-scrollbar-size);position:relative;transition:background-color .15s ease;overflow:hidden;opacity:var(--thumb-opacity)}.m_d8b5e363:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;min-width:calc(2.75rem * var(--mantine-scale));min-height:calc(2.75rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d8b5e363{background-color:#0006}:where([data-mantine-color-scheme=dark]) .m_d8b5e363{background-color:#fff6}.m_21657268{position:absolute;opacity:0;transition:opacity .15s ease;display:block;inset-inline-end:0;bottom:0}:where([data-mantine-color-scheme=light]) .m_21657268{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_21657268{background-color:var(--mantine-color-dark-8)}.m_21657268:where([data-hovered]){opacity:1}.m_21657268:where([data-hidden]){display:none}.m_87cf2631{background-color:transparent;cursor:pointer;border:0;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:var(--mantine-font-size-md);text-align:left;text-decoration:none;color:inherit;touch-action:manipulation;-webkit-tap-highlight-color:transparent}:where([dir=rtl]) .m_87cf2631{text-align:right}.m_515a97f8{border:0;clip:rect(0 0 0 0);height:calc(.0625rem * var(--mantine-scale));width:calc(.0625rem * var(--mantine-scale));margin:calc(-.0625rem * var(--mantine-scale));overflow:hidden;padding:0;position:absolute;white-space:nowrap}.m_1b7284a3{--paper-radius: var(--mantine-radius-default);outline:0;-webkit-tap-highlight-color:transparent;display:block;touch-action:manipulation;text-decoration:none;border-radius:var(--paper-radius);box-shadow:var(--paper-shadow);background-color:var(--mantine-color-body)}[data-mantine-color-scheme=light] .m_1b7284a3{--paper-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_1b7284a3{--paper-border-color: var(--mantine-color-dark-4)}.m_1b7284a3:where([data-with-border]){border:calc(.0625rem * var(--mantine-scale)) solid var(--paper-border-color)}.m_9814e45f{top:0;right:0;bottom:0;left:0;position:absolute;background:var(--overlay-bg, rgba(0, 0, 0, .6));-webkit-backdrop-filter:var(--overlay-filter);backdrop-filter:var(--overlay-filter);border-radius:var(--overlay-radius, 0);z-index:var(--overlay-z-index)}.m_9814e45f:where([data-fixed]){position:fixed}.m_9814e45f:where([data-center]){display:flex;align-items:center;justify-content:center}.m_38a85659{position:absolute;border:1px solid var(--popover-border-color);padding:var(--mantine-spacing-sm) var(--mantine-spacing-md);box-shadow:var(--popover-shadow, none);border-radius:var(--popover-radius, var(--mantine-radius-default))}.m_38a85659:where([data-fixed]){position:fixed}.m_38a85659:focus{outline:none}:where([data-mantine-color-scheme=light]) .m_38a85659{--popover-border-color: var(--mantine-color-gray-2);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_38a85659{--popover-border-color: var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_a31dc6c1{background-color:inherit;border:1px solid var(--popover-border-color);z-index:1}.m_3d7bc908{position:fixed;top:0;right:0;bottom:0;left:0}.m_5ae2e3c{--loader-size-xs: calc(1.125rem * var(--mantine-scale));--loader-size-sm: calc(1.375rem * var(--mantine-scale));--loader-size-md: calc(2.25rem * var(--mantine-scale));--loader-size-lg: calc(2.75rem * var(--mantine-scale));--loader-size-xl: calc(3.625rem * var(--mantine-scale));--loader-size: var(--loader-size-md);--loader-color: var(--mantine-primary-color-filled)}@keyframes m_5d2b3b9d{0%{transform:scale(.6);opacity:0}50%,to{transform:scale(1)}}.m_7a2bd4cd{position:relative;width:var(--loader-size);height:var(--loader-size);display:flex;gap:calc(var(--loader-size) / 5)}.m_870bb79{flex:1;background:var(--loader-color);animation:m_5d2b3b9d 1.2s cubic-bezier(0,.5,.5,1) infinite;border-radius:calc(.125rem * var(--mantine-scale))}.m_870bb79:nth-of-type(1){animation-delay:-.24s}.m_870bb79:nth-of-type(2){animation-delay:-.12s}.m_870bb79:nth-of-type(3){animation-delay:0}@keyframes m_aac34a1{0%,to{transform:scale(1);opacity:1}50%{transform:scale(.6);opacity:.5}}.m_4e3f22d7{display:flex;justify-content:center;align-items:center;gap:calc(var(--loader-size) / 10);position:relative;width:var(--loader-size);height:var(--loader-size)}.m_870c4af{width:calc(var(--loader-size) / 3 - var(--loader-size) / 15);height:calc(var(--loader-size) / 3 - var(--loader-size) / 15);border-radius:50%;background:var(--loader-color);animation:m_aac34a1 .8s infinite linear}.m_870c4af:nth-child(2){animation-delay:.4s}@keyframes m_f8e89c4b{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.m_b34414df{display:inline-block;width:var(--loader-size);height:var(--loader-size)}.m_b34414df:after{content:"";display:block;width:var(--loader-size);height:var(--loader-size);border-radius:calc(625rem * var(--mantine-scale));border-width:calc(var(--loader-size) / 8);border-style:solid;border-color:var(--loader-color) var(--loader-color) var(--loader-color) transparent;animation:m_f8e89c4b 1.2s linear infinite}.m_8d3f4000{--ai-size-xs: calc(1.125rem * var(--mantine-scale));--ai-size-sm: calc(1.375rem * var(--mantine-scale));--ai-size-md: calc(1.75rem * var(--mantine-scale));--ai-size-lg: calc(2.125rem * var(--mantine-scale));--ai-size-xl: calc(2.75rem * var(--mantine-scale));--ai-size-input-xs: calc(1.875rem * var(--mantine-scale));--ai-size-input-sm: calc(2.25rem * var(--mantine-scale));--ai-size-input-md: calc(2.625rem * var(--mantine-scale));--ai-size-input-lg: calc(3.125rem * var(--mantine-scale));--ai-size-input-xl: calc(3.75rem * var(--mantine-scale));--ai-size: var(--ai-size-md);--ai-color: var(--mantine-color-white);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;user-select:none;overflow:hidden;width:var(--ai-size);height:var(--ai-size);min-width:var(--ai-size);min-height:var(--ai-size);border-radius:var(--ai-radius, var(--mantine-radius-default));background:var(--ai-bg, var(--mantine-primary-color-filled));color:var(--ai-color, var(--mantine-color-white));border:var(--ai-bd, calc(.0625rem * var(--mantine-scale)) solid transparent);cursor:pointer}@media(hover:hover){.m_8d3f4000:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover, var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color, var(--ai-color))}}@media(hover:none){.m_8d3f4000:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover, var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color, var(--ai-color))}}.m_8d3f4000[data-loading]{cursor:not-allowed}.m_8d3f4000[data-loading] .m_8d3afb97{opacity:0;transform:translateY(100%)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625rem * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-gray-1);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])):active{transform:none}.m_302b9fb1{inset:calc(-.0625rem * var(--mantine-scale));position:absolute;border-radius:var(--ai-radius, var(--mantine-radius-default));display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_302b9fb1{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_302b9fb1{background-color:#00000026}.m_1a0f1b21{--ai-border-width: calc(.0625rem * var(--mantine-scale));display:flex}.m_1a0f1b21 :where(*):focus{position:relative;z-index:1}.m_1a0f1b21[data-orientation=horizontal]{flex-direction:row}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):first-child,.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):first-child{border-end-end-radius:0;border-start-end-radius:0;border-inline-end-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):last-child,.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):last-child{border-end-start-radius:0;border-start-start-radius:0;border-inline-start-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child),.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-inline-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical]{flex-direction:column}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):first-child,.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):first-child{border-end-start-radius:0;border-end-end-radius:0;border-bottom-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):last-child,.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):last-child{border-start-start-radius:0;border-start-end-radius:0;border-top-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child),.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-bottom-width:calc(var(--ai-border-width) / 2);border-top-width:calc(var(--ai-border-width) / 2)}.m_8d3afb97{display:flex;align-items:center;justify-content:center;transition:transform .15s ease,opacity .1s ease;width:100%;height:100%}.m_437b6484{--section-height-xs: calc(1.125rem * var(--mantine-scale));--section-height-sm: calc(1.375rem * var(--mantine-scale));--section-height-md: calc(1.75rem * var(--mantine-scale));--section-height-lg: calc(2.125rem * var(--mantine-scale));--section-height-xl: calc(2.75rem * var(--mantine-scale));--section-height-input-xs: calc(1.875rem * var(--mantine-scale));--section-height-input-sm: calc(2.25rem * var(--mantine-scale));--section-height-input-md: calc(2.625rem * var(--mantine-scale));--section-height-input-lg: calc(3.125rem * var(--mantine-scale));--section-height-input-xl: calc(3.75rem * var(--mantine-scale));--section-padding-x-xs: calc(.375rem * var(--mantine-scale));--section-padding-x-sm: calc(.5rem * var(--mantine-scale));--section-padding-x-md: calc(.625rem * var(--mantine-scale));--section-padding-x-lg: calc(.75rem * var(--mantine-scale));--section-padding-x-xl: calc(1rem * var(--mantine-scale));--section-height: var(--section-height-sm);--section-padding-x: var(--section-padding-x-sm);--section-color: var(--mantine-color-white);font-weight:600;width:auto;border-radius:var(--section-radius, var(--mantine-radius-default));font-size:var(--section-fz, var(--mantine-font-size-sm));background:var(--section-bg, var(--mantine-primary-color-filled));border:var(--section-bd, calc(.0625rem * var(--mantine-scale)) solid transparent);color:var(--section-color, var(--mantine-color-white));height:var(--section-height, var(--section-height-sm));padding-inline:var(--section-padding-x, var(--section-padding-x-sm));vertical-align:middle;line-height:1;display:inline-flex;align-items:center;justify-content:center}.m_86a44da5{--cb-size-xs: calc(1.125rem * var(--mantine-scale));--cb-size-sm: calc(1.375rem * var(--mantine-scale));--cb-size-md: calc(1.75rem * var(--mantine-scale));--cb-size-lg: calc(2.125rem * var(--mantine-scale));--cb-size-xl: calc(2.75rem * var(--mantine-scale));--cb-size: var(--cb-size-md);--cb-icon-size: 70%;--cb-radius: var(--mantine-radius-default);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;user-select:none;width:var(--cb-size);height:var(--cb-size);min-width:var(--cb-size);min-height:var(--cb-size);border-radius:var(--cb-radius)}:where([data-mantine-color-scheme=light]) .m_86a44da5{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_86a44da5{color:var(--mantine-color-dark-1)}.m_86a44da5[data-disabled],.m_86a44da5:disabled{cursor:not-allowed;opacity:.6}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-dark-6)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-dark-6)}}.m_4081bf90{display:flex;flex-direction:row;flex-wrap:var(--group-wrap, wrap);justify-content:var(--group-justify, flex-start);align-items:var(--group-align, center);gap:var(--group-gap, var(--mantine-spacing-md))}.m_4081bf90:where([data-grow])>*{flex-grow:1;max-width:var(--group-child-width)}.m_615af6c9{line-height:1;padding:0;margin:0;font-weight:400;font-size:var(--mantine-font-size-md)}.m_b5489c3c{display:flex;justify-content:space-between;align-items:center;padding:var(--mb-padding, var(--mantine-spacing-md));padding-inline-end:calc(var(--mb-padding, var(--mantine-spacing-md)) - calc(.3125rem * var(--mantine-scale)));position:sticky;top:0;background-color:var(--mantine-color-body);z-index:1000;min-height:calc(3.75rem * var(--mantine-scale));transition:padding-inline-end .1s}.m_60c222c7{position:fixed;width:100%;top:0;bottom:0;z-index:var(--mb-z-index);pointer-events:none}.m_fd1ab0aa{pointer-events:all;box-shadow:var(--mb-shadow, var(--mantine-shadow-xl))}.m_fd1ab0aa [data-mantine-scrollbar]{z-index:1001}[data-offset-scrollbars] .m_fd1ab0aa:has([data-mantine-scrollbar]) .m_b5489c3c{padding-inline-end:calc(var(--mb-padding, var(--mantine-spacing-md)) + calc(.3125rem * var(--mantine-scale)))}.m_606cb269{margin-inline-start:auto}.m_5df29311{padding:var(--mb-padding, var(--mantine-spacing-md));padding-top:var(--mb-padding, var(--mantine-spacing-md))}.m_5df29311:where(:not(:only-child)){padding-top:0}.m_6c018570{position:relative;margin-top:var(--input-margin-top, 0rem);margin-bottom:var(--input-margin-bottom, 0rem);--input-height-xs: calc(1.875rem * var(--mantine-scale));--input-height-sm: calc(2.25rem * var(--mantine-scale));--input-height-md: calc(2.625rem * var(--mantine-scale));--input-height-lg: calc(3.125rem * var(--mantine-scale));--input-height-xl: calc(3.75rem * var(--mantine-scale));--input-padding-y-xs: calc(.3125rem * var(--mantine-scale));--input-padding-y-sm: calc(.375rem * var(--mantine-scale));--input-padding-y-md: calc(.5rem * var(--mantine-scale));--input-padding-y-lg: calc(.625rem * var(--mantine-scale));--input-padding-y-xl: calc(.8125rem * var(--mantine-scale));--input-height: var(--input-height-sm);--input-radius: var(--mantine-radius-default);--input-cursor: text;--input-text-align: left;--input-line-height: calc(var(--input-height) - calc(.125rem * var(--mantine-scale)));--input-padding: calc(var(--input-height) / 3);--input-padding-inline-start: var(--input-padding);--input-padding-inline-end: var(--input-padding);--input-placeholder-color: var(--mantine-color-placeholder);--input-color: var(--mantine-color-text);--input-left-section-size: var(--input-left-section-width, calc(var(--input-height) - calc(.125rem * var(--mantine-scale))));--input-right-section-size: var( --input-right-section-width, calc(var(--input-height) - calc(.125rem * var(--mantine-scale))) );--input-size: var(--input-height);--section-y: calc(.0625rem * var(--mantine-scale));--left-section-start: calc(.0625rem * var(--mantine-scale));--left-section-border-radius: var(--input-radius) 0 0 var(--input-radius);--right-section-end: calc(.0625rem * var(--mantine-scale));--right-section-border-radius: 0 var(--input-radius) var(--input-radius) 0}.m_6c018570[data-variant=unstyled]{--input-padding: 0;--input-padding-y: 0;--input-padding-inline-start: 0;--input-padding-inline-end: 0}.m_6c018570[data-pointer]{--input-cursor: pointer}.m_6c018570[data-multiline]{--input-padding-y-xs: calc(.28125rem * var(--mantine-scale));--input-padding-y-sm: calc(.34375rem * var(--mantine-scale));--input-padding-y-md: calc(.4375rem * var(--mantine-scale));--input-padding-y-lg: calc(.59375rem * var(--mantine-scale));--input-padding-y-xl: calc(.8125rem * var(--mantine-scale));--input-size: auto;--input-line-height: var(--mantine-line-height);--input-padding-y: var(--input-padding-y-sm)}.m_6c018570[data-with-left-section]{--input-padding-inline-start: var(--input-left-section-size)}.m_6c018570[data-with-right-section]{--input-padding-inline-end: var(--input-right-section-size)}[data-mantine-color-scheme=light] .m_6c018570{--input-disabled-bg: var(--mantine-color-gray-1);--input-disabled-color: var(--mantine-color-gray-6)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=default]{--input-bd: var(--mantine-color-gray-4);--input-bg: var(--mantine-color-white);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=filled]{--input-bd: transparent;--input-bg: var(--mantine-color-gray-1);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=unstyled]{--input-bd: transparent;--input-bg: transparent;--input-bd-focus: transparent}[data-mantine-color-scheme=dark] .m_6c018570{--input-disabled-bg: var(--mantine-color-dark-6);--input-disabled-color: var(--mantine-color-dark-2)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=default]{--input-bd: var(--mantine-color-dark-4);--input-bg: var(--mantine-color-dark-6);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=filled]{--input-bd: transparent;--input-bg: var(--mantine-color-dark-5);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=unstyled]{--input-bd: transparent;--input-bg: transparent;--input-bd-focus: transparent}[data-mantine-color-scheme] .m_6c018570[data-error]:not([data-variant=unstyled]){--input-bd: var(--mantine-color-error)}[data-mantine-color-scheme] .m_6c018570[data-error]{--input-color: var(--mantine-color-error);--input-placeholder-color: var(--mantine-color-error);--input-section-color: var(--mantine-color-error)}:where([dir=rtl]) .m_6c018570{--input-text-align: right;--left-section-border-radius: 0 var(--input-radius) var(--input-radius) 0;--right-section-border-radius: var(--input-radius) 0 0 var(--input-radius)}.m_8fb7ebe7{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;resize:var(--input-resize, none);display:block;width:100%;transition:border-color .1s ease;text-align:var(--input-text-align);color:var(--input-color);border:calc(.0625rem * var(--mantine-scale)) solid var(--input-bd);background-color:var(--input-bg);font-family:var(--input-font-family, var(--mantine-font-family));height:var(--input-size);min-height:var(--input-height);line-height:var(--input-line-height);font-size:var(--input-fz, var(--input-fz, var(--mantine-font-size-sm)));border-radius:var(--input-radius);padding-inline-start:var(--input-padding-inline-start);padding-inline-end:var(--input-padding-inline-end);padding-top:var(--input-padding-y, 0rem);padding-bottom:var(--input-padding-y, 0rem);cursor:var(--input-cursor);overflow:var(--input-overflow)}.m_8fb7ebe7[data-no-overflow]{--input-overflow: hidden}.m_8fb7ebe7[data-monospace]{--input-font-family: var(--mantine-font-family-monospace);--input-fz: calc(var(--input-fz, var(--mantine-font-size-sm)) - calc(.125rem * var(--mantine-scale)))}.m_8fb7ebe7:focus,.m_8fb7ebe7:focus-within{outline:none;--input-bd: var(--input-bd-focus)}[data-error] .m_8fb7ebe7:focus,[data-error] .m_8fb7ebe7:focus-within{--input-bd: var(--mantine-color-error)}.m_8fb7ebe7::placeholder{color:var(--input-placeholder-color);opacity:1}.m_8fb7ebe7::-webkit-inner-spin-button,.m_8fb7ebe7::-webkit-outer-spin-button,.m_8fb7ebe7::-webkit-search-decoration,.m_8fb7ebe7::-webkit-search-cancel-button,.m_8fb7ebe7::-webkit-search-results-button,.m_8fb7ebe7::-webkit-search-results-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_8fb7ebe7[type=number]{-moz-appearance:textfield}.m_8fb7ebe7:disabled,.m_8fb7ebe7[data-disabled]{cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_8fb7ebe7:has(input:disabled){cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_82577fc2{pointer-events:var(--section-pointer-events);position:absolute;z-index:1;inset-inline-start:var(--section-start);inset-inline-end:var(--section-end);bottom:var(--section-y);top:var(--section-y);display:flex;align-items:center;justify-content:center;width:var(--section-size);border-radius:var(--section-border-radius);color:var(--input-section-color, var(--mantine-color-dimmed))}.m_82577fc2[data-position=right]{--section-pointer-events: var(--input-right-section-pointer-events);--section-end: var(--right-section-end);--section-size: var(--input-right-section-size);--section-border-radius: var(--right-section-border-radius)}.m_82577fc2[data-position=left]{--section-pointer-events: var(--input-left-section-pointer-events);--section-start: var(--left-section-start);--section-size: var(--input-left-section-size);--section-border-radius: var(--left-section-border-radius)}.m_88bacfd0{color:var(--input-placeholder-color, var(--mantine-color-placeholder))}[data-error] .m_88bacfd0{--input-placeholder-color: var(--input-color, var(--mantine-color-placeholder))}.m_46b77525{line-height:var(--mantine-line-height)}.m_8fdc1311{display:inline-block;font-weight:500;word-break:break-word;cursor:default;-webkit-tap-highlight-color:transparent;font-size:var(--input-label-size, var(--mantine-font-size-sm))}.m_78a94662{color:var(--input-asterisk-color, var(--mantine-color-error))}.m_8f816625,.m_fe47ce59{word-wrap:break-word;line-height:1.2;display:block;margin:0;padding:0}.m_8f816625{color:var(--mantine-color-error);font-size:var(--input-error-size, calc(var(--mantine-font-size-sm) - calc(.125rem * var(--mantine-scale))))}.m_fe47ce59{color:var(--mantine-color-dimmed);font-size:var(--input-description-size, calc(var(--mantine-font-size-sm) - calc(.125rem * var(--mantine-scale))))}.m_8bffd616{display:flex}.m_96b553a6{--transition-duration: .15s;top:0;left:0;position:absolute;z-index:0;transition-property:transform,width,height;transition-timing-function:ease;transition-duration:0ms}.m_96b553a6:where([data-initialized]){transition-duration:var(--transition-duration)}.m_96b553a6:where([data-hidden]){background-color:red;display:none}.m_9bdbb667{--accordion-radius: var(--mantine-radius-default)}.m_df78851f{word-break:break-word}.m_4ba554d4{padding:var(--mantine-spacing-md);padding-top:calc(var(--mantine-spacing-xs) / 2)}.m_8fa820a0{margin:0;padding:0}.m_4ba585b8{width:100%;display:flex;align-items:center;flex-direction:row-reverse;padding-inline:var(--mantine-spacing-md);opacity:1;cursor:pointer;background-color:transparent}.m_4ba585b8:where([data-chevron-position=left]){flex-direction:row;padding-inline-start:0}:where([data-mantine-color-scheme=light]) .m_4ba585b8{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_4ba585b8{color:var(--mantine-color-dark-0)}.m_4ba585b8:where(:disabled,[data-disabled]){opacity:.4;cursor:not-allowed}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-dark-6)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-dark-6)}}.m_df3ffa0f{color:inherit;font-weight:400;flex:1;overflow:hidden;text-overflow:ellipsis;padding-top:var(--mantine-spacing-sm);padding-bottom:var(--mantine-spacing-sm)}.m_3f35ae96{display:flex;align-items:center;justify-content:flex-start;transition:transform var(--accordion-transition-duration, .2s) ease;width:var(--accordion-chevron-size, calc(.9375rem * var(--mantine-scale)));min-width:var(--accordion-chevron-size, calc(.9375rem * var(--mantine-scale)));transform:rotate(0)}.m_3f35ae96:where([data-rotate]){transform:rotate(180deg)}.m_3f35ae96:where([data-position=left]){margin-inline-end:var(--mantine-spacing-md);margin-inline-start:var(--mantine-spacing-md)}.m_9bd771fe{display:flex;align-items:center;justify-content:center;margin-inline-end:var(--mantine-spacing-sm)}.m_9bd771fe:where([data-chevron-position=left]){margin-inline-end:0;margin-inline-start:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_9bd7b098{--item-border-color: var(--mantine-color-gray-3);--item-filled-color: var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_9bd7b098{--item-border-color: var(--mantine-color-dark-4);--item-filled-color: var(--mantine-color-dark-6)}.m_fe19b709{border-bottom:1px solid var(--item-border-color)}.m_1f921b3b{border:1px solid var(--item-border-color);transition:background-color .15s ease}.m_1f921b3b:where([data-active]){background-color:var(--item-filled-color)}.m_1f921b3b:first-of-type{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:first-of-type>[data-accordion-control]{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type{border-end-start-radius:var(--accordion-radius);border-end-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type>[data-accordion-control]{border-end-start-radius:var(--accordion-radius);border-end-end-radius:var(--accordion-radius)}.m_1f921b3b+.m_1f921b3b{border-top:0}.m_2cdf939a{border-radius:var(--accordion-radius)}.m_2cdf939a:where([data-active]){background-color:var(--item-filled-color)}.m_9f59b069{background-color:var(--item-filled-color);border-radius:var(--accordion-radius);border:calc(.0625rem * var(--mantine-scale)) solid transparent;transition:background-color .15s ease}.m_9f59b069[data-active]{border-color:var(--item-border-color)}:where([data-mantine-color-scheme=light]) .m_9f59b069[data-active]{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_9f59b069[data-active]{background-color:var(--mantine-color-dark-7)}.m_9f59b069+.m_9f59b069{margin-top:var(--mantine-spacing-md)}.m_7f854edf{position:fixed;z-index:var(--affix-z-index);inset-inline-start:var(--affix-left);inset-inline-end:var(--affix-right);top:var(--affix-top);bottom:var(--affix-bottom)}.m_66836ed3{--alert-radius: var(--mantine-radius-default);--alert-bg: var(--mantine-primary-color-light);--alert-bd: calc(.0625rem * var(--mantine-scale)) solid transparent;--alert-color: var(--mantine-primary-color-light-color);padding:var(--mantine-spacing-md) var(--mantine-spacing-md);border-radius:var(--alert-radius);position:relative;overflow:hidden;background-color:var(--alert-bg);border:var(--alert-bd);color:var(--alert-color)}.m_a5d60502{display:flex}.m_667c2793{flex:1;display:flex;flex-direction:column;gap:var(--mantine-spacing-xs)}.m_6a03f287{display:flex;align-items:center;justify-content:space-between;font-size:var(--mantine-font-size-sm);font-weight:700}.m_6a03f287:where([data-with-close-button]){padding-inline-end:var(--mantine-spacing-md)}.m_698f4f23{display:block;overflow:hidden;text-overflow:ellipsis}.m_667f2a6a{line-height:1;width:calc(1.25rem * var(--mantine-scale));height:calc(1.25rem * var(--mantine-scale));display:flex;align-items:center;justify-content:flex-start;margin-inline-end:var(--mantine-spacing-md);margin-top:calc(.0625rem * var(--mantine-scale))}.m_7fa78076{text-overflow:ellipsis;overflow:hidden;font-size:var(--mantine-font-size-sm)}:where([data-mantine-color-scheme=light]) .m_7fa78076{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_7fa78076{color:var(--mantine-color-white)}.m_7fa78076:where([data-variant=filled]){color:var(--alert-color)}.m_7fa78076:where([data-variant=white]){color:var(--mantine-color-black)}.m_87f54839{width:calc(1.25rem * var(--mantine-scale));height:calc(1.25rem * var(--mantine-scale));color:var(--alert-color)}.m_b6d8b162{-webkit-tap-highlight-color:transparent;text-decoration:none;font-size:var(--text-fz, var(--mantine-font-size-md));line-height:var(--text-lh, var(--mantine-line-height-md));font-weight:400;margin:0;padding:0;color:var(--text-color)}.m_b6d8b162:where([data-truncate]){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.m_b6d8b162:where([data-truncate=start]){direction:rtl;text-align:right}:where([dir=rtl]) .m_b6d8b162:where([data-truncate=start]){direction:ltr;text-align:left}.m_b6d8b162:where([data-variant=gradient]){background-image:var(--text-gradient);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.m_b6d8b162:where([data-line-clamp]){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:var(--text-line-clamp);-webkit-box-orient:vertical}.m_b6d8b162:where([data-inherit]){line-height:inherit;font-weight:inherit;font-size:inherit}.m_b6d8b162:where([data-inline]){line-height:1}.m_849cf0da{color:var(--mantine-color-anchor);text-decoration:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;display:inline;padding:0;margin:0;background-color:transparent;cursor:pointer}@media(hover:hover){.m_849cf0da:where([data-underline=hover]):hover{text-decoration:underline}}@media(hover:none){.m_849cf0da:where([data-underline=hover]):active{text-decoration:underline}}.m_849cf0da:where([data-underline=not-hover]){text-decoration:underline}@media(hover:hover){.m_849cf0da:where([data-underline=not-hover]):hover{text-decoration:none}}@media(hover:none){.m_849cf0da:where([data-underline=not-hover]):active{text-decoration:none}}.m_849cf0da:where([data-underline=always]){text-decoration:underline}.m_849cf0da:where([data-variant=gradient]),.m_849cf0da:where([data-variant=gradient]):hover{text-decoration:none}.m_849cf0da:where([data-line-clamp]){display:-webkit-box}.m_48204f9b{width:var(--slider-size);height:var(--slider-size);position:relative;border-radius:100%;display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}.m_48204f9b:focus-within{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_48204f9b{--slider-size: calc(3.75rem * var(--mantine-scale));--thumb-size: calc(var(--slider-size) / 5)}:where([data-mantine-color-scheme=light]) .m_48204f9b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_48204f9b{background-color:var(--mantine-color-dark-5)}.m_bb9cdbad{position:absolute;inset:calc(.0625rem * var(--mantine-scale));border-radius:var(--slider-size);pointer-events:none}.m_481dd586{width:calc(.125rem * var(--mantine-scale));position:absolute;top:0;bottom:0;left:calc(50% - 1px);transform:rotate(var(--angle))}.m_481dd586:before{content:"";position:absolute;top:calc(var(--thumb-size) / 3);left:calc(.03125rem * var(--mantine-scale));width:calc(.0625rem * var(--mantine-scale));height:calc(var(--thumb-size) / 1.5);transform:translate(-50%,-50%)}:where([data-mantine-color-scheme=light]) .m_481dd586:before{background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_481dd586:before{background-color:var(--mantine-color-dark-3)}.m_481dd586[data-label]:after{min-width:calc(1.125rem * var(--mantine-scale));text-align:center;content:attr(data-label);position:absolute;top:calc(-1.5rem * var(--mantine-scale));left:calc(-.4375rem * var(--mantine-scale));transform:rotate(calc(360deg - var(--angle)));font-size:var(--mantine-font-size-xs)}.m_bc02ba3d{position:absolute;inset-block:0;inset-inline-start:calc(50% - 1.5px);inset-inline-end:0;height:100%;width:calc(.1875rem * var(--mantine-scale));outline:none;pointer-events:none}.m_bc02ba3d:before{content:"";position:absolute;right:0;top:0;height:min(var(--thumb-size),calc(var(--slider-size) / 2));width:calc(.1875rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_bc02ba3d:before{background-color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_bc02ba3d:before{background-color:var(--mantine-color-dark-1)}.m_bb8e875b{font-size:var(--mantine-font-size-xs)}.m_89ab340[data-resizing]{--app-shell-transition-duration: 0ms !important}.m_89ab340[data-disabled]{--app-shell-header-offset: 0rem !important;--app-shell-navbar-offset: 0rem !important;--app-shell-aside-offset: 0rem !important;--app-shell-footer-offset: 0rem !important}[data-mantine-color-scheme=light] .m_89ab340{--app-shell-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89ab340{--app-shell-border-color: var(--mantine-color-dark-4)}.m_45252eee,.m_9cdde9a,.m_3b16f56b,.m_8983817,.m_3840c879{transition-duration:var(--app-shell-transition-duration);transition-timing-function:var(--app-shell-transition-timing-function)}.m_45252eee,.m_9cdde9a{position:fixed;display:flex;flex-direction:column;top:var(--app-shell-header-offset, 0rem);height:calc(100dvh - var(--app-shell-header-offset, 0rem) - var(--app-shell-footer-offset, 0rem));background-color:var(--mantine-color-body);transition-property:transform,top,height}:where([data-layout=alt]) .m_45252eee,:where([data-layout=alt]) .m_9cdde9a{top:0rem;height:100dvh}.m_45252eee{inset-inline-start:0;width:var(--app-shell-navbar-width);transition-property:transform,top,height;transform:var(--app-shell-navbar-transform);z-index:var(--app-shell-navbar-z-index)}:where([dir=rtl]) .m_45252eee{transform:var(--app-shell-navbar-transform-rtl)}.m_45252eee:where([data-with-border]){border-inline-end:1px solid var(--app-shell-border-color)}.m_9cdde9a{inset-inline-end:0;width:var(--app-shell-aside-width);transform:var(--app-shell-aside-transform);z-index:var(--app-shell-aside-z-index)}:where([dir=rtl]) .m_9cdde9a{transform:var(--app-shell-aside-transform-rtl)}.m_9cdde9a:where([data-with-border]){border-inline-start:1px solid var(--app-shell-border-color)}.m_8983817{padding-inline-start:calc(var(--app-shell-navbar-offset, 0rem) + var(--app-shell-padding));padding-inline-end:calc(var(--app-shell-aside-offset, 0rem) + var(--app-shell-padding));padding-top:calc(var(--app-shell-header-offset, 0rem) + var(--app-shell-padding));padding-bottom:calc(var(--app-shell-footer-offset, 0rem) + var(--app-shell-padding));min-height:100dvh;transition-property:padding}.m_3b16f56b,.m_3840c879{position:fixed;inset-inline:0;transition-property:transform,left,right;background-color:var(--mantine-color-body)}:where([data-layout=alt]) .m_3b16f56b,:where([data-layout=alt]) .m_3840c879{inset-inline-start:var(--app-shell-navbar-offset, 0rem);inset-inline-end:var(--app-shell-aside-offset, 0rem)}.m_3b16f56b{top:0;height:var(--app-shell-header-height);background-color:var(--mantine-color-body);transform:var(--app-shell-header-transform);z-index:var(--app-shell-header-z-index)}.m_3b16f56b:where([data-with-border]){border-bottom:1px solid var(--app-shell-border-color)}.m_3840c879{bottom:0;height:calc(var(--app-shell-footer-height) + env(safe-area-inset-bottom));padding-bottom:env(safe-area-inset-bottom);transform:var(--app-shell-footer-transform);z-index:var(--app-shell-footer-z-index)}.m_3840c879:where([data-with-border]){border-top:1px solid var(--app-shell-border-color)}.m_6dcfc7c7{flex-grow:0}.m_6dcfc7c7:where([data-grow]){flex-grow:1}.m_71ac47fc{--ar-ratio: 1;max-width:100%}.m_71ac47fc>:where(*:not(style)){aspect-ratio:var(--ar-ratio);width:100%}.m_71ac47fc>:where(img,video){object-fit:cover}.m_88b62a41{--combobox-padding: calc(.25rem * var(--mantine-scale));padding:var(--combobox-padding)}.m_88b62a41:has([data-mantine-scrollbar]) .m_985517d8{max-width:calc(100% + var(--combobox-padding))}.m_88b62a41[data-composed]{padding-inline-end:0}.m_88b62a41[data-hidden]{display:none}.m_88b62a41,.m_b2821a6e{--combobox-option-padding-xs: calc(.25rem * var(--mantine-scale)) calc(.5rem * var(--mantine-scale));--combobox-option-padding-sm: calc(.375rem * var(--mantine-scale)) calc(.625rem * var(--mantine-scale));--combobox-option-padding-md: calc(.5rem * var(--mantine-scale)) calc(.75rem * var(--mantine-scale));--combobox-option-padding-lg: calc(.625rem * var(--mantine-scale)) calc(1rem * var(--mantine-scale));--combobox-option-padding-xl: calc(.875rem * var(--mantine-scale)) calc(1.25rem * var(--mantine-scale));--combobox-option-padding: var(--combobox-option-padding-sm)}.m_92253aa5{padding:var(--combobox-option-padding);font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));border-radius:var(--mantine-radius-default);background-color:transparent;color:inherit;cursor:pointer;word-break:break-word}.m_92253aa5:where([data-combobox-selected]){background-color:var(--mantine-primary-color-filled);color:var(--mantine-color-white)}.m_92253aa5:where([data-combobox-disabled]){cursor:not-allowed;opacity:.35}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}.m_985517d8{margin-inline:calc(var(--combobox-padding) * -1);margin-top:calc(var(--combobox-padding) * -1);width:calc(100% + var(--combobox-padding) * 2);border-top-width:0;border-inline-width:0;border-end-start-radius:0;border-end-end-radius:0;margin-bottom:var(--combobox-padding);position:relative}:where([data-mantine-color-scheme=light]) .m_985517d8,:where([data-mantine-color-scheme=light]) .m_985517d8:focus{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_985517d8,:where([data-mantine-color-scheme=dark]) .m_985517d8:focus{border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=light]) .m_985517d8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_985517d8{background-color:var(--mantine-color-dark-7)}.m_2530cd1d{font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));text-align:center;padding:var(--combobox-option-padding);color:var(--mantine-color-dimmed)}.m_858f94bd,.m_82b967cb{font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));border:0 solid transparent;margin-inline:calc(var(--combobox-padding) * -1);padding:var(--combobox-option-padding)}:where([data-mantine-color-scheme=light]) .m_858f94bd,:where([data-mantine-color-scheme=light]) .m_82b967cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_858f94bd,:where([data-mantine-color-scheme=dark]) .m_82b967cb{border-color:var(--mantine-color-dark-4)}.m_82b967cb{border-top-width:calc(.0625rem * var(--mantine-scale));margin-top:var(--combobox-padding);margin-bottom:calc(var(--combobox-padding) * -1)}.m_858f94bd{border-bottom-width:calc(.0625rem * var(--mantine-scale));margin-bottom:var(--combobox-padding);margin-top:calc(var(--combobox-padding) * -1)}.m_254f3e4f:has(.m_2bb2e9e5:only-child){display:none}.m_2bb2e9e5{color:var(--mantine-color-dimmed);font-size:calc(var(--combobox-option-fz, var(--mantine-font-size-sm)) * .85);padding:var(--combobox-option-padding);font-weight:500;position:relative;display:flex;align-items:center}.m_2bb2e9e5:after{content:"";flex:1;inset-inline:0;height:calc(.0625rem * var(--mantine-scale));margin-inline-start:var(--mantine-spacing-xs)}:where([data-mantine-color-scheme=light]) .m_2bb2e9e5:after{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_2bb2e9e5:after{background-color:var(--mantine-color-dark-4)}.m_2bb2e9e5:only-child{display:none}.m_2943220b{--combobox-chevron-size-xs: calc(.875rem * var(--mantine-scale));--combobox-chevron-size-sm: calc(1.125rem * var(--mantine-scale));--combobox-chevron-size-md: calc(1.25rem * var(--mantine-scale));--combobox-chevron-size-lg: calc(1.5rem * var(--mantine-scale));--combobox-chevron-size-xl: calc(1.75rem * var(--mantine-scale));--combobox-chevron-size: var(--combobox-chevron-size-sm)}:where([data-mantine-color-scheme=light]) .m_2943220b{--_combobox-chevron-color: var(--combobox-chevron-color, var(--mantine-color-gray-6))}:where([data-mantine-color-scheme=dark]) .m_2943220b{--_combobox-chevron-color: var(--combobox-chevron-color, var(--mantine-color-dark-3))}.m_2943220b{width:var(--combobox-chevron-size);height:var(--combobox-chevron-size);color:var(--_combobox-chevron-color)}.m_2943220b:where([data-error]){color:var(--combobox-chevron-color, var(--mantine-color-error))}.m_390b5f4{display:flex;align-items:center;gap:calc(.5rem * var(--mantine-scale))}.m_390b5f4:where([data-reverse]){justify-content:space-between}.m_8ee53fc2{opacity:.4;width:.8em;min-width:.8em;height:.8em}:where([data-combobox-selected]) .m_8ee53fc2{opacity:1}.m_5f75b09e{--label-lh-xs: calc(1rem * var(--mantine-scale));--label-lh-sm: calc(1.25rem * var(--mantine-scale));--label-lh-md: calc(1.5rem * var(--mantine-scale));--label-lh-lg: calc(1.875rem * var(--mantine-scale));--label-lh-xl: calc(2.25rem * var(--mantine-scale));--label-lh: var(--label-lh-sm)}.m_5f75b09e[data-label-position=left]{--label-order: 1;--label-offset-end: var(--mantine-spacing-sm);--label-offset-start: 0}.m_5f75b09e[data-label-position=right]{--label-order: 2;--label-offset-end: 0;--label-offset-start: var(--mantine-spacing-sm)}.m_5f6e695e{display:flex}.m_d3ea56bb{--label-cursor: var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:inline-flex;flex-direction:column;font-size:var(--label-fz, var(--mantine-font-size-sm));line-height:var(--label-lh);cursor:var(--label-cursor);order:var(--label-order)}fieldset:disabled .m_d3ea56bb,.m_d3ea56bb[data-disabled]{--label-cursor: not-allowed}.m_8ee546b8{cursor:var(--label-cursor);color:inherit;padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=light]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=dark]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-dark-3)}.m_328f68c0,.m_8e8a99cc{margin-top:calc(var(--mantine-spacing-xs) / 2);padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}.m_26775b0a{--card-radius: var(--mantine-radius-default);display:block;width:100%;border-radius:var(--card-radius);cursor:pointer}.m_26775b0a :where(*){cursor:inherit}.m_26775b0a:where([data-with-border]){border:calc(.0625rem * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_5e5256ee{--checkbox-size-xs: calc(1rem * var(--mantine-scale));--checkbox-size-sm: calc(1.25rem * var(--mantine-scale));--checkbox-size-md: calc(1.5rem * var(--mantine-scale));--checkbox-size-lg: calc(1.875rem * var(--mantine-scale));--checkbox-size-xl: calc(2.25rem * var(--mantine-scale));--checkbox-size: var(--checkbox-size-sm);--checkbox-color: var(--mantine-primary-color-filled);--checkbox-icon-color: var(--mantine-color-white);position:relative;border:calc(.0625rem * var(--mantine-scale)) solid transparent;width:var(--checkbox-size);min-width:var(--checkbox-size);height:var(--checkbox-size);min-height:var(--checkbox-size);border-radius:var(--checkbox-radius, var(--mantine-radius-default));transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_5e5256ee{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_5e5256ee[data-indeterminate],.m_5e5256ee[data-checked]{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_5e5256ee[data-indeterminate]>.m_1b1c543a,.m_5e5256ee[data-checked]>.m_1b1c543a{opacity:1;transform:none;color:var(--checkbox-icon-color)}.m_5e5256ee[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-dark-3)}.m_76e20374[data-indeterminate]:not([data-disabled]),.m_76e20374[data-checked]:not([data-disabled]){background-color:transparent;border-color:var(--checkbox-color)}.m_76e20374[data-indeterminate]:not([data-disabled])>.m_1b1c543a,.m_76e20374[data-checked]:not([data-disabled])>.m_1b1c543a{color:var(--checkbox-color);opacity:1;transform:none}.m_1b1c543a{display:block;width:60%;color:transparent;pointer-events:none;transform:translateY(calc(.3125rem * var(--mantine-scale))) scale(.5);opacity:1;transition:transform .1s ease,opacity .1s ease}.m_bf2d988c{--checkbox-size-xs: calc(1rem * var(--mantine-scale));--checkbox-size-sm: calc(1.25rem * var(--mantine-scale));--checkbox-size-md: calc(1.5rem * var(--mantine-scale));--checkbox-size-lg: calc(1.875rem * var(--mantine-scale));--checkbox-size-xl: calc(2.25rem * var(--mantine-scale));--checkbox-size: var(--checkbox-size-sm);--checkbox-color: var(--mantine-primary-color-filled);--checkbox-icon-color: var(--mantine-color-white)}.m_26062bec{position:relative;width:var(--checkbox-size);height:var(--checkbox-size);order:1}.m_26062bec:where([data-label-position=left]){order:2}.m_26063560{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:calc(.0625rem * var(--mantine-scale)) solid transparent;width:var(--checkbox-size);height:var(--checkbox-size);border-radius:var(--checkbox-radius, var(--mantine-radius-default));padding:0;display:block;margin:0;transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent}:where([data-mantine-color-scheme=light]) .m_26063560{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_26063560{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_26063560:where([data-error]){border-color:var(--mantine-color-error)}.m_26063560[data-indeterminate],.m_26063560:checked{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_26063560[data-indeterminate]+.m_bf295423,.m_26063560:checked+.m_bf295423{opacity:1;transform:none}.m_26063560:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_26063560:disabled{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26063560:disabled{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-dark-3)}.m_215c4542+.m_bf295423{color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled),.m_215c4542:checked:not(:disabled){background-color:transparent;border-color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled)+.m_bf295423,.m_215c4542:checked:not(:disabled)+.m_bf295423{color:var(--checkbox-color);opacity:1;transform:none}.m_bf295423{position:absolute;top:0;right:0;bottom:0;left:0;width:60%;margin:auto;color:var(--checkbox-icon-color);pointer-events:none;transform:translateY(calc(.3125rem * var(--mantine-scale))) scale(.5);opacity:0;transition:transform .1s ease,opacity .1s ease}.m_11def92b{--ag-spacing: var(--mantine-spacing-sm);--ag-offset: calc(var(--ag-spacing) * -1);display:flex;padding-inline-start:var(--ag-spacing)}.m_f85678b6{--avatar-size-xs: calc(1rem * var(--mantine-scale));--avatar-size-sm: calc(1.625rem * var(--mantine-scale));--avatar-size-md: calc(2.375rem * var(--mantine-scale));--avatar-size-lg: calc(3.5rem * var(--mantine-scale));--avatar-size-xl: calc(5.25rem * var(--mantine-scale));--avatar-size: var(--avatar-size-md);--avatar-radius: calc(62.5rem * var(--mantine-scale));--avatar-bg: var(--mantine-color-gray-light);--avatar-bd: calc(.0625rem * var(--mantine-scale)) solid transparent;--avatar-color: var(--mantine-color-gray-light-color);--avatar-placeholder-fz: calc(var(--avatar-size) / 2.5);-webkit-tap-highlight-color:transparent;position:relative;display:block;-webkit-user-select:none;user-select:none;overflow:hidden;border-radius:var(--avatar-radius);text-decoration:none;padding:0;width:var(--avatar-size);height:var(--avatar-size);min-width:var(--avatar-size)}.m_f85678b6:where([data-within-group]){margin-inline-start:var(--ag-offset);border:2px solid var(--mantine-color-body);background:var(--mantine-color-body)}.m_11f8ac07{object-fit:cover;width:100%;height:100%;display:block}.m_104cd71f{font-weight:700;display:flex;align-items:center;justify-content:center;width:100%;height:100%;-webkit-user-select:none;user-select:none;border-radius:var(--avatar-radius);font-size:var(--avatar-placeholder-fz);background:var(--avatar-bg);border:var(--avatar-bd);color:var(--avatar-color)}.m_104cd71f>[data-avatar-placeholder-icon]{width:70%;height:70%}.m_2ce0de02{background-size:cover;background-position:center;display:block;width:100%;border:0;text-decoration:none;border-radius:var(--bi-radius, 0)}.m_347db0ec{--badge-height-xs: calc(1rem * var(--mantine-scale));--badge-height-sm: calc(1.125rem * var(--mantine-scale));--badge-height-md: calc(1.25rem * var(--mantine-scale));--badge-height-lg: calc(1.625rem * var(--mantine-scale));--badge-height-xl: calc(2rem * var(--mantine-scale));--badge-fz-xs: calc(.5625rem * var(--mantine-scale));--badge-fz-sm: calc(.625rem * var(--mantine-scale));--badge-fz-md: calc(.6875rem * var(--mantine-scale));--badge-fz-lg: calc(.8125rem * var(--mantine-scale));--badge-fz-xl: calc(1rem * var(--mantine-scale));--badge-padding-x-xs: calc(.375rem * var(--mantine-scale));--badge-padding-x-sm: calc(.5rem * var(--mantine-scale));--badge-padding-x-md: calc(.625rem * var(--mantine-scale));--badge-padding-x-lg: calc(.75rem * var(--mantine-scale));--badge-padding-x-xl: calc(1rem * var(--mantine-scale));--badge-height: var(--badge-height-md);--badge-fz: var(--badge-fz-md);--badge-padding-x: var(--badge-padding-x-md);--badge-radius: calc(62.5rem * var(--mantine-scale));--badge-lh: calc(var(--badge-height) - calc(.125rem * var(--mantine-scale)));--badge-color: var(--mantine-color-white);--badge-bg: var(--mantine-primary-color-filled);--badge-border-width: calc(.0625rem * var(--mantine-scale));--badge-bd: var(--badge-border-width) solid transparent;-webkit-tap-highlight-color:transparent;font-size:var(--badge-fz);border-radius:var(--badge-radius);height:var(--badge-height);line-height:var(--badge-lh);text-decoration:none;padding:0 var(--badge-padding-x);display:inline-grid;align-items:center;justify-content:center;width:fit-content;text-transform:uppercase;font-weight:700;letter-spacing:calc(.015625rem * var(--mantine-scale));cursor:default;text-overflow:ellipsis;overflow:hidden;color:var(--badge-color);background:var(--badge-bg);border:var(--badge-bd)}.m_347db0ec:where([data-with-left-section],[data-variant=dot]){grid-template-columns:auto 1fr}.m_347db0ec:where([data-with-right-section]){grid-template-columns:1fr auto}.m_347db0ec:where([data-with-left-section][data-with-right-section],[data-variant=dot][data-with-right-section]){grid-template-columns:auto 1fr auto}.m_347db0ec:where([data-block]){display:flex;width:100%}.m_347db0ec:where([data-circle]){padding-inline:calc(.125rem * var(--mantine-scale));display:flex;width:var(--badge-height)}.m_fbd81e3d{--badge-dot-size: calc(var(--badge-height) / 3.4)}:where([data-mantine-color-scheme=light]) .m_fbd81e3d{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fbd81e3d{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_fbd81e3d:before{content:"";display:block;width:var(--badge-dot-size);height:var(--badge-dot-size);border-radius:var(--badge-dot-size);background-color:var(--badge-dot-color);margin-inline-end:var(--badge-dot-size)}.m_5add502a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;cursor:inherit}.m_91fdda9b{--badge-section-margin: calc(var(--mantine-spacing-xs) / 2);display:inline-flex;justify-content:center;align-items:center;max-height:calc(var(--badge-height) - var(--badge-border-width) * 2)}.m_91fdda9b:where([data-position=left]){margin-inline-end:var(--badge-section-margin)}.m_91fdda9b:where([data-position=right]){margin-inline-start:var(--badge-section-margin)}.m_ddec01c0{--blockquote-border: 3px solid var(--bq-bd);position:relative;margin:0;border-inline-start:var(--blockquote-border);border-start-end-radius:var(--bq-radius);border-end-end-radius:var(--bq-radius);padding:var(--mantine-spacing-xl) calc(2.375rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_ddec01c0{background-color:var(--bq-bg-light)}:where([data-mantine-color-scheme=dark]) .m_ddec01c0{background-color:var(--bq-bg-dark)}.m_dde7bd57{--blockquote-icon-offset: calc(var(--bq-icon-size) / -2);position:absolute;color:var(--bq-bd);background-color:var(--mantine-color-body);display:flex;align-items:center;justify-content:center;top:var(--blockquote-icon-offset);inset-inline-start:var(--blockquote-icon-offset);width:var(--bq-icon-size);height:var(--bq-icon-size);border-radius:var(--bq-icon-size)}.m_dde51a35{display:block;margin-top:var(--mantine-spacing-md);opacity:.6;font-size:85%}.m_8b3717df{display:flex;align-items:center;flex-wrap:wrap}.m_f678d540{line-height:1;white-space:nowrap;-webkit-tap-highlight-color:transparent}.m_3b8f2208{margin-inline:var(--bc-separator-margin, var(--mantine-spacing-xs));line-height:1;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_3b8f2208{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_3b8f2208{color:var(--mantine-color-dark-2)}.m_fea6bf1a{--burger-size-xs: calc(.75rem * var(--mantine-scale));--burger-size-sm: calc(1.125rem * var(--mantine-scale));--burger-size-md: calc(1.5rem * var(--mantine-scale));--burger-size-lg: calc(2.125rem * var(--mantine-scale));--burger-size-xl: calc(2.625rem * var(--mantine-scale));--burger-size: var(--burger-size-md);--burger-line-size: calc(var(--burger-size) / 12);width:calc(var(--burger-size) + var(--mantine-spacing-xs));height:calc(var(--burger-size) + var(--mantine-spacing-xs));padding:calc(var(--mantine-spacing-xs) / 2);cursor:pointer}:where([data-mantine-color-scheme=light]) .m_fea6bf1a{--burger-color: var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fea6bf1a{--burger-color: var(--mantine-color-white)}.m_d4fb9cad{position:relative;-webkit-user-select:none;user-select:none}.m_d4fb9cad,.m_d4fb9cad:before,.m_d4fb9cad:after{display:block;width:var(--burger-size);height:var(--burger-line-size);background-color:var(--burger-color);outline:calc(.0625rem * var(--mantine-scale)) solid transparent;transition-property:background-color,transform;transition-duration:var(--burger-transition-duration, .3s);transition-timing-function:var(--burger-transition-timing-function, ease)}.m_d4fb9cad:before,.m_d4fb9cad:after{position:absolute;content:"";inset-inline-start:0}.m_d4fb9cad:before{top:calc(var(--burger-size) / -3)}.m_d4fb9cad:after{top:calc(var(--burger-size) / 3)}.m_d4fb9cad[data-opened]{background-color:transparent}.m_d4fb9cad[data-opened]:before{transform:translateY(calc(var(--burger-size) / 3)) rotate(45deg)}.m_d4fb9cad[data-opened]:after{transform:translateY(calc(var(--burger-size) / -3)) rotate(-45deg)}.m_77c9d27d{--button-height-xs: calc(1.875rem * var(--mantine-scale));--button-height-sm: calc(2.25rem * var(--mantine-scale));--button-height-md: calc(2.625rem * var(--mantine-scale));--button-height-lg: calc(3.125rem * var(--mantine-scale));--button-height-xl: calc(3.75rem * var(--mantine-scale));--button-height-compact-xs: calc(1.375rem * var(--mantine-scale));--button-height-compact-sm: calc(1.625rem * var(--mantine-scale));--button-height-compact-md: calc(1.875rem * var(--mantine-scale));--button-height-compact-lg: calc(2.125rem * var(--mantine-scale));--button-height-compact-xl: calc(2.5rem * var(--mantine-scale));--button-padding-x-xs: calc(.875rem * var(--mantine-scale));--button-padding-x-sm: calc(1.125rem * var(--mantine-scale));--button-padding-x-md: calc(1.375rem * var(--mantine-scale));--button-padding-x-lg: calc(1.625rem * var(--mantine-scale));--button-padding-x-xl: calc(2rem * var(--mantine-scale));--button-padding-x-compact-xs: calc(.4375rem * var(--mantine-scale));--button-padding-x-compact-sm: calc(.5rem * var(--mantine-scale));--button-padding-x-compact-md: calc(.625rem * var(--mantine-scale));--button-padding-x-compact-lg: calc(.75rem * var(--mantine-scale));--button-padding-x-compact-xl: calc(.875rem * var(--mantine-scale));--button-height: var(--button-height-sm);--button-padding-x: var(--button-padding-x-sm);--button-color: var(--mantine-color-white);-webkit-user-select:none;user-select:none;font-weight:600;position:relative;line-height:1;text-align:center;overflow:hidden;width:auto;cursor:pointer;display:inline-block;border-radius:var(--button-radius, var(--mantine-radius-default));font-size:var(--button-fz, var(--mantine-font-size-sm));background:var(--button-bg, var(--mantine-primary-color-filled));border:var(--button-bd, calc(.0625rem * var(--mantine-scale)) solid transparent);color:var(--button-color, var(--mantine-color-white));height:var(--button-height, var(--button-height-sm));padding-inline:var(--button-padding-x, var(--button-padding-x-sm));vertical-align:middle}.m_77c9d27d:where([data-block]){display:block;width:100%}.m_77c9d27d:where([data-with-left-section]){padding-inline-start:calc(var(--button-padding-x) / 1.5)}.m_77c9d27d:where([data-with-right-section]){padding-inline-end:calc(var(--button-padding-x) / 1.5)}.m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625rem * var(--mantine-scale)) solid transparent;transform:none}:where([data-mantine-color-scheme=light]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-gray-5);background:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-dark-3);background:var(--mantine-color-dark-6)}.m_77c9d27d:before{content:"";pointer-events:none;position:absolute;inset:calc(-.0625rem * var(--mantine-scale));border-radius:var(--button-radius, var(--mantine-radius-default));transform:translateY(-100%);opacity:0;filter:blur(12px);transition:transform .15s ease,opacity .1s ease}:where([data-mantine-color-scheme=light]) .m_77c9d27d:before{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:before{background-color:#00000026}.m_77c9d27d:where([data-loading]){cursor:not-allowed;transform:none}.m_77c9d27d:where([data-loading]):before{transform:translateY(0);opacity:1}.m_77c9d27d:where([data-loading]) .m_80f1301b{opacity:0;transform:translateY(100%)}@media(hover:hover){.m_77c9d27d:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover, var(--mantine-primary-color-filled-hover));color:var(--button-hover-color, var(--button-color))}}@media(hover:none){.m_77c9d27d:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover, var(--mantine-primary-color-filled-hover));color:var(--button-hover-color, var(--button-color))}}.m_80f1301b{display:flex;align-items:center;justify-content:var(--button-justify, center);height:100%;overflow:visible;transition:transform .15s ease,opacity .1s ease}.m_811560b9{white-space:nowrap;height:100%;overflow:hidden;display:flex;align-items:center;opacity:1}.m_811560b9:where([data-loading]){opacity:.2}.m_a74036a{display:flex;align-items:center}.m_a74036a:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_a74036a:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_a25b86ee{position:absolute;left:50%;top:50%}.m_80d6d844{--button-border-width: calc(.0625rem * var(--mantine-scale));display:flex}.m_80d6d844 :where(.m_77c9d27d):focus{position:relative;z-index:1}.m_80d6d844[data-orientation=horizontal]{flex-direction:row}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):first-child,.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):first-child{border-end-end-radius:0;border-start-end-radius:0;border-inline-end-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):last-child,.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):last-child{border-end-start-radius:0;border-start-start-radius:0;border-inline-start-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child),.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-inline-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical]{flex-direction:column}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):first-child,.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):first-child{border-end-start-radius:0;border-end-end-radius:0;border-bottom-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):last-child,.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):last-child{border-start-start-radius:0;border-start-end-radius:0;border-top-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child),.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-bottom-width:calc(var(--button-border-width) / 2);border-top-width:calc(var(--button-border-width) / 2)}.m_70be2a01{--section-height-xs: calc(1.875rem * var(--mantine-scale));--section-height-sm: calc(2.25rem * var(--mantine-scale));--section-height-md: calc(2.625rem * var(--mantine-scale));--section-height-lg: calc(3.125rem * var(--mantine-scale));--section-height-xl: calc(3.75rem * var(--mantine-scale));--section-height-compact-xs: calc(1.375rem * var(--mantine-scale));--section-height-compact-sm: calc(1.625rem * var(--mantine-scale));--section-height-compact-md: calc(1.875rem * var(--mantine-scale));--section-height-compact-lg: calc(2.125rem * var(--mantine-scale));--section-height-compact-xl: calc(2.5rem * var(--mantine-scale));--section-padding-x-xs: calc(.875rem * var(--mantine-scale));--section-padding-x-sm: calc(1.125rem * var(--mantine-scale));--section-padding-x-md: calc(1.375rem * var(--mantine-scale));--section-padding-x-lg: calc(1.625rem * var(--mantine-scale));--section-padding-x-xl: calc(2rem * var(--mantine-scale));--section-padding-x-compact-xs: calc(.4375rem * var(--mantine-scale));--section-padding-x-compact-sm: calc(.5rem * var(--mantine-scale));--section-padding-x-compact-md: calc(.625rem * var(--mantine-scale));--section-padding-x-compact-lg: calc(.75rem * var(--mantine-scale));--section-padding-x-compact-xl: calc(.875rem * var(--mantine-scale));--section-height: var(--section-height-sm);--section-padding-x: var(--section-padding-x-sm);--section-color: var(--mantine-color-white);font-weight:600;width:auto;border-radius:var(--section-radius, var(--mantine-radius-default));font-size:var(--section-fz, var(--mantine-font-size-sm));background:var(--section-bg, var(--mantine-primary-color-filled));border:var(--section-bd, calc(.0625rem * var(--mantine-scale)) solid transparent);color:var(--section-color, var(--mantine-color-white));height:var(--section-height, var(--section-height-sm));padding-inline:var(--section-padding-x, var(--section-padding-x-sm));vertical-align:middle;line-height:1;display:inline-flex;align-items:center;justify-content:center}.m_e615b15f{--card-padding: var(--mantine-spacing-md);position:relative;overflow:hidden;display:flex;flex-direction:column;padding:var(--card-padding);color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_e615b15f{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_e615b15f{background-color:var(--mantine-color-dark-6)}.m_599a2148{display:block;margin-inline:calc(var(--card-padding) * -1)}.m_599a2148:where(:first-child){margin-top:calc(var(--card-padding) * -1);border-top:none!important}.m_599a2148:where(:last-child){margin-bottom:calc(var(--card-padding) * -1);border-bottom:none!important}.m_599a2148:where([data-inherit-padding]){padding-inline:var(--card-padding)}.m_599a2148:where([data-with-border]){border-top:calc(.0625rem * var(--mantine-scale)) solid;border-bottom:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_599a2148{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_599a2148{border-color:var(--mantine-color-dark-4)}.m_599a2148+.m_599a2148{border-top:none!important}.m_4451eb3a{display:flex;align-items:center;justify-content:center}.m_4451eb3a:where([data-inline]){display:inline-flex}.m_f59ffda3{--chip-size-xs: calc(1.4375rem * var(--mantine-scale));--chip-size-sm: calc(1.75rem * var(--mantine-scale));--chip-size-md: calc(2rem * var(--mantine-scale));--chip-size-lg: calc(2.25rem * var(--mantine-scale));--chip-size-xl: calc(2.5rem * var(--mantine-scale));--chip-icon-size-xs: calc(.625rem * var(--mantine-scale));--chip-icon-size-sm: calc(.75rem * var(--mantine-scale));--chip-icon-size-md: calc(.875rem * var(--mantine-scale));--chip-icon-size-lg: calc(1rem * var(--mantine-scale));--chip-icon-size-xl: calc(1.125rem * var(--mantine-scale));--chip-padding-xs: calc(1rem * var(--mantine-scale));--chip-padding-sm: calc(1.25rem * var(--mantine-scale));--chip-padding-md: calc(1.5rem * var(--mantine-scale));--chip-padding-lg: calc(1.75rem * var(--mantine-scale));--chip-padding-xl: calc(2rem * var(--mantine-scale));--chip-checked-padding-xs: calc(.46875rem * var(--mantine-scale));--chip-checked-padding-sm: calc(.625rem * var(--mantine-scale));--chip-checked-padding-md: calc(.73125rem * var(--mantine-scale));--chip-checked-padding-lg: calc(.84375rem * var(--mantine-scale));--chip-checked-padding-xl: calc(.98125rem * var(--mantine-scale));--chip-spacing-xs: calc(.625rem * var(--mantine-scale));--chip-spacing-sm: calc(.75rem * var(--mantine-scale));--chip-spacing-md: calc(1rem * var(--mantine-scale));--chip-spacing-lg: calc(1.25rem * var(--mantine-scale));--chip-spacing-xl: calc(1.375rem * var(--mantine-scale));--chip-size: var(--chip-size-sm);--chip-icon-size: var(--chip-icon-size-sm);--chip-padding: var(--chip-padding-sm);--chip-spacing: var(--chip-spacing-sm);--chip-checked-padding: var(--chip-checked-padding-sm);--chip-bg: var(--mantine-primary-color-filled);--chip-hover: var(--mantine-primary-color-filled-hover);--chip-color: var(--mantine-color-white);--chip-bd: calc(.0625rem * var(--mantine-scale)) solid transparent}.m_be049a53{display:inline-flex;align-items:center;-webkit-user-select:none;user-select:none;border-radius:var(--chip-radius, 1000rem);height:var(--chip-size);font-size:var(--chip-fz, var(--mantine-font-size-sm));line-height:calc(var(--chip-size) - calc(.125rem * var(--mantine-scale)));padding-inline:var(--chip-padding);cursor:pointer;white-space:nowrap;-webkit-tap-highlight-color:transparent;border:calc(.0625rem * var(--mantine-scale)) solid transparent;color:var(--mantine-color-text)}.m_be049a53:where([data-checked]){padding:var(--chip-checked-padding)}.m_be049a53:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-gray-2);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-white);border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-dark-6);border:1px solid var(--mantine-color-dark-4)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-dark-5)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-dark-5)}}.m_3904c1af:not([data-disabled]):where([data-checked]){--chip-icon-color: var(--chip-color);border:var(--chip-bd)}@media(hover:hover){.m_3904c1af:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media(hover:none){.m_3904c1af:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_fa109255:not([data-disabled]),.m_f7e165c3:not([data-disabled]){border:calc(.0625rem * var(--mantine-scale)) solid transparent;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-dark-5)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-dark-4)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-dark-4)}}.m_fa109255:not([data-disabled]):where([data-checked]),.m_f7e165c3:not([data-disabled]):where([data-checked]){--chip-icon-color: var(--chip-color);color:var(--chip-color);background-color:var(--chip-bg)}@media(hover:hover){.m_fa109255:not([data-disabled]):where([data-checked]):hover,.m_f7e165c3:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media(hover:none){.m_fa109255:not([data-disabled]):where([data-checked]):active,.m_f7e165c3:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_9ac86df9{width:calc(var(--chip-icon-size) + (var(--chip-spacing) / 1.5));max-width:calc(var(--chip-icon-size) + (var(--chip-spacing) / 1.5));height:var(--chip-icon-size);display:flex;align-items:center;overflow:hidden}.m_d6d72580{width:var(--chip-icon-size);height:var(--chip-icon-size);display:block;color:var(--chip-icon-color, inherit)}.m_bde07329{width:0;height:0;padding:0;opacity:0;margin:0}.m_bde07329:focus-visible+.m_be049a53{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_b183c0a2{font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);padding:2px calc(var(--mantine-spacing-xs) / 2);border-radius:var(--mantine-radius-sm);font-size:var(--mantine-font-size-xs);margin:0;overflow:auto}:where([data-mantine-color-scheme=light]) .m_b183c0a2{background-color:var(--code-bg, var(--mantine-color-gray-1));color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_b183c0a2{background-color:var(--code-bg, var(--mantine-color-dark-5));color:var(--mantine-color-white)}.m_b183c0a2[data-block]{padding:var(--mantine-spacing-xs)}.m_de3d2490{--cs-size: calc(1.75rem * var(--mantine-scale));--cs-radius: calc(62.5rem * var(--mantine-scale));-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;line-height:1;position:relative;width:var(--cs-size);height:var(--cs-size);min-width:var(--cs-size);min-height:var(--cs-size);border-radius:var(--cs-radius);color:inherit;text-decoration:none}[data-mantine-color-scheme=light] .m_de3d2490{--alpha-overlay-color: var(--mantine-color-gray-3);--alpha-overlay-bg: var(--mantine-color-white)}[data-mantine-color-scheme=dark] .m_de3d2490{--alpha-overlay-color: var(--mantine-color-dark-4);--alpha-overlay-bg: var(--mantine-color-dark-7)}.m_862f3d1b{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:var(--cs-radius)}.m_98ae7f22{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:var(--cs-radius);z-index:1;box-shadow:#0000001a 0 0 0 calc(.0625rem * var(--mantine-scale)) inset,#00000026 0 0 calc(.25rem * var(--mantine-scale)) inset}.m_95709ac0{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:var(--cs-radius);background-size:calc(.5rem * var(--mantine-scale)) calc(.5rem * var(--mantine-scale));background-position:0 0,0 calc(.25rem * var(--mantine-scale)),calc(.25rem * var(--mantine-scale)) calc(-.25rem * var(--mantine-scale)),calc(-.25rem * var(--mantine-scale)) 0;background-image:linear-gradient(45deg,var(--alpha-overlay-color) 25%,transparent 25%),linear-gradient(-45deg,var(--alpha-overlay-color) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,var(--alpha-overlay-color) 75%),linear-gradient(-45deg,var(--alpha-overlay-bg) 75%,var(--alpha-overlay-color) 75%)}.m_93e74e3{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:var(--cs-radius);z-index:2;display:flex;align-items:center;justify-content:center}.m_fee9c77{--cp-width-xs: calc(11.25rem * var(--mantine-scale));--cp-width-sm: calc(12.5rem * var(--mantine-scale));--cp-width-md: calc(15rem * var(--mantine-scale));--cp-width-lg: calc(17.5rem * var(--mantine-scale));--cp-width-xl: calc(20rem * var(--mantine-scale));--cp-preview-size-xs: calc(1.625rem * var(--mantine-scale));--cp-preview-size-sm: calc(2.125rem * var(--mantine-scale));--cp-preview-size-md: calc(2.625rem * var(--mantine-scale));--cp-preview-size-lg: calc(3.125rem * var(--mantine-scale));--cp-preview-size-xl: calc(3.375rem * var(--mantine-scale));--cp-thumb-size-xs: calc(.5rem * var(--mantine-scale));--cp-thumb-size-sm: calc(.75rem * var(--mantine-scale));--cp-thumb-size-md: calc(1rem * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25rem * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375rem * var(--mantine-scale));--cp-saturation-height-xs: calc(6.25rem * var(--mantine-scale));--cp-saturation-height-sm: calc(6.875rem * var(--mantine-scale));--cp-saturation-height-md: calc(7.5rem * var(--mantine-scale));--cp-saturation-height-lg: calc(8.75rem * var(--mantine-scale));--cp-saturation-height-xl: calc(10rem * var(--mantine-scale));--cp-preview-size: var(--cp-preview-size-sm);--cp-thumb-size: var(--cp-thumb-size-sm);--cp-saturation-height: var(--cp-saturation-height-sm);--cp-width: var(--cp-width-sm);--cp-body-spacing: var(--mantine-spacing-sm);width:var(--cp-width);padding:calc(.0625rem * var(--mantine-scale))}.m_fee9c77:where([data-full-width]){width:100%}.m_9dddfbac{width:var(--cp-preview-size);height:var(--cp-preview-size)}.m_bffecc3e{display:flex;padding-top:calc(var(--cp-body-spacing) / 2)}.m_3283bb96{flex:1}.m_3283bb96:not(:only-child){margin-inline-end:var(--mantine-spacing-xs)}.m_40d572ba{overflow:hidden;position:absolute;box-shadow:0 0 1px #0009;border:2px solid var(--mantine-color-white);width:var(--cp-thumb-size);height:var(--cp-thumb-size);border-radius:var(--cp-thumb-size);left:calc(var(--thumb-x-offset) - var(--cp-thumb-size) / 2);top:calc(var(--thumb-y-offset) - var(--cp-thumb-size) / 2)}.m_d8ee6fd8{height:unset!important;width:unset!important;min-width:0!important;min-height:0!important;margin:calc(.125rem * var(--mantine-scale));cursor:pointer;padding-bottom:calc(var(--cp-swatch-size) - calc(.25rem * var(--mantine-scale)));flex:0 0 calc(var(--cp-swatch-size) - calc(.25rem * var(--mantine-scale)))}.m_5711e686{margin-top:calc(.3125rem * var(--mantine-scale));margin-inline:calc(-.125rem * var(--mantine-scale));display:flex;flex-wrap:wrap}.m_202a296e{--cp-thumb-size-xs: calc(.5rem * var(--mantine-scale));--cp-thumb-size-sm: calc(.75rem * var(--mantine-scale));--cp-thumb-size-md: calc(1rem * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25rem * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375rem * var(--mantine-scale));-webkit-tap-highlight-color:transparent;position:relative;height:var(--cp-saturation-height);border-radius:var(--mantine-radius-sm);margin:calc(var(--cp-thumb-size) / 2)}.m_202a296e:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_202a296e:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_11b3db02{position:absolute;border-radius:var(--mantine-radius-sm);inset:calc(var(--cp-thumb-size) * -1 / 2 - calc(.0625rem * var(--mantine-scale)))}.m_d856d47d{--cp-thumb-size-xs: calc(.5rem * var(--mantine-scale));--cp-thumb-size-sm: calc(.75rem * var(--mantine-scale));--cp-thumb-size-md: calc(1rem * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25rem * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375rem * var(--mantine-scale));--cp-thumb-size: var(--cp-thumb-size, calc(.75rem * var(--mantine-scale)));position:relative;height:calc(var(--cp-thumb-size) + calc(.125rem * var(--mantine-scale)));margin-inline:calc(var(--cp-thumb-size) / 2);outline:none}.m_d856d47d+.m_d856d47d{margin-top:calc(.375rem * var(--mantine-scale))}.m_d856d47d:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_d856d47d:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}:where([data-mantine-color-scheme=light]) .m_d856d47d{--slider-checkers: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d856d47d{--slider-checkers: var(--mantine-color-dark-4)}.m_8f327113{position:absolute;top:0;bottom:0;inset-inline:calc(var(--cp-thumb-size) * -1 / 2 - calc(.0625rem * var(--mantine-scale)));border-radius:10000rem}.m_b077c2bc{--ci-eye-dropper-icon-size-xs: calc(.875rem * var(--mantine-scale));--ci-eye-dropper-icon-size-sm: calc(1rem * var(--mantine-scale));--ci-eye-dropper-icon-size-md: calc(1.125rem * var(--mantine-scale));--ci-eye-dropper-icon-size-lg: calc(1.25rem * var(--mantine-scale));--ci-eye-dropper-icon-size-xl: calc(1.375rem * var(--mantine-scale));--ci-eye-dropper-icon-size: var(--ci-eye-dropper-icon-size-sm)}.m_c5ccdcab{--ci-preview-size-xs: calc(1rem * var(--mantine-scale));--ci-preview-size-sm: calc(1.125rem * var(--mantine-scale));--ci-preview-size-md: calc(1.375rem * var(--mantine-scale));--ci-preview-size-lg: calc(1.75rem * var(--mantine-scale));--ci-preview-size-xl: calc(2.25rem * var(--mantine-scale));--ci-preview-size: var(--ci-preview-size-sm)}.m_5ece2cd7{padding:calc(.5rem * var(--mantine-scale))}.m_7485cace{--container-size-xs: calc(33.75rem * var(--mantine-scale));--container-size-sm: calc(45rem * var(--mantine-scale));--container-size-md: calc(60rem * var(--mantine-scale));--container-size-lg: calc(71.25rem * var(--mantine-scale));--container-size-xl: calc(82.5rem * var(--mantine-scale));--container-size: var(--container-size-md);max-width:var(--container-size);padding-inline:var(--mantine-spacing-md);margin-inline:auto}.m_7485cace:where([data-fluid]){max-width:100%}.m_e2125a27{--dialog-size-xs: calc(10rem * var(--mantine-scale));--dialog-size-sm: calc(12.5rem * var(--mantine-scale));--dialog-size-md: calc(21.25rem * var(--mantine-scale));--dialog-size-lg: calc(25rem * var(--mantine-scale));--dialog-size-xl: calc(31.25rem * var(--mantine-scale));--dialog-size: var(--dialog-size-md);position:relative;width:var(--dialog-size);max-width:calc(100vw - var(--mantine-spacing-xl) * 2);min-height:calc(3.125rem * var(--mantine-scale))}.m_5abab665{position:absolute;top:calc(var(--mantine-spacing-md) / 2);inset-inline-end:calc(var(--mantine-spacing-md) / 2)}.m_3eebeb36{--divider-size-xs: calc(.0625rem * var(--mantine-scale));--divider-size-sm: calc(.125rem * var(--mantine-scale));--divider-size-md: calc(.1875rem * var(--mantine-scale));--divider-size-lg: calc(.25rem * var(--mantine-scale));--divider-size-xl: calc(.3125rem * var(--mantine-scale));--divider-size: var(--divider-size-xs)}:where([data-mantine-color-scheme=light]) .m_3eebeb36{--divider-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3eebeb36{--divider-color: var(--mantine-color-dark-4)}.m_3eebeb36:where([data-orientation=horizontal]){border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color)}.m_3eebeb36:where([data-orientation=vertical]){border-inline-start:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);height:auto;align-self:stretch}.m_3eebeb36:where([data-with-label]){border:0}.m_9e365f20{display:flex;align-items:center;font-size:var(--mantine-font-size-xs);color:var(--mantine-color-dimmed);white-space:nowrap}.m_9e365f20:where([data-position=left]):before{display:none}.m_9e365f20:where([data-position=right]):after{display:none}.m_9e365f20:before{content:"";flex:1;height:calc(.0625rem * var(--mantine-scale));border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);margin-inline-end:var(--mantine-spacing-xs)}.m_9e365f20:after{content:"";flex:1;height:calc(.0625rem * var(--mantine-scale));border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);margin-inline-start:var(--mantine-spacing-xs)}.m_f11b401e{--drawer-size-xs: calc(20rem * var(--mantine-scale));--drawer-size-sm: calc(23.75rem * var(--mantine-scale));--drawer-size-md: calc(27.5rem * var(--mantine-scale));--drawer-size-lg: calc(38.75rem * var(--mantine-scale));--drawer-size-xl: calc(48.75rem * var(--mantine-scale));--drawer-size: var(--drawer-size-md);--drawer-offset: 0rem}.m_5a7c2c9{z-index:1000}.m_b8a05bbd{flex:var(--drawer-flex, 0 0 var(--drawer-size));height:var(--drawer-height, calc(100% - var(--drawer-offset) * 2));margin:var(--drawer-offset);max-width:calc(100% - var(--drawer-offset) * 2);max-height:calc(100% - var(--drawer-offset) * 2);overflow-y:auto}.m_b8a05bbd[data-hidden]{opacity:0!important;pointer-events:none}.m_31cd769a{display:flex;justify-content:var(--drawer-justify, flex-start);align-items:var(--drawer-align, flex-start)}.m_e9408a47{padding:var(--mantine-spacing-lg);padding-top:var(--mantine-spacing-xs);border-radius:var(--fieldset-radius, var(--mantine-radius-default));min-inline-size:auto}.m_84c9523a{border:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_84c9523a{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_84c9523a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-7)}.m_ef274e49{border:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_ef274e49{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_ef274e49{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_eda993d3{padding:0;border:0;border-radius:0}.m_90794832{font-size:var(--mantine-font-size-sm)}.m_74ca27fe{padding:0;margin-bottom:var(--mantine-spacing-sm)}.m_8478a6da{container:mantine-grid / inline-size}.m_410352e9{--grid-overflow: visible;--grid-margin: calc(var(--grid-gutter) / -2);--grid-col-padding: calc(var(--grid-gutter) / 2);overflow:var(--grid-overflow)}.m_dee7bd2f{width:calc(100% + var(--grid-gutter));display:flex;flex-wrap:wrap;justify-content:var(--grid-justify);align-items:var(--grid-align);margin:var(--grid-margin)}.m_96bdd299{--col-flex-grow: 0;--col-offset: 0rem;flex-shrink:0;order:var(--col-order);flex-basis:var(--col-flex-basis);width:var(--col-width);max-width:var(--col-max-width);flex-grow:var(--col-flex-grow);margin-inline-start:var(--col-offset);padding:var(--grid-col-padding)}.m_bcb3f3c2{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=light]) .m_bcb3f3c2{background-color:var(--mark-bg-light)}:where([data-mantine-color-scheme=dark]) .m_bcb3f3c2{background-color:var(--mark-bg-dark)}.m_9e117634{display:block;flex:0;object-fit:var(--image-object-fit, cover);width:100%;border-radius:var(--image-radius, 0)}@keyframes m_885901b1{0%{opacity:.6;transform:scale(0)}to{opacity:0;transform:scale(2.8)}}.m_e5262200{--indicator-size: calc(.625rem * var(--mantine-scale));--indicator-color: var(--mantine-primary-color-filled);position:relative;display:block}.m_e5262200:where([data-inline]){display:inline-block}.m_760d1fb1{position:absolute;top:var(--indicator-top);left:var(--indicator-left);right:var(--indicator-right);bottom:var(--indicator-bottom);transform:translate(var(--indicator-translate-x),var(--indicator-translate-y));min-width:var(--indicator-size);height:var(--indicator-size);border-radius:var(--indicator-radius, 1000rem);z-index:var(--indicator-z-index, 200);display:flex;align-items:center;justify-content:center;font-size:var(--mantine-font-size-xs);background-color:var(--indicator-color);color:var(--indicator-text-color, var(--mantine-color-white));white-space:nowrap}.m_760d1fb1:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-color:var(--indicator-color);border-radius:var(--indicator-radius, 1000rem);z-index:-1}.m_760d1fb1:where([data-with-label]){padding-inline:calc(var(--mantine-spacing-xs) / 2)}.m_760d1fb1:where([data-with-border]){border:2px solid var(--mantine-color-body)}.m_760d1fb1[data-processing]:before{animation:m_885901b1 1s linear infinite}.m_dc6f14e2{--kbd-fz-xs: calc(.625rem * var(--mantine-scale));--kbd-fz-sm: calc(.75rem * var(--mantine-scale));--kbd-fz-md: calc(.875rem * var(--mantine-scale));--kbd-fz-lg: calc(1rem * var(--mantine-scale));--kbd-fz-xl: calc(1.25rem * var(--mantine-scale));--kbd-fz: var(--kbd-fz-sm);--kbd-padding-xs: calc(.125rem * var(--mantine-scale)) calc(.25rem * var(--mantine-scale));--kbd-padding-sm: calc(.1875rem * var(--mantine-scale)) calc(.3125rem * var(--mantine-scale));--kbd-padding-md: calc(.25rem * var(--mantine-scale)) calc(.4375rem * var(--mantine-scale));--kbd-padding-lg: calc(.3125rem * var(--mantine-scale)) calc(.5625rem * var(--mantine-scale));--kbd-padding-xl: calc(.5rem * var(--mantine-scale)) calc(.875rem * var(--mantine-scale));--kbd-padding: var(--kbd-padding-sm);font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);font-weight:700;padding:var(--kbd-padding);font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625rem * var(--mantine-scale)) solid;border-bottom-width:calc(.1875rem * var(--mantine-scale));unicode-bidi:embed}:where([data-mantine-color-scheme=light]) .m_dc6f14e2{border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_dc6f14e2{border-color:var(--mantine-color-dark-4);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-6)}.m_abbac491{--list-fz: var(--mantine-font-size-md);--list-lh: var(--mantine-line-height-md);list-style-position:inside;font-size:var(--list-fz);line-height:var(--list-lh);margin:0;padding:0}.m_abbac491:where([data-with-padding]){padding-inline-start:var(--mantine-spacing-md)}.m_abb6bec2{white-space:nowrap;line-height:var(--list-lh)}.m_abb6bec2:where([data-with-icon]){list-style:none}.m_abb6bec2:where([data-with-icon]) .m_75cd9f71{--li-direction: row;--li-align: center}.m_abb6bec2:where(:not(:first-of-type)){margin-top:var(--list-spacing, 0)}.m_abb6bec2:where([data-centered]){line-height:1}.m_75cd9f71{display:inline-flex;flex-direction:var(--li-direction, column);align-items:var(--li-align, flex-start);white-space:normal}.m_60f83e5b{display:inline-block;vertical-align:middle;margin-inline-end:var(--mantine-spacing-sm)}.m_6e45937b{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:var(--lo-z-index)}.m_e8eb006c{position:relative;z-index:calc(var(--lo-z-index) + 1)}.m_df587f17{z-index:var(--lo-z-index)}.m_dc9b7c9f{padding:calc(.25rem * var(--mantine-scale))}.m_9bfac126{color:var(--mantine-color-dimmed);font-weight:500;font-size:var(--mantine-font-size-xs);padding:calc(var(--mantine-spacing-xs) / 2) var(--mantine-spacing-sm);cursor:default}.m_efdf90cb{margin-top:calc(.25rem * var(--mantine-scale));margin-bottom:calc(.25rem * var(--mantine-scale));border-top:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_efdf90cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_efdf90cb{border-color:var(--mantine-color-dark-4)}.m_99ac2aa1{font-size:var(--mantine-font-size-sm);width:100%;padding:calc(var(--mantine-spacing-xs) / 1.5) var(--mantine-spacing-sm);border-radius:var(--popover-radius, var(--mantine-radius-default));color:var(--menu-item-color, var(--mantine-color-text));display:flex;align-items:center;-webkit-user-select:none;user-select:none}.m_99ac2aa1:where([data-disabled],:disabled){color:var(--mantine-color-dimmed);opacity:.6;cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_99ac2aa1:where([data-hovered]):where(:not(:disabled,[data-disabled])){background-color:var(--menu-item-hover, var(--mantine-color-gray-1))}:where([data-mantine-color-scheme=dark]) .m_99ac2aa1:where([data-hovered]):where(:not(:disabled,[data-disabled])){background-color:var(--menu-item-hover, var(--mantine-color-dark-4))}.m_5476e0d3{flex:1}.m_8b75e504{display:flex;justify-content:center;align-items:center}.m_8b75e504:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_8b75e504:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_9df02822{--modal-size-xs: calc(20rem * var(--mantine-scale));--modal-size-sm: calc(23.75rem * var(--mantine-scale));--modal-size-md: calc(27.5rem * var(--mantine-scale));--modal-size-lg: calc(38.75rem * var(--mantine-scale));--modal-size-xl: calc(48.75rem * var(--mantine-scale));--modal-size: var(--modal-size-md);--modal-y-offset: 5dvh;--modal-x-offset: 5vw}.m_9df02822[data-full-screen]{--modal-border-radius: 0 !important}.m_9df02822[data-full-screen] .m_54c44539{--modal-content-flex: 0 0 100%;--modal-content-max-height: auto;--modal-content-height: 100dvh}.m_9df02822[data-full-screen] .m_1f958f16{--modal-inner-y-offset: 0;--modal-inner-x-offset: 0}.m_9df02822[data-centered] .m_1f958f16{--modal-inner-align: center}.m_d0e2b9cd{border-start-start-radius:var(--modal-radius, var(--mantine-radius-default));border-start-end-radius:var(--modal-radius, var(--mantine-radius-default))}.m_54c44539{flex:var(--modal-content-flex, 0 0 var(--modal-size));max-width:100%;max-height:var(--modal-content-max-height, calc(100dvh - var(--modal-y-offset) * 2));height:var(--modal-content-height, auto);overflow-y:auto}.m_54c44539[data-full-screen]{border-radius:0}.m_54c44539[data-hidden]{opacity:0!important;pointer-events:none}.m_1f958f16{display:flex;justify-content:center;align-items:var(--modal-inner-align, flex-start);padding-top:var(--modal-inner-y-offset, var(--modal-y-offset));padding-bottom:var(--modal-inner-y-offset, var(--modal-y-offset));padding-inline:var(--modal-inner-x-offset, var(--modal-x-offset))}.m_7cda1cd6{--pill-fz-xs: calc(.625rem * var(--mantine-scale));--pill-fz-sm: calc(.75rem * var(--mantine-scale));--pill-fz-md: calc(.875rem * var(--mantine-scale));--pill-fz-lg: calc(1rem * var(--mantine-scale));--pill-fz-xl: calc(1.125rem * var(--mantine-scale));--pill-height-xs: calc(1.125rem * var(--mantine-scale));--pill-height-sm: calc(1.375rem * var(--mantine-scale));--pill-height-md: calc(1.5625rem * var(--mantine-scale));--pill-height-lg: calc(1.75rem * var(--mantine-scale));--pill-height-xl: calc(2rem * var(--mantine-scale));--pill-fz: var(--pill-fz-sm);--pill-height: var(--pill-height-sm);font-size:var(--pill-fz);flex:0;height:var(--pill-height);padding-inline:.8em;display:inline-flex;align-items:center;border-radius:var(--pill-radius, 1000rem);line-height:1;white-space:nowrap;user-select:none;-webkit-user-select:none;max-width:100%}:where([data-mantine-color-scheme=dark]) .m_7cda1cd6{background-color:var(--mantine-color-dark-7);color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_7cda1cd6{color:var(--mantine-color-black)}.m_7cda1cd6:where([data-with-remove]:not(:has(button:disabled))){padding-inline-end:0}.m_7cda1cd6:where([data-disabled],:has(button:disabled)){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_44da308b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=light]) .m_44da308b:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=light]) .m_e3a01f8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=light]) .m_e3a01f8:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}.m_1e0e6180{cursor:inherit;overflow:hidden;height:100%;line-height:var(--pill-height);text-overflow:ellipsis}.m_ae386778{color:inherit;font-size:inherit;height:100%;min-height:unset;min-width:2em;width:unset;border-radius:0;padding-inline-start:.1em;padding-inline-end:.3em;flex:0;border-end-end-radius:var(--pill-radius, 50%);border-start-end-radius:var(--pill-radius, 50%)}.m_7cda1cd6[data-disabled]>.m_ae386778,.m_ae386778:disabled{display:none;background-color:transparent;width:.8em;min-width:.8em;padding:0;cursor:not-allowed}.m_7cda1cd6[data-disabled]>.m_ae386778>svg,.m_ae386778:disabled>svg{display:none}.m_ae386778>svg{pointer-events:none}.m_1dcfd90b{--pg-gap-xs: calc(.375rem * var(--mantine-scale));--pg-gap-sm: calc(.5rem * var(--mantine-scale));--pg-gap-md: calc(.625rem * var(--mantine-scale));--pg-gap-lg: calc(.75rem * var(--mantine-scale));--pg-gap-xl: calc(.75rem * var(--mantine-scale));--pg-gap: var(--pg-gap-sm);display:flex;align-items:center;gap:var(--pg-gap);flex-wrap:wrap}.m_45c4369d{background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;min-width:calc(6.25rem * var(--mantine-scale));flex:1;border:0;font-size:inherit;height:1.6em;color:inherit;padding:0}.m_45c4369d::placeholder{color:var(--input-placeholder-color);opacity:1}.m_45c4369d:where([data-type=hidden],[data-type=auto]){height:calc(.0625rem * var(--mantine-scale));width:calc(.0625rem * var(--mantine-scale));top:0;left:0;pointer-events:none;position:absolute;opacity:0}.m_45c4369d:focus{outline:none}.m_45c4369d:where([data-type=auto]:focus){height:1.6em;visibility:visible;opacity:1;position:static}.m_45c4369d:where([data-pointer]:not([data-disabled],:disabled)){cursor:pointer}.m_45c4369d:where([data-disabled],:disabled){cursor:not-allowed}.m_f0824112{--nl-bg: var(--mantine-primary-color-light);--nl-hover: var(--mantine-primary-color-light-hover);--nl-color: var(--mantine-primary-color-light-color);display:flex;align-items:center;width:100%;padding:8px var(--mantine-spacing-sm);-webkit-user-select:none;user-select:none}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_f0824112:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:hover{background-color:var(--mantine-color-dark-6)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_f0824112:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:active{background-color:var(--mantine-color-dark-6)}}.m_f0824112:where([data-disabled]){opacity:.4;pointer-events:none}.m_f0824112:where([data-active],[aria-current=page]){background-color:var(--nl-bg);color:var(--nl-color)}@media(hover:hover){.m_f0824112:where([data-active],[aria-current=page]):hover{background-color:var(--nl-hover)}}@media(hover:none){.m_f0824112:where([data-active],[aria-current=page]):active{background-color:var(--nl-hover)}}.m_f0824112:where([data-active],[aria-current=page]) .m_57492dcc{--description-opacity: .9;--description-color: var(--nl-color)}.m_690090b5{display:flex;align-items:center;justify-content:center;transition:transform .15s ease}.m_690090b5>svg{display:block}.m_690090b5:where([data-position=left]){margin-inline-end:var(--mantine-spacing-sm)}.m_690090b5:where([data-position=right]){margin-inline-start:var(--mantine-spacing-sm)}.m_690090b5:where([data-rotate]){transform:rotate(90deg)}.m_1f6ac4c4{font-size:var(--mantine-font-size-sm)}.m_f07af9d2{flex:1;overflow:hidden;text-overflow:ellipsis}.m_f07af9d2:where([data-no-wrap]){white-space:nowrap}.m_57492dcc{display:block;font-size:var(--mantine-font-size-xs);opacity:var(--description-opacity, 1);color:var(--description-color, var(--mantine-color-dimmed));overflow:hidden;text-overflow:ellipsis}:where([data-no-wrap]) .m_57492dcc{white-space:nowrap}.m_e17b862f{padding-inline-start:var(--nl-offset, var(--mantine-spacing-lg))}.m_1fd8a00b{transform:rotate(-90deg)}.m_a513464{--notification-radius: var(--mantine-radius-default);--notification-color: var(--mantine-primary-color-filled);overflow:hidden;box-sizing:border-box;position:relative;display:flex;align-items:center;padding-inline-start:calc(1.375rem * var(--mantine-scale));padding-inline-end:var(--mantine-spacing-xs);padding-top:var(--mantine-spacing-xs);padding-bottom:var(--mantine-spacing-xs);border-radius:var(--notification-radius);box-shadow:var(--mantine-shadow-lg)}.m_a513464:before{content:"";display:block;position:absolute;width:calc(.375rem * var(--mantine-scale));top:var(--notification-radius);bottom:var(--notification-radius);inset-inline-start:calc(.25rem * var(--mantine-scale));border-radius:var(--notification-radius);background-color:var(--notification-color)}:where([data-mantine-color-scheme=light]) .m_a513464{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_a513464{background-color:var(--mantine-color-dark-6)}.m_a513464:where([data-with-icon]){padding-inline-start:var(--mantine-spacing-xs)}.m_a513464:where([data-with-icon]):before{display:none}:where([data-mantine-color-scheme=light]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-dark-4)}.m_a4ceffb{box-sizing:border-box;margin-inline-end:var(--mantine-spacing-md);width:calc(1.75rem * var(--mantine-scale));height:calc(1.75rem * var(--mantine-scale));border-radius:calc(1.75rem * var(--mantine-scale));display:flex;align-items:center;justify-content:center;background-color:var(--notification-color);color:var(--mantine-color-white)}.m_b0920b15{margin-inline-end:var(--mantine-spacing-md)}.m_a49ed24{flex:1;overflow:hidden;margin-inline-end:var(--mantine-spacing-xs)}.m_3feedf16{margin-bottom:calc(.125rem * var(--mantine-scale));overflow:hidden;text-overflow:ellipsis;font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);font-weight:500}:where([data-mantine-color-scheme=light]) .m_3feedf16{color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_3feedf16{color:var(--mantine-color-white)}.m_3d733a3a{font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);overflow:hidden;text-overflow:ellipsis}:where([data-mantine-color-scheme=light]) .m_3d733a3a{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a{color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-dark-2)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_919a4d88:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:hover{background-color:var(--mantine-color-dark-8)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_919a4d88:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:active{background-color:var(--mantine-color-dark-8)}}.m_e2f5cd4e{--ni-right-section-width-xs: calc(1.0625rem * var(--mantine-scale));--ni-right-section-width-sm: calc(1.5rem * var(--mantine-scale));--ni-right-section-width-md: calc(1.6875rem * var(--mantine-scale));--ni-right-section-width-lg: calc(1.9375rem * var(--mantine-scale));--ni-right-section-width-xl: calc(2.125rem * var(--mantine-scale))}.m_95e17d22{--ni-chevron-size-xs: calc(.625rem * var(--mantine-scale));--ni-chevron-size-sm: calc(.875rem * var(--mantine-scale));--ni-chevron-size-md: calc(1rem * var(--mantine-scale));--ni-chevron-size-lg: calc(1.125rem * var(--mantine-scale));--ni-chevron-size-xl: calc(1.25rem * var(--mantine-scale));--ni-chevron-size: var(--ni-chevron-size-sm);display:flex;flex-direction:column;width:100%;height:calc(var(--input-height) - calc(.125rem * var(--mantine-scale)));max-width:calc(var(--ni-chevron-size) * 1.7);margin-inline-start:auto}.m_80b4b171{--control-border: 1px solid var(--input-bd);--control-radius: calc(var(--input-radius) - calc(.0625rem * var(--mantine-scale)));flex:0 0 50%;width:100%;padding:0;height:calc(var(--input-height) / 2 - calc(.0625rem * var(--mantine-scale)));border-inline-start:var(--control-border);display:flex;align-items:center;justify-content:center;color:var(--mantine-color-text);background-color:transparent;cursor:pointer}.m_80b4b171:where(:disabled){background-color:transparent;cursor:not-allowed;opacity:.6}:where([data-mantine-color-scheme=light]) .m_80b4b171:where(:disabled){color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:where(:disabled){color:var(--mantine-color-dark-3)}.m_e2f5cd4e[data-error] :where(.m_80b4b171){color:var(--mantine-color-error)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_80b4b171:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:hover{background-color:var(--mantine-color-dark-4)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_80b4b171:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:active{background-color:var(--mantine-color-dark-4)}}.m_80b4b171:where(:first-of-type){border-radius:0;border-start-end-radius:var(--control-radius)}.m_80b4b171:last-of-type{border-radius:0;border-end-end-radius:var(--control-radius)}.m_4addd315{--pagination-control-size-xs: calc(1.375rem * var(--mantine-scale));--pagination-control-size-sm: calc(1.625rem * var(--mantine-scale));--pagination-control-size-md: calc(2rem * var(--mantine-scale));--pagination-control-size-lg: calc(2.375rem * var(--mantine-scale));--pagination-control-size-xl: calc(2.75rem * var(--mantine-scale));--pagination-control-size: var(--pagination-control-size-md);--pagination-control-fz: var(--mantine-font-size-md);--pagination-active-bg: var(--mantine-primary-color-filled)}.m_326d024a{display:flex;align-items:center;justify-content:center;border:calc(.0625rem * var(--mantine-scale)) solid;cursor:pointer;color:var(--mantine-color-text);height:var(--pagination-control-size);min-width:var(--pagination-control-size);font-size:var(--pagination-control-fz);line-height:1;border-radius:var(--pagination-control-radius, var(--mantine-radius-default))}.m_326d024a:where([data-with-padding]){padding:calc(var(--pagination-control-size) / 4)}.m_326d024a:where(:disabled,[data-disabled]){cursor:not-allowed;opacity:.4}:where([data-mantine-color-scheme=light]) .m_326d024a{border-color:var(--mantine-color-gray-4);background-color:var(--mantine-color-white)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}:where([data-mantine-color-scheme=dark]) .m_326d024a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}@media(hover:hover){:where([data-mantine-color-scheme=dark]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}@media(hover:none){:where([data-mantine-color-scheme=dark]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}.m_326d024a:where([data-active]){background-color:var(--pagination-active-bg);border-color:var(--pagination-active-bg);color:var(--pagination-active-color, var(--mantine-color-white))}@media(hover:hover){.m_326d024a:where([data-active]):hover{background-color:var(--pagination-active-bg)}}@media(hover:none){.m_326d024a:where([data-active]):active{background-color:var(--pagination-active-bg)}}.m_4ad7767d{height:var(--pagination-control-size);min-width:var(--pagination-control-size);display:flex;align-items:center;justify-content:center;pointer-events:none}.m_f61ca620{--psi-button-size-xs: calc(1.375rem * var(--mantine-scale));--psi-button-size-sm: calc(1.625rem * var(--mantine-scale));--psi-button-size-md: calc(1.75rem * var(--mantine-scale));--psi-button-size-lg: calc(2rem * var(--mantine-scale));--psi-button-size-xl: calc(2.5rem * var(--mantine-scale));--psi-icon-size-xs: calc(.75rem * var(--mantine-scale));--psi-icon-size-sm: calc(.9375rem * var(--mantine-scale));--psi-icon-size-md: calc(1.0625rem * var(--mantine-scale));--psi-icon-size-lg: calc(1.1875rem * var(--mantine-scale));--psi-icon-size-xl: calc(1.3125rem * var(--mantine-scale));--psi-button-size: var(--psi-button-size-sm);--psi-icon-size: var(--psi-icon-size-sm)}.m_ccf8da4c{position:relative;overflow:hidden}.m_f2d85dd2{font-family:var(--mantine-font-family);background-color:transparent;border:0;padding-inline-end:var(--input-padding-inline-end);padding-inline-start:var(--input-padding-inline-start);position:absolute;top:0;right:0;bottom:0;left:0;outline:0;font-size:inherit;line-height:var(--mantine-line-height);height:100%;width:100%;color:inherit}.m_ccf8da4c[data-disabled] .m_f2d85dd2,.m_f2d85dd2:disabled{cursor:not-allowed}.m_f2d85dd2::placeholder{color:var(--input-placeholder-color);opacity:1}.m_f2d85dd2::-ms-reveal{display:none}.m_b1072d44{width:var(--psi-button-size);height:var(--psi-button-size);min-width:var(--psi-button-size);min-height:var(--psi-button-size)}.m_b1072d44:disabled{display:none}.m_f1cb205a{--pin-input-size-xs: calc(1.875rem * var(--mantine-scale));--pin-input-size-sm: calc(2.25rem * var(--mantine-scale));--pin-input-size-md: calc(2.625rem * var(--mantine-scale));--pin-input-size-lg: calc(3.125rem * var(--mantine-scale));--pin-input-size-xl: calc(3.75rem * var(--mantine-scale));--pin-input-size: var(--pin-input-size-sm)}.m_cb288ead{width:var(--pin-input-size);height:var(--pin-input-size)}@keyframes m_81a374bd{0%{background-position:0 0}to{background-position:calc(2.5rem * var(--mantine-scale)) 0}}.m_db6d6462{--progress-radius: var(--mantine-radius-default);--progress-size: var(--progress-size-md);--progress-size-xs: calc(.1875rem * var(--mantine-scale));--progress-size-sm: calc(.3125rem * var(--mantine-scale));--progress-size-md: calc(.5rem * var(--mantine-scale));--progress-size-lg: calc(.75rem * var(--mantine-scale));--progress-size-xl: calc(1rem * var(--mantine-scale));position:relative;height:var(--progress-size);border-radius:var(--progress-radius);overflow:hidden;display:flex}:where([data-mantine-color-scheme=light]) .m_db6d6462{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_db6d6462{background-color:var(--mantine-color-dark-4)}.m_2242eb65{background-color:var(--progress-section-color);height:100%;width:var(--progress-section-width);display:flex;align-items:center;justify-content:center;overflow:hidden;background-size:calc(1.25rem * var(--mantine-scale)) calc(1.25rem * var(--mantine-scale));transition:width var(--progress-transition-duration, .1s) ease}.m_2242eb65:where([data-striped]){background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.m_2242eb65:where([data-animated]){animation:m_81a374bd 1s linear infinite}.m_2242eb65:where(:last-of-type){border-radius:0;border-start-end-radius:var(--progress-radius);border-end-end-radius:var(--progress-radius)}.m_2242eb65:where(:first-of-type){border-radius:0;border-start-start-radius:var(--progress-radius);border-end-start-radius:var(--progress-radius)}.m_91e40b74{color:var(--progress-label-color, var(--mantine-color-white));font-weight:700;-webkit-user-select:none;user-select:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:min(calc(var(--progress-size) * .65),calc(1.125rem * var(--mantine-scale)));line-height:1;padding-inline:calc(.25rem * var(--mantine-scale))}.m_9dc8ae12{--card-radius: var(--mantine-radius-default);display:block;width:100%;border-radius:var(--card-radius);cursor:pointer}.m_9dc8ae12 :where(*){cursor:inherit}.m_9dc8ae12:where([data-with-border]){border:calc(.0625rem * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_717d7ff6{--radio-size-xs: calc(1rem * var(--mantine-scale));--radio-size-sm: calc(1.25rem * var(--mantine-scale));--radio-size-md: calc(1.5rem * var(--mantine-scale));--radio-size-lg: calc(1.875rem * var(--mantine-scale));--radio-size-xl: calc(2.25rem * var(--mantine-scale));--radio-icon-size-xs: calc(.375rem * var(--mantine-scale));--radio-icon-size-sm: calc(.5rem * var(--mantine-scale));--radio-icon-size-md: calc(.625rem * var(--mantine-scale));--radio-icon-size-lg: calc(.875rem * var(--mantine-scale));--radio-icon-size-xl: calc(1rem * var(--mantine-scale));--radio-icon-size: var(--radio-icon-size-sm);--radio-size: var(--radio-size-sm);--radio-color: var(--mantine-primary-color-filled);--radio-icon-color: var(--mantine-color-white);position:relative;border:calc(.0625rem * var(--mantine-scale)) solid transparent;width:var(--radio-size);min-width:var(--radio-size);height:var(--radio-size);min-height:var(--radio-size);border-radius:var(--radio-radius, 10000px);transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_717d7ff6{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_717d7ff6[data-indeterminate],.m_717d7ff6[data-checked]{background-color:var(--radio-color);border-color:var(--radio-color)}.m_717d7ff6[data-indeterminate]>.m_3e4da632,.m_717d7ff6[data-checked]>.m_3e4da632{opacity:1;transform:none;color:var(--radio-icon-color)}.m_717d7ff6[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-dark-3)}.m_2980836c[data-indeterminate]:not([data-disabled]),.m_2980836c[data-checked]:not([data-disabled]){background-color:transparent;border-color:var(--radio-color)}.m_2980836c[data-indeterminate]:not([data-disabled])>.m_3e4da632,.m_2980836c[data-checked]:not([data-disabled])>.m_3e4da632{color:var(--radio-color);opacity:1;transform:none}.m_3e4da632{display:block;width:var(--radio-icon-size);height:var(--radio-icon-size);color:transparent;pointer-events:none;transform:translateY(calc(.3125rem * var(--mantine-scale))) scale(.5);opacity:1;transition:transform .1s ease,opacity .1s ease}.m_f3f1af94{--radio-size-xs: calc(1rem * var(--mantine-scale));--radio-size-sm: calc(1.25rem * var(--mantine-scale));--radio-size-md: calc(1.5rem * var(--mantine-scale));--radio-size-lg: calc(1.875rem * var(--mantine-scale));--radio-size-xl: calc(2.25rem * var(--mantine-scale));--radio-size: var(--radio-size-sm);--radio-icon-size-xs: calc(.375rem * var(--mantine-scale));--radio-icon-size-sm: calc(.5rem * var(--mantine-scale));--radio-icon-size-md: calc(.625rem * var(--mantine-scale));--radio-icon-size-lg: calc(.875rem * var(--mantine-scale));--radio-icon-size-xl: calc(1rem * var(--mantine-scale));--radio-icon-size: var(--radio-icon-size-sm);--radio-icon-color: var(--mantine-color-white)}.m_89c4f5e4{position:relative;width:var(--radio-size);height:var(--radio-size);order:1}.m_89c4f5e4:where([data-label-position=left]){order:2}.m_f3ed6b2b{color:var(--radio-icon-color);opacity:var(--radio-icon-opacity, 0);transform:var(--radio-icon-transform, scale(.2) translateY(calc(.625rem * var(--mantine-scale))));transition:opacity .1s ease,transform .2s ease;pointer-events:none;width:var(--radio-icon-size);height:var(--radio-icon-size);position:absolute;top:calc(50% - var(--radio-icon-size) / 2);left:calc(50% - var(--radio-icon-size) / 2)}.m_8a3dbb89{border:calc(.0625rem * var(--mantine-scale)) solid;position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--radio-size);height:var(--radio-size);border-radius:var(--radio-radius, var(--radio-size));margin:0;display:flex;align-items:center;justify-content:center;transition-property:background-color,border-color;transition-timing-function:ease;transition-duration:.1s;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent}:where([data-mantine-color-scheme=light]) .m_8a3dbb89{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_8a3dbb89:checked{background-color:var(--radio-color, var(--mantine-primary-color-filled));border-color:var(--radio-color, var(--mantine-primary-color-filled))}.m_8a3dbb89:checked+.m_f3ed6b2b{--radio-icon-opacity: 1;--radio-icon-transform: scale(1)}.m_8a3dbb89:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-gray-1);border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color: var(--mantine-color-dark-7)}.m_8a3dbb89:where([data-error]){border-color:var(--mantine-color-error)}.m_1bfe9d39+.m_f3ed6b2b{--radio-icon-color: var(--radio-color)}.m_1bfe9d39:checked:not(:disabled){background-color:transparent;border-color:var(--radio-color)}.m_1bfe9d39:checked:not(:disabled)+.m_f3ed6b2b{--radio-icon-color: var(--radio-color);--radio-icon-opacity: 1;--radio-icon-transform: none}.m_f8d312f2{--rating-size-xs: calc(.875rem * var(--mantine-scale));--rating-size-sm: calc(1.125rem * var(--mantine-scale));--rating-size-md: calc(1.25rem * var(--mantine-scale));--rating-size-lg: calc(1.75rem * var(--mantine-scale));--rating-size-xl: calc(2rem * var(--mantine-scale));display:flex;width:max-content}.m_f8d312f2:where(:has(input:disabled)){pointer-events:none}.m_61734bb7{position:relative;transition:transform .1s ease}.m_61734bb7:where([data-active]){z-index:1;transform:scale(1.1)}.m_5662a89a{width:var(--rating-size);height:var(--rating-size);display:block}:where([data-mantine-color-scheme=light]) .m_5662a89a{fill:var(--mantine-color-gray-3);stroke:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5662a89a{fill:var(--mantine-color-dark-3);stroke:var(--mantine-color-dark-3)}.m_5662a89a:where([data-filled]){fill:var(--rating-color);stroke:var(--rating-color)}.m_211007ba{height:0;width:0;position:absolute;overflow:hidden;white-space:nowrap;opacity:0;-webkit-tap-highlight-color:transparent}.m_211007ba:focus-visible+label{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_21342ee4{display:block;cursor:pointer;position:absolute;top:0;left:0;z-index:var(--rating-item-z-index, 0);-webkit-tap-highlight-color:transparent}.m_21342ee4:where([data-read-only]){cursor:default}.m_21342ee4:where(:last-of-type){position:relative}.m_fae05d6a{clip-path:var(--rating-symbol-clip-path)}.m_1b3c8819{--tooltip-radius: var(--mantine-radius-default);position:absolute;padding:calc(var(--mantine-spacing-xs) / 2) var(--mantine-spacing-xs);pointer-events:none;font-size:var(--mantine-font-size-sm);white-space:nowrap;border-radius:var(--tooltip-radius)}:where([data-mantine-color-scheme=light]) .m_1b3c8819{background-color:var(--tooltip-bg, var(--mantine-color-gray-9));color:var(--tooltip-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1b3c8819{background-color:var(--tooltip-bg, var(--mantine-color-gray-2));color:var(--tooltip-color, var(--mantine-color-black))}.m_1b3c8819:where([data-multiline]){white-space:normal}.m_1b3c8819:where([data-fixed]){position:fixed}.m_f898399f{background-color:inherit;border:0;z-index:1}.m_b32e4812{position:relative;width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);--rp-transition-duration: 0ms}.m_d43b5134{width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);transform:rotate(-90deg)}.m_b1ca1fbf{stroke:var(--curve-color, var(--rp-curve-root-color));transition:stroke-dashoffset var(--rp-transition-duration) ease,stroke-dasharray var(--rp-transition-duration) ease,stroke var(--rp-transition-duration)}[data-mantine-color-scheme=light] .m_b1ca1fbf{--rp-curve-root-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_b1ca1fbf{--rp-curve-root-color: var(--mantine-color-dark-4)}.m_b23f9dc4{position:absolute;top:50%;transform:translateY(-50%);inset-inline:var(--rp-label-offset)}.m_cf365364{--sc-padding-xs: calc(.1875rem * var(--mantine-scale)) calc(.375rem * var(--mantine-scale));--sc-padding-sm: calc(.3125rem * var(--mantine-scale)) calc(.625rem * var(--mantine-scale));--sc-padding-md: calc(.4375rem * var(--mantine-scale)) calc(.875rem * var(--mantine-scale));--sc-padding-lg: calc(.5625rem * var(--mantine-scale)) calc(1rem * var(--mantine-scale));--sc-padding-xl: calc(.75rem * var(--mantine-scale)) calc(1.25rem * var(--mantine-scale));--sc-transition-duration: .2s;--sc-padding: var(--sc-padding-sm);--sc-transition-timing-function: ease;--sc-font-size: var(--mantine-font-size-sm);position:relative;display:inline-flex;flex-direction:row;width:auto;border-radius:var(--sc-radius, var(--mantine-radius-default));overflow:hidden;padding:calc(.25rem * var(--mantine-scale))}.m_cf365364:where([data-full-width]){display:flex}.m_cf365364:where([data-orientation=vertical]){display:flex;flex-direction:column;width:max-content}.m_cf365364:where([data-orientation=vertical]):where([data-full-width]){width:auto}:where([data-mantine-color-scheme=light]) .m_cf365364{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_cf365364{background-color:var(--mantine-color-dark-8)}.m_9e182ccd{position:absolute;display:block;z-index:1;border-radius:var(--sc-radius, var(--mantine-radius-default))}:where([data-mantine-color-scheme=light]) .m_9e182ccd{box-shadow:var(--sc-shadow, none);background-color:var(--sc-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_9e182ccd{box-shadow:none;background-color:var(--sc-color, var(--mantine-color-dark-5))}.m_1738fcb2{-webkit-tap-highlight-color:transparent;font-weight:500;display:block;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;user-select:none;border-radius:var(--sc-radius, var(--mantine-radius-default));font-size:var(--sc-font-size);padding:var(--sc-padding);transition:color var(--sc-transition-duration) var(--sc-transition-timing-function);cursor:pointer;outline:var(--segmented-control-outline, none)}:where([data-mantine-color-scheme=light]) .m_1738fcb2{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2{color:var(--mantine-color-dark-1)}.m_1738fcb2:where([data-read-only]){cursor:default}fieldset:disabled .m_1738fcb2,.m_1738fcb2:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color, var(--mantine-color-black))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color, var(--mantine-color-white))}.m_cf365364:where([data-initialized]) .m_1738fcb2:where([data-active]):before{display:none}.m_1738fcb2:where([data-active]):before{content:"";top:0;right:0;bottom:0;left:0;z-index:0;position:absolute;border-radius:var(--sc-radius, var(--mantine-radius-default))}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]):before{box-shadow:var(--sc-shadow, none);background-color:var(--sc-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]):before{box-shadow:none;background-color:var(--sc-color, var(--mantine-color-dark-5))}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-white)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-white)}}@media(hover:hover){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-dark-3)!important}}@media(hover:none){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-dark-3)!important}}.m_1714d588{height:0;width:0;position:absolute;overflow:hidden;white-space:nowrap;opacity:0}.m_1714d588[data-focus-ring=auto]:focus:focus-visible+.m_1738fcb2{--segmented-control-outline: 2px solid var(--mantine-primary-color-filled)}.m_1714d588[data-focus-ring=always]:focus+.m_1738fcb2{--segmented-control-outline: 2px solid var(--mantine-primary-color-filled)}.m_69686b9b{position:relative;flex:1;z-index:2;transition:border-color var(--sc-transition-duration) var(--sc-transition-timing-function)}.m_cf365364[data-with-items-borders] :where(.m_69686b9b):before{content:"";position:absolute;top:0;bottom:0;inset-inline-start:0;background-color:var(--separator-color);width:calc(.0625rem * var(--mantine-scale));transition:background-color var(--sc-transition-duration) var(--sc-transition-timing-function)}.m_69686b9b[data-orientation=vertical]:before{top:0;inset-inline:0;bottom:auto;height:calc(.0625rem * var(--mantine-scale));width:auto}:where([data-mantine-color-scheme=light]) .m_69686b9b{--separator-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_69686b9b{--separator-color: var(--mantine-color-dark-4)}.m_69686b9b:first-of-type:before{--separator-color: transparent}[data-mantine-color-scheme] .m_69686b9b[data-active]:before,[data-mantine-color-scheme] .m_69686b9b[data-active]+.m_69686b9b:before{--separator-color: transparent}.m_78882f40{position:relative;z-index:2}.m_fa528724{--scp-filled-segment-color: var(--mantine-primary-color-filled);--scp-transition-duration: 0ms;--scp-thickness: calc(.625rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_fa528724{--scp-empty-segment-color: var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa528724{--scp-empty-segment-color: var(--mantine-color-dark-4)}.m_fa528724{position:relative;width:fit-content}.m_62e9e7e2{display:block;transform:var(--scp-rotation);overflow:hidden}.m_c573fb6f{transition:stroke-dashoffset var(--scp-transition-duration) ease,stroke-dasharray var(--scp-transition-duration) ease,stroke var(--scp-transition-duration)}.m_4fa340f2{position:absolute;margin:0;padding:0;inset-inline:0;text-align:center;z-index:1}.m_4fa340f2:where([data-position=bottom]){bottom:0;padding-inline:calc(var(--scp-thickness) * 2)}.m_4fa340f2:where([data-position=bottom]):where([data-orientation=down]){bottom:auto;top:0}.m_4fa340f2:where([data-position=center]){top:50%;padding-inline:calc(var(--scp-thickness) * 3)}.m_925c2d2c{container:simple-grid / inline-size}.m_2415a157{display:grid;grid-template-columns:repeat(var(--sg-cols),minmax(0,1fr));gap:var(--sg-spacing-y) var(--sg-spacing-x)}@keyframes m_299c329c{0%,to{opacity:.4}50%{opacity:1}}.m_18320242{height:var(--skeleton-height, auto);width:var(--skeleton-width, 100%);border-radius:var(--skeleton-radius, var(--mantine-radius-default));position:relative;transform:translateZ(0);-webkit-transform:translateZ(0)}.m_18320242:where([data-animate]):after{animation:m_299c329c 1.5s linear infinite}.m_18320242:where([data-visible]){overflow:hidden}.m_18320242:where([data-visible]):before{position:absolute;content:"";top:0;right:0;bottom:0;left:0;z-index:10;background-color:var(--mantine-color-body)}.m_18320242:where([data-visible]):after{position:absolute;content:"";top:0;right:0;bottom:0;left:0;z-index:11}:where([data-mantine-color-scheme=light]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-dark-4)}.m_dd36362e{--slider-size-xs: calc(.25rem * var(--mantine-scale));--slider-size-sm: calc(.375rem * var(--mantine-scale));--slider-size-md: calc(.5rem * var(--mantine-scale));--slider-size-lg: calc(.625rem * var(--mantine-scale));--slider-size-xl: calc(.75rem * var(--mantine-scale));--slider-size: var(--slider-size-md);--slider-radius: calc(62.5rem * var(--mantine-scale));--slider-color: var(--mantine-primary-color-filled);-webkit-tap-highlight-color:transparent;outline:none;height:calc(var(--slider-size) * 2);padding-inline:var(--slider-size);display:flex;flex-direction:column;align-items:center;touch-action:none;position:relative}[data-mantine-color-scheme=light] .m_dd36362e{--slider-track-bg: var(--mantine-color-gray-2);--slider-track-disabled-bg: var(--mantine-color-gray-4)}[data-mantine-color-scheme=dark] .m_dd36362e{--slider-track-bg: var(--mantine-color-dark-4);--slider-track-disabled-bg: var(--mantine-color-dark-3)}.m_c9357328{position:absolute;top:calc(-2.25rem * var(--mantine-scale));font-size:var(--mantine-font-size-xs);color:var(--mantine-color-white);padding:calc(var(--mantine-spacing-xs) / 2);border-radius:var(--mantine-radius-sm);white-space:nowrap;pointer-events:none;-webkit-user-select:none;user-select:none;touch-action:none}:where([data-mantine-color-scheme=light]) .m_c9357328{background-color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_c9357328{background-color:var(--mantine-color-dark-4)}.m_c9a9a60a{position:absolute;display:flex;height:var(--slider-thumb-size);width:var(--slider-thumb-size);border:calc(.25rem * var(--mantine-scale)) solid;transform:translate(-50%,-50%);top:50%;cursor:pointer;border-radius:var(--slider-radius);align-items:center;justify-content:center;transition:box-shadow .1s ease,transform .1s ease;z-index:3;-webkit-user-select:none;user-select:none;touch-action:none;outline-offset:calc(.125rem * var(--mantine-scale));left:var(--slider-thumb-offset)}:where([dir=rtl]) .m_c9a9a60a{left:auto;right:calc(var(--slider-thumb-offset) - var(--slider-thumb-size))}fieldset:disabled .m_c9a9a60a,.m_c9a9a60a:where([data-disabled]){display:none}.m_c9a9a60a:where([data-dragging]){transform:translate(-50%,-50%) scale(1.05);box-shadow:var(--mantine-shadow-sm)}:where([data-mantine-color-scheme=light]) .m_c9a9a60a{color:var(--slider-color);border-color:var(--slider-color);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_c9a9a60a{color:var(--mantine-color-white);border-color:var(--mantine-color-white);background-color:var(--slider-color)}.m_a8645c2{display:flex;align-items:center;width:100%;height:calc(var(--slider-size) * 2);cursor:pointer}fieldset:disabled .m_a8645c2,.m_a8645c2:where([data-disabled]){cursor:not-allowed}.m_c9ade57f{position:relative;width:100%;height:var(--slider-size)}.m_c9ade57f:where([data-inverted]:not([data-disabled])){--track-bg: var(--slider-color)}fieldset:disabled .m_c9ade57f:where([data-inverted]),.m_c9ade57f:where([data-inverted][data-disabled]){--track-bg: var(--slider-track-disabled-bg)}.m_c9ade57f:before{content:"";position:absolute;top:0;bottom:0;border-radius:var(--slider-radius);inset-inline:calc(var(--slider-size) * -1);background-color:var(--track-bg, var(--slider-track-bg));z-index:0}.m_38aeed47{position:absolute;z-index:1;top:0;bottom:0;background-color:var(--slider-color);border-radius:var(--slider-radius);width:var(--slider-bar-width);inset-inline-start:var(--slider-bar-offset)}.m_38aeed47:where([data-inverted]){background-color:var(--slider-track-bg)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=light]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=dark]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-dark-3)}.m_b7b0423a{position:absolute;inset-inline-start:calc(var(--mark-offset) - var(--slider-size) / 2);top:0;z-index:2;height:0;pointer-events:none}.m_dd33bc19{border:calc(.125rem * var(--mantine-scale)) solid;height:var(--slider-size);width:var(--slider-size);border-radius:calc(62.5rem * var(--mantine-scale));background-color:var(--mantine-color-white);pointer-events:none}:where([data-mantine-color-scheme=light]) .m_dd33bc19{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19{border-color:var(--mantine-color-dark-4)}.m_dd33bc19:where([data-filled]){border-color:var(--slider-color)}:where([data-mantine-color-scheme=light]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-dark-3)}.m_68c77a5b{transform:translate(calc(-50% + var(--slider-size) / 2),calc(var(--mantine-spacing-xs) / 2));font-size:var(--mantine-font-size-sm);white-space:nowrap;cursor:pointer;-webkit-user-select:none;user-select:none}:where([data-mantine-color-scheme=light]) .m_68c77a5b{color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_68c77a5b{color:var(--mantine-color-dark-2)}.m_559cce2d{position:relative}.m_559cce2d:where([data-has-spoiler]){margin-bottom:calc(1.5rem * var(--mantine-scale))}.m_b912df4e{display:flex;flex-direction:column;overflow:hidden;transition:max-height var(--spoiler-transition-duration, .2s) ease}.m_b9131032{position:absolute;inset-inline-start:0;top:100%;height:calc(1.5rem * var(--mantine-scale))}.m_6d731127{display:flex;flex-direction:column;align-items:var(--stack-align, stretch);justify-content:var(--stack-justify, flex-start);gap:var(--stack-gap, var(--mantine-spacing-md))}.m_cbb4ea7e{--stepper-icon-size-xs: calc(2.125rem * var(--mantine-scale));--stepper-icon-size-sm: calc(2.25rem * var(--mantine-scale));--stepper-icon-size-md: calc(2.625rem * var(--mantine-scale));--stepper-icon-size-lg: calc(3rem * var(--mantine-scale));--stepper-icon-size-xl: calc(3.25rem * var(--mantine-scale));--stepper-icon-size: var(--stepper-icon-size-md);--stepper-color: var(--mantine-primary-color-filled);--stepper-content-padding: var(--mantine-spacing-md);--stepper-spacing: var(--mantine-spacing-md);--stepper-radius: calc(62.5rem * var(--mantine-scale));--stepper-fz: var(--mantine-font-size-md);--stepper-outline-thickness: calc(.125rem * var(--mantine-scale))}[data-mantine-color-scheme=light] .m_cbb4ea7e{--stepper-outline-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_cbb4ea7e{--stepper-outline-color: var(--mantine-color-dark-5)}.m_aaf89d0b{display:flex;flex-wrap:nowrap;align-items:center}.m_aaf89d0b:where([data-wrap]){flex-wrap:wrap;gap:var(--mantine-spacing-md) 0}.m_aaf89d0b:where([data-orientation=vertical]){flex-direction:column}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=left]){align-items:flex-start}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=right]){align-items:flex-end}.m_aaf89d0b:where([data-orientation=horizontal]){flex-direction:row}.m_2a371ac9{transition:background-color .15s ease;flex:1;height:var(--stepper-outline-thickness);margin-inline:var(--mantine-spacing-md);background-color:var(--stepper-outline-color)}.m_2a371ac9:where([data-active]){background-color:var(--stepper-color)}.m_78da155d{padding-top:var(--stepper-content-padding)}.m_cbb57068{--step-color: var(--stepper-color);display:flex;cursor:default}.m_cbb57068:where([data-allow-click]){cursor:pointer}.m_cbb57068:where([data-icon-position=left]){flex-direction:row}.m_cbb57068:where([data-icon-position=right]){flex-direction:row-reverse}.m_f56b1e2c{align-items:center}.m_833edb7e{--separator-spacing: calc(var(--mantine-spacing-xs) / 2);justify-content:flex-start;min-height:calc(var(--stepper-icon-size) + var(--mantine-spacing-xl) + var(--separator-spacing));margin-top:var(--separator-spacing);overflow:hidden}.m_833edb7e:where(:first-of-type){margin-top:0}.m_833edb7e:where(:last-of-type){min-height:auto}.m_833edb7e:where(:last-of-type) .m_6496b3f3{display:none}.m_818e70b{position:relative}.m_6496b3f3{top:calc(var(--stepper-icon-size) + var(--separator-spacing));inset-inline-start:calc(var(--stepper-icon-size) / 2);height:100vh;position:absolute;border-inline-start:var(--stepper-outline-thickness) solid var(--stepper-outline-color)}.m_6496b3f3:where([data-active]){border-color:var(--stepper-color)}.m_1959ad01{height:var(--stepper-icon-size);width:var(--stepper-icon-size);min-height:var(--stepper-icon-size);min-width:var(--stepper-icon-size);border-radius:var(--stepper-radius);font-size:var(--stepper-fz);display:flex;align-items:center;justify-content:center;position:relative;font-weight:700;transition:background-color .15s ease,border-color .15s ease;border:var(--stepper-outline-thickness) solid var(--stepper-outline-color);background-color:var(--stepper-outline-color)}:where([data-mantine-color-scheme=light]) .m_1959ad01{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1959ad01{color:var(--mantine-color-dark-1)}.m_1959ad01:where([data-progress]){border-color:var(--step-color)}.m_1959ad01:where([data-completed]){color:var(--stepper-icon-color, var(--mantine-color-white));background-color:var(--step-color);border-color:var(--step-color)}.m_a79331dc{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;color:var(--stepper-icon-color, var(--mantine-color-white))}.m_1956aa2a{display:flex;flex-direction:column}.m_1956aa2a:where([data-icon-position=left]){margin-inline-start:var(--mantine-spacing-sm)}.m_1956aa2a:where([data-icon-position=right]){text-align:right;margin-inline-end:var(--mantine-spacing-sm)}:where([dir=rtl]) .m_1956aa2a:where([data-icon-position=right]){text-align:left}.m_12051f6c{font-weight:500;font-size:var(--stepper-fz);line-height:1}.m_164eea74{margin-top:calc(var(--stepper-spacing) / 3);margin-bottom:calc(var(--stepper-spacing) / 3);font-size:calc(var(--stepper-fz) - calc(.125rem * var(--mantine-scale)));line-height:1;color:var(--mantine-color-dimmed)}.m_5f93f3bb{--switch-height-xs: calc(1rem * var(--mantine-scale));--switch-height-sm: calc(1.25rem * var(--mantine-scale));--switch-height-md: calc(1.5rem * var(--mantine-scale));--switch-height-lg: calc(1.875rem * var(--mantine-scale));--switch-height-xl: calc(2.25rem * var(--mantine-scale));--switch-width-xs: calc(2rem * var(--mantine-scale));--switch-width-sm: calc(2.375rem * var(--mantine-scale));--switch-width-md: calc(2.875rem * var(--mantine-scale));--switch-width-lg: calc(3.5rem * var(--mantine-scale));--switch-width-xl: calc(4.5rem * var(--mantine-scale));--switch-thumb-size-xs: calc(.75rem * var(--mantine-scale));--switch-thumb-size-sm: calc(.875rem * var(--mantine-scale));--switch-thumb-size-md: calc(1.125rem * var(--mantine-scale));--switch-thumb-size-lg: calc(1.375rem * var(--mantine-scale));--switch-thumb-size-xl: calc(1.75rem * var(--mantine-scale));--switch-label-font-size-xs: calc(.3125rem * var(--mantine-scale));--switch-label-font-size-sm: calc(.375rem * var(--mantine-scale));--switch-label-font-size-md: calc(.4375rem * var(--mantine-scale));--switch-label-font-size-lg: calc(.5625rem * var(--mantine-scale));--switch-label-font-size-xl: calc(.6875rem * var(--mantine-scale));--switch-track-label-padding-xs: calc(.0625rem * var(--mantine-scale));--switch-track-label-padding-sm: calc(.125rem * var(--mantine-scale));--switch-track-label-padding-md: calc(.125rem * var(--mantine-scale));--switch-track-label-padding-lg: calc(.1875rem * var(--mantine-scale));--switch-track-label-padding-xl: calc(.1875rem * var(--mantine-scale));--switch-height: var(--switch-height-sm);--switch-width: var(--switch-width-sm);--switch-thumb-size: var(--switch-thumb-size-sm);--switch-label-font-size: var(--switch-label-font-size-sm);--switch-track-label-padding: var(--switch-track-label-padding-sm);--switch-radius: calc(62.5rem * var(--mantine-scale));--switch-color: var(--mantine-primary-color-filled);position:relative}.m_926b4011{height:0;width:0;opacity:0;margin:0;padding:0;position:absolute;overflow:hidden;white-space:nowrap}.m_9307d992{-webkit-tap-highlight-color:transparent;cursor:var(--switch-cursor, var(--mantine-cursor-type));overflow:hidden;position:relative;border-radius:var(--switch-radius);background-color:var(--switch-bg);border:1px solid var(--switch-bd);height:var(--switch-height);min-width:var(--switch-width);margin:0;transition:background-color .15s ease,border-color .15s ease;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;align-items:center;font-size:var(--switch-label-font-size);font-weight:600;order:var(--switch-order, 1);-webkit-user-select:none;user-select:none;z-index:0;line-height:0;color:var(--switch-text-color)}.m_9307d992:where([data-without-labels]){width:var(--switch-width)}.m_926b4011:focus-visible+.m_9307d992{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_926b4011:checked+.m_9307d992{--switch-bg: var(--switch-color);--switch-bd: var(--switch-color);--switch-text-color: var(--mantine-color-white)}.m_926b4011:disabled+.m_9307d992,.m_926b4011[data-disabled]+.m_9307d992{--switch-bg: var(--switch-disabled-color);--switch-bd: var(--switch-disabled-color);--switch-cursor: not-allowed}[data-mantine-color-scheme=light] .m_9307d992{--switch-bg: var(--mantine-color-gray-2);--switch-bd: var(--mantine-color-gray-3);--switch-text-color: var(--mantine-color-gray-6);--switch-disabled-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_9307d992{--switch-bg: var(--mantine-color-dark-6);--switch-bd: var(--mantine-color-dark-4);--switch-text-color: var(--mantine-color-dark-1);--switch-disabled-color: var(--mantine-color-dark-4)}.m_9307d992[data-error]{--switch-bd: var(--mantine-color-error)}.m_9307d992[data-label-position=left]{--switch-order: 2}.m_93039a1d{position:absolute;z-index:1;border-radius:var(--switch-radius);display:flex;background-color:var(--switch-thumb-bg, var(--mantine-color-white));height:var(--switch-thumb-size);width:var(--switch-thumb-size);border:1px solid var(--switch-thumb-bd);inset-inline-start:var(--switch-thumb-start, var(--switch-track-label-padding));transition:inset-inline-start .15s ease}.m_93039a1d>*{margin:auto}.m_926b4011:checked+*>.m_93039a1d{--switch-thumb-start: calc(100% - var(--switch-thumb-size) - var(--switch-track-label-padding));--switch-thumb-bd: var(--mantine-color-white)}.m_926b4011:disabled+*>.m_93039a1d,.m_926b4011[data-disabled]+*>.m_93039a1d{--switch-thumb-bd: var(--switch-thumb-bg-disabled);--switch-thumb-bg: var(--switch-thumb-bg-disabled)}[data-mantine-color-scheme=light] .m_93039a1d{--switch-thumb-bd: var(--mantine-color-gray-3);--switch-thumb-bg-disabled: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_93039a1d{--switch-thumb-bd: var(--mantine-color-white);--switch-thumb-bg-disabled: var(--mantine-color-dark-3)}.m_8277e082{height:100%;display:grid;place-content:center;min-width:calc(var(--switch-width) - var(--switch-thumb-size));padding-inline:var(--switch-track-label-padding);margin-inline-start:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));transition:margin .15s ease}.m_926b4011:checked+*>.m_8277e082{margin-inline-end:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));margin-inline-start:0}.m_b23fa0ef{width:100%;border-collapse:collapse;border-spacing:0;line-height:var(--mantine-line-height);font-size:var(--mantine-font-size-sm);table-layout:var(--table-layout, auto);caption-side:var(--table-caption-side, bottom);border:none}:where([data-mantine-color-scheme=light]) .m_b23fa0ef{--table-hover-color: var(--mantine-color-gray-1);--table-striped-color: var(--mantine-color-gray-0);--table-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef{--table-hover-color: var(--mantine-color-dark-5);--table-striped-color: var(--mantine-color-dark-6);--table-border-color: var(--mantine-color-dark-4)}.m_b23fa0ef:where([data-with-table-border]){border:calc(.0625rem * var(--mantine-scale)) solid var(--table-border-color)}.m_b23fa0ef:where([data-tabular-nums]){font-variant-numeric:tabular-nums}.m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){font-weight:500}:where([data-mantine-color-scheme=light]) .m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){background-color:var(--mantine-color-dark-6)}.m_4e7aa4f3{text-align:left}:where([dir=rtl]) .m_4e7aa4f3{text-align:right}.m_4e7aa4fd{border-bottom:none;background-color:transparent}@media(hover:hover){.m_4e7aa4fd:hover:where([data-hover]){background-color:var(--tr-hover-bg)}}@media(hover:none){.m_4e7aa4fd:active:where([data-hover]){background-color:var(--tr-hover-bg)}}.m_4e7aa4fd:where([data-with-row-border]){border-bottom:calc(.0625rem * var(--mantine-scale)) solid var(--table-border-color)}.m_4e7aa4ef,.m_4e7aa4f3{padding:var(--table-vertical-spacing) var(--table-horizontal-spacing, var(--mantine-spacing-xs))}.m_4e7aa4ef:where([data-with-column-border]:not(:last-child)),.m_4e7aa4f3:where([data-with-column-border]:not(:last-child)){border-inline-end:calc(.0625rem * var(--mantine-scale)) solid var(--table-border-color)}.m_b2404537>:where(tr):where([data-with-row-border]:last-of-type){border-bottom:none}.m_b2404537>:where(tr):where([data-striped=odd]:nth-of-type(odd)){background-color:var(--table-striped-color)}.m_b2404537>:where(tr):where([data-striped=even]:nth-of-type(2n)){background-color:var(--table-striped-color)}.m_b2404537>:where(tr)[data-hover]{--tr-hover-bg: var(--table-highlight-on-hover-color, var(--table-hover-color))}.m_b242d975{top:var(--table-sticky-header-offset, 0);z-index:3}.m_b242d975:where([data-sticky]){position:sticky}.m_b242d975:where([data-sticky]) :where(.m_4e7aa4f3){position:sticky;top:var(--table-sticky-header-offset, 0);background-color:var(--mantine-color-body)}:where([data-with-table-border]) .m_b242d975[data-sticky] .m_4e7aa4f3{top:initial}.m_9e5a3ac7{color:var(--mantine-color-dimmed)}.m_9e5a3ac7:where([data-side=top]){margin-bottom:var(--mantine-spacing-xs)}.m_9e5a3ac7:where([data-side=bottom]){margin-top:var(--mantine-spacing-xs)}.m_a100c15{overflow-x:var(--table-overflow)}.m_62259741{min-width:var(--table-min-width);max-height:var(--table-max-height)}.m_bcaa9990{display:flex;flex-direction:column;--toc-depth-offset: .8em}.m_375a65ef{display:block;padding:.3em .8em;font-size:var(--toc-size, var(--mantine-font-size-md));border-radius:var(--toc-radius, var(--mantine-radius-default));padding-left:max(calc(var(--depth-offset) * var(--toc-depth-offset)),.8em)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_375a65ef:where(:hover):where(:not([data-variant=none])){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_375a65ef:where(:hover):where(:not([data-variant=none])){background-color:var(--mantine-color-dark-5)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_375a65ef:where(:active):where(:not([data-variant=none])){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_375a65ef:where(:active):where(:not([data-variant=none])){background-color:var(--mantine-color-dark-5)}}.m_375a65ef:where([data-active]){background-color:var(--toc-bg);color:var(--toc-color)}.m_89d60db1{display:var(--tabs-display);flex-direction:var(--tabs-flex-direction);--tab-justify: flex-start;--tabs-list-direction: row;--tabs-panel-grow: unset;--tabs-display: block;--tabs-flex-direction: row;--tabs-list-border-width: 0;--tabs-list-border-size: 0 0 var(--tabs-list-border-width) 0;--tabs-list-gap: unset;--tabs-list-line-bottom: 0;--tabs-list-line-top: unset;--tabs-list-line-start: 0;--tabs-list-line-end: 0;--tab-radius: var(--tabs-radius) var(--tabs-radius) 0 0;--tab-border-width: 0 0 var(--tabs-list-border-width) 0}.m_89d60db1[data-inverted]{--tabs-list-line-bottom: unset;--tabs-list-line-top: 0;--tab-radius: 0 0 var(--tabs-radius) var(--tabs-radius);--tab-border-width: var(--tabs-list-border-width) 0 0 0}.m_89d60db1[data-inverted] .m_576c9d4:before{top:0;bottom:unset}.m_89d60db1[data-orientation=vertical]{--tabs-list-line-start: unset;--tabs-list-line-end: 0;--tabs-list-line-top: 0;--tabs-list-line-bottom: 0;--tabs-list-border-size: 0 var(--tabs-list-border-width) 0 0;--tab-border-width: 0 var(--tabs-list-border-width) 0 0;--tab-radius: var(--tabs-radius) 0 0 var(--tabs-radius);--tabs-list-direction: column;--tabs-panel-grow: 1;--tabs-display: flex}[dir=rtl] .m_89d60db1[data-orientation=vertical]{--tabs-list-border-size: 0 0 0 var(--tabs-list-border-width);--tab-border-width: 0 0 0 var(--tabs-list-border-width);--tab-radius: 0 var(--tabs-radius) var(--tabs-radius) 0}.m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-flex-direction: row-reverse;--tabs-list-line-start: 0;--tabs-list-line-end: unset;--tabs-list-border-size: 0 0 0 var(--tabs-list-border-width);--tab-border-width: 0 0 0 var(--tabs-list-border-width);--tab-radius: 0 var(--tabs-radius) var(--tabs-radius) 0}[dir=rtl] .m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-list-border-size: 0 var(--tabs-list-border-width) 0 0;--tab-border-width: 0 var(--tabs-list-border-width) 0 0;--tab-radius: var(--tabs-radius) 0 0 var(--tabs-radius)}[data-mantine-color-scheme=light] .m_89d60db1{--tab-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89d60db1{--tab-border-color: var(--mantine-color-dark-4)}.m_89d60db1[data-orientation=horizontal]{--tab-justify: center}.m_89d60db1[data-variant=default]{--tabs-list-border-width: calc(.125rem * var(--mantine-scale))}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=default]{--tab-hover-color: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=default]{--tab-hover-color: var(--mantine-color-dark-6)}.m_89d60db1[data-variant=outline]{--tabs-list-border-width: calc(.0625rem * var(--mantine-scale))}.m_89d60db1[data-variant=pills]{--tabs-list-gap: calc(var(--mantine-spacing-sm) / 2)}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=pills]{--tab-hover-color: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=pills]{--tab-hover-color: var(--mantine-color-dark-6)}.m_89d33d6d{display:flex;flex-wrap:wrap;justify-content:var(--tabs-justify, flex-start);flex-direction:var(--tabs-list-direction);gap:var(--tabs-list-gap);--tab-grow: unset}.m_89d33d6d[data-grow]{--tab-grow: 1}.m_b0c91715{flex-grow:var(--tabs-panel-grow)}.m_4ec4dce6{position:relative;padding:var(--mantine-spacing-xs) var(--mantine-spacing-md);font-size:var(--mantine-font-size-sm);white-space:nowrap;z-index:0;display:flex;align-items:center;line-height:1;-webkit-user-select:none;user-select:none;flex-grow:var(--tab-grow);justify-content:var(--tab-justify)}.m_4ec4dce6:disabled,.m_4ec4dce6[data-disabled]{opacity:.5;cursor:not-allowed}.m_4ec4dce6:focus{z-index:1}.m_fc420b1f{display:flex;align-items:center;justify-content:center;margin-left:var(--tab-section-margin-left, 0);margin-right:var(--tab-section-margin-right, 0)}.m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right: var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right: 0rem;--tab-section-margin-left: var(--mantine-spacing-xs)}.m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left: var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left: 0rem;--tab-section-margin-right: var(--mantine-spacing-xs)}.m_576c9d4{position:relative}.m_576c9d4:before{content:"";position:absolute;border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);border-style:solid;bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top)}.m_539e827b{border-radius:var(--tab-radius);border-width:var(--tab-border-width);border-style:solid;border-color:transparent;background-color:var(--tab-bg);--tab-bg: transparent}.m_539e827b:where([data-active]){border-color:var(--tabs-color)}@media(hover:hover){.m_539e827b:hover{--tab-bg: var(--tab-hover-color)}.m_539e827b:hover:where(:not([data-active])){border-color:var(--tab-border-color)}}@media(hover:none){.m_539e827b:active{--tab-bg: var(--tab-hover-color)}.m_539e827b:active:where(:not([data-active])){border-color:var(--tab-border-color)}}@media(hover:hover){.m_539e827b:disabled:hover,.m_539e827b[data-disabled]:hover{--tab-bg: transparent}}@media(hover:none){.m_539e827b:disabled:active,.m_539e827b[data-disabled]:active{--tab-bg: transparent}}.m_6772fbd5{position:relative}.m_6772fbd5:before{content:"";position:absolute;border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);border-style:solid;bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top)}.m_b59ab47c{border-top:calc(.0625rem * var(--mantine-scale)) solid transparent;border-bottom:calc(.0625rem * var(--mantine-scale)) solid transparent;border-right:calc(.0625rem * var(--mantine-scale)) solid transparent;border-left:calc(.0625rem * var(--mantine-scale)) solid transparent;border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-radius:var(--tab-radius);position:relative;--tab-border-bottom-color: transparent;--tab-border-top-color: transparent;--tab-border-inline-end-color: transparent;--tab-border-inline-start-color: transparent}.m_b59ab47c:where([data-active]):before{content:"";position:absolute;background-color:var(--tab-border-color);bottom:var(--tab-before-bottom, calc(-.0625rem * var(--mantine-scale)));left:var(--tab-before-left, calc(-.0625rem * var(--mantine-scale)));right:var(--tab-before-right, auto);top:var(--tab-before-top, auto);width:calc(.0625rem * var(--mantine-scale));height:calc(.0625rem * var(--mantine-scale))}.m_b59ab47c:where([data-active]):after{content:"";position:absolute;background-color:var(--tab-border-color);bottom:var(--tab-after-bottom, calc(-.0625rem * var(--mantine-scale)));right:var(--tab-after-right, calc(-.0625rem * var(--mantine-scale)));left:var(--tab-after-left, auto);top:var(--tab-after-top, auto);width:calc(.0625rem * var(--mantine-scale));height:calc(.0625rem * var(--mantine-scale))}.m_b59ab47c:where([data-active]){border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-inline-start-color:var(--tab-border-inline-start-color);border-inline-end-color:var(--tab-border-inline-end-color);--tab-border-top-color: var(--tab-border-color);--tab-border-inline-start-color: var(--tab-border-color);--tab-border-inline-end-color: var(--tab-border-color);--tab-border-bottom-color: var(--mantine-color-body)}.m_b59ab47c:where([data-active])[data-inverted]{--tab-border-bottom-color: var(--tab-border-color);--tab-border-top-color: var(--mantine-color-body);--tab-before-bottom: auto;--tab-before-top: calc(-.0625rem * var(--mantine-scale));--tab-after-bottom: auto;--tab-after-top: calc(-.0625rem * var(--mantine-scale))}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-border-inline-end-color: var(--mantine-color-body);--tab-border-inline-start-color: var(--tab-border-color);--tab-border-bottom-color: var(--tab-border-color);--tab-before-right: calc(-.0625rem * var(--mantine-scale));--tab-before-left: auto;--tab-before-bottom: auto;--tab-before-top: calc(-.0625rem * var(--mantine-scale));--tab-after-left: auto;--tab-after-right: calc(-.0625rem * var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-before-right: auto;--tab-before-left: calc(-.0625rem * var(--mantine-scale));--tab-after-left: calc(-.0625rem * var(--mantine-scale));--tab-after-right: auto}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-border-inline-start-color: var(--mantine-color-body);--tab-border-inline-end-color: var(--tab-border-color);--tab-border-bottom-color: var(--tab-border-color);--tab-before-left: calc(-.0625rem * var(--mantine-scale));--tab-before-right: auto;--tab-before-bottom: auto;--tab-before-top: calc(-.0625rem * var(--mantine-scale));--tab-after-right: auto;--tab-after-left: calc(-.0625rem * var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-before-left: auto;--tab-before-right: calc(-.0625rem * var(--mantine-scale));--tab-after-right: calc(-.0625rem * var(--mantine-scale));--tab-after-left: auto}.m_c3381914{border-radius:var(--tabs-radius);background-color:var(--tab-bg);color:var(--tab-color);--tab-bg: transparent;--tab-color: inherit}@media(hover:hover){.m_c3381914:not([data-disabled]):hover{--tab-bg: var(--tab-hover-color)}}@media(hover:none){.m_c3381914:not([data-disabled]):active{--tab-bg: var(--tab-hover-color)}}.m_c3381914[data-active][data-active]{--tab-bg: var(--tabs-color);--tab-color: var(--tabs-text-color, var(--mantine-color-white))}@media(hover:hover){.m_c3381914[data-active][data-active]:hover{--tab-bg: var(--tabs-color)}}@media(hover:none){.m_c3381914[data-active][data-active]:active{--tab-bg: var(--tabs-color)}}.m_7341320d{--ti-size-xs: calc(1.125rem * var(--mantine-scale));--ti-size-sm: calc(1.375rem * var(--mantine-scale));--ti-size-md: calc(1.75rem * var(--mantine-scale));--ti-size-lg: calc(2.125rem * var(--mantine-scale));--ti-size-xl: calc(2.75rem * var(--mantine-scale));--ti-size: var(--ti-size-md);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;user-select:none;width:var(--ti-size);height:var(--ti-size);min-width:var(--ti-size);min-height:var(--ti-size);border-radius:var(--ti-radius, var(--mantine-radius-default));background:var(--ti-bg, var(--mantine-primary-color-filled));color:var(--ti-color, var(--mantine-color-white));border:var(--ti-bd, 1px solid transparent)}.m_43657ece{--offset: calc(var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2);--tl-bullet-size: calc(1.25rem * var(--mantine-scale));--tl-line-width: calc(.25rem * var(--mantine-scale));--tl-radius: calc(62.5rem * var(--mantine-scale));--tl-color: var(--mantine-primary-color-filled)}.m_43657ece:where([data-align=left]){padding-inline-start:var(--offset)}.m_43657ece:where([data-align=right]){padding-inline-end:var(--offset)}.m_2ebe8099{font-weight:500;line-height:1;margin-bottom:calc(var(--mantine-spacing-xs) / 2)}.m_436178ff{--item-border: var(--tl-line-width) var(--tli-border-style, solid) var(--item-border-color);position:relative;color:var(--mantine-color-text)}.m_436178ff:before{content:"";pointer-events:none;position:absolute;top:0;left:var(--timeline-line-left, 0);right:var(--timeline-line-right, 0);bottom:calc(var(--mantine-spacing-xl) * -1);border-inline-start:var(--item-border);display:var(--timeline-line-display, none)}.m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left: calc(var(--tl-line-width) * -1);--timeline-line-right: auto}[dir=rtl] .m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left: auto;--timeline-line-right: calc(var(--tl-line-width) * -1)}.m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left: auto;--timeline-line-right: calc(var(--tl-line-width) * -1)}[dir=rtl] .m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left: calc(var(--tl-line-width) * -1);--timeline-line-right: auto}.m_43657ece:where([data-align=left]) .m_436178ff{padding-inline-start:var(--offset);text-align:left}.m_43657ece:where([data-align=right]) .m_436178ff{padding-inline-end:var(--offset);text-align:right}:where([data-mantine-color-scheme=light]) .m_436178ff{--item-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_436178ff{--item-border-color: var(--mantine-color-dark-4)}.m_436178ff:where([data-line-active]):before{border-color:var(--tli-color, var(--tl-color))}.m_436178ff:where(:not(:last-of-type)){--timeline-line-display: block}.m_436178ff:where(:not(:first-of-type)){margin-top:var(--mantine-spacing-xl)}.m_8affcee1{width:var(--tl-bullet-size);height:var(--tl-bullet-size);border-radius:var(--tli-radius, var(--tl-radius));border:var(--tl-line-width) solid;background-color:var(--mantine-color-body);position:absolute;top:0;display:flex;align-items:center;justify-content:center;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_8affcee1{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1{border-color:var(--mantine-color-dark-4)}.m_43657ece:where([data-align=left]) .m_8affcee1{left:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1);right:auto}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1)}.m_43657ece:where([data-align=right]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1)}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_8affcee1{left:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1);right:auto}.m_8affcee1:where([data-with-child]){border-width:var(--tl-line-width)}:where([data-mantine-color-scheme=light]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-dark-4)}.m_8affcee1:where([data-active]){border-color:var(--tli-color, var(--tl-color));background-color:var(--mantine-color-white);color:var(--tl-icon-color, var(--mantine-color-white))}.m_8affcee1:where([data-active]):where([data-with-child]){background-color:var(--tli-color, var(--tl-color));color:var(--tl-icon-color, var(--mantine-color-white))}.m_43657ece:where([data-align=left]) .m_540e8f41{padding-inline-start:var(--offset);text-align:left}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_540e8f41{text-align:right}.m_43657ece:where([data-align=right]) .m_540e8f41{padding-inline-end:var(--offset);text-align:right}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_540e8f41{text-align:left}.m_8a5d1357{margin:0;font-weight:var(--title-fw);font-size:var(--title-fz);line-height:var(--title-lh);font-family:var(--mantine-font-family-headings);text-wrap:var(--title-text-wrap, var(--mantine-heading-text-wrap))}.m_8a5d1357:where([data-line-clamp]){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:var(--title-line-clamp);-webkit-box-orient:vertical}.m_f698e191{--level-offset: var(--mantine-spacing-lg);margin:0;padding:0;-webkit-user-select:none;user-select:none}.m_75f3ecf{margin:0;padding:0}.m_f6970eb1{cursor:pointer;list-style:none;margin:0;padding:0;outline:0}.m_f6970eb1:focus-visible>.m_dc283425{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_dc283425{padding-inline-start:var(--label-offset)}:where([data-mantine-color-scheme=light]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-dark-5)}.m_d6493fad :first-child{margin-top:0}.m_d6493fad :last-child{margin-bottom:0}.m_d6493fad :where(h1,h2,h3,h4,h5,h6){margin-bottom:var(--mantine-spacing-xs);text-wrap:var(--mantine-heading-text-wrap);font-family:var(--mantine-font-family-headings)}.m_d6493fad :where(h1){margin-top:calc(1.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h1-font-size);line-height:var(--mantine-h1-line-height);font-weight:var(--mantine-h1-font-weight)}.m_d6493fad :where(h2){margin-top:var(--mantine-spacing-xl);font-size:var(--mantine-h2-font-size);line-height:var(--mantine-h2-line-height);font-weight:var(--mantine-h2-font-weight)}.m_d6493fad :where(h3){margin-top:calc(.8 * var(--mantine-spacing-xl));font-size:var(--mantine-h3-font-size);line-height:var(--mantine-h3-line-height);font-weight:var(--mantine-h3-font-weight)}.m_d6493fad :where(h4){margin-top:calc(.8 * var(--mantine-spacing-xl));font-size:var(--mantine-h4-font-size);line-height:var(--mantine-h4-line-height);font-weight:var(--mantine-h4-font-weight)}.m_d6493fad :where(h5){margin-top:calc(.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h5-font-size);line-height:var(--mantine-h5-line-height);font-weight:var(--mantine-h5-font-weight)}.m_d6493fad :where(h6){margin-top:calc(.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h6-font-size);line-height:var(--mantine-h6-line-height);font-weight:var(--mantine-h6-font-weight)}.m_d6493fad :where(img){max-width:100%;margin-bottom:var(--mantine-spacing-xs)}.m_d6493fad :where(p){margin-top:0;margin-bottom:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-2);color:inherit}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-5);color:var(--mantine-color-black)}.m_d6493fad :where(a){color:var(--mantine-color-anchor);text-decoration:none}@media(hover:hover){.m_d6493fad :where(a):hover{text-decoration:underline}}@media(hover:none){.m_d6493fad :where(a):active{text-decoration:underline}}.m_d6493fad :where(hr){margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);border:0;border-top:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(hr){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(hr){border-color:var(--mantine-color-dark-3)}.m_d6493fad :where(pre){padding:var(--mantine-spacing-xs);line-height:var(--mantine-line-height);margin:0;margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);overflow-x:auto;font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs);border-radius:var(--mantine-radius-sm)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(pre){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(pre){background-color:var(--mantine-color-dark-8)}.m_d6493fad :where(pre) :where(code){background-color:transparent;padding:0;border-radius:0;color:inherit;border:0}.m_d6493fad :where(kbd){--kbd-fz: calc(.75rem * var(--mantine-scale));--kbd-padding: calc(.1875rem * var(--mantine-scale)) calc(.3125rem * var(--mantine-scale));font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);font-weight:700;padding:var(--kbd-padding);font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625rem * var(--mantine-scale)) solid;border-bottom-width:calc(.1875rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-dark-3);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-5)}.m_d6493fad :where(code){line-height:var(--mantine-line-height);padding:calc(.0625rem * var(--mantine-scale)) calc(.3125rem * var(--mantine-scale));border-radius:var(--mantine-radius-sm);font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(code){background-color:var(--mantine-color-gray-0);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(code){background-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_d6493fad :where(ul,ol):not([data-type=taskList]){margin-bottom:var(--mantine-spacing-md);padding-inline-start:var(--mantine-spacing-xl);list-style-position:outside}.m_d6493fad :where(table){width:100%;border-collapse:collapse;caption-side:bottom;margin-bottom:var(--mantine-spacing-md)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(table){--table-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(table){--table-border-color: var(--mantine-color-dark-4)}.m_d6493fad :where(table) :where(caption){margin-top:var(--mantine-spacing-xs);font-size:var(--mantine-font-size-sm);color:var(--mantine-color-dimmed)}.m_d6493fad :where(table) :where(th){text-align:left;font-weight:700;font-size:var(--mantine-font-size-sm);padding:var(--mantine-spacing-xs) var(--mantine-spacing-sm)}.m_d6493fad :where(table) :where(thead th){border-bottom:calc(.0625rem * var(--mantine-scale)) solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(tfoot th){border-top:calc(.0625rem * var(--mantine-scale)) solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(td){padding:var(--mantine-spacing-xs) var(--mantine-spacing-sm);border-bottom:calc(.0625rem * var(--mantine-scale)) solid;border-color:var(--table-border-color);font-size:var(--mantine-font-size-sm)}.m_d6493fad :where(table) :where(tr:last-of-type td){border-bottom:0}.m_d6493fad :where(blockquote){font-size:var(--mantine-font-size-lg);line-height:var(--mantine-line-height);margin:var(--mantine-spacing-md) 0;border-radius:var(--mantine-radius-sm);padding:var(--mantine-spacing-md) var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-dark-8)}}.m_b37d9ac7{width:calc(100% - var(--mantine-spacing-md) * 2);position:fixed;z-index:var(--notifications-z-index);max-width:var(--notifications-container-width)}.m_b37d9ac7:where([data-position=top-center]){top:var(--mantine-spacing-md);left:50%;transform:translate(-50%)}.m_b37d9ac7:where([data-position=top-left]){top:var(--mantine-spacing-md);left:var(--mantine-spacing-md)}.m_b37d9ac7:where([data-position=top-right]){top:var(--mantine-spacing-md);right:var(--mantine-spacing-md)}.m_b37d9ac7:where([data-position=bottom-center]){bottom:var(--mantine-spacing-md);left:50%;transform:translate(-50%)}.m_b37d9ac7:where([data-position=bottom-left]){bottom:var(--mantine-spacing-md);left:var(--mantine-spacing-md)}.m_b37d9ac7:where([data-position=bottom-right]){bottom:var(--mantine-spacing-md);right:var(--mantine-spacing-md)}.m_5ed0edd0+.m_5ed0edd0{margin-top:var(--mantine-spacing-md)}/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-border-style:solid;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-600:oklch(44.6% .03 256.802);--color-white:#fff;--spacing:.25rem;--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--font-weight-bold:700;--radius-md:.375rem;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer mantine.mantine{*,:before,:after{box-sizing:border-box}input,button,textarea,select{font:inherit}button,select{text-transform:none}body{font-family:var(--mantine-font-family);font-size:var(--mantine-font-size-md);line-height:var(--mantine-line-height);background-color:var(--mantine-color-body);color:var(--mantine-color-text);-webkit-font-smoothing:var(--mantine-webkit-font-smoothing);-moz-osx-font-smoothing:var(--mantine-moz-font-smoothing);margin:0}@media screen and (max-device-width:31.25em){body{-webkit-text-size-adjust:100%}}@media(prefers-reduced-motion:reduce){[data-respect-reduced-motion] [data-reduce-motion]{transition:none;animation:none}}[data-mantine-color-scheme=light] .mantine-light-hidden,[data-mantine-color-scheme=dark] .mantine-dark-hidden{display:none}.mantine-focus-auto:focus-visible,.mantine-focus-always:focus{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem*var(--mantine-scale))}.mantine-focus-never:focus{outline:none}.mantine-active:active{transform:translateY(calc(.0625rem*var(--mantine-scale)))}fieldset:disabled .mantine-active:active{transform:none}:where([dir=rtl]) .mantine-rotate-rtl{transform:rotate(180deg)}:root{color-scheme:var(--mantine-color-scheme);--mantine-z-index-app:100;--mantine-z-index-modal:200;--mantine-z-index-popover:300;--mantine-z-index-overlay:400;--mantine-z-index-max:9999;--mantine-scale:1;--mantine-cursor-type:default;--mantine-webkit-font-smoothing:antialiased;--mantine-color-scheme:light dark;--mantine-moz-font-smoothing:grayscale;--mantine-color-white:#fff;--mantine-color-black:#000;--mantine-line-height:1.55;--mantine-font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;--mantine-font-family-monospace:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;--mantine-font-family-headings:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;--mantine-heading-font-weight:700;--mantine-radius-default:calc(.25rem*var(--mantine-scale));--mantine-primary-color-0:var(--mantine-color-blue-0);--mantine-primary-color-1:var(--mantine-color-blue-1);--mantine-primary-color-2:var(--mantine-color-blue-2);--mantine-primary-color-3:var(--mantine-color-blue-3);--mantine-primary-color-4:var(--mantine-color-blue-4);--mantine-primary-color-5:var(--mantine-color-blue-5);--mantine-primary-color-6:var(--mantine-color-blue-6);--mantine-primary-color-7:var(--mantine-color-blue-7);--mantine-primary-color-8:var(--mantine-color-blue-8);--mantine-primary-color-9:var(--mantine-color-blue-9);--mantine-primary-color-filled:var(--mantine-color-blue-filled);--mantine-primary-color-filled-hover:var(--mantine-color-blue-filled-hover);--mantine-primary-color-light:var(--mantine-color-blue-light);--mantine-primary-color-light-hover:var(--mantine-color-blue-light-hover);--mantine-primary-color-light-color:var(--mantine-color-blue-light-color);--mantine-breakpoint-xs:36em;--mantine-breakpoint-sm:48em;--mantine-breakpoint-md:62em;--mantine-breakpoint-lg:75em;--mantine-breakpoint-xl:88em;--mantine-spacing-xs:calc(.625rem*var(--mantine-scale));--mantine-spacing-sm:calc(.75rem*var(--mantine-scale));--mantine-spacing-md:calc(1rem*var(--mantine-scale));--mantine-spacing-lg:calc(1.25rem*var(--mantine-scale));--mantine-spacing-xl:calc(2rem*var(--mantine-scale));--mantine-font-size-xs:calc(.75rem*var(--mantine-scale));--mantine-font-size-sm:calc(.875rem*var(--mantine-scale));--mantine-font-size-md:calc(1rem*var(--mantine-scale));--mantine-font-size-lg:calc(1.125rem*var(--mantine-scale));--mantine-font-size-xl:calc(1.25rem*var(--mantine-scale));--mantine-line-height-xs:1.4;--mantine-line-height-sm:1.45;--mantine-line-height-md:1.55;--mantine-line-height-lg:1.6;--mantine-line-height-xl:1.65;--mantine-shadow-xs:0 calc(.0625rem*var(--mantine-scale))calc(.1875rem*var(--mantine-scale))#0000000d,0 calc(.0625rem*var(--mantine-scale))calc(.125rem*var(--mantine-scale))#0000001a;--mantine-shadow-sm:0 calc(.0625rem*var(--mantine-scale))calc(.1875rem*var(--mantine-scale))#0000000d,#0000000d 0 calc(.625rem*var(--mantine-scale))calc(.9375rem*var(--mantine-scale))calc(-.3125rem*var(--mantine-scale)),#0000000a 0 calc(.4375rem*var(--mantine-scale))calc(.4375rem*var(--mantine-scale))calc(-.3125rem*var(--mantine-scale));--mantine-shadow-md:0 calc(.0625rem*var(--mantine-scale))calc(.1875rem*var(--mantine-scale))#0000000d,#0000000d 0 calc(1.25rem*var(--mantine-scale))calc(1.5625rem*var(--mantine-scale))calc(-.3125rem*var(--mantine-scale)),#0000000a 0 calc(.625rem*var(--mantine-scale))calc(.625rem*var(--mantine-scale))calc(-.3125rem*var(--mantine-scale));--mantine-shadow-lg:0 calc(.0625rem*var(--mantine-scale))calc(.1875rem*var(--mantine-scale))#0000000d,#0000000d 0 calc(1.75rem*var(--mantine-scale))calc(1.4375rem*var(--mantine-scale))calc(-.4375rem*var(--mantine-scale)),#0000000a 0 calc(.75rem*var(--mantine-scale))calc(.75rem*var(--mantine-scale))calc(-.4375rem*var(--mantine-scale));--mantine-shadow-xl:0 calc(.0625rem*var(--mantine-scale))calc(.1875rem*var(--mantine-scale))#0000000d,#0000000d 0 calc(2.25rem*var(--mantine-scale))calc(1.75rem*var(--mantine-scale))calc(-.4375rem*var(--mantine-scale)),#0000000a 0 calc(1.0625rem*var(--mantine-scale))calc(1.0625rem*var(--mantine-scale))calc(-.4375rem*var(--mantine-scale));--mantine-radius-xs:calc(.125rem*var(--mantine-scale));--mantine-radius-sm:calc(.25rem*var(--mantine-scale));--mantine-radius-md:calc(.5rem*var(--mantine-scale));--mantine-radius-lg:calc(1rem*var(--mantine-scale));--mantine-radius-xl:calc(2rem*var(--mantine-scale));--mantine-color-dark-0:#c9c9c9;--mantine-color-dark-1:#b8b8b8;--mantine-color-dark-2:#828282;--mantine-color-dark-3:#696969;--mantine-color-dark-4:#424242;--mantine-color-dark-5:#3b3b3b;--mantine-color-dark-6:#2e2e2e;--mantine-color-dark-7:#242424;--mantine-color-dark-8:#1f1f1f;--mantine-color-dark-9:#141414;--mantine-color-gray-0:#f8f9fa;--mantine-color-gray-1:#f1f3f5;--mantine-color-gray-2:#e9ecef;--mantine-color-gray-3:#dee2e6;--mantine-color-gray-4:#ced4da;--mantine-color-gray-5:#adb5bd;--mantine-color-gray-6:#868e96;--mantine-color-gray-7:#495057;--mantine-color-gray-8:#343a40;--mantine-color-gray-9:#212529;--mantine-color-red-0:#fff5f5;--mantine-color-red-1:#ffe3e3;--mantine-color-red-2:#ffc9c9;--mantine-color-red-3:#ffa8a8;--mantine-color-red-4:#ff8787;--mantine-color-red-5:#ff6b6b;--mantine-color-red-6:#fa5252;--mantine-color-red-7:#f03e3e;--mantine-color-red-8:#e03131;--mantine-color-red-9:#c92a2a;--mantine-color-pink-0:#fff0f6;--mantine-color-pink-1:#ffdeeb;--mantine-color-pink-2:#fcc2d7;--mantine-color-pink-3:#faa2c1;--mantine-color-pink-4:#f783ac;--mantine-color-pink-5:#f06595;--mantine-color-pink-6:#e64980;--mantine-color-pink-7:#d6336c;--mantine-color-pink-8:#c2255c;--mantine-color-pink-9:#a61e4d;--mantine-color-grape-0:#f8f0fc;--mantine-color-grape-1:#f3d9fa;--mantine-color-grape-2:#eebefa;--mantine-color-grape-3:#e599f7;--mantine-color-grape-4:#da77f2;--mantine-color-grape-5:#cc5de8;--mantine-color-grape-6:#be4bdb;--mantine-color-grape-7:#ae3ec9;--mantine-color-grape-8:#9c36b5;--mantine-color-grape-9:#862e9c;--mantine-color-violet-0:#f3f0ff;--mantine-color-violet-1:#e5dbff;--mantine-color-violet-2:#d0bfff;--mantine-color-violet-3:#b197fc;--mantine-color-violet-4:#9775fa;--mantine-color-violet-5:#845ef7;--mantine-color-violet-6:#7950f2;--mantine-color-violet-7:#7048e8;--mantine-color-violet-8:#6741d9;--mantine-color-violet-9:#5f3dc4;--mantine-color-indigo-0:#edf2ff;--mantine-color-indigo-1:#dbe4ff;--mantine-color-indigo-2:#bac8ff;--mantine-color-indigo-3:#91a7ff;--mantine-color-indigo-4:#748ffc;--mantine-color-indigo-5:#5c7cfa;--mantine-color-indigo-6:#4c6ef5;--mantine-color-indigo-7:#4263eb;--mantine-color-indigo-8:#3b5bdb;--mantine-color-indigo-9:#364fc7;--mantine-color-blue-0:#e7f5ff;--mantine-color-blue-1:#d0ebff;--mantine-color-blue-2:#a5d8ff;--mantine-color-blue-3:#74c0fc;--mantine-color-blue-4:#4dabf7;--mantine-color-blue-5:#339af0;--mantine-color-blue-6:#228be6;--mantine-color-blue-7:#1c7ed6;--mantine-color-blue-8:#1971c2;--mantine-color-blue-9:#1864ab;--mantine-color-cyan-0:#e3fafc;--mantine-color-cyan-1:#c5f6fa;--mantine-color-cyan-2:#99e9f2;--mantine-color-cyan-3:#66d9e8;--mantine-color-cyan-4:#3bc9db;--mantine-color-cyan-5:#22b8cf;--mantine-color-cyan-6:#15aabf;--mantine-color-cyan-7:#1098ad;--mantine-color-cyan-8:#0c8599;--mantine-color-cyan-9:#0b7285;--mantine-color-teal-0:#e6fcf5;--mantine-color-teal-1:#c3fae8;--mantine-color-teal-2:#96f2d7;--mantine-color-teal-3:#63e6be;--mantine-color-teal-4:#38d9a9;--mantine-color-teal-5:#20c997;--mantine-color-teal-6:#12b886;--mantine-color-teal-7:#0ca678;--mantine-color-teal-8:#099268;--mantine-color-teal-9:#087f5b;--mantine-color-green-0:#ebfbee;--mantine-color-green-1:#d3f9d8;--mantine-color-green-2:#b2f2bb;--mantine-color-green-3:#8ce99a;--mantine-color-green-4:#69db7c;--mantine-color-green-5:#51cf66;--mantine-color-green-6:#40c057;--mantine-color-green-7:#37b24d;--mantine-color-green-8:#2f9e44;--mantine-color-green-9:#2b8a3e;--mantine-color-lime-0:#f4fce3;--mantine-color-lime-1:#e9fac8;--mantine-color-lime-2:#d8f5a2;--mantine-color-lime-3:#c0eb75;--mantine-color-lime-4:#a9e34b;--mantine-color-lime-5:#94d82d;--mantine-color-lime-6:#82c91e;--mantine-color-lime-7:#74b816;--mantine-color-lime-8:#66a80f;--mantine-color-lime-9:#5c940d;--mantine-color-yellow-0:#fff9db;--mantine-color-yellow-1:#fff3bf;--mantine-color-yellow-2:#ffec99;--mantine-color-yellow-3:#ffe066;--mantine-color-yellow-4:#ffd43b;--mantine-color-yellow-5:#fcc419;--mantine-color-yellow-6:#fab005;--mantine-color-yellow-7:#f59f00;--mantine-color-yellow-8:#f08c00;--mantine-color-yellow-9:#e67700;--mantine-color-orange-0:#fff4e6;--mantine-color-orange-1:#ffe8cc;--mantine-color-orange-2:#ffd8a8;--mantine-color-orange-3:#ffc078;--mantine-color-orange-4:#ffa94d;--mantine-color-orange-5:#ff922b;--mantine-color-orange-6:#fd7e14;--mantine-color-orange-7:#f76707;--mantine-color-orange-8:#e8590c;--mantine-color-orange-9:#d9480f;--mantine-h1-font-size:calc(2.125rem*var(--mantine-scale));--mantine-h1-line-height:1.3;--mantine-h1-font-weight:700;--mantine-h2-font-size:calc(1.625rem*var(--mantine-scale));--mantine-h2-line-height:1.35;--mantine-h2-font-weight:700;--mantine-h3-font-size:calc(1.375rem*var(--mantine-scale));--mantine-h3-line-height:1.4;--mantine-h3-font-weight:700;--mantine-h4-font-size:calc(1.125rem*var(--mantine-scale));--mantine-h4-line-height:1.45;--mantine-h4-font-weight:700;--mantine-h5-font-size:calc(1rem*var(--mantine-scale));--mantine-h5-line-height:1.5;--mantine-h5-font-weight:700;--mantine-h6-font-size:calc(.875rem*var(--mantine-scale));--mantine-h6-line-height:1.5;--mantine-h6-font-weight:700}:root[data-mantine-color-scheme=dark]{--mantine-color-scheme:dark;--mantine-primary-color-contrast:var(--mantine-color-white);--mantine-color-bright:var(--mantine-color-white);--mantine-color-text:var(--mantine-color-dark-0);--mantine-color-body:var(--mantine-color-dark-7);--mantine-color-error:var(--mantine-color-red-8);--mantine-color-placeholder:var(--mantine-color-dark-3);--mantine-color-anchor:var(--mantine-color-blue-4);--mantine-color-default:var(--mantine-color-dark-6);--mantine-color-default-hover:var(--mantine-color-dark-5);--mantine-color-default-color:var(--mantine-color-white);--mantine-color-default-border:var(--mantine-color-dark-4);--mantine-color-dimmed:var(--mantine-color-dark-2);--mantine-color-dark-text:var(--mantine-color-dark-4);--mantine-color-dark-filled:var(--mantine-color-dark-8);--mantine-color-dark-filled-hover:var(--mantine-color-dark-7);--mantine-color-dark-light:#24242426;--mantine-color-dark-light-hover:#24242433;--mantine-color-dark-light-color:var(--mantine-color-dark-3);--mantine-color-dark-outline:var(--mantine-color-dark-4);--mantine-color-dark-outline-hover:#2424240d;--mantine-color-gray-text:var(--mantine-color-gray-4);--mantine-color-gray-filled:var(--mantine-color-gray-8);--mantine-color-gray-filled-hover:var(--mantine-color-gray-9);--mantine-color-gray-light:#868e9626;--mantine-color-gray-light-hover:#868e9633;--mantine-color-gray-light-color:var(--mantine-color-gray-3);--mantine-color-gray-outline:var(--mantine-color-gray-4);--mantine-color-gray-outline-hover:#ced4da0d;--mantine-color-red-text:var(--mantine-color-red-4);--mantine-color-red-filled:var(--mantine-color-red-8);--mantine-color-red-filled-hover:var(--mantine-color-red-9);--mantine-color-red-light:#fa525226;--mantine-color-red-light-hover:#fa525233;--mantine-color-red-light-color:var(--mantine-color-red-3);--mantine-color-red-outline:var(--mantine-color-red-4);--mantine-color-red-outline-hover:#ff87870d;--mantine-color-pink-text:var(--mantine-color-pink-4);--mantine-color-pink-filled:var(--mantine-color-pink-8);--mantine-color-pink-filled-hover:var(--mantine-color-pink-9);--mantine-color-pink-light:#e6498026;--mantine-color-pink-light-hover:#e6498033;--mantine-color-pink-light-color:var(--mantine-color-pink-3);--mantine-color-pink-outline:var(--mantine-color-pink-4);--mantine-color-pink-outline-hover:#f783ac0d;--mantine-color-grape-text:var(--mantine-color-grape-4);--mantine-color-grape-filled:var(--mantine-color-grape-8);--mantine-color-grape-filled-hover:var(--mantine-color-grape-9);--mantine-color-grape-light:#be4bdb26;--mantine-color-grape-light-hover:#be4bdb33;--mantine-color-grape-light-color:var(--mantine-color-grape-3);--mantine-color-grape-outline:var(--mantine-color-grape-4);--mantine-color-grape-outline-hover:#da77f20d;--mantine-color-violet-text:var(--mantine-color-violet-4);--mantine-color-violet-filled:var(--mantine-color-violet-8);--mantine-color-violet-filled-hover:var(--mantine-color-violet-9);--mantine-color-violet-light:#7950f226;--mantine-color-violet-light-hover:#7950f233;--mantine-color-violet-light-color:var(--mantine-color-violet-3);--mantine-color-violet-outline:var(--mantine-color-violet-4);--mantine-color-violet-outline-hover:#9775fa0d;--mantine-color-indigo-text:var(--mantine-color-indigo-4);--mantine-color-indigo-filled:var(--mantine-color-indigo-8);--mantine-color-indigo-filled-hover:var(--mantine-color-indigo-9);--mantine-color-indigo-light:#4c6ef526;--mantine-color-indigo-light-hover:#4c6ef533;--mantine-color-indigo-light-color:var(--mantine-color-indigo-3);--mantine-color-indigo-outline:var(--mantine-color-indigo-4);--mantine-color-indigo-outline-hover:#748ffc0d;--mantine-color-blue-text:var(--mantine-color-blue-4);--mantine-color-blue-filled:var(--mantine-color-blue-8);--mantine-color-blue-filled-hover:var(--mantine-color-blue-9);--mantine-color-blue-light:#228be626;--mantine-color-blue-light-hover:#228be633;--mantine-color-blue-light-color:var(--mantine-color-blue-3);--mantine-color-blue-outline:var(--mantine-color-blue-4);--mantine-color-blue-outline-hover:#4dabf70d;--mantine-color-cyan-text:var(--mantine-color-cyan-4);--mantine-color-cyan-filled:var(--mantine-color-cyan-8);--mantine-color-cyan-filled-hover:var(--mantine-color-cyan-9);--mantine-color-cyan-light:#15aabf26;--mantine-color-cyan-light-hover:#15aabf33;--mantine-color-cyan-light-color:var(--mantine-color-cyan-3);--mantine-color-cyan-outline:var(--mantine-color-cyan-4);--mantine-color-cyan-outline-hover:#3bc9db0d;--mantine-color-teal-text:var(--mantine-color-teal-4);--mantine-color-teal-filled:var(--mantine-color-teal-8);--mantine-color-teal-filled-hover:var(--mantine-color-teal-9);--mantine-color-teal-light:#12b88626;--mantine-color-teal-light-hover:#12b88633;--mantine-color-teal-light-color:var(--mantine-color-teal-3);--mantine-color-teal-outline:var(--mantine-color-teal-4);--mantine-color-teal-outline-hover:#38d9a90d;--mantine-color-green-text:var(--mantine-color-green-4);--mantine-color-green-filled:var(--mantine-color-green-8);--mantine-color-green-filled-hover:var(--mantine-color-green-9);--mantine-color-green-light:#40c05726;--mantine-color-green-light-hover:#40c05733;--mantine-color-green-light-color:var(--mantine-color-green-3);--mantine-color-green-outline:var(--mantine-color-green-4);--mantine-color-green-outline-hover:#69db7c0d;--mantine-color-lime-text:var(--mantine-color-lime-4);--mantine-color-lime-filled:var(--mantine-color-lime-8);--mantine-color-lime-filled-hover:var(--mantine-color-lime-9);--mantine-color-lime-light:#82c91e26;--mantine-color-lime-light-hover:#82c91e33;--mantine-color-lime-light-color:var(--mantine-color-lime-3);--mantine-color-lime-outline:var(--mantine-color-lime-4);--mantine-color-lime-outline-hover:#a9e34b0d;--mantine-color-yellow-text:var(--mantine-color-yellow-4);--mantine-color-yellow-filled:var(--mantine-color-yellow-8);--mantine-color-yellow-filled-hover:var(--mantine-color-yellow-9);--mantine-color-yellow-light:#fab00526;--mantine-color-yellow-light-hover:#fab00533;--mantine-color-yellow-light-color:var(--mantine-color-yellow-3);--mantine-color-yellow-outline:var(--mantine-color-yellow-4);--mantine-color-yellow-outline-hover:#ffd43b0d;--mantine-color-orange-text:var(--mantine-color-orange-4);--mantine-color-orange-filled:var(--mantine-color-orange-8);--mantine-color-orange-filled-hover:var(--mantine-color-orange-9);--mantine-color-orange-light:#fd7e1426;--mantine-color-orange-light-hover:#fd7e1433;--mantine-color-orange-light-color:var(--mantine-color-orange-3);--mantine-color-orange-outline:var(--mantine-color-orange-4);--mantine-color-orange-outline-hover:#ffa94d0d}:root[data-mantine-color-scheme=light]{--mantine-color-scheme:light;--mantine-color-bright:var(--mantine-color-black);--mantine-color-text:var(--mantine-color-black);--mantine-color-body:var(--mantine-color-white);--mantine-primary-color-contrast:var(--mantine-color-white);--mantine-color-error:var(--mantine-color-red-6);--mantine-color-placeholder:var(--mantine-color-gray-5);--mantine-color-anchor:var(--mantine-primary-color-filled);--mantine-color-default:var(--mantine-color-white);--mantine-color-default-hover:var(--mantine-color-gray-0);--mantine-color-default-color:var(--mantine-color-gray-9);--mantine-color-default-border:var(--mantine-color-gray-4);--mantine-color-dimmed:var(--mantine-color-gray-6);--mantine-color-dark-text:var(--mantine-color-dark-filled);--mantine-color-dark-filled:var(--mantine-color-dark-6);--mantine-color-dark-filled-hover:var(--mantine-color-dark-7);--mantine-color-dark-light:#3838381a;--mantine-color-dark-light-hover:#3838381f;--mantine-color-dark-light-color:var(--mantine-color-dark-6);--mantine-color-dark-outline:var(--mantine-color-dark-6);--mantine-color-dark-outline-hover:#3838380d;--mantine-color-gray-text:var(--mantine-color-gray-filled);--mantine-color-gray-filled:var(--mantine-color-gray-6);--mantine-color-gray-filled-hover:var(--mantine-color-gray-7);--mantine-color-gray-light:#868e961a;--mantine-color-gray-light-hover:#868e961f;--mantine-color-gray-light-color:var(--mantine-color-gray-6);--mantine-color-gray-outline:var(--mantine-color-gray-6);--mantine-color-gray-outline-hover:#868e960d;--mantine-color-red-text:var(--mantine-color-red-filled);--mantine-color-red-filled:var(--mantine-color-red-6);--mantine-color-red-filled-hover:var(--mantine-color-red-7);--mantine-color-red-light:#fa52521a;--mantine-color-red-light-hover:#fa52521f;--mantine-color-red-light-color:var(--mantine-color-red-6);--mantine-color-red-outline:var(--mantine-color-red-6);--mantine-color-red-outline-hover:#fa52520d;--mantine-color-pink-text:var(--mantine-color-pink-filled);--mantine-color-pink-filled:var(--mantine-color-pink-6);--mantine-color-pink-filled-hover:var(--mantine-color-pink-7);--mantine-color-pink-light:#e649801a;--mantine-color-pink-light-hover:#e649801f;--mantine-color-pink-light-color:var(--mantine-color-pink-6);--mantine-color-pink-outline:var(--mantine-color-pink-6);--mantine-color-pink-outline-hover:#e649800d;--mantine-color-grape-text:var(--mantine-color-grape-filled);--mantine-color-grape-filled:var(--mantine-color-grape-6);--mantine-color-grape-filled-hover:var(--mantine-color-grape-7);--mantine-color-grape-light:#be4bdb1a;--mantine-color-grape-light-hover:#be4bdb1f;--mantine-color-grape-light-color:var(--mantine-color-grape-6);--mantine-color-grape-outline:var(--mantine-color-grape-6);--mantine-color-grape-outline-hover:#be4bdb0d;--mantine-color-violet-text:var(--mantine-color-violet-filled);--mantine-color-violet-filled:var(--mantine-color-violet-6);--mantine-color-violet-filled-hover:var(--mantine-color-violet-7);--mantine-color-violet-light:#7950f21a;--mantine-color-violet-light-hover:#7950f21f;--mantine-color-violet-light-color:var(--mantine-color-violet-6);--mantine-color-violet-outline:var(--mantine-color-violet-6);--mantine-color-violet-outline-hover:#7950f20d;--mantine-color-indigo-text:var(--mantine-color-indigo-filled);--mantine-color-indigo-filled:var(--mantine-color-indigo-6);--mantine-color-indigo-filled-hover:var(--mantine-color-indigo-7);--mantine-color-indigo-light:#4c6ef51a;--mantine-color-indigo-light-hover:#4c6ef51f;--mantine-color-indigo-light-color:var(--mantine-color-indigo-6);--mantine-color-indigo-outline:var(--mantine-color-indigo-6);--mantine-color-indigo-outline-hover:#4c6ef50d;--mantine-color-blue-text:var(--mantine-color-blue-filled);--mantine-color-blue-filled:var(--mantine-color-blue-6);--mantine-color-blue-filled-hover:var(--mantine-color-blue-7);--mantine-color-blue-light:#228be61a;--mantine-color-blue-light-hover:#228be61f;--mantine-color-blue-light-color:var(--mantine-color-blue-6);--mantine-color-blue-outline:var(--mantine-color-blue-6);--mantine-color-blue-outline-hover:#228be60d;--mantine-color-cyan-text:var(--mantine-color-cyan-filled);--mantine-color-cyan-filled:var(--mantine-color-cyan-6);--mantine-color-cyan-filled-hover:var(--mantine-color-cyan-7);--mantine-color-cyan-light:#15aabf1a;--mantine-color-cyan-light-hover:#15aabf1f;--mantine-color-cyan-light-color:var(--mantine-color-cyan-6);--mantine-color-cyan-outline:var(--mantine-color-cyan-6);--mantine-color-cyan-outline-hover:#15aabf0d;--mantine-color-teal-text:var(--mantine-color-teal-filled);--mantine-color-teal-filled:var(--mantine-color-teal-6);--mantine-color-teal-filled-hover:var(--mantine-color-teal-7);--mantine-color-teal-light:#12b8861a;--mantine-color-teal-light-hover:#12b8861f;--mantine-color-teal-light-color:var(--mantine-color-teal-6);--mantine-color-teal-outline:var(--mantine-color-teal-6);--mantine-color-teal-outline-hover:#12b8860d;--mantine-color-green-text:var(--mantine-color-green-filled);--mantine-color-green-filled:var(--mantine-color-green-6);--mantine-color-green-filled-hover:var(--mantine-color-green-7);--mantine-color-green-light:#40c0571a;--mantine-color-green-light-hover:#40c0571f;--mantine-color-green-light-color:var(--mantine-color-green-6);--mantine-color-green-outline:var(--mantine-color-green-6);--mantine-color-green-outline-hover:#40c0570d;--mantine-color-lime-text:var(--mantine-color-lime-filled);--mantine-color-lime-filled:var(--mantine-color-lime-6);--mantine-color-lime-filled-hover:var(--mantine-color-lime-7);--mantine-color-lime-light:#82c91e1a;--mantine-color-lime-light-hover:#82c91e1f;--mantine-color-lime-light-color:var(--mantine-color-lime-6);--mantine-color-lime-outline:var(--mantine-color-lime-6);--mantine-color-lime-outline-hover:#82c91e0d;--mantine-color-yellow-text:var(--mantine-color-yellow-filled);--mantine-color-yellow-filled:var(--mantine-color-yellow-6);--mantine-color-yellow-filled-hover:var(--mantine-color-yellow-7);--mantine-color-yellow-light:#fab0051a;--mantine-color-yellow-light-hover:#fab0051f;--mantine-color-yellow-light-color:var(--mantine-color-yellow-6);--mantine-color-yellow-outline:var(--mantine-color-yellow-6);--mantine-color-yellow-outline-hover:#fab0050d;--mantine-color-orange-text:var(--mantine-color-orange-filled);--mantine-color-orange-filled:var(--mantine-color-orange-6);--mantine-color-orange-filled-hover:var(--mantine-color-orange-7);--mantine-color-orange-light:#fd7e141a;--mantine-color-orange-light-hover:#fd7e141f;--mantine-color-orange-light-color:var(--mantine-color-orange-6);--mantine-color-orange-outline:var(--mantine-color-orange-6);--mantine-color-orange-outline-hover:#fd7e140d}.m_d57069b5{--scrollarea-scrollbar-size:calc(.75rem*var(--mantine-scale));position:relative;overflow:hidden}.m_c0783ff9{scrollbar-width:none;overscroll-behavior:var(--scrollarea-over-scroll-behavior);-ms-overflow-style:none;-webkit-overflow-scrolling:touch;width:100%;height:100%}.m_c0783ff9::-webkit-scrollbar{display:none}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y],[data-offset-scrollbars=present]):where([data-vertical-hidden]){padding-inline:0}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y],[data-offset-scrollbars=present]):not([data-vertical-hidden]){padding-inline-start:unset;padding-inline-end:var(--scrollarea-scrollbar-size)}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x],[data-offset-scrollbars=present]):where([data-horizontal-hidden]){padding-bottom:0}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x],[data-offset-scrollbars=present]):not([data-horizontal-hidden]){padding-bottom:var(--scrollarea-scrollbar-size)}.m_f8f631dd{min-width:100%;display:table}.m_c44ba933{-webkit-user-select:none;user-select:none;touch-action:none;box-sizing:border-box;padding:calc(var(--scrollarea-scrollbar-size)/5);background-color:#0000;flex-direction:row;transition:background-color .15s,opacity .15s;display:flex}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_c44ba933:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:hover>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover>.m_d8b5e363{background-color:#ffffff80}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_c44ba933:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:active>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active>.m_d8b5e363{background-color:#ffffff80}}.m_c44ba933:where([data-hidden],[data-state=hidden]){display:none}.m_c44ba933:where([data-orientation=vertical]){width:var(--scrollarea-scrollbar-size);top:0;bottom:var(--sa-corner-width);inset-inline-end:0}.m_c44ba933:where([data-orientation=horizontal]){height:var(--scrollarea-scrollbar-size);bottom:0;flex-direction:column;inset-inline-start:0;inset-inline-end:var(--sa-corner-width)}.m_d8b5e363{border-radius:var(--scrollarea-scrollbar-size);opacity:var(--thumb-opacity);flex:1;transition:background-color .15s;position:relative;overflow:hidden}.m_d8b5e363:before{content:"";width:100%;height:100%;min-width:calc(2.75rem*var(--mantine-scale));min-height:calc(2.75rem*var(--mantine-scale));position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}:where([data-mantine-color-scheme=light]) .m_d8b5e363{background-color:#0006}:where([data-mantine-color-scheme=dark]) .m_d8b5e363{background-color:#fff6}.m_21657268{opacity:0;inset-inline-end:0;transition:opacity .15s;display:block;position:absolute;bottom:0}:where([data-mantine-color-scheme=light]) .m_21657268{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_21657268{background-color:var(--mantine-color-dark-8)}.m_21657268:where([data-hovered]){opacity:1}.m_21657268:where([data-hidden]){display:none}.m_87cf2631{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:var(--mantine-font-size-md);text-align:left;color:inherit;touch-action:manipulation;-webkit-tap-highlight-color:transparent;background-color:#0000;border:0;padding:0;text-decoration:none}:where([dir=rtl]) .m_87cf2631{text-align:right}.m_515a97f8{clip:rect(0 0 0 0);height:calc(.0625rem*var(--mantine-scale));width:calc(.0625rem*var(--mantine-scale));margin:calc(-.0625rem*var(--mantine-scale));white-space:nowrap;border:0;padding:0;position:absolute;overflow:hidden}.m_1b7284a3{--paper-radius:var(--mantine-radius-default);-webkit-tap-highlight-color:transparent;touch-action:manipulation;border-radius:var(--paper-radius);box-shadow:var(--paper-shadow);background-color:var(--mantine-color-body);outline:0;text-decoration:none;display:block}[data-mantine-color-scheme=light] .m_1b7284a3{--paper-border-color:var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_1b7284a3{--paper-border-color:var(--mantine-color-dark-4)}.m_1b7284a3:where([data-with-border]){border:calc(.0625rem*var(--mantine-scale))solid var(--paper-border-color)}.m_9814e45f{background:var(--overlay-bg,#0009);-webkit-backdrop-filter:var(--overlay-filter);backdrop-filter:var(--overlay-filter);border-radius:var(--overlay-radius,0);z-index:var(--overlay-z-index);position:absolute;top:0;right:0;bottom:0;left:0}.m_9814e45f:where([data-fixed]){position:fixed}.m_9814e45f:where([data-center]){justify-content:center;align-items:center;display:flex}.m_38a85659{border:1px solid var(--popover-border-color);padding:var(--mantine-spacing-sm)var(--mantine-spacing-md);box-shadow:var(--popover-shadow,none);border-radius:var(--popover-radius,var(--mantine-radius-default));position:absolute}.m_38a85659:where([data-fixed]){position:fixed}.m_38a85659:focus{outline:none}:where([data-mantine-color-scheme=light]) .m_38a85659{--popover-border-color:var(--mantine-color-gray-2);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_38a85659{--popover-border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_a31dc6c1{background-color:inherit;border:1px solid var(--popover-border-color);z-index:1}.m_3d7bc908{position:fixed;top:0;right:0;bottom:0;left:0}.m_5ae2e3c{--loader-size-xs:calc(1.125rem*var(--mantine-scale));--loader-size-sm:calc(1.375rem*var(--mantine-scale));--loader-size-md:calc(2.25rem*var(--mantine-scale));--loader-size-lg:calc(2.75rem*var(--mantine-scale));--loader-size-xl:calc(3.625rem*var(--mantine-scale));--loader-size:var(--loader-size-md);--loader-color:var(--mantine-primary-color-filled)}@keyframes m_5d2b3b9d{0%{opacity:0;transform:scale(.6)}50%,to{transform:scale(1)}}.m_7a2bd4cd{width:var(--loader-size);height:var(--loader-size);gap:calc(var(--loader-size)/5);display:flex;position:relative}.m_870bb79{background:var(--loader-color);border-radius:calc(.125rem*var(--mantine-scale));flex:1;animation:1.2s cubic-bezier(0,.5,.5,1) infinite m_5d2b3b9d}.m_870bb79:first-of-type{animation-delay:-.24s}.m_870bb79:nth-of-type(2){animation-delay:-.12s}.m_870bb79:nth-of-type(3){animation-delay:0}@keyframes m_aac34a1{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.6)}}.m_4e3f22d7{justify-content:center;align-items:center;gap:calc(var(--loader-size)/10);width:var(--loader-size);height:var(--loader-size);display:flex;position:relative}.m_870c4af{width:calc(var(--loader-size)/3 - var(--loader-size)/15);height:calc(var(--loader-size)/3 - var(--loader-size)/15);background:var(--loader-color);border-radius:50%;animation:.8s linear infinite m_aac34a1}.m_870c4af:nth-child(2){animation-delay:.4s}@keyframes m_f8e89c4b{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.m_b34414df{width:var(--loader-size);height:var(--loader-size);display:inline-block}.m_b34414df:after{content:"";width:var(--loader-size);height:var(--loader-size);border-radius:calc(625rem*var(--mantine-scale));border-width:calc(var(--loader-size)/8);border-style:solid;border-color:var(--loader-color)var(--loader-color)var(--loader-color)transparent;animation:1.2s linear infinite m_f8e89c4b;display:block}.m_8d3f4000{--ai-size-xs:calc(1.125rem*var(--mantine-scale));--ai-size-sm:calc(1.375rem*var(--mantine-scale));--ai-size-md:calc(1.75rem*var(--mantine-scale));--ai-size-lg:calc(2.125rem*var(--mantine-scale));--ai-size-xl:calc(2.75rem*var(--mantine-scale));--ai-size-input-xs:calc(1.875rem*var(--mantine-scale));--ai-size-input-sm:calc(2.25rem*var(--mantine-scale));--ai-size-input-md:calc(2.625rem*var(--mantine-scale));--ai-size-input-lg:calc(3.125rem*var(--mantine-scale));--ai-size-input-xl:calc(3.75rem*var(--mantine-scale));--ai-size:var(--ai-size-md);--ai-color:var(--mantine-color-white);-webkit-user-select:none;user-select:none;width:var(--ai-size);height:var(--ai-size);min-width:var(--ai-size);min-height:var(--ai-size);border-radius:var(--ai-radius,var(--mantine-radius-default));background:var(--ai-bg,var(--mantine-primary-color-filled));color:var(--ai-color,var(--mantine-color-white));border:var(--ai-bd,calc(.0625rem*var(--mantine-scale))solid transparent);cursor:pointer;justify-content:center;align-items:center;line-height:1;display:inline-flex;position:relative;overflow:hidden}@media(hover:hover){.m_8d3f4000:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover,var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color,var(--ai-color))}}@media(hover:none){.m_8d3f4000:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover,var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color,var(--ai-color))}}.m_8d3f4000[data-loading]{cursor:not-allowed}.m_8d3f4000[data-loading] .m_8d3afb97{opacity:0;transform:translateY(100%)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625rem*var(--mantine-scale))solid transparent}:where([data-mantine-color-scheme=light]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-gray-1);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])):active{transform:none}.m_302b9fb1{inset:calc(-.0625rem*var(--mantine-scale));border-radius:var(--ai-radius,var(--mantine-radius-default));justify-content:center;align-items:center;display:flex;position:absolute}:where([data-mantine-color-scheme=light]) .m_302b9fb1{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_302b9fb1{background-color:#00000026}.m_1a0f1b21{--ai-border-width:calc(.0625rem*var(--mantine-scale));display:flex}.m_1a0f1b21 :where(*):focus{z-index:1;position:relative}.m_1a0f1b21[data-orientation=horizontal]{flex-direction:row}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):first-child,.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):first-child{border-inline-end-width:calc(var(--ai-border-width)/2);border-start-end-radius:0;border-end-end-radius:0}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):last-child,.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):last-child{border-inline-start-width:calc(var(--ai-border-width)/2);border-start-start-radius:0;border-end-start-radius:0}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child),.m_1a0f1b21[data-orientation=horizontal] .m_437b6484:not(:only-child):not(:first-child):not(:last-child){border-inline-width:calc(var(--ai-border-width)/2);border-radius:0}.m_1a0f1b21[data-orientation=vertical]{flex-direction:column}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):first-child,.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):first-child{border-bottom-width:calc(var(--ai-border-width)/2);border-end-end-radius:0;border-end-start-radius:0}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):last-child,.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):last-child{border-top-width:calc(var(--ai-border-width)/2);border-start-start-radius:0;border-start-end-radius:0}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child),.m_1a0f1b21[data-orientation=vertical] .m_437b6484:not(:only-child):not(:first-child):not(:last-child){border-bottom-width:calc(var(--ai-border-width)/2);border-top-width:calc(var(--ai-border-width)/2);border-radius:0}.m_8d3afb97{justify-content:center;align-items:center;width:100%;height:100%;transition:transform .15s,opacity .1s;display:flex}.m_437b6484{--section-height-xs:calc(1.125rem*var(--mantine-scale));--section-height-sm:calc(1.375rem*var(--mantine-scale));--section-height-md:calc(1.75rem*var(--mantine-scale));--section-height-lg:calc(2.125rem*var(--mantine-scale));--section-height-xl:calc(2.75rem*var(--mantine-scale));--section-height-input-xs:calc(1.875rem*var(--mantine-scale));--section-height-input-sm:calc(2.25rem*var(--mantine-scale));--section-height-input-md:calc(2.625rem*var(--mantine-scale));--section-height-input-lg:calc(3.125rem*var(--mantine-scale));--section-height-input-xl:calc(3.75rem*var(--mantine-scale));--section-padding-x-xs:calc(.375rem*var(--mantine-scale));--section-padding-x-sm:calc(.5rem*var(--mantine-scale));--section-padding-x-md:calc(.625rem*var(--mantine-scale));--section-padding-x-lg:calc(.75rem*var(--mantine-scale));--section-padding-x-xl:calc(1rem*var(--mantine-scale));--section-height:var(--section-height-sm);--section-padding-x:var(--section-padding-x-sm);--section-color:var(--mantine-color-white);border-radius:var(--section-radius,var(--mantine-radius-default));width:auto;font-weight:600;font-size:var(--section-fz,var(--mantine-font-size-sm));background:var(--section-bg,var(--mantine-primary-color-filled));border:var(--section-bd,calc(.0625rem*var(--mantine-scale))solid transparent);color:var(--section-color,var(--mantine-color-white));height:var(--section-height,var(--section-height-sm));padding-inline:var(--section-padding-x,var(--section-padding-x-sm));vertical-align:middle;justify-content:center;align-items:center;line-height:1;display:inline-flex}.m_86a44da5{--cb-size-xs:calc(1.125rem*var(--mantine-scale));--cb-size-sm:calc(1.375rem*var(--mantine-scale));--cb-size-md:calc(1.75rem*var(--mantine-scale));--cb-size-lg:calc(2.125rem*var(--mantine-scale));--cb-size-xl:calc(2.75rem*var(--mantine-scale));--cb-size:var(--cb-size-md);--cb-icon-size:70%;--cb-radius:var(--mantine-radius-default);-webkit-user-select:none;user-select:none;width:var(--cb-size);height:var(--cb-size);min-width:var(--cb-size);min-height:var(--cb-size);border-radius:var(--cb-radius);justify-content:center;align-items:center;line-height:1;display:inline-flex;position:relative}:where([data-mantine-color-scheme=light]) .m_86a44da5{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_86a44da5{color:var(--mantine-color-dark-1)}.m_86a44da5[data-disabled],.m_86a44da5:disabled{cursor:not-allowed;opacity:.6}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-dark-6)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-dark-6)}}.m_4081bf90{flex-direction:row;flex-wrap:var(--group-wrap,wrap);justify-content:var(--group-justify,flex-start);align-items:var(--group-align,center);gap:var(--group-gap,var(--mantine-spacing-md));display:flex}.m_4081bf90:where([data-grow])>*{max-width:var(--group-child-width);flex-grow:1}.m_615af6c9{font-weight:400;line-height:1;font-size:var(--mantine-font-size-md);margin:0;padding:0}.m_b5489c3c{padding:var(--mb-padding,var(--mantine-spacing-md));background-color:var(--mantine-color-body);z-index:1000;min-height:calc(3.75rem*var(--mantine-scale));justify-content:space-between;align-items:center;padding-inline-end:calc(var(--mb-padding,var(--mantine-spacing-md)) - calc(.3125rem*var(--mantine-scale)));transition:padding-inline-end .1s;display:flex;position:sticky;top:0}.m_60c222c7{width:100%;z-index:var(--mb-z-index);pointer-events:none;position:fixed;top:0;bottom:0}.m_fd1ab0aa{pointer-events:all;box-shadow:var(--mb-shadow,var(--mantine-shadow-xl))}.m_fd1ab0aa [data-mantine-scrollbar]{z-index:1001}[data-offset-scrollbars] .m_fd1ab0aa:has([data-mantine-scrollbar]) .m_b5489c3c{padding-inline-end:calc(var(--mb-padding,var(--mantine-spacing-md)) + calc(.3125rem*var(--mantine-scale)))}.m_606cb269{margin-inline-start:auto}.m_5df29311{padding:var(--mb-padding,var(--mantine-spacing-md));padding-top:var(--mb-padding,var(--mantine-spacing-md))}.m_5df29311:where(:not(:only-child)){padding-top:0}.m_6c018570{margin-top:var(--input-margin-top,0rem);margin-bottom:var(--input-margin-bottom,0rem);--input-height-xs:calc(1.875rem*var(--mantine-scale));--input-height-sm:calc(2.25rem*var(--mantine-scale));--input-height-md:calc(2.625rem*var(--mantine-scale));--input-height-lg:calc(3.125rem*var(--mantine-scale));--input-height-xl:calc(3.75rem*var(--mantine-scale));--input-padding-y-xs:calc(.3125rem*var(--mantine-scale));--input-padding-y-sm:calc(.375rem*var(--mantine-scale));--input-padding-y-md:calc(.5rem*var(--mantine-scale));--input-padding-y-lg:calc(.625rem*var(--mantine-scale));--input-padding-y-xl:calc(.8125rem*var(--mantine-scale));--input-height:var(--input-height-sm);--input-radius:var(--mantine-radius-default);--input-cursor:text;--input-text-align:left;--input-line-height:calc(var(--input-height) - calc(.125rem*var(--mantine-scale)));--input-padding:calc(var(--input-height)/3);--input-padding-inline-start:var(--input-padding);--input-padding-inline-end:var(--input-padding);--input-placeholder-color:var(--mantine-color-placeholder);--input-color:var(--mantine-color-text);--input-left-section-size:var(--input-left-section-width,calc(var(--input-height) - calc(.125rem*var(--mantine-scale))));--input-right-section-size:var(--input-right-section-width,calc(var(--input-height) - calc(.125rem*var(--mantine-scale))));--input-size:var(--input-height);--section-y:calc(.0625rem*var(--mantine-scale));--left-section-start:calc(.0625rem*var(--mantine-scale));--left-section-border-radius:var(--input-radius)0 0 var(--input-radius);--right-section-end:calc(.0625rem*var(--mantine-scale));--right-section-border-radius:0 var(--input-radius)var(--input-radius)0;position:relative}.m_6c018570[data-variant=unstyled]{--input-padding:0;--input-padding-y:0;--input-padding-inline-start:0;--input-padding-inline-end:0}.m_6c018570[data-pointer]{--input-cursor:pointer}.m_6c018570[data-multiline]{--input-padding-y-xs:calc(.28125rem*var(--mantine-scale));--input-padding-y-sm:calc(.34375rem*var(--mantine-scale));--input-padding-y-md:calc(.4375rem*var(--mantine-scale));--input-padding-y-lg:calc(.59375rem*var(--mantine-scale));--input-padding-y-xl:calc(.8125rem*var(--mantine-scale));--input-size:auto;--input-line-height:var(--mantine-line-height);--input-padding-y:var(--input-padding-y-sm)}.m_6c018570[data-with-left-section]{--input-padding-inline-start:var(--input-left-section-size)}.m_6c018570[data-with-right-section]{--input-padding-inline-end:var(--input-right-section-size)}[data-mantine-color-scheme=light] .m_6c018570{--input-disabled-bg:var(--mantine-color-gray-1);--input-disabled-color:var(--mantine-color-gray-6)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=default]{--input-bd:var(--mantine-color-gray-4);--input-bg:var(--mantine-color-white);--input-bd-focus:var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=filled]{--input-bd:transparent;--input-bg:var(--mantine-color-gray-1);--input-bd-focus:var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=unstyled]{--input-bd:transparent;--input-bg:transparent;--input-bd-focus:transparent}[data-mantine-color-scheme=dark] .m_6c018570{--input-disabled-bg:var(--mantine-color-dark-6);--input-disabled-color:var(--mantine-color-dark-2)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=default]{--input-bd:var(--mantine-color-dark-4);--input-bg:var(--mantine-color-dark-6);--input-bd-focus:var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=filled]{--input-bd:transparent;--input-bg:var(--mantine-color-dark-5);--input-bd-focus:var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=unstyled]{--input-bd:transparent;--input-bg:transparent;--input-bd-focus:transparent}[data-mantine-color-scheme] .m_6c018570[data-error]:not([data-variant=unstyled]){--input-bd:var(--mantine-color-error)}[data-mantine-color-scheme] .m_6c018570[data-error]{--input-color:var(--mantine-color-error);--input-placeholder-color:var(--mantine-color-error);--input-section-color:var(--mantine-color-error)}:where([dir=rtl]) .m_6c018570{--input-text-align:right;--left-section-border-radius:0 var(--input-radius)var(--input-radius)0;--right-section-border-radius:var(--input-radius)0 0 var(--input-radius)}.m_8fb7ebe7{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;resize:var(--input-resize,none);width:100%;text-align:var(--input-text-align);color:var(--input-color);border:calc(.0625rem*var(--mantine-scale))solid var(--input-bd);background-color:var(--input-bg);font-family:var(--input-font-family,var(--mantine-font-family));height:var(--input-size);min-height:var(--input-height);line-height:var(--input-line-height);font-size:var(--input-fz,var(--input-fz,var(--mantine-font-size-sm)));border-radius:var(--input-radius);padding-inline-start:var(--input-padding-inline-start);padding-inline-end:var(--input-padding-inline-end);padding-top:var(--input-padding-y,0rem);padding-bottom:var(--input-padding-y,0rem);cursor:var(--input-cursor);overflow:var(--input-overflow);transition:border-color .1s;display:block}.m_8fb7ebe7[data-no-overflow]{--input-overflow:hidden}.m_8fb7ebe7[data-monospace]{--input-font-family:var(--mantine-font-family-monospace);--input-fz:calc(var(--input-fz,var(--mantine-font-size-sm)) - calc(.125rem*var(--mantine-scale)))}.m_8fb7ebe7:focus,.m_8fb7ebe7:focus-within{--input-bd:var(--input-bd-focus);outline:none}[data-error] .m_8fb7ebe7:focus,[data-error] .m_8fb7ebe7:focus-within{--input-bd:var(--mantine-color-error)}.m_8fb7ebe7::placeholder{color:var(--input-placeholder-color);opacity:1}.m_8fb7ebe7::-webkit-inner-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_8fb7ebe7::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_8fb7ebe7::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_8fb7ebe7::-webkit-search-cancel-button{-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_8fb7ebe7::-webkit-search-results-button{-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_8fb7ebe7::-webkit-search-results-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_8fb7ebe7[type=number]{-moz-appearance:textfield}.m_8fb7ebe7:disabled,.m_8fb7ebe7[data-disabled],.m_8fb7ebe7:has(input:disabled){cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_82577fc2{pointer-events:var(--section-pointer-events);z-index:1;inset-inline-start:var(--section-start);inset-inline-end:var(--section-end);bottom:var(--section-y);top:var(--section-y);width:var(--section-size);border-radius:var(--section-border-radius);color:var(--input-section-color,var(--mantine-color-dimmed));justify-content:center;align-items:center;display:flex;position:absolute}.m_82577fc2[data-position=right]{--section-pointer-events:var(--input-right-section-pointer-events);--section-end:var(--right-section-end);--section-size:var(--input-right-section-size);--section-border-radius:var(--right-section-border-radius)}.m_82577fc2[data-position=left]{--section-pointer-events:var(--input-left-section-pointer-events);--section-start:var(--left-section-start);--section-size:var(--input-left-section-size);--section-border-radius:var(--left-section-border-radius)}.m_88bacfd0{color:var(--input-placeholder-color,var(--mantine-color-placeholder))}[data-error] .m_88bacfd0{--input-placeholder-color:var(--input-color,var(--mantine-color-placeholder))}.m_46b77525{line-height:var(--mantine-line-height)}.m_8fdc1311{word-break:break-word;cursor:default;-webkit-tap-highlight-color:transparent;font-weight:500;font-size:var(--input-label-size,var(--mantine-font-size-sm));display:inline-block}.m_78a94662{color:var(--input-asterisk-color,var(--mantine-color-error))}.m_8f816625,.m_fe47ce59{word-wrap:break-word;margin:0;padding:0;line-height:1.2;display:block}.m_8f816625{color:var(--mantine-color-error);font-size:var(--input-error-size,calc(var(--mantine-font-size-sm) - calc(.125rem*var(--mantine-scale))))}.m_fe47ce59{color:var(--mantine-color-dimmed);font-size:var(--input-description-size,calc(var(--mantine-font-size-sm) - calc(.125rem*var(--mantine-scale))))}.m_8bffd616{display:flex}.m_96b553a6{--transition-duration:.15s;z-index:0;transition-property:transform,width,height;transition-duration:0s;transition-timing-function:ease;position:absolute;top:0;left:0}.m_96b553a6:where([data-initialized]){transition-duration:var(--transition-duration)}.m_96b553a6:where([data-hidden]){background-color:red;display:none}.m_9bdbb667{--accordion-radius:var(--mantine-radius-default)}.m_df78851f{word-break:break-word}.m_4ba554d4{padding:var(--mantine-spacing-md);padding-top:calc(var(--mantine-spacing-xs)/2)}.m_8fa820a0{margin:0;padding:0}.m_4ba585b8{width:100%;padding-inline:var(--mantine-spacing-md);opacity:1;cursor:pointer;background-color:#0000;flex-direction:row-reverse;align-items:center;display:flex}.m_4ba585b8:where([data-chevron-position=left]){flex-direction:row;padding-inline-start:0}:where([data-mantine-color-scheme=light]) .m_4ba585b8{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_4ba585b8{color:var(--mantine-color-dark-0)}.m_4ba585b8:where(:disabled,[data-disabled]){opacity:.4;cursor:not-allowed}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-dark-6)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-dark-6)}}.m_df3ffa0f{color:inherit;text-overflow:ellipsis;padding-top:var(--mantine-spacing-sm);padding-bottom:var(--mantine-spacing-sm);flex:1;font-weight:400;overflow:hidden}.m_3f35ae96{transition:transform var(--accordion-transition-duration,.2s)ease;width:var(--accordion-chevron-size,calc(.9375rem*var(--mantine-scale)));min-width:var(--accordion-chevron-size,calc(.9375rem*var(--mantine-scale)));justify-content:flex-start;align-items:center;display:flex;transform:rotate(0)}.m_3f35ae96:where([data-rotate]){transform:rotate(180deg)}.m_3f35ae96:where([data-position=left]){margin-inline-start:var(--mantine-spacing-md);margin-inline-end:var(--mantine-spacing-md)}.m_9bd771fe{justify-content:center;align-items:center;margin-inline-end:var(--mantine-spacing-sm);display:flex}.m_9bd771fe:where([data-chevron-position=left]){margin-inline-start:var(--mantine-spacing-lg);margin-inline-end:0}:where([data-mantine-color-scheme=light]) .m_9bd7b098{--item-border-color:var(--mantine-color-gray-3);--item-filled-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_9bd7b098{--item-border-color:var(--mantine-color-dark-4);--item-filled-color:var(--mantine-color-dark-6)}.m_fe19b709{border-bottom:1px solid var(--item-border-color)}.m_1f921b3b{border:1px solid var(--item-border-color);transition:background-color .15s}.m_1f921b3b:where([data-active]){background-color:var(--item-filled-color)}.m_1f921b3b:first-of-type,.m_1f921b3b:first-of-type>[data-accordion-control]{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type,.m_1f921b3b:last-of-type>[data-accordion-control]{border-end-end-radius:var(--accordion-radius);border-end-start-radius:var(--accordion-radius)}.m_1f921b3b+.m_1f921b3b{border-top:0}.m_2cdf939a{border-radius:var(--accordion-radius)}.m_2cdf939a:where([data-active]){background-color:var(--item-filled-color)}.m_9f59b069{background-color:var(--item-filled-color);border-radius:var(--accordion-radius);border:calc(.0625rem*var(--mantine-scale))solid transparent;transition:background-color .15s}.m_9f59b069[data-active]{border-color:var(--item-border-color)}:where([data-mantine-color-scheme=light]) .m_9f59b069[data-active]{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_9f59b069[data-active]{background-color:var(--mantine-color-dark-7)}.m_9f59b069+.m_9f59b069{margin-top:var(--mantine-spacing-md)}.m_7f854edf{z-index:var(--affix-z-index);inset-inline-start:var(--affix-left);inset-inline-end:var(--affix-right);top:var(--affix-top);bottom:var(--affix-bottom);position:fixed}.m_66836ed3{--alert-radius:var(--mantine-radius-default);--alert-bg:var(--mantine-primary-color-light);--alert-bd:calc(.0625rem*var(--mantine-scale))solid transparent;--alert-color:var(--mantine-primary-color-light-color);padding:var(--mantine-spacing-md)var(--mantine-spacing-md);border-radius:var(--alert-radius);background-color:var(--alert-bg);border:var(--alert-bd);color:var(--alert-color);position:relative;overflow:hidden}.m_a5d60502{display:flex}.m_667c2793{gap:var(--mantine-spacing-xs);flex-direction:column;flex:1;display:flex}.m_6a03f287{font-size:var(--mantine-font-size-sm);justify-content:space-between;align-items:center;font-weight:700;display:flex}.m_6a03f287:where([data-with-close-button]){padding-inline-end:var(--mantine-spacing-md)}.m_698f4f23{text-overflow:ellipsis;display:block;overflow:hidden}.m_667f2a6a{width:calc(1.25rem*var(--mantine-scale));height:calc(1.25rem*var(--mantine-scale));margin-inline-end:var(--mantine-spacing-md);margin-top:calc(.0625rem*var(--mantine-scale));justify-content:flex-start;align-items:center;line-height:1;display:flex}.m_7fa78076{text-overflow:ellipsis;font-size:var(--mantine-font-size-sm);overflow:hidden}:where([data-mantine-color-scheme=light]) .m_7fa78076{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_7fa78076{color:var(--mantine-color-white)}.m_7fa78076:where([data-variant=filled]){color:var(--alert-color)}.m_7fa78076:where([data-variant=white]){color:var(--mantine-color-black)}.m_87f54839{width:calc(1.25rem*var(--mantine-scale));height:calc(1.25rem*var(--mantine-scale));color:var(--alert-color)}.m_b6d8b162{-webkit-tap-highlight-color:transparent;font-size:var(--text-fz,var(--mantine-font-size-md));line-height:var(--text-lh,var(--mantine-line-height-md));color:var(--text-color);margin:0;padding:0;font-weight:400;text-decoration:none}.m_b6d8b162:where([data-truncate]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.m_b6d8b162:where([data-truncate=start]){text-align:right;direction:rtl}:where([dir=rtl]) .m_b6d8b162:where([data-truncate=start]){text-align:left;direction:ltr}.m_b6d8b162:where([data-variant=gradient]){background-image:var(--text-gradient);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.m_b6d8b162:where([data-line-clamp]){text-overflow:ellipsis;-webkit-line-clamp:var(--text-line-clamp);-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.m_b6d8b162:where([data-inherit]){line-height:inherit;font-weight:inherit;font-size:inherit}.m_b6d8b162:where([data-inline]){line-height:1}.m_849cf0da{color:var(--mantine-color-anchor);-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;background-color:#0000;border:none;margin:0;padding:0;text-decoration:none;display:inline}@media(hover:hover){.m_849cf0da:where([data-underline=hover]):hover{text-decoration:underline}}@media(hover:none){.m_849cf0da:where([data-underline=hover]):active{text-decoration:underline}}.m_849cf0da:where([data-underline=not-hover]){text-decoration:underline}@media(hover:hover){.m_849cf0da:where([data-underline=not-hover]):hover{text-decoration:none}}@media(hover:none){.m_849cf0da:where([data-underline=not-hover]):active{text-decoration:none}}.m_849cf0da:where([data-underline=always]){text-decoration:underline}.m_849cf0da:where([data-variant=gradient]),.m_849cf0da:where([data-variant=gradient]):hover{text-decoration:none}.m_849cf0da:where([data-line-clamp]){display:-webkit-box}.m_48204f9b{width:var(--slider-size);height:var(--slider-size);-webkit-user-select:none;user-select:none;border-radius:100%;justify-content:center;align-items:center;display:flex;position:relative}.m_48204f9b:focus-within{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem*var(--mantine-scale))}.m_48204f9b{--slider-size:calc(3.75rem*var(--mantine-scale));--thumb-size:calc(var(--slider-size)/5)}:where([data-mantine-color-scheme=light]) .m_48204f9b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_48204f9b{background-color:var(--mantine-color-dark-5)}.m_bb9cdbad{inset:calc(.0625rem*var(--mantine-scale));border-radius:var(--slider-size);pointer-events:none;position:absolute}.m_481dd586{width:calc(.125rem*var(--mantine-scale));transform:rotate(var(--angle));position:absolute;top:0;bottom:0;left:calc(50% - 1px)}.m_481dd586:before{content:"";top:calc(var(--thumb-size)/3);left:calc(.03125rem*var(--mantine-scale));width:calc(.0625rem*var(--mantine-scale));height:calc(var(--thumb-size)/1.5);position:absolute;transform:translate(-50%,-50%)}:where([data-mantine-color-scheme=light]) .m_481dd586:before{background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_481dd586:before{background-color:var(--mantine-color-dark-3)}.m_481dd586[data-label]:after{min-width:calc(1.125rem*var(--mantine-scale));text-align:center;content:attr(data-label);top:calc(-1.5rem*var(--mantine-scale));left:calc(-.4375rem*var(--mantine-scale));transform:rotate(calc(360deg - var(--angle)));font-size:var(--mantine-font-size-xs);position:absolute}.m_bc02ba3d{height:100%;width:calc(.1875rem*var(--mantine-scale));pointer-events:none;outline:none;position:absolute;inset-block:0;inset-inline:calc(50% - 1.5px) 0}.m_bc02ba3d:before{content:"";height:min(var(--thumb-size),calc(var(--slider-size)/2));width:calc(.1875rem*var(--mantine-scale));position:absolute;top:0;right:0}:where([data-mantine-color-scheme=light]) .m_bc02ba3d:before{background-color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_bc02ba3d:before{background-color:var(--mantine-color-dark-1)}.m_bb8e875b{font-size:var(--mantine-font-size-xs)}.m_89ab340[data-resizing]{--app-shell-transition-duration:0s!important}.m_89ab340[data-disabled]{--app-shell-header-offset:0rem!important;--app-shell-navbar-offset:0rem!important;--app-shell-aside-offset:0rem!important;--app-shell-footer-offset:0rem!important}[data-mantine-color-scheme=light] .m_89ab340{--app-shell-border-color:var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89ab340{--app-shell-border-color:var(--mantine-color-dark-4)}.m_45252eee,.m_9cdde9a,.m_3b16f56b,.m_8983817,.m_3840c879{transition-duration:var(--app-shell-transition-duration);transition-timing-function:var(--app-shell-transition-timing-function)}.m_45252eee,.m_9cdde9a{top:var(--app-shell-header-offset,0rem);height:calc(100dvh - var(--app-shell-header-offset,0rem) - var(--app-shell-footer-offset,0rem));background-color:var(--mantine-color-body);flex-direction:column;transition-property:transform,top,height;display:flex;position:fixed}:where([data-layout=alt]) .m_45252eee,:where([data-layout=alt]) .m_9cdde9a{height:100dvh;top:0}.m_45252eee{width:var(--app-shell-navbar-width);transform:var(--app-shell-navbar-transform);z-index:var(--app-shell-navbar-z-index);transition-property:transform,top,height;inset-inline-start:0}:where([dir=rtl]) .m_45252eee{transform:var(--app-shell-navbar-transform-rtl)}.m_45252eee:where([data-with-border]){border-inline-end:1px solid var(--app-shell-border-color)}.m_9cdde9a{width:var(--app-shell-aside-width);transform:var(--app-shell-aside-transform);z-index:var(--app-shell-aside-z-index);inset-inline-end:0}:where([dir=rtl]) .m_9cdde9a{transform:var(--app-shell-aside-transform-rtl)}.m_9cdde9a:where([data-with-border]){border-inline-start:1px solid var(--app-shell-border-color)}.m_8983817{padding-inline-start:calc(var(--app-shell-navbar-offset,0rem) + var(--app-shell-padding));padding-inline-end:calc(var(--app-shell-aside-offset,0rem) + var(--app-shell-padding));padding-top:calc(var(--app-shell-header-offset,0rem) + var(--app-shell-padding));padding-bottom:calc(var(--app-shell-footer-offset,0rem) + var(--app-shell-padding));min-height:100dvh;transition-property:padding}.m_3b16f56b,.m_3840c879{background-color:var(--mantine-color-body);transition-property:transform,left,right;position:fixed;inset-inline:0}:where([data-layout=alt]) .m_3b16f56b,:where([data-layout=alt]) .m_3840c879{inset-inline-start:var(--app-shell-navbar-offset,0rem);inset-inline-end:var(--app-shell-aside-offset,0rem)}.m_3b16f56b{height:var(--app-shell-header-height);background-color:var(--mantine-color-body);transform:var(--app-shell-header-transform);z-index:var(--app-shell-header-z-index);top:0}.m_3b16f56b:where([data-with-border]){border-bottom:1px solid var(--app-shell-border-color)}.m_3840c879{height:calc(var(--app-shell-footer-height) + env(safe-area-inset-bottom));padding-bottom:env(safe-area-inset-bottom);transform:var(--app-shell-footer-transform);z-index:var(--app-shell-footer-z-index);bottom:0}.m_3840c879:where([data-with-border]){border-top:1px solid var(--app-shell-border-color)}.m_6dcfc7c7{flex-grow:0}.m_6dcfc7c7:where([data-grow]){flex-grow:1}.m_71ac47fc{--ar-ratio:1;max-width:100%}.m_71ac47fc>:where(:not(style)){aspect-ratio:var(--ar-ratio);width:100%}.m_71ac47fc>:where(img,video){object-fit:cover}.m_88b62a41{--combobox-padding:calc(.25rem*var(--mantine-scale));padding:var(--combobox-padding)}.m_88b62a41:has([data-mantine-scrollbar]) .m_985517d8{max-width:calc(100% + var(--combobox-padding))}.m_88b62a41[data-composed]{padding-inline-end:0}.m_88b62a41[data-hidden]{display:none}.m_88b62a41,.m_b2821a6e{--combobox-option-padding-xs:calc(.25rem*var(--mantine-scale))calc(.5rem*var(--mantine-scale));--combobox-option-padding-sm:calc(.375rem*var(--mantine-scale))calc(.625rem*var(--mantine-scale));--combobox-option-padding-md:calc(.5rem*var(--mantine-scale))calc(.75rem*var(--mantine-scale));--combobox-option-padding-lg:calc(.625rem*var(--mantine-scale))calc(1rem*var(--mantine-scale));--combobox-option-padding-xl:calc(.875rem*var(--mantine-scale))calc(1.25rem*var(--mantine-scale));--combobox-option-padding:var(--combobox-option-padding-sm)}.m_92253aa5{padding:var(--combobox-option-padding);font-size:var(--combobox-option-fz,var(--mantine-font-size-sm));border-radius:var(--mantine-radius-default);color:inherit;cursor:pointer;word-break:break-word;background-color:#0000}.m_92253aa5:where([data-combobox-selected]){background-color:var(--mantine-primary-color-filled);color:var(--mantine-color-white)}.m_92253aa5:where([data-combobox-disabled]){cursor:not-allowed;opacity:.35}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}.m_985517d8{margin-inline:calc(var(--combobox-padding)*-1);margin-top:calc(var(--combobox-padding)*-1);width:calc(100% + var(--combobox-padding)*2);margin-bottom:var(--combobox-padding);border-top-width:0;border-inline-width:0;border-end-end-radius:0;border-end-start-radius:0;position:relative}:where([data-mantine-color-scheme=light]) .m_985517d8,:where([data-mantine-color-scheme=light]) .m_985517d8:focus{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_985517d8,:where([data-mantine-color-scheme=dark]) .m_985517d8:focus{border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=light]) .m_985517d8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_985517d8{background-color:var(--mantine-color-dark-7)}.m_2530cd1d{font-size:var(--combobox-option-fz,var(--mantine-font-size-sm));text-align:center;padding:var(--combobox-option-padding);color:var(--mantine-color-dimmed)}.m_858f94bd,.m_82b967cb{font-size:var(--combobox-option-fz,var(--mantine-font-size-sm));margin-inline:calc(var(--combobox-padding)*-1);padding:var(--combobox-option-padding);border:0 solid #0000}:where([data-mantine-color-scheme=light]) .m_858f94bd,:where([data-mantine-color-scheme=light]) .m_82b967cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_858f94bd,:where([data-mantine-color-scheme=dark]) .m_82b967cb{border-color:var(--mantine-color-dark-4)}.m_82b967cb{border-top-width:calc(.0625rem*var(--mantine-scale));margin-top:var(--combobox-padding);margin-bottom:calc(var(--combobox-padding)*-1)}.m_858f94bd{border-bottom-width:calc(.0625rem*var(--mantine-scale));margin-bottom:var(--combobox-padding);margin-top:calc(var(--combobox-padding)*-1)}.m_254f3e4f:has(.m_2bb2e9e5:only-child){display:none}.m_2bb2e9e5{color:var(--mantine-color-dimmed);font-size:calc(var(--combobox-option-fz,var(--mantine-font-size-sm))*.85);padding:var(--combobox-option-padding);align-items:center;font-weight:500;display:flex;position:relative}.m_2bb2e9e5:after{content:"";height:calc(.0625rem*var(--mantine-scale));flex:1;margin-inline-start:var(--mantine-spacing-xs);inset-inline:0}:where([data-mantine-color-scheme=light]) .m_2bb2e9e5:after{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_2bb2e9e5:after{background-color:var(--mantine-color-dark-4)}.m_2bb2e9e5:only-child{display:none}.m_2943220b{--combobox-chevron-size-xs:calc(.875rem*var(--mantine-scale));--combobox-chevron-size-sm:calc(1.125rem*var(--mantine-scale));--combobox-chevron-size-md:calc(1.25rem*var(--mantine-scale));--combobox-chevron-size-lg:calc(1.5rem*var(--mantine-scale));--combobox-chevron-size-xl:calc(1.75rem*var(--mantine-scale));--combobox-chevron-size:var(--combobox-chevron-size-sm)}:where([data-mantine-color-scheme=light]) .m_2943220b{--_combobox-chevron-color:var(--combobox-chevron-color,var(--mantine-color-gray-6))}:where([data-mantine-color-scheme=dark]) .m_2943220b{--_combobox-chevron-color:var(--combobox-chevron-color,var(--mantine-color-dark-3))}.m_2943220b{width:var(--combobox-chevron-size);height:var(--combobox-chevron-size);color:var(--_combobox-chevron-color)}.m_2943220b:where([data-error]){color:var(--combobox-chevron-color,var(--mantine-color-error))}.m_390b5f4{align-items:center;gap:calc(.5rem*var(--mantine-scale));display:flex}.m_390b5f4:where([data-reverse]){justify-content:space-between}.m_8ee53fc2{opacity:.4;width:.8em;min-width:.8em;height:.8em}:where([data-combobox-selected]) .m_8ee53fc2{opacity:1}.m_5f75b09e{--label-lh-xs:calc(1rem*var(--mantine-scale));--label-lh-sm:calc(1.25rem*var(--mantine-scale));--label-lh-md:calc(1.5rem*var(--mantine-scale));--label-lh-lg:calc(1.875rem*var(--mantine-scale));--label-lh-xl:calc(2.25rem*var(--mantine-scale));--label-lh:var(--label-lh-sm)}.m_5f75b09e[data-label-position=left]{--label-order:1;--label-offset-end:var(--mantine-spacing-sm);--label-offset-start:0}.m_5f75b09e[data-label-position=right]{--label-order:2;--label-offset-end:0;--label-offset-start:var(--mantine-spacing-sm)}.m_5f6e695e{display:flex}.m_d3ea56bb{--label-cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;font-size:var(--label-fz,var(--mantine-font-size-sm));line-height:var(--label-lh);cursor:var(--label-cursor);flex-direction:column;order:var(--label-order);display:inline-flex}fieldset:disabled .m_d3ea56bb,.m_d3ea56bb[data-disabled]{--label-cursor:not-allowed}.m_8ee546b8{cursor:var(--label-cursor);color:inherit;padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=light]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=dark]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-dark-3)}.m_328f68c0,.m_8e8a99cc{margin-top:calc(var(--mantine-spacing-xs)/2);padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}.m_26775b0a{--card-radius:var(--mantine-radius-default);border-radius:var(--card-radius);cursor:pointer;width:100%;display:block}.m_26775b0a :where(*){cursor:inherit}.m_26775b0a:where([data-with-border]){border:calc(.0625rem*var(--mantine-scale))solid transparent}:where([data-mantine-color-scheme=light]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_5e5256ee{--checkbox-size-xs:calc(1rem*var(--mantine-scale));--checkbox-size-sm:calc(1.25rem*var(--mantine-scale));--checkbox-size-md:calc(1.5rem*var(--mantine-scale));--checkbox-size-lg:calc(1.875rem*var(--mantine-scale));--checkbox-size-xl:calc(2.25rem*var(--mantine-scale));--checkbox-size:var(--checkbox-size-sm);--checkbox-color:var(--mantine-primary-color-filled);--checkbox-icon-color:var(--mantine-color-white);border:calc(.0625rem*var(--mantine-scale))solid transparent;width:var(--checkbox-size);min-width:var(--checkbox-size);height:var(--checkbox-size);min-height:var(--checkbox-size);border-radius:var(--checkbox-radius,var(--mantine-radius-default));cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;justify-content:center;align-items:center;transition:border-color .1s,background-color .1s;display:flex;position:relative}:where([data-mantine-color-scheme=light]) .m_5e5256ee{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_5e5256ee[data-indeterminate],.m_5e5256ee[data-checked]{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_5e5256ee[data-indeterminate]>.m_1b1c543a,.m_5e5256ee[data-checked]>.m_1b1c543a{opacity:1;color:var(--checkbox-icon-color);transform:none}.m_5e5256ee[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-dark-3)}.m_76e20374[data-indeterminate]:not([data-disabled]),.m_76e20374[data-checked]:not([data-disabled]){border-color:var(--checkbox-color);background-color:#0000}.m_76e20374[data-indeterminate]:not([data-disabled])>.m_1b1c543a,.m_76e20374[data-checked]:not([data-disabled])>.m_1b1c543a{color:var(--checkbox-color);opacity:1;transform:none}.m_1b1c543a{color:#0000;pointer-events:none;width:60%;transform:translateY(calc(.3125rem*var(--mantine-scale)))scale(.5);opacity:1;transition:transform .1s,opacity .1s;display:block}.m_bf2d988c{--checkbox-size-xs:calc(1rem*var(--mantine-scale));--checkbox-size-sm:calc(1.25rem*var(--mantine-scale));--checkbox-size-md:calc(1.5rem*var(--mantine-scale));--checkbox-size-lg:calc(1.875rem*var(--mantine-scale));--checkbox-size-xl:calc(2.25rem*var(--mantine-scale));--checkbox-size:var(--checkbox-size-sm);--checkbox-color:var(--mantine-primary-color-filled);--checkbox-icon-color:var(--mantine-color-white)}.m_26062bec{width:var(--checkbox-size);height:var(--checkbox-size);order:1;position:relative}.m_26062bec:where([data-label-position=left]){order:2}.m_26063560{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:calc(.0625rem*var(--mantine-scale))solid transparent;width:var(--checkbox-size);height:var(--checkbox-size);border-radius:var(--checkbox-radius,var(--mantine-radius-default));cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;margin:0;padding:0;transition:border-color .1s,background-color .1s;display:block}:where([data-mantine-color-scheme=light]) .m_26063560{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_26063560{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_26063560:where([data-error]){border-color:var(--mantine-color-error)}.m_26063560[data-indeterminate],.m_26063560:checked{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_26063560[data-indeterminate]+.m_bf295423,.m_26063560:checked+.m_bf295423{opacity:1;transform:none}.m_26063560:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_26063560:disabled{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26063560:disabled{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-dark-3)}.m_215c4542+.m_bf295423{color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled),.m_215c4542:checked:not(:disabled){border-color:var(--checkbox-color);background-color:#0000}.m_215c4542[data-indeterminate]:not(:disabled)+.m_bf295423,.m_215c4542:checked:not(:disabled)+.m_bf295423{color:var(--checkbox-color);opacity:1;transform:none}.m_bf295423{width:60%;color:var(--checkbox-icon-color);pointer-events:none;transform:translateY(calc(.3125rem*var(--mantine-scale)))scale(.5);opacity:0;margin:auto;transition:transform .1s,opacity .1s;position:absolute;top:0;right:0;bottom:0;left:0}.m_11def92b{--ag-spacing:var(--mantine-spacing-sm);--ag-offset:calc(var(--ag-spacing)*-1);padding-inline-start:var(--ag-spacing);display:flex}.m_f85678b6{--avatar-size-xs:calc(1rem*var(--mantine-scale));--avatar-size-sm:calc(1.625rem*var(--mantine-scale));--avatar-size-md:calc(2.375rem*var(--mantine-scale));--avatar-size-lg:calc(3.5rem*var(--mantine-scale));--avatar-size-xl:calc(5.25rem*var(--mantine-scale));--avatar-size:var(--avatar-size-md);--avatar-radius:calc(62.5rem*var(--mantine-scale));--avatar-bg:var(--mantine-color-gray-light);--avatar-bd:calc(.0625rem*var(--mantine-scale))solid transparent;--avatar-color:var(--mantine-color-gray-light-color);--avatar-placeholder-fz:calc(var(--avatar-size)/2.5);-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none;border-radius:var(--avatar-radius);width:var(--avatar-size);height:var(--avatar-size);min-width:var(--avatar-size);padding:0;text-decoration:none;display:block;position:relative;overflow:hidden}.m_f85678b6:where([data-within-group]){border:2px solid var(--mantine-color-body);background:var(--mantine-color-body);margin-inline-start:var(--ag-offset)}.m_11f8ac07{object-fit:cover;width:100%;height:100%;display:block}.m_104cd71f{-webkit-user-select:none;user-select:none;border-radius:var(--avatar-radius);width:100%;height:100%;font-weight:700;font-size:var(--avatar-placeholder-fz);background:var(--avatar-bg);border:var(--avatar-bd);color:var(--avatar-color);justify-content:center;align-items:center;display:flex}.m_104cd71f>[data-avatar-placeholder-icon]{width:70%;height:70%}.m_2ce0de02{border-radius:var(--bi-radius,0);background-position:50%;background-size:cover;border:0;width:100%;text-decoration:none;display:block}.m_347db0ec{--badge-height-xs:calc(1rem*var(--mantine-scale));--badge-height-sm:calc(1.125rem*var(--mantine-scale));--badge-height-md:calc(1.25rem*var(--mantine-scale));--badge-height-lg:calc(1.625rem*var(--mantine-scale));--badge-height-xl:calc(2rem*var(--mantine-scale));--badge-fz-xs:calc(.5625rem*var(--mantine-scale));--badge-fz-sm:calc(.625rem*var(--mantine-scale));--badge-fz-md:calc(.6875rem*var(--mantine-scale));--badge-fz-lg:calc(.8125rem*var(--mantine-scale));--badge-fz-xl:calc(1rem*var(--mantine-scale));--badge-padding-x-xs:calc(.375rem*var(--mantine-scale));--badge-padding-x-sm:calc(.5rem*var(--mantine-scale));--badge-padding-x-md:calc(.625rem*var(--mantine-scale));--badge-padding-x-lg:calc(.75rem*var(--mantine-scale));--badge-padding-x-xl:calc(1rem*var(--mantine-scale));--badge-height:var(--badge-height-md);--badge-fz:var(--badge-fz-md);--badge-padding-x:var(--badge-padding-x-md);--badge-radius:calc(62.5rem*var(--mantine-scale));--badge-lh:calc(var(--badge-height) - calc(.125rem*var(--mantine-scale)));--badge-color:var(--mantine-color-white);--badge-bg:var(--mantine-primary-color-filled);--badge-border-width:calc(.0625rem*var(--mantine-scale));--badge-bd:var(--badge-border-width)solid transparent;-webkit-tap-highlight-color:transparent;font-size:var(--badge-fz);border-radius:var(--badge-radius);height:var(--badge-height);line-height:var(--badge-lh);padding:0 var(--badge-padding-x);text-transform:uppercase;width:fit-content;letter-spacing:calc(.015625rem*var(--mantine-scale));cursor:default;text-overflow:ellipsis;color:var(--badge-color);background:var(--badge-bg);border:var(--badge-bd);justify-content:center;align-items:center;font-weight:700;text-decoration:none;display:inline-grid;overflow:hidden}.m_347db0ec:where([data-with-left-section],[data-variant=dot]){grid-template-columns:auto 1fr}.m_347db0ec:where([data-with-right-section]){grid-template-columns:1fr auto}.m_347db0ec:where([data-with-left-section][data-with-right-section],[data-variant=dot][data-with-right-section]){grid-template-columns:auto 1fr auto}.m_347db0ec:where([data-block]){width:100%;display:flex}.m_347db0ec:where([data-circle]){padding-inline:calc(.125rem*var(--mantine-scale));width:var(--badge-height);display:flex}.m_fbd81e3d{--badge-dot-size:calc(var(--badge-height)/3.4)}:where([data-mantine-color-scheme=light]) .m_fbd81e3d{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fbd81e3d{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_fbd81e3d:before{content:"";width:var(--badge-dot-size);height:var(--badge-dot-size);border-radius:var(--badge-dot-size);background-color:var(--badge-dot-color);margin-inline-end:var(--badge-dot-size);display:block}.m_5add502a{white-space:nowrap;text-overflow:ellipsis;text-align:center;cursor:inherit;overflow:hidden}.m_91fdda9b{--badge-section-margin:calc(var(--mantine-spacing-xs)/2);max-height:calc(var(--badge-height) - var(--badge-border-width)*2);justify-content:center;align-items:center;display:inline-flex}.m_91fdda9b:where([data-position=left]){margin-inline-end:var(--badge-section-margin)}.m_91fdda9b:where([data-position=right]){margin-inline-start:var(--badge-section-margin)}.m_ddec01c0{--blockquote-border:3px solid var(--bq-bd);border-inline-start:var(--blockquote-border);padding:var(--mantine-spacing-xl)calc(2.375rem*var(--mantine-scale));border-start-end-radius:var(--bq-radius);border-end-end-radius:var(--bq-radius);margin:0;position:relative}:where([data-mantine-color-scheme=light]) .m_ddec01c0{background-color:var(--bq-bg-light)}:where([data-mantine-color-scheme=dark]) .m_ddec01c0{background-color:var(--bq-bg-dark)}.m_dde7bd57{--blockquote-icon-offset:calc(var(--bq-icon-size)/-2);color:var(--bq-bd);background-color:var(--mantine-color-body);top:var(--blockquote-icon-offset);width:var(--bq-icon-size);height:var(--bq-icon-size);border-radius:var(--bq-icon-size);justify-content:center;align-items:center;display:flex;position:absolute;inset-inline-start:var(--blockquote-icon-offset)}.m_dde51a35{margin-top:var(--mantine-spacing-md);opacity:.6;font-size:85%;display:block}.m_8b3717df{flex-wrap:wrap;align-items:center;display:flex}.m_f678d540{white-space:nowrap;-webkit-tap-highlight-color:transparent;line-height:1}.m_3b8f2208{margin-inline:var(--bc-separator-margin,var(--mantine-spacing-xs));justify-content:center;align-items:center;line-height:1;display:flex}:where([data-mantine-color-scheme=light]) .m_3b8f2208{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_3b8f2208{color:var(--mantine-color-dark-2)}.m_fea6bf1a{--burger-size-xs:calc(.75rem*var(--mantine-scale));--burger-size-sm:calc(1.125rem*var(--mantine-scale));--burger-size-md:calc(1.5rem*var(--mantine-scale));--burger-size-lg:calc(2.125rem*var(--mantine-scale));--burger-size-xl:calc(2.625rem*var(--mantine-scale));--burger-size:var(--burger-size-md);--burger-line-size:calc(var(--burger-size)/12);width:calc(var(--burger-size) + var(--mantine-spacing-xs));height:calc(var(--burger-size) + var(--mantine-spacing-xs));padding:calc(var(--mantine-spacing-xs)/2);cursor:pointer}:where([data-mantine-color-scheme=light]) .m_fea6bf1a{--burger-color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fea6bf1a{--burger-color:var(--mantine-color-white)}.m_d4fb9cad{-webkit-user-select:none;user-select:none;position:relative}.m_d4fb9cad,.m_d4fb9cad:before,.m_d4fb9cad:after{width:var(--burger-size);height:var(--burger-line-size);background-color:var(--burger-color);outline:calc(.0625rem*var(--mantine-scale))solid transparent;transition-property:background-color,transform;transition-duration:var(--burger-transition-duration,.3s);transition-timing-function:var(--burger-transition-timing-function,ease);display:block}.m_d4fb9cad:before,.m_d4fb9cad:after{content:"";position:absolute;inset-inline-start:0}.m_d4fb9cad:before{top:calc(var(--burger-size)/-3)}.m_d4fb9cad:after{top:calc(var(--burger-size)/3)}.m_d4fb9cad[data-opened]{background-color:#0000}.m_d4fb9cad[data-opened]:before{transform:translateY(calc(var(--burger-size)/3))rotate(45deg)}.m_d4fb9cad[data-opened]:after{transform:translateY(calc(var(--burger-size)/-3))rotate(-45deg)}.m_77c9d27d{--button-height-xs:calc(1.875rem*var(--mantine-scale));--button-height-sm:calc(2.25rem*var(--mantine-scale));--button-height-md:calc(2.625rem*var(--mantine-scale));--button-height-lg:calc(3.125rem*var(--mantine-scale));--button-height-xl:calc(3.75rem*var(--mantine-scale));--button-height-compact-xs:calc(1.375rem*var(--mantine-scale));--button-height-compact-sm:calc(1.625rem*var(--mantine-scale));--button-height-compact-md:calc(1.875rem*var(--mantine-scale));--button-height-compact-lg:calc(2.125rem*var(--mantine-scale));--button-height-compact-xl:calc(2.5rem*var(--mantine-scale));--button-padding-x-xs:calc(.875rem*var(--mantine-scale));--button-padding-x-sm:calc(1.125rem*var(--mantine-scale));--button-padding-x-md:calc(1.375rem*var(--mantine-scale));--button-padding-x-lg:calc(1.625rem*var(--mantine-scale));--button-padding-x-xl:calc(2rem*var(--mantine-scale));--button-padding-x-compact-xs:calc(.4375rem*var(--mantine-scale));--button-padding-x-compact-sm:calc(.5rem*var(--mantine-scale));--button-padding-x-compact-md:calc(.625rem*var(--mantine-scale));--button-padding-x-compact-lg:calc(.75rem*var(--mantine-scale));--button-padding-x-compact-xl:calc(.875rem*var(--mantine-scale));--button-height:var(--button-height-sm);--button-padding-x:var(--button-padding-x-sm);--button-color:var(--mantine-color-white);-webkit-user-select:none;user-select:none;text-align:center;cursor:pointer;border-radius:var(--button-radius,var(--mantine-radius-default));width:auto;font-weight:600;line-height:1;font-size:var(--button-fz,var(--mantine-font-size-sm));background:var(--button-bg,var(--mantine-primary-color-filled));border:var(--button-bd,calc(.0625rem*var(--mantine-scale))solid transparent);color:var(--button-color,var(--mantine-color-white));height:var(--button-height,var(--button-height-sm));padding-inline:var(--button-padding-x,var(--button-padding-x-sm));vertical-align:middle;display:inline-block;position:relative;overflow:hidden}.m_77c9d27d:where([data-block]){width:100%;display:block}.m_77c9d27d:where([data-with-left-section]){padding-inline-start:calc(var(--button-padding-x)/1.5)}.m_77c9d27d:where([data-with-right-section]){padding-inline-end:calc(var(--button-padding-x)/1.5)}.m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625rem*var(--mantine-scale))solid transparent;transform:none}:where([data-mantine-color-scheme=light]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-gray-5);background:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-dark-3);background:var(--mantine-color-dark-6)}.m_77c9d27d:before{content:"";pointer-events:none;inset:calc(-.0625rem*var(--mantine-scale));border-radius:var(--button-radius,var(--mantine-radius-default));opacity:0;filter:blur(12px);transition:transform .15s,opacity .1s;position:absolute;transform:translateY(-100%)}:where([data-mantine-color-scheme=light]) .m_77c9d27d:before{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:before{background-color:#00000026}.m_77c9d27d:where([data-loading]){cursor:not-allowed;transform:none}.m_77c9d27d:where([data-loading]):before{opacity:1;transform:translateY(0)}.m_77c9d27d:where([data-loading]) .m_80f1301b{opacity:0;transform:translateY(100%)}@media(hover:hover){.m_77c9d27d:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover,var(--mantine-primary-color-filled-hover));color:var(--button-hover-color,var(--button-color))}}@media(hover:none){.m_77c9d27d:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover,var(--mantine-primary-color-filled-hover));color:var(--button-hover-color,var(--button-color))}}.m_80f1301b{align-items:center;justify-content:var(--button-justify,center);height:100%;transition:transform .15s,opacity .1s;display:flex;overflow:visible}.m_811560b9{white-space:nowrap;opacity:1;align-items:center;height:100%;display:flex;overflow:hidden}.m_811560b9:where([data-loading]){opacity:.2}.m_a74036a{align-items:center;display:flex}.m_a74036a:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_a74036a:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_a25b86ee{position:absolute;top:50%;left:50%}.m_80d6d844{--button-border-width:calc(.0625rem*var(--mantine-scale));display:flex}.m_80d6d844 :where(.m_77c9d27d):focus{z-index:1;position:relative}.m_80d6d844[data-orientation=horizontal]{flex-direction:row}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):first-child,.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):first-child{border-inline-end-width:calc(var(--button-border-width)/2);border-start-end-radius:0;border-end-end-radius:0}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):last-child,.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):last-child{border-inline-start-width:calc(var(--button-border-width)/2);border-start-start-radius:0;border-end-start-radius:0}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child),.m_80d6d844[data-orientation=horizontal] .m_70be2a01:not(:only-child):not(:first-child):not(:last-child){border-inline-width:calc(var(--button-border-width)/2);border-radius:0}.m_80d6d844[data-orientation=vertical]{flex-direction:column}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):first-child,.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):first-child{border-bottom-width:calc(var(--button-border-width)/2);border-end-end-radius:0;border-end-start-radius:0}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):last-child,.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):last-child{border-top-width:calc(var(--button-border-width)/2);border-start-start-radius:0;border-start-end-radius:0}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child),.m_80d6d844[data-orientation=vertical] .m_70be2a01:not(:only-child):not(:first-child):not(:last-child){border-bottom-width:calc(var(--button-border-width)/2);border-top-width:calc(var(--button-border-width)/2);border-radius:0}.m_70be2a01{--section-height-xs:calc(1.875rem*var(--mantine-scale));--section-height-sm:calc(2.25rem*var(--mantine-scale));--section-height-md:calc(2.625rem*var(--mantine-scale));--section-height-lg:calc(3.125rem*var(--mantine-scale));--section-height-xl:calc(3.75rem*var(--mantine-scale));--section-height-compact-xs:calc(1.375rem*var(--mantine-scale));--section-height-compact-sm:calc(1.625rem*var(--mantine-scale));--section-height-compact-md:calc(1.875rem*var(--mantine-scale));--section-height-compact-lg:calc(2.125rem*var(--mantine-scale));--section-height-compact-xl:calc(2.5rem*var(--mantine-scale));--section-padding-x-xs:calc(.875rem*var(--mantine-scale));--section-padding-x-sm:calc(1.125rem*var(--mantine-scale));--section-padding-x-md:calc(1.375rem*var(--mantine-scale));--section-padding-x-lg:calc(1.625rem*var(--mantine-scale));--section-padding-x-xl:calc(2rem*var(--mantine-scale));--section-padding-x-compact-xs:calc(.4375rem*var(--mantine-scale));--section-padding-x-compact-sm:calc(.5rem*var(--mantine-scale));--section-padding-x-compact-md:calc(.625rem*var(--mantine-scale));--section-padding-x-compact-lg:calc(.75rem*var(--mantine-scale));--section-padding-x-compact-xl:calc(.875rem*var(--mantine-scale));--section-height:var(--section-height-sm);--section-padding-x:var(--section-padding-x-sm);--section-color:var(--mantine-color-white);border-radius:var(--section-radius,var(--mantine-radius-default));width:auto;font-weight:600;font-size:var(--section-fz,var(--mantine-font-size-sm));background:var(--section-bg,var(--mantine-primary-color-filled));border:var(--section-bd,calc(.0625rem*var(--mantine-scale))solid transparent);color:var(--section-color,var(--mantine-color-white));height:var(--section-height,var(--section-height-sm));padding-inline:var(--section-padding-x,var(--section-padding-x-sm));vertical-align:middle;justify-content:center;align-items:center;line-height:1;display:inline-flex}.m_e615b15f{--card-padding:var(--mantine-spacing-md);padding:var(--card-padding);color:var(--mantine-color-text);flex-direction:column;display:flex;position:relative;overflow:hidden}:where([data-mantine-color-scheme=light]) .m_e615b15f{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_e615b15f{background-color:var(--mantine-color-dark-6)}.m_599a2148{margin-inline:calc(var(--card-padding)*-1);display:block}.m_599a2148:where(:first-child){margin-top:calc(var(--card-padding)*-1);border-top:none!important}.m_599a2148:where(:last-child){margin-bottom:calc(var(--card-padding)*-1);border-bottom:none!important}.m_599a2148:where([data-inherit-padding]){padding-inline:var(--card-padding)}.m_599a2148:where([data-with-border]){border-top:calc(.0625rem*var(--mantine-scale))solid;border-bottom:calc(.0625rem*var(--mantine-scale))solid}:where([data-mantine-color-scheme=light]) .m_599a2148{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_599a2148{border-color:var(--mantine-color-dark-4)}.m_599a2148+.m_599a2148{border-top:none!important}.m_4451eb3a{justify-content:center;align-items:center;display:flex}.m_4451eb3a:where([data-inline]){display:inline-flex}.m_f59ffda3{--chip-size-xs:calc(1.4375rem*var(--mantine-scale));--chip-size-sm:calc(1.75rem*var(--mantine-scale));--chip-size-md:calc(2rem*var(--mantine-scale));--chip-size-lg:calc(2.25rem*var(--mantine-scale));--chip-size-xl:calc(2.5rem*var(--mantine-scale));--chip-icon-size-xs:calc(.625rem*var(--mantine-scale));--chip-icon-size-sm:calc(.75rem*var(--mantine-scale));--chip-icon-size-md:calc(.875rem*var(--mantine-scale));--chip-icon-size-lg:calc(1rem*var(--mantine-scale));--chip-icon-size-xl:calc(1.125rem*var(--mantine-scale));--chip-padding-xs:calc(1rem*var(--mantine-scale));--chip-padding-sm:calc(1.25rem*var(--mantine-scale));--chip-padding-md:calc(1.5rem*var(--mantine-scale));--chip-padding-lg:calc(1.75rem*var(--mantine-scale));--chip-padding-xl:calc(2rem*var(--mantine-scale));--chip-checked-padding-xs:calc(.46875rem*var(--mantine-scale));--chip-checked-padding-sm:calc(.625rem*var(--mantine-scale));--chip-checked-padding-md:calc(.73125rem*var(--mantine-scale));--chip-checked-padding-lg:calc(.84375rem*var(--mantine-scale));--chip-checked-padding-xl:calc(.98125rem*var(--mantine-scale));--chip-spacing-xs:calc(.625rem*var(--mantine-scale));--chip-spacing-sm:calc(.75rem*var(--mantine-scale));--chip-spacing-md:calc(1rem*var(--mantine-scale));--chip-spacing-lg:calc(1.25rem*var(--mantine-scale));--chip-spacing-xl:calc(1.375rem*var(--mantine-scale));--chip-size:var(--chip-size-sm);--chip-icon-size:var(--chip-icon-size-sm);--chip-padding:var(--chip-padding-sm);--chip-spacing:var(--chip-spacing-sm);--chip-checked-padding:var(--chip-checked-padding-sm);--chip-bg:var(--mantine-primary-color-filled);--chip-hover:var(--mantine-primary-color-filled-hover);--chip-color:var(--mantine-color-white);--chip-bd:calc(.0625rem*var(--mantine-scale))solid transparent}.m_be049a53{-webkit-user-select:none;user-select:none;border-radius:var(--chip-radius,1000rem);height:var(--chip-size);font-size:var(--chip-fz,var(--mantine-font-size-sm));line-height:calc(var(--chip-size) - calc(.125rem*var(--mantine-scale)));padding-inline:var(--chip-padding);cursor:pointer;white-space:nowrap;-webkit-tap-highlight-color:transparent;border:calc(.0625rem*var(--mantine-scale))solid transparent;color:var(--mantine-color-text);align-items:center;display:inline-flex}.m_be049a53:where([data-checked]){padding:var(--chip-checked-padding)}.m_be049a53:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-gray-2);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-white);border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-dark-6);border:1px solid var(--mantine-color-dark-4)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-dark-5)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-dark-5)}}.m_3904c1af:not([data-disabled]):where([data-checked]){--chip-icon-color:var(--chip-color);border:var(--chip-bd)}@media(hover:hover){.m_3904c1af:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media(hover:none){.m_3904c1af:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_fa109255:not([data-disabled]),.m_f7e165c3:not([data-disabled]){border:calc(.0625rem*var(--mantine-scale))solid transparent;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-dark-5)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-dark-4)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-dark-4)}}.m_fa109255:not([data-disabled]):where([data-checked]),.m_f7e165c3:not([data-disabled]):where([data-checked]){--chip-icon-color:var(--chip-color);color:var(--chip-color);background-color:var(--chip-bg)}@media(hover:hover){.m_fa109255:not([data-disabled]):where([data-checked]):hover,.m_f7e165c3:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media(hover:none){.m_fa109255:not([data-disabled]):where([data-checked]):active,.m_f7e165c3:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_9ac86df9{width:calc(var(--chip-icon-size) + (var(--chip-spacing)/1.5));max-width:calc(var(--chip-icon-size) + (var(--chip-spacing)/1.5));height:var(--chip-icon-size);align-items:center;display:flex;overflow:hidden}.m_d6d72580{width:var(--chip-icon-size);height:var(--chip-icon-size);color:var(--chip-icon-color,inherit);display:block}.m_bde07329{opacity:0;width:0;height:0;margin:0;padding:0}.m_bde07329:focus-visible+.m_be049a53{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem*var(--mantine-scale))}.m_b183c0a2{font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);padding:2px calc(var(--mantine-spacing-xs)/2);border-radius:var(--mantine-radius-sm);font-size:var(--mantine-font-size-xs);margin:0;overflow:auto}:where([data-mantine-color-scheme=light]) .m_b183c0a2{background-color:var(--code-bg,var(--mantine-color-gray-1));color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_b183c0a2{background-color:var(--code-bg,var(--mantine-color-dark-5));color:var(--mantine-color-white)}.m_b183c0a2[data-block]{padding:var(--mantine-spacing-xs)}.m_de3d2490{--cs-size:calc(1.75rem*var(--mantine-scale));--cs-radius:calc(62.5rem*var(--mantine-scale));-webkit-tap-highlight-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--cs-size);height:var(--cs-size);min-width:var(--cs-size);min-height:var(--cs-size);border-radius:var(--cs-radius);color:inherit;border:none;line-height:1;text-decoration:none;display:block;position:relative}[data-mantine-color-scheme=light] .m_de3d2490{--alpha-overlay-color:var(--mantine-color-gray-3);--alpha-overlay-bg:var(--mantine-color-white)}[data-mantine-color-scheme=dark] .m_de3d2490{--alpha-overlay-color:var(--mantine-color-dark-4);--alpha-overlay-bg:var(--mantine-color-dark-7)}.m_862f3d1b{border-radius:var(--cs-radius);position:absolute;top:0;right:0;bottom:0;left:0}.m_98ae7f22{border-radius:var(--cs-radius);z-index:1;box-shadow:#0000001a 0 0 0 calc(.0625rem*var(--mantine-scale)) inset,#00000026 0 0 calc(.25rem*var(--mantine-scale)) inset;position:absolute;top:0;right:0;bottom:0;left:0}.m_95709ac0{border-radius:var(--cs-radius);background-size:calc(.5rem*var(--mantine-scale))calc(.5rem*var(--mantine-scale));background-position:0 0,0 calc(.25rem*var(--mantine-scale)),calc(.25rem*var(--mantine-scale))calc(-.25rem*var(--mantine-scale)),calc(-.25rem*var(--mantine-scale))0;background-image:linear-gradient(45deg,var(--alpha-overlay-color)25%,transparent 25%),linear-gradient(-45deg,var(--alpha-overlay-color)25%,transparent 25%),linear-gradient(45deg,transparent 75%,var(--alpha-overlay-color)75%),linear-gradient(-45deg,var(--alpha-overlay-bg)75%,var(--alpha-overlay-color)75%);position:absolute;top:0;right:0;bottom:0;left:0}.m_93e74e3{border-radius:var(--cs-radius);z-index:2;justify-content:center;align-items:center;display:flex;position:absolute;top:0;right:0;bottom:0;left:0}.m_fee9c77{--cp-width-xs:calc(11.25rem*var(--mantine-scale));--cp-width-sm:calc(12.5rem*var(--mantine-scale));--cp-width-md:calc(15rem*var(--mantine-scale));--cp-width-lg:calc(17.5rem*var(--mantine-scale));--cp-width-xl:calc(20rem*var(--mantine-scale));--cp-preview-size-xs:calc(1.625rem*var(--mantine-scale));--cp-preview-size-sm:calc(2.125rem*var(--mantine-scale));--cp-preview-size-md:calc(2.625rem*var(--mantine-scale));--cp-preview-size-lg:calc(3.125rem*var(--mantine-scale));--cp-preview-size-xl:calc(3.375rem*var(--mantine-scale));--cp-thumb-size-xs:calc(.5rem*var(--mantine-scale));--cp-thumb-size-sm:calc(.75rem*var(--mantine-scale));--cp-thumb-size-md:calc(1rem*var(--mantine-scale));--cp-thumb-size-lg:calc(1.25rem*var(--mantine-scale));--cp-thumb-size-xl:calc(1.375rem*var(--mantine-scale));--cp-saturation-height-xs:calc(6.25rem*var(--mantine-scale));--cp-saturation-height-sm:calc(6.875rem*var(--mantine-scale));--cp-saturation-height-md:calc(7.5rem*var(--mantine-scale));--cp-saturation-height-lg:calc(8.75rem*var(--mantine-scale));--cp-saturation-height-xl:calc(10rem*var(--mantine-scale));--cp-preview-size:var(--cp-preview-size-sm);--cp-thumb-size:var(--cp-thumb-size-sm);--cp-saturation-height:var(--cp-saturation-height-sm);--cp-width:var(--cp-width-sm);--cp-body-spacing:var(--mantine-spacing-sm);width:var(--cp-width);padding:calc(.0625rem*var(--mantine-scale))}.m_fee9c77:where([data-full-width]){width:100%}.m_9dddfbac{width:var(--cp-preview-size);height:var(--cp-preview-size)}.m_bffecc3e{padding-top:calc(var(--cp-body-spacing)/2);display:flex}.m_3283bb96{flex:1}.m_3283bb96:not(:only-child){margin-inline-end:var(--mantine-spacing-xs)}.m_40d572ba{border:2px solid var(--mantine-color-white);width:var(--cp-thumb-size);height:var(--cp-thumb-size);border-radius:var(--cp-thumb-size);left:calc(var(--thumb-x-offset) - var(--cp-thumb-size)/2);top:calc(var(--thumb-y-offset) - var(--cp-thumb-size)/2);position:absolute;overflow:hidden;box-shadow:0 0 1px #0009}.m_d8ee6fd8{margin:calc(.125rem*var(--mantine-scale));cursor:pointer;padding-bottom:calc(var(--cp-swatch-size) - calc(.25rem*var(--mantine-scale)));flex:0 0 calc(var(--cp-swatch-size) - calc(.25rem*var(--mantine-scale)));height:unset!important;width:unset!important;min-width:0!important;min-height:0!important}.m_5711e686{margin-top:calc(.3125rem*var(--mantine-scale));margin-inline:calc(-.125rem*var(--mantine-scale));flex-wrap:wrap;display:flex}.m_202a296e{--cp-thumb-size-xs:calc(.5rem*var(--mantine-scale));--cp-thumb-size-sm:calc(.75rem*var(--mantine-scale));--cp-thumb-size-md:calc(1rem*var(--mantine-scale));--cp-thumb-size-lg:calc(1.25rem*var(--mantine-scale));--cp-thumb-size-xl:calc(1.375rem*var(--mantine-scale));-webkit-tap-highlight-color:transparent;height:var(--cp-saturation-height);border-radius:var(--mantine-radius-sm);margin:calc(var(--cp-thumb-size)/2);position:relative}.m_202a296e:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba,.m_202a296e:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_11b3db02{border-radius:var(--mantine-radius-sm);inset:calc(var(--cp-thumb-size)*-1/2 - calc(.0625rem*var(--mantine-scale)));position:absolute}.m_d856d47d{--cp-thumb-size-xs:calc(.5rem*var(--mantine-scale));--cp-thumb-size-sm:calc(.75rem*var(--mantine-scale));--cp-thumb-size-md:calc(1rem*var(--mantine-scale));--cp-thumb-size-lg:calc(1.25rem*var(--mantine-scale));--cp-thumb-size-xl:calc(1.375rem*var(--mantine-scale));--cp-thumb-size:var(--cp-thumb-size,calc(.75rem*var(--mantine-scale)));height:calc(var(--cp-thumb-size) + calc(.125rem*var(--mantine-scale)));margin-inline:calc(var(--cp-thumb-size)/2);outline:none;position:relative}.m_d856d47d+.m_d856d47d{margin-top:calc(.375rem*var(--mantine-scale))}.m_d856d47d:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba,.m_d856d47d:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}:where([data-mantine-color-scheme=light]) .m_d856d47d{--slider-checkers:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d856d47d{--slider-checkers:var(--mantine-color-dark-4)}.m_8f327113{top:0;bottom:0;inset-inline:calc(var(--cp-thumb-size)*-1/2 - calc(.0625rem*var(--mantine-scale)));border-radius:10000rem;position:absolute}.m_b077c2bc{--ci-eye-dropper-icon-size-xs:calc(.875rem*var(--mantine-scale));--ci-eye-dropper-icon-size-sm:calc(1rem*var(--mantine-scale));--ci-eye-dropper-icon-size-md:calc(1.125rem*var(--mantine-scale));--ci-eye-dropper-icon-size-lg:calc(1.25rem*var(--mantine-scale));--ci-eye-dropper-icon-size-xl:calc(1.375rem*var(--mantine-scale));--ci-eye-dropper-icon-size:var(--ci-eye-dropper-icon-size-sm)}.m_c5ccdcab{--ci-preview-size-xs:calc(1rem*var(--mantine-scale));--ci-preview-size-sm:calc(1.125rem*var(--mantine-scale));--ci-preview-size-md:calc(1.375rem*var(--mantine-scale));--ci-preview-size-lg:calc(1.75rem*var(--mantine-scale));--ci-preview-size-xl:calc(2.25rem*var(--mantine-scale));--ci-preview-size:var(--ci-preview-size-sm)}.m_5ece2cd7{padding:calc(.5rem*var(--mantine-scale))}.m_7485cace{--container-size-xs:calc(33.75rem*var(--mantine-scale));--container-size-sm:calc(45rem*var(--mantine-scale));--container-size-md:calc(60rem*var(--mantine-scale));--container-size-lg:calc(71.25rem*var(--mantine-scale));--container-size-xl:calc(82.5rem*var(--mantine-scale));--container-size:var(--container-size-md);max-width:var(--container-size);padding-inline:var(--mantine-spacing-md);margin-inline:auto}.m_7485cace:where([data-fluid]){max-width:100%}.m_e2125a27{--dialog-size-xs:calc(10rem*var(--mantine-scale));--dialog-size-sm:calc(12.5rem*var(--mantine-scale));--dialog-size-md:calc(21.25rem*var(--mantine-scale));--dialog-size-lg:calc(25rem*var(--mantine-scale));--dialog-size-xl:calc(31.25rem*var(--mantine-scale));--dialog-size:var(--dialog-size-md);width:var(--dialog-size);max-width:calc(100vw - var(--mantine-spacing-xl)*2);min-height:calc(3.125rem*var(--mantine-scale));position:relative}.m_5abab665{top:calc(var(--mantine-spacing-md)/2);position:absolute;inset-inline-end:calc(var(--mantine-spacing-md)/2)}.m_3eebeb36{--divider-size-xs:calc(.0625rem*var(--mantine-scale));--divider-size-sm:calc(.125rem*var(--mantine-scale));--divider-size-md:calc(.1875rem*var(--mantine-scale));--divider-size-lg:calc(.25rem*var(--mantine-scale));--divider-size-xl:calc(.3125rem*var(--mantine-scale));--divider-size:var(--divider-size-xs)}:where([data-mantine-color-scheme=light]) .m_3eebeb36{--divider-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3eebeb36{--divider-color:var(--mantine-color-dark-4)}.m_3eebeb36:where([data-orientation=horizontal]){border-top:var(--divider-size)var(--divider-border-style,solid)var(--divider-color)}.m_3eebeb36:where([data-orientation=vertical]){border-inline-start:var(--divider-size)var(--divider-border-style,solid)var(--divider-color);align-self:stretch;height:auto}.m_3eebeb36:where([data-with-label]){border:0}.m_9e365f20{font-size:var(--mantine-font-size-xs);color:var(--mantine-color-dimmed);white-space:nowrap;align-items:center;display:flex}.m_9e365f20:where([data-position=left]):before,.m_9e365f20:where([data-position=right]):after{display:none}.m_9e365f20:before{content:"";height:calc(.0625rem*var(--mantine-scale));border-top:var(--divider-size)var(--divider-border-style,solid)var(--divider-color);flex:1;margin-inline-end:var(--mantine-spacing-xs)}.m_9e365f20:after{content:"";height:calc(.0625rem*var(--mantine-scale));border-top:var(--divider-size)var(--divider-border-style,solid)var(--divider-color);flex:1;margin-inline-start:var(--mantine-spacing-xs)}.m_f11b401e{--drawer-size-xs:calc(20rem*var(--mantine-scale));--drawer-size-sm:calc(23.75rem*var(--mantine-scale));--drawer-size-md:calc(27.5rem*var(--mantine-scale));--drawer-size-lg:calc(38.75rem*var(--mantine-scale));--drawer-size-xl:calc(48.75rem*var(--mantine-scale));--drawer-size:var(--drawer-size-md);--drawer-offset:0rem}.m_5a7c2c9{z-index:1000}.m_b8a05bbd{flex:var(--drawer-flex,0 0 var(--drawer-size));height:var(--drawer-height,calc(100% - var(--drawer-offset)*2));margin:var(--drawer-offset);max-width:calc(100% - var(--drawer-offset)*2);max-height:calc(100% - var(--drawer-offset)*2);overflow-y:auto}.m_b8a05bbd[data-hidden]{pointer-events:none;opacity:0!important}.m_31cd769a{justify-content:var(--drawer-justify,flex-start);align-items:var(--drawer-align,flex-start);display:flex}.m_e9408a47{padding:var(--mantine-spacing-lg);padding-top:var(--mantine-spacing-xs);border-radius:var(--fieldset-radius,var(--mantine-radius-default));min-inline-size:auto}.m_84c9523a{border:calc(.0625rem*var(--mantine-scale))solid}:where([data-mantine-color-scheme=light]) .m_84c9523a{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_84c9523a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-7)}.m_ef274e49{border:calc(.0625rem*var(--mantine-scale))solid}:where([data-mantine-color-scheme=light]) .m_ef274e49{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_ef274e49{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_eda993d3{border:0;border-radius:0;padding:0}.m_90794832{font-size:var(--mantine-font-size-sm)}.m_74ca27fe{margin-bottom:var(--mantine-spacing-sm);padding:0}.m_8478a6da{container:mantine-grid/inline-size}.m_410352e9{--grid-overflow:visible;--grid-margin:calc(var(--grid-gutter)/-2);--grid-col-padding:calc(var(--grid-gutter)/2);overflow:var(--grid-overflow)}.m_dee7bd2f{width:calc(100% + var(--grid-gutter));justify-content:var(--grid-justify);align-items:var(--grid-align);margin:var(--grid-margin);flex-wrap:wrap;display:flex}.m_96bdd299{--col-flex-grow:0;--col-offset:0rem;flex-shrink:0;order:var(--col-order);flex-basis:var(--col-flex-basis);width:var(--col-width);max-width:var(--col-max-width);flex-grow:var(--col-flex-grow);padding:var(--grid-col-padding);margin-inline-start:var(--col-offset)}.m_bcb3f3c2{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=light]) .m_bcb3f3c2{background-color:var(--mark-bg-light)}:where([data-mantine-color-scheme=dark]) .m_bcb3f3c2{background-color:var(--mark-bg-dark)}.m_9e117634{object-fit:var(--image-object-fit,cover);border-radius:var(--image-radius,0);flex:0;width:100%;display:block}@keyframes m_885901b1{0%{opacity:.6;transform:scale(0)}to{opacity:0;transform:scale(2.8)}}.m_e5262200{--indicator-size:calc(.625rem*var(--mantine-scale));--indicator-color:var(--mantine-primary-color-filled);display:block;position:relative}.m_e5262200:where([data-inline]){display:inline-block}.m_760d1fb1{top:var(--indicator-top);left:var(--indicator-left);right:var(--indicator-right);bottom:var(--indicator-bottom);transform:translate(var(--indicator-translate-x),var(--indicator-translate-y));min-width:var(--indicator-size);height:var(--indicator-size);border-radius:var(--indicator-radius,1000rem);z-index:var(--indicator-z-index,200);font-size:var(--mantine-font-size-xs);background-color:var(--indicator-color);color:var(--indicator-text-color,var(--mantine-color-white));white-space:nowrap;justify-content:center;align-items:center;display:flex;position:absolute}.m_760d1fb1:before{content:"";background-color:var(--indicator-color);border-radius:var(--indicator-radius,1000rem);z-index:-1;position:absolute;top:0;right:0;bottom:0;left:0}.m_760d1fb1:where([data-with-label]){padding-inline:calc(var(--mantine-spacing-xs)/2)}.m_760d1fb1:where([data-with-border]){border:2px solid var(--mantine-color-body)}.m_760d1fb1[data-processing]:before{animation:1s linear infinite m_885901b1}.m_dc6f14e2{--kbd-fz-xs:calc(.625rem*var(--mantine-scale));--kbd-fz-sm:calc(.75rem*var(--mantine-scale));--kbd-fz-md:calc(.875rem*var(--mantine-scale));--kbd-fz-lg:calc(1rem*var(--mantine-scale));--kbd-fz-xl:calc(1.25rem*var(--mantine-scale));--kbd-fz:var(--kbd-fz-sm);--kbd-padding-xs:calc(.125rem*var(--mantine-scale))calc(.25rem*var(--mantine-scale));--kbd-padding-sm:calc(.1875rem*var(--mantine-scale))calc(.3125rem*var(--mantine-scale));--kbd-padding-md:calc(.25rem*var(--mantine-scale))calc(.4375rem*var(--mantine-scale));--kbd-padding-lg:calc(.3125rem*var(--mantine-scale))calc(.5625rem*var(--mantine-scale));--kbd-padding-xl:calc(.5rem*var(--mantine-scale))calc(.875rem*var(--mantine-scale));--kbd-padding:var(--kbd-padding-sm);font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);padding:var(--kbd-padding);font-weight:700;font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625rem*var(--mantine-scale))solid;border-bottom-width:calc(.1875rem*var(--mantine-scale));unicode-bidi:embed}:where([data-mantine-color-scheme=light]) .m_dc6f14e2{border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_dc6f14e2{border-color:var(--mantine-color-dark-4);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-6)}.m_abbac491{--list-fz:var(--mantine-font-size-md);--list-lh:var(--mantine-line-height-md);font-size:var(--list-fz);line-height:var(--list-lh);margin:0;padding:0;list-style-position:inside}.m_abbac491:where([data-with-padding]){padding-inline-start:var(--mantine-spacing-md)}.m_abb6bec2{white-space:nowrap;line-height:var(--list-lh)}.m_abb6bec2:where([data-with-icon]){list-style:none}.m_abb6bec2:where([data-with-icon]) .m_75cd9f71{--li-direction:row;--li-align:center}.m_abb6bec2:where(:not(:first-of-type)){margin-top:var(--list-spacing,0)}.m_abb6bec2:where([data-centered]){line-height:1}.m_75cd9f71{flex-direction:var(--li-direction,column);align-items:var(--li-align,flex-start);white-space:normal;display:inline-flex}.m_60f83e5b{vertical-align:middle;margin-inline-end:var(--mantine-spacing-sm);display:inline-block}.m_6e45937b{z-index:var(--lo-z-index);justify-content:center;align-items:center;display:flex;position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden}.m_e8eb006c{z-index:calc(var(--lo-z-index) + 1);position:relative}.m_df587f17{z-index:var(--lo-z-index)}.m_dc9b7c9f{padding:calc(.25rem*var(--mantine-scale))}.m_9bfac126{color:var(--mantine-color-dimmed);font-weight:500;font-size:var(--mantine-font-size-xs);padding:calc(var(--mantine-spacing-xs)/2)var(--mantine-spacing-sm);cursor:default}.m_efdf90cb{margin-top:calc(.25rem*var(--mantine-scale));margin-bottom:calc(.25rem*var(--mantine-scale));border-top:calc(.0625rem*var(--mantine-scale))solid}:where([data-mantine-color-scheme=light]) .m_efdf90cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_efdf90cb{border-color:var(--mantine-color-dark-4)}.m_99ac2aa1{font-size:var(--mantine-font-size-sm);width:100%;padding:calc(var(--mantine-spacing-xs)/1.5)var(--mantine-spacing-sm);border-radius:var(--popover-radius,var(--mantine-radius-default));color:var(--menu-item-color,var(--mantine-color-text));-webkit-user-select:none;user-select:none;align-items:center;display:flex}.m_99ac2aa1:where([data-disabled],:disabled){color:var(--mantine-color-dimmed);opacity:.6;cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_99ac2aa1:where([data-hovered]):where(:not(:disabled,[data-disabled])){background-color:var(--menu-item-hover,var(--mantine-color-gray-1))}:where([data-mantine-color-scheme=dark]) .m_99ac2aa1:where([data-hovered]):where(:not(:disabled,[data-disabled])){background-color:var(--menu-item-hover,var(--mantine-color-dark-4))}.m_5476e0d3{flex:1}.m_8b75e504{justify-content:center;align-items:center;display:flex}.m_8b75e504:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_8b75e504:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_9df02822{--modal-size-xs:calc(20rem*var(--mantine-scale));--modal-size-sm:calc(23.75rem*var(--mantine-scale));--modal-size-md:calc(27.5rem*var(--mantine-scale));--modal-size-lg:calc(38.75rem*var(--mantine-scale));--modal-size-xl:calc(48.75rem*var(--mantine-scale));--modal-size:var(--modal-size-md);--modal-y-offset:5dvh;--modal-x-offset:5vw}.m_9df02822[data-full-screen]{--modal-border-radius:0!important}.m_9df02822[data-full-screen] .m_54c44539{--modal-content-flex:0 0 100%;--modal-content-max-height:auto;--modal-content-height:100dvh}.m_9df02822[data-full-screen] .m_1f958f16{--modal-inner-y-offset:0;--modal-inner-x-offset:0}.m_9df02822[data-centered] .m_1f958f16{--modal-inner-align:center}.m_d0e2b9cd{border-start-start-radius:var(--modal-radius,var(--mantine-radius-default));border-start-end-radius:var(--modal-radius,var(--mantine-radius-default))}.m_54c44539{flex:var(--modal-content-flex,0 0 var(--modal-size));max-width:100%;max-height:var(--modal-content-max-height,calc(100dvh - var(--modal-y-offset)*2));height:var(--modal-content-height,auto);overflow-y:auto}.m_54c44539[data-full-screen]{border-radius:0}.m_54c44539[data-hidden]{pointer-events:none;opacity:0!important}.m_1f958f16{justify-content:center;align-items:var(--modal-inner-align,flex-start);padding-top:var(--modal-inner-y-offset,var(--modal-y-offset));padding-bottom:var(--modal-inner-y-offset,var(--modal-y-offset));padding-inline:var(--modal-inner-x-offset,var(--modal-x-offset));display:flex}.m_7cda1cd6{--pill-fz-xs:calc(.625rem*var(--mantine-scale));--pill-fz-sm:calc(.75rem*var(--mantine-scale));--pill-fz-md:calc(.875rem*var(--mantine-scale));--pill-fz-lg:calc(1rem*var(--mantine-scale));--pill-fz-xl:calc(1.125rem*var(--mantine-scale));--pill-height-xs:calc(1.125rem*var(--mantine-scale));--pill-height-sm:calc(1.375rem*var(--mantine-scale));--pill-height-md:calc(1.5625rem*var(--mantine-scale));--pill-height-lg:calc(1.75rem*var(--mantine-scale));--pill-height-xl:calc(2rem*var(--mantine-scale));--pill-fz:var(--pill-fz-sm);--pill-height:var(--pill-height-sm);font-size:var(--pill-fz);height:var(--pill-height);border-radius:var(--pill-radius,1000rem);white-space:nowrap;-webkit-user-select:none;user-select:none;flex:0;align-items:center;max-width:100%;padding-inline:.8em;line-height:1;display:inline-flex}:where([data-mantine-color-scheme=dark]) .m_7cda1cd6{background-color:var(--mantine-color-dark-7);color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_7cda1cd6{color:var(--mantine-color-black)}.m_7cda1cd6:where([data-with-remove]:not(:has(button:disabled))){padding-inline-end:0}.m_7cda1cd6:where([data-disabled],:has(button:disabled)){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_44da308b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=light]) .m_44da308b:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=light]) .m_e3a01f8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=light]) .m_e3a01f8:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}.m_1e0e6180{cursor:inherit;height:100%;line-height:var(--pill-height);text-overflow:ellipsis;overflow:hidden}.m_ae386778{color:inherit;font-size:inherit;height:100%;min-height:unset;min-width:2em;width:unset;border-radius:0;border-start-end-radius:var(--pill-radius,50%);border-end-end-radius:var(--pill-radius,50%);flex:0;padding-inline:.1em .3em}.m_7cda1cd6[data-disabled]>.m_ae386778,.m_ae386778:disabled{cursor:not-allowed;background-color:#0000;width:.8em;min-width:.8em;padding:0;display:none}.m_7cda1cd6[data-disabled]>.m_ae386778>svg,.m_ae386778:disabled>svg{display:none}.m_ae386778>svg{pointer-events:none}.m_1dcfd90b{--pg-gap-xs:calc(.375rem*var(--mantine-scale));--pg-gap-sm:calc(.5rem*var(--mantine-scale));--pg-gap-md:calc(.625rem*var(--mantine-scale));--pg-gap-lg:calc(.75rem*var(--mantine-scale));--pg-gap-xl:calc(.75rem*var(--mantine-scale));--pg-gap:var(--pg-gap-sm);align-items:center;gap:var(--pg-gap);flex-wrap:wrap;display:flex}.m_45c4369d{-webkit-appearance:none;-moz-appearance:none;appearance:none;min-width:calc(6.25rem*var(--mantine-scale));font-size:inherit;height:1.6em;color:inherit;background-color:#0000;border:0;flex:1;padding:0}.m_45c4369d::placeholder{color:var(--input-placeholder-color);opacity:1}.m_45c4369d:where([data-type=hidden],[data-type=auto]){height:calc(.0625rem*var(--mantine-scale));width:calc(.0625rem*var(--mantine-scale));pointer-events:none;opacity:0;position:absolute;top:0;left:0}.m_45c4369d:focus{outline:none}.m_45c4369d:where([data-type=auto]:focus){visibility:visible;opacity:1;height:1.6em;position:static}.m_45c4369d:where([data-pointer]:not([data-disabled],:disabled)){cursor:pointer}.m_45c4369d:where([data-disabled],:disabled){cursor:not-allowed}.m_f0824112{--nl-bg:var(--mantine-primary-color-light);--nl-hover:var(--mantine-primary-color-light-hover);--nl-color:var(--mantine-primary-color-light-color);width:100%;padding:8px var(--mantine-spacing-sm);-webkit-user-select:none;user-select:none;align-items:center;display:flex}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_f0824112:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:hover{background-color:var(--mantine-color-dark-6)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_f0824112:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:active{background-color:var(--mantine-color-dark-6)}}.m_f0824112:where([data-disabled]){opacity:.4;pointer-events:none}.m_f0824112:where([data-active],[aria-current=page]){background-color:var(--nl-bg);color:var(--nl-color)}@media(hover:hover){.m_f0824112:where([data-active],[aria-current=page]):hover{background-color:var(--nl-hover)}}@media(hover:none){.m_f0824112:where([data-active],[aria-current=page]):active{background-color:var(--nl-hover)}}.m_f0824112:where([data-active],[aria-current=page]) .m_57492dcc{--description-opacity:.9;--description-color:var(--nl-color)}.m_690090b5{justify-content:center;align-items:center;transition:transform .15s;display:flex}.m_690090b5>svg{display:block}.m_690090b5:where([data-position=left]){margin-inline-end:var(--mantine-spacing-sm)}.m_690090b5:where([data-position=right]){margin-inline-start:var(--mantine-spacing-sm)}.m_690090b5:where([data-rotate]){transform:rotate(90deg)}.m_1f6ac4c4{font-size:var(--mantine-font-size-sm)}.m_f07af9d2{text-overflow:ellipsis;flex:1;overflow:hidden}.m_f07af9d2:where([data-no-wrap]){white-space:nowrap}.m_57492dcc{font-size:var(--mantine-font-size-xs);opacity:var(--description-opacity,1);color:var(--description-color,var(--mantine-color-dimmed));text-overflow:ellipsis;display:block;overflow:hidden}:where([data-no-wrap]) .m_57492dcc{white-space:nowrap}.m_e17b862f{padding-inline-start:var(--nl-offset,var(--mantine-spacing-lg))}.m_1fd8a00b{transform:rotate(-90deg)}.m_a513464{--notification-radius:var(--mantine-radius-default);--notification-color:var(--mantine-primary-color-filled);box-sizing:border-box;padding-inline-start:calc(1.375rem*var(--mantine-scale));padding-inline-end:var(--mantine-spacing-xs);padding-top:var(--mantine-spacing-xs);padding-bottom:var(--mantine-spacing-xs);border-radius:var(--notification-radius);box-shadow:var(--mantine-shadow-lg);align-items:center;display:flex;position:relative;overflow:hidden}.m_a513464:before{content:"";width:calc(.375rem*var(--mantine-scale));top:var(--notification-radius);bottom:var(--notification-radius);border-radius:var(--notification-radius);background-color:var(--notification-color);display:block;position:absolute;inset-inline-start:calc(.25rem*var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_a513464{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_a513464{background-color:var(--mantine-color-dark-6)}.m_a513464:where([data-with-icon]){padding-inline-start:var(--mantine-spacing-xs)}.m_a513464:where([data-with-icon]):before{display:none}:where([data-mantine-color-scheme=light]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-dark-4)}.m_a4ceffb{box-sizing:border-box;width:calc(1.75rem*var(--mantine-scale));height:calc(1.75rem*var(--mantine-scale));border-radius:calc(1.75rem*var(--mantine-scale));background-color:var(--notification-color);color:var(--mantine-color-white);justify-content:center;align-items:center;margin-inline-end:var(--mantine-spacing-md);display:flex}.m_b0920b15{margin-inline-end:var(--mantine-spacing-md)}.m_a49ed24{flex:1;margin-inline-end:var(--mantine-spacing-xs);overflow:hidden}.m_3feedf16{margin-bottom:calc(.125rem*var(--mantine-scale));text-overflow:ellipsis;font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);font-weight:500;overflow:hidden}:where([data-mantine-color-scheme=light]) .m_3feedf16{color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_3feedf16{color:var(--mantine-color-white)}.m_3d733a3a{font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);text-overflow:ellipsis;overflow:hidden}:where([data-mantine-color-scheme=light]) .m_3d733a3a{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a{color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-dark-2)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_919a4d88:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:hover{background-color:var(--mantine-color-dark-8)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_919a4d88:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:active{background-color:var(--mantine-color-dark-8)}}.m_e2f5cd4e{--ni-right-section-width-xs:calc(1.0625rem*var(--mantine-scale));--ni-right-section-width-sm:calc(1.5rem*var(--mantine-scale));--ni-right-section-width-md:calc(1.6875rem*var(--mantine-scale));--ni-right-section-width-lg:calc(1.9375rem*var(--mantine-scale));--ni-right-section-width-xl:calc(2.125rem*var(--mantine-scale))}.m_95e17d22{--ni-chevron-size-xs:calc(.625rem*var(--mantine-scale));--ni-chevron-size-sm:calc(.875rem*var(--mantine-scale));--ni-chevron-size-md:calc(1rem*var(--mantine-scale));--ni-chevron-size-lg:calc(1.125rem*var(--mantine-scale));--ni-chevron-size-xl:calc(1.25rem*var(--mantine-scale));--ni-chevron-size:var(--ni-chevron-size-sm);width:100%;height:calc(var(--input-height) - calc(.125rem*var(--mantine-scale)));max-width:calc(var(--ni-chevron-size)*1.7);flex-direction:column;margin-inline-start:auto;display:flex}.m_80b4b171{--control-border:1px solid var(--input-bd);--control-radius:calc(var(--input-radius) - calc(.0625rem*var(--mantine-scale)));width:100%;height:calc(var(--input-height)/2 - calc(.0625rem*var(--mantine-scale)));border-inline-start:var(--control-border);color:var(--mantine-color-text);cursor:pointer;background-color:#0000;flex:0 0 50%;justify-content:center;align-items:center;padding:0;display:flex}.m_80b4b171:where(:disabled){cursor:not-allowed;opacity:.6;background-color:#0000}:where([data-mantine-color-scheme=light]) .m_80b4b171:where(:disabled){color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:where(:disabled){color:var(--mantine-color-dark-3)}.m_e2f5cd4e[data-error] :where(.m_80b4b171){color:var(--mantine-color-error)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_80b4b171:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:hover{background-color:var(--mantine-color-dark-4)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_80b4b171:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:active{background-color:var(--mantine-color-dark-4)}}.m_80b4b171:where(:first-of-type){border-radius:0;border-start-end-radius:var(--control-radius)}.m_80b4b171:last-of-type{border-radius:0;border-end-end-radius:var(--control-radius)}.m_4addd315{--pagination-control-size-xs:calc(1.375rem*var(--mantine-scale));--pagination-control-size-sm:calc(1.625rem*var(--mantine-scale));--pagination-control-size-md:calc(2rem*var(--mantine-scale));--pagination-control-size-lg:calc(2.375rem*var(--mantine-scale));--pagination-control-size-xl:calc(2.75rem*var(--mantine-scale));--pagination-control-size:var(--pagination-control-size-md);--pagination-control-fz:var(--mantine-font-size-md);--pagination-active-bg:var(--mantine-primary-color-filled)}.m_326d024a{border:calc(.0625rem*var(--mantine-scale))solid;cursor:pointer;color:var(--mantine-color-text);height:var(--pagination-control-size);min-width:var(--pagination-control-size);font-size:var(--pagination-control-fz);border-radius:var(--pagination-control-radius,var(--mantine-radius-default));justify-content:center;align-items:center;line-height:1;display:flex}.m_326d024a:where([data-with-padding]){padding:calc(var(--pagination-control-size)/4)}.m_326d024a:where(:disabled,[data-disabled]){cursor:not-allowed;opacity:.4}:where([data-mantine-color-scheme=light]) .m_326d024a{border-color:var(--mantine-color-gray-4);background-color:var(--mantine-color-white)}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}:where([data-mantine-color-scheme=dark]) .m_326d024a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}@media(hover:hover){:where([data-mantine-color-scheme=dark]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}@media(hover:none){:where([data-mantine-color-scheme=dark]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}.m_326d024a:where([data-active]){background-color:var(--pagination-active-bg);border-color:var(--pagination-active-bg);color:var(--pagination-active-color,var(--mantine-color-white))}@media(hover:hover){.m_326d024a:where([data-active]):hover{background-color:var(--pagination-active-bg)}}@media(hover:none){.m_326d024a:where([data-active]):active{background-color:var(--pagination-active-bg)}}.m_4ad7767d{height:var(--pagination-control-size);min-width:var(--pagination-control-size);pointer-events:none;justify-content:center;align-items:center;display:flex}.m_f61ca620{--psi-button-size-xs:calc(1.375rem*var(--mantine-scale));--psi-button-size-sm:calc(1.625rem*var(--mantine-scale));--psi-button-size-md:calc(1.75rem*var(--mantine-scale));--psi-button-size-lg:calc(2rem*var(--mantine-scale));--psi-button-size-xl:calc(2.5rem*var(--mantine-scale));--psi-icon-size-xs:calc(.75rem*var(--mantine-scale));--psi-icon-size-sm:calc(.9375rem*var(--mantine-scale));--psi-icon-size-md:calc(1.0625rem*var(--mantine-scale));--psi-icon-size-lg:calc(1.1875rem*var(--mantine-scale));--psi-icon-size-xl:calc(1.3125rem*var(--mantine-scale));--psi-button-size:var(--psi-button-size-sm);--psi-icon-size:var(--psi-icon-size-sm)}.m_ccf8da4c{position:relative;overflow:hidden}.m_f2d85dd2{font-family:var(--mantine-font-family);font-size:inherit;line-height:var(--mantine-line-height);width:100%;height:100%;color:inherit;background-color:#0000;border:0;outline:0;padding-inline-start:var(--input-padding-inline-start);padding-inline-end:var(--input-padding-inline-end);position:absolute;top:0;right:0;bottom:0;left:0}.m_ccf8da4c[data-disabled] .m_f2d85dd2,.m_f2d85dd2:disabled{cursor:not-allowed}.m_f2d85dd2::placeholder{color:var(--input-placeholder-color);opacity:1}.m_f2d85dd2::-ms-reveal{display:none}.m_b1072d44{width:var(--psi-button-size);height:var(--psi-button-size);min-width:var(--psi-button-size);min-height:var(--psi-button-size)}.m_b1072d44:disabled{display:none}.m_f1cb205a{--pin-input-size-xs:calc(1.875rem*var(--mantine-scale));--pin-input-size-sm:calc(2.25rem*var(--mantine-scale));--pin-input-size-md:calc(2.625rem*var(--mantine-scale));--pin-input-size-lg:calc(3.125rem*var(--mantine-scale));--pin-input-size-xl:calc(3.75rem*var(--mantine-scale));--pin-input-size:var(--pin-input-size-sm)}.m_cb288ead{width:var(--pin-input-size);height:var(--pin-input-size)}@keyframes m_81a374bd{0%{background-position:0 0}to{background-position:calc(2.5rem*var(--mantine-scale))0}}.m_db6d6462{--progress-radius:var(--mantine-radius-default);--progress-size:var(--progress-size-md);--progress-size-xs:calc(.1875rem*var(--mantine-scale));--progress-size-sm:calc(.3125rem*var(--mantine-scale));--progress-size-md:calc(.5rem*var(--mantine-scale));--progress-size-lg:calc(.75rem*var(--mantine-scale));--progress-size-xl:calc(1rem*var(--mantine-scale));height:var(--progress-size);border-radius:var(--progress-radius);display:flex;position:relative;overflow:hidden}:where([data-mantine-color-scheme=light]) .m_db6d6462{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_db6d6462{background-color:var(--mantine-color-dark-4)}.m_2242eb65{background-color:var(--progress-section-color);height:100%;width:var(--progress-section-width);background-size:calc(1.25rem*var(--mantine-scale))calc(1.25rem*var(--mantine-scale));transition:width var(--progress-transition-duration,.1s)ease;justify-content:center;align-items:center;display:flex;overflow:hidden}.m_2242eb65:where([data-striped]){background-image:linear-gradient(45deg,#ffffff26 25%,#0000 25%,#0000 50%,#ffffff26 50%,#ffffff26 75%,#0000 75%,#0000)}.m_2242eb65:where([data-animated]){animation:1s linear infinite m_81a374bd}.m_2242eb65:where(:last-of-type){border-radius:0;border-start-end-radius:var(--progress-radius);border-end-end-radius:var(--progress-radius)}.m_2242eb65:where(:first-of-type){border-radius:0;border-start-start-radius:var(--progress-radius);border-end-start-radius:var(--progress-radius)}.m_91e40b74{color:var(--progress-label-color,var(--mantine-color-white));-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;font-weight:700;font-size:min(calc(var(--progress-size)*.65),calc(1.125rem*var(--mantine-scale)));padding-inline:calc(.25rem*var(--mantine-scale));line-height:1;overflow:hidden}.m_9dc8ae12{--card-radius:var(--mantine-radius-default);border-radius:var(--card-radius);cursor:pointer;width:100%;display:block}.m_9dc8ae12 :where(*){cursor:inherit}.m_9dc8ae12:where([data-with-border]){border:calc(.0625rem*var(--mantine-scale))solid transparent}:where([data-mantine-color-scheme=light]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_717d7ff6{--radio-size-xs:calc(1rem*var(--mantine-scale));--radio-size-sm:calc(1.25rem*var(--mantine-scale));--radio-size-md:calc(1.5rem*var(--mantine-scale));--radio-size-lg:calc(1.875rem*var(--mantine-scale));--radio-size-xl:calc(2.25rem*var(--mantine-scale));--radio-icon-size-xs:calc(.375rem*var(--mantine-scale));--radio-icon-size-sm:calc(.5rem*var(--mantine-scale));--radio-icon-size-md:calc(.625rem*var(--mantine-scale));--radio-icon-size-lg:calc(.875rem*var(--mantine-scale));--radio-icon-size-xl:calc(1rem*var(--mantine-scale));--radio-icon-size:var(--radio-icon-size-sm);--radio-size:var(--radio-size-sm);--radio-color:var(--mantine-primary-color-filled);--radio-icon-color:var(--mantine-color-white);border:calc(.0625rem*var(--mantine-scale))solid transparent;width:var(--radio-size);min-width:var(--radio-size);height:var(--radio-size);min-height:var(--radio-size);border-radius:var(--radio-radius,10000px);cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;justify-content:center;align-items:center;transition:border-color .1s,background-color .1s;display:flex;position:relative}:where([data-mantine-color-scheme=light]) .m_717d7ff6{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_717d7ff6[data-indeterminate],.m_717d7ff6[data-checked]{background-color:var(--radio-color);border-color:var(--radio-color)}.m_717d7ff6[data-indeterminate]>.m_3e4da632,.m_717d7ff6[data-checked]>.m_3e4da632{opacity:1;color:var(--radio-icon-color);transform:none}.m_717d7ff6[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-dark-3)}.m_2980836c[data-indeterminate]:not([data-disabled]),.m_2980836c[data-checked]:not([data-disabled]){border-color:var(--radio-color);background-color:#0000}.m_2980836c[data-indeterminate]:not([data-disabled])>.m_3e4da632,.m_2980836c[data-checked]:not([data-disabled])>.m_3e4da632{color:var(--radio-color);opacity:1;transform:none}.m_3e4da632{width:var(--radio-icon-size);height:var(--radio-icon-size);color:#0000;pointer-events:none;transform:translateY(calc(.3125rem*var(--mantine-scale)))scale(.5);opacity:1;transition:transform .1s,opacity .1s;display:block}.m_f3f1af94{--radio-size-xs:calc(1rem*var(--mantine-scale));--radio-size-sm:calc(1.25rem*var(--mantine-scale));--radio-size-md:calc(1.5rem*var(--mantine-scale));--radio-size-lg:calc(1.875rem*var(--mantine-scale));--radio-size-xl:calc(2.25rem*var(--mantine-scale));--radio-size:var(--radio-size-sm);--radio-icon-size-xs:calc(.375rem*var(--mantine-scale));--radio-icon-size-sm:calc(.5rem*var(--mantine-scale));--radio-icon-size-md:calc(.625rem*var(--mantine-scale));--radio-icon-size-lg:calc(.875rem*var(--mantine-scale));--radio-icon-size-xl:calc(1rem*var(--mantine-scale));--radio-icon-size:var(--radio-icon-size-sm);--radio-icon-color:var(--mantine-color-white)}.m_89c4f5e4{width:var(--radio-size);height:var(--radio-size);order:1;position:relative}.m_89c4f5e4:where([data-label-position=left]){order:2}.m_f3ed6b2b{color:var(--radio-icon-color);opacity:var(--radio-icon-opacity,0);transform:var(--radio-icon-transform,scale(.2)translateY(calc(.625rem*var(--mantine-scale))));pointer-events:none;width:var(--radio-icon-size);height:var(--radio-icon-size);top:calc(50% - var(--radio-icon-size)/2);left:calc(50% - var(--radio-icon-size)/2);transition:opacity .1s,transform .2s;position:absolute}.m_8a3dbb89{border:calc(.0625rem*var(--mantine-scale))solid;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--radio-size);height:var(--radio-size);border-radius:var(--radio-radius,var(--radio-size));cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;justify-content:center;align-items:center;margin:0;transition-property:background-color,border-color;transition-duration:.1s;transition-timing-function:ease;display:flex;position:relative}:where([data-mantine-color-scheme=light]) .m_8a3dbb89{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_8a3dbb89:checked{background-color:var(--radio-color,var(--mantine-primary-color-filled));border-color:var(--radio-color,var(--mantine-primary-color-filled))}.m_8a3dbb89:checked+.m_f3ed6b2b{--radio-icon-opacity:1;--radio-icon-transform:scale(1)}.m_8a3dbb89:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-gray-1);border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color:var(--mantine-color-dark-7)}.m_8a3dbb89:where([data-error]){border-color:var(--mantine-color-error)}.m_1bfe9d39+.m_f3ed6b2b{--radio-icon-color:var(--radio-color)}.m_1bfe9d39:checked:not(:disabled){border-color:var(--radio-color);background-color:#0000}.m_1bfe9d39:checked:not(:disabled)+.m_f3ed6b2b{--radio-icon-color:var(--radio-color);--radio-icon-opacity:1;--radio-icon-transform:none}.m_f8d312f2{--rating-size-xs:calc(.875rem*var(--mantine-scale));--rating-size-sm:calc(1.125rem*var(--mantine-scale));--rating-size-md:calc(1.25rem*var(--mantine-scale));--rating-size-lg:calc(1.75rem*var(--mantine-scale));--rating-size-xl:calc(2rem*var(--mantine-scale));width:max-content;display:flex}.m_f8d312f2:where(:has(input:disabled)){pointer-events:none}.m_61734bb7{transition:transform .1s;position:relative}.m_61734bb7:where([data-active]){z-index:1;transform:scale(1.1)}.m_5662a89a{width:var(--rating-size);height:var(--rating-size);display:block}:where([data-mantine-color-scheme=light]) .m_5662a89a{fill:var(--mantine-color-gray-3);stroke:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5662a89a{fill:var(--mantine-color-dark-3);stroke:var(--mantine-color-dark-3)}.m_5662a89a:where([data-filled]){fill:var(--rating-color);stroke:var(--rating-color)}.m_211007ba{white-space:nowrap;opacity:0;-webkit-tap-highlight-color:transparent;width:0;height:0;position:absolute;overflow:hidden}.m_211007ba:focus-visible+label{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem*var(--mantine-scale))}.m_21342ee4{cursor:pointer;z-index:var(--rating-item-z-index,0);-webkit-tap-highlight-color:transparent;display:block;position:absolute;top:0;left:0}.m_21342ee4:where([data-read-only]){cursor:default}.m_21342ee4:where(:last-of-type){position:relative}.m_fae05d6a{clip-path:var(--rating-symbol-clip-path)}.m_1b3c8819{--tooltip-radius:var(--mantine-radius-default);padding:calc(var(--mantine-spacing-xs)/2)var(--mantine-spacing-xs);pointer-events:none;font-size:var(--mantine-font-size-sm);white-space:nowrap;border-radius:var(--tooltip-radius);position:absolute}:where([data-mantine-color-scheme=light]) .m_1b3c8819{background-color:var(--tooltip-bg,var(--mantine-color-gray-9));color:var(--tooltip-color,var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1b3c8819{background-color:var(--tooltip-bg,var(--mantine-color-gray-2));color:var(--tooltip-color,var(--mantine-color-black))}.m_1b3c8819:where([data-multiline]){white-space:normal}.m_1b3c8819:where([data-fixed]){position:fixed}.m_f898399f{background-color:inherit;z-index:1;border:0}.m_b32e4812{width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);--rp-transition-duration:0s;position:relative}.m_d43b5134{width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);transform:rotate(-90deg)}.m_b1ca1fbf{stroke:var(--curve-color,var(--rp-curve-root-color));transition:stroke-dashoffset var(--rp-transition-duration)ease,stroke-dasharray var(--rp-transition-duration)ease,stroke var(--rp-transition-duration)}[data-mantine-color-scheme=light] .m_b1ca1fbf{--rp-curve-root-color:var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_b1ca1fbf{--rp-curve-root-color:var(--mantine-color-dark-4)}.m_b23f9dc4{top:50%;inset-inline:var(--rp-label-offset);position:absolute;transform:translateY(-50%)}.m_cf365364{--sc-padding-xs:calc(.1875rem*var(--mantine-scale))calc(.375rem*var(--mantine-scale));--sc-padding-sm:calc(.3125rem*var(--mantine-scale))calc(.625rem*var(--mantine-scale));--sc-padding-md:calc(.4375rem*var(--mantine-scale))calc(.875rem*var(--mantine-scale));--sc-padding-lg:calc(.5625rem*var(--mantine-scale))calc(1rem*var(--mantine-scale));--sc-padding-xl:calc(.75rem*var(--mantine-scale))calc(1.25rem*var(--mantine-scale));--sc-transition-duration:.2s;--sc-padding:var(--sc-padding-sm);--sc-transition-timing-function:ease;--sc-font-size:var(--mantine-font-size-sm);border-radius:var(--sc-radius,var(--mantine-radius-default));width:auto;padding:calc(.25rem*var(--mantine-scale));flex-direction:row;display:inline-flex;position:relative;overflow:hidden}.m_cf365364:where([data-full-width]){display:flex}.m_cf365364:where([data-orientation=vertical]){flex-direction:column;width:max-content;display:flex}.m_cf365364:where([data-orientation=vertical]):where([data-full-width]){width:auto}:where([data-mantine-color-scheme=light]) .m_cf365364{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_cf365364{background-color:var(--mantine-color-dark-8)}.m_9e182ccd{z-index:1;border-radius:var(--sc-radius,var(--mantine-radius-default));display:block;position:absolute}:where([data-mantine-color-scheme=light]) .m_9e182ccd{box-shadow:var(--sc-shadow,none);background-color:var(--sc-color,var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_9e182ccd{box-shadow:none;background-color:var(--sc-color,var(--mantine-color-dark-5))}.m_1738fcb2{-webkit-tap-highlight-color:transparent;text-align:center;white-space:nowrap;text-overflow:ellipsis;-webkit-user-select:none;user-select:none;border-radius:var(--sc-radius,var(--mantine-radius-default));font-weight:500;font-size:var(--sc-font-size);padding:var(--sc-padding);transition:color var(--sc-transition-duration)var(--sc-transition-timing-function);cursor:pointer;outline:var(--segmented-control-outline,none);display:block;overflow:hidden}:where([data-mantine-color-scheme=light]) .m_1738fcb2{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2{color:var(--mantine-color-dark-1)}.m_1738fcb2:where([data-read-only]){cursor:default}fieldset:disabled .m_1738fcb2,.m_1738fcb2:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color,var(--mantine-color-black))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color,var(--mantine-color-white))}.m_cf365364:where([data-initialized]) .m_1738fcb2:where([data-active]):before{display:none}.m_1738fcb2:where([data-active]):before{content:"";z-index:0;border-radius:var(--sc-radius,var(--mantine-radius-default));position:absolute;top:0;right:0;bottom:0;left:0}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]):before{box-shadow:var(--sc-shadow,none);background-color:var(--sc-color,var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]):before{box-shadow:none;background-color:var(--sc-color,var(--mantine-color-dark-5))}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-white)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-white)}}@media(hover:hover){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-dark-3)!important}}@media(hover:none){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-dark-3)!important}}.m_1714d588{white-space:nowrap;opacity:0;width:0;height:0;position:absolute;overflow:hidden}.m_1714d588[data-focus-ring=auto]:focus:focus-visible+.m_1738fcb2,.m_1714d588[data-focus-ring=always]:focus+.m_1738fcb2{--segmented-control-outline:2px solid var(--mantine-primary-color-filled)}.m_69686b9b{z-index:2;transition:border-color var(--sc-transition-duration)var(--sc-transition-timing-function);flex:1;position:relative}.m_cf365364[data-with-items-borders] :where(.m_69686b9b):before{content:"";background-color:var(--separator-color);width:calc(.0625rem*var(--mantine-scale));transition:background-color var(--sc-transition-duration)var(--sc-transition-timing-function);top:0;bottom:0;position:absolute;inset-inline-start:0}.m_69686b9b[data-orientation=vertical]:before{top:0;height:calc(.0625rem*var(--mantine-scale));inset-inline:0;width:auto;bottom:auto}:where([data-mantine-color-scheme=light]) .m_69686b9b{--separator-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_69686b9b{--separator-color:var(--mantine-color-dark-4)}.m_69686b9b:first-of-type:before,[data-mantine-color-scheme] .m_69686b9b[data-active]:before,[data-mantine-color-scheme] .m_69686b9b[data-active]+.m_69686b9b:before{--separator-color:transparent}.m_78882f40{z-index:2;position:relative}.m_fa528724{--scp-filled-segment-color:var(--mantine-primary-color-filled);--scp-transition-duration:0s;--scp-thickness:calc(.625rem*var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_fa528724{--scp-empty-segment-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa528724{--scp-empty-segment-color:var(--mantine-color-dark-4)}.m_fa528724{width:fit-content;position:relative}.m_62e9e7e2{transform:var(--scp-rotation);display:block;overflow:hidden}.m_c573fb6f{transition:stroke-dashoffset var(--scp-transition-duration)ease,stroke-dasharray var(--scp-transition-duration)ease,stroke var(--scp-transition-duration)}.m_4fa340f2{text-align:center;z-index:1;margin:0;padding:0;position:absolute;inset-inline:0}.m_4fa340f2:where([data-position=bottom]){padding-inline:calc(var(--scp-thickness)*2);bottom:0}.m_4fa340f2:where([data-position=bottom]):where([data-orientation=down]){top:0;bottom:auto}.m_4fa340f2:where([data-position=center]){padding-inline:calc(var(--scp-thickness)*3);top:50%}.m_925c2d2c{container:simple-grid/inline-size}.m_2415a157{grid-template-columns:repeat(var(--sg-cols),minmax(0,1fr));gap:var(--sg-spacing-y)var(--sg-spacing-x);display:grid}@keyframes m_299c329c{0%,to{opacity:.4}50%{opacity:1}}.m_18320242{height:var(--skeleton-height,auto);width:var(--skeleton-width,100%);border-radius:var(--skeleton-radius,var(--mantine-radius-default));position:relative;transform:translateZ(0)}.m_18320242:where([data-animate]):after{animation:1.5s linear infinite m_299c329c}.m_18320242:where([data-visible]){overflow:hidden}.m_18320242:where([data-visible]):before{content:"";z-index:10;background-color:var(--mantine-color-body);position:absolute;top:0;right:0;bottom:0;left:0}.m_18320242:where([data-visible]):after{content:"";z-index:11;position:absolute;top:0;right:0;bottom:0;left:0}:where([data-mantine-color-scheme=light]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-dark-4)}.m_dd36362e{--slider-size-xs:calc(.25rem*var(--mantine-scale));--slider-size-sm:calc(.375rem*var(--mantine-scale));--slider-size-md:calc(.5rem*var(--mantine-scale));--slider-size-lg:calc(.625rem*var(--mantine-scale));--slider-size-xl:calc(.75rem*var(--mantine-scale));--slider-size:var(--slider-size-md);--slider-radius:calc(62.5rem*var(--mantine-scale));--slider-color:var(--mantine-primary-color-filled);-webkit-tap-highlight-color:transparent;height:calc(var(--slider-size)*2);padding-inline:var(--slider-size);touch-action:none;outline:none;flex-direction:column;align-items:center;display:flex;position:relative}[data-mantine-color-scheme=light] .m_dd36362e{--slider-track-bg:var(--mantine-color-gray-2);--slider-track-disabled-bg:var(--mantine-color-gray-4)}[data-mantine-color-scheme=dark] .m_dd36362e{--slider-track-bg:var(--mantine-color-dark-4);--slider-track-disabled-bg:var(--mantine-color-dark-3)}.m_c9357328{top:calc(-2.25rem*var(--mantine-scale));font-size:var(--mantine-font-size-xs);color:var(--mantine-color-white);padding:calc(var(--mantine-spacing-xs)/2);border-radius:var(--mantine-radius-sm);white-space:nowrap;pointer-events:none;-webkit-user-select:none;user-select:none;touch-action:none;position:absolute}:where([data-mantine-color-scheme=light]) .m_c9357328{background-color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_c9357328{background-color:var(--mantine-color-dark-4)}.m_c9a9a60a{height:var(--slider-thumb-size);width:var(--slider-thumb-size);border:calc(.25rem*var(--mantine-scale))solid;cursor:pointer;border-radius:var(--slider-radius);z-index:3;-webkit-user-select:none;user-select:none;touch-action:none;outline-offset:calc(.125rem*var(--mantine-scale));top:50%;left:var(--slider-thumb-offset);justify-content:center;align-items:center;transition:box-shadow .1s,transform .1s;display:flex;position:absolute;transform:translate(-50%,-50%)}:where([dir=rtl]) .m_c9a9a60a{left:auto;right:calc(var(--slider-thumb-offset) - var(--slider-thumb-size))}fieldset:disabled .m_c9a9a60a,.m_c9a9a60a:where([data-disabled]){display:none}.m_c9a9a60a:where([data-dragging]){box-shadow:var(--mantine-shadow-sm);transform:translate(-50%,-50%)scale(1.05)}:where([data-mantine-color-scheme=light]) .m_c9a9a60a{color:var(--slider-color);border-color:var(--slider-color);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_c9a9a60a{color:var(--mantine-color-white);border-color:var(--mantine-color-white);background-color:var(--slider-color)}.m_a8645c2{width:100%;height:calc(var(--slider-size)*2);cursor:pointer;align-items:center;display:flex}fieldset:disabled .m_a8645c2,.m_a8645c2:where([data-disabled]){cursor:not-allowed}.m_c9ade57f{width:100%;height:var(--slider-size);position:relative}.m_c9ade57f:where([data-inverted]:not([data-disabled])){--track-bg:var(--slider-color)}fieldset:disabled .m_c9ade57f:where([data-inverted]),.m_c9ade57f:where([data-inverted][data-disabled]){--track-bg:var(--slider-track-disabled-bg)}.m_c9ade57f:before{content:"";border-radius:var(--slider-radius);top:0;bottom:0;inset-inline:calc(var(--slider-size)*-1);background-color:var(--track-bg,var(--slider-track-bg));z-index:0;position:absolute}.m_38aeed47{z-index:1;background-color:var(--slider-color);border-radius:var(--slider-radius);width:var(--slider-bar-width);top:0;bottom:0;position:absolute;inset-inline-start:var(--slider-bar-offset)}.m_38aeed47:where([data-inverted]){background-color:var(--slider-track-bg)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=light]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=dark]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-dark-3)}.m_b7b0423a{z-index:2;pointer-events:none;inset-inline-start:calc(var(--mark-offset) - var(--slider-size)/2);height:0;position:absolute;top:0}.m_dd33bc19{border:calc(.125rem*var(--mantine-scale))solid;height:var(--slider-size);width:var(--slider-size);border-radius:calc(62.5rem*var(--mantine-scale));background-color:var(--mantine-color-white);pointer-events:none}:where([data-mantine-color-scheme=light]) .m_dd33bc19{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19{border-color:var(--mantine-color-dark-4)}.m_dd33bc19:where([data-filled]){border-color:var(--slider-color)}:where([data-mantine-color-scheme=light]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-dark-3)}.m_68c77a5b{transform:translate(calc(-50% + var(--slider-size)/2),calc(var(--mantine-spacing-xs)/2));font-size:var(--mantine-font-size-sm);white-space:nowrap;cursor:pointer;-webkit-user-select:none;user-select:none}:where([data-mantine-color-scheme=light]) .m_68c77a5b{color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_68c77a5b{color:var(--mantine-color-dark-2)}.m_559cce2d{position:relative}.m_559cce2d:where([data-has-spoiler]){margin-bottom:calc(1.5rem*var(--mantine-scale))}.m_b912df4e{transition:max-height var(--spoiler-transition-duration,.2s)ease;flex-direction:column;display:flex;overflow:hidden}.m_b9131032{height:calc(1.5rem*var(--mantine-scale));inset-inline-start:0;position:absolute;top:100%}.m_6d731127{align-items:var(--stack-align,stretch);justify-content:var(--stack-justify,flex-start);gap:var(--stack-gap,var(--mantine-spacing-md));flex-direction:column;display:flex}.m_cbb4ea7e{--stepper-icon-size-xs:calc(2.125rem*var(--mantine-scale));--stepper-icon-size-sm:calc(2.25rem*var(--mantine-scale));--stepper-icon-size-md:calc(2.625rem*var(--mantine-scale));--stepper-icon-size-lg:calc(3rem*var(--mantine-scale));--stepper-icon-size-xl:calc(3.25rem*var(--mantine-scale));--stepper-icon-size:var(--stepper-icon-size-md);--stepper-color:var(--mantine-primary-color-filled);--stepper-content-padding:var(--mantine-spacing-md);--stepper-spacing:var(--mantine-spacing-md);--stepper-radius:calc(62.5rem*var(--mantine-scale));--stepper-fz:var(--mantine-font-size-md);--stepper-outline-thickness:calc(.125rem*var(--mantine-scale))}[data-mantine-color-scheme=light] .m_cbb4ea7e{--stepper-outline-color:var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_cbb4ea7e{--stepper-outline-color:var(--mantine-color-dark-5)}.m_aaf89d0b{flex-wrap:nowrap;align-items:center;display:flex}.m_aaf89d0b:where([data-wrap]){gap:var(--mantine-spacing-md)0;flex-wrap:wrap}.m_aaf89d0b:where([data-orientation=vertical]){flex-direction:column}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=left]){align-items:flex-start}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=right]){align-items:flex-end}.m_aaf89d0b:where([data-orientation=horizontal]){flex-direction:row}.m_2a371ac9{height:var(--stepper-outline-thickness);margin-inline:var(--mantine-spacing-md);background-color:var(--stepper-outline-color);flex:1;transition:background-color .15s}.m_2a371ac9:where([data-active]){background-color:var(--stepper-color)}.m_78da155d{padding-top:var(--stepper-content-padding)}.m_cbb57068{--step-color:var(--stepper-color);cursor:default;display:flex}.m_cbb57068:where([data-allow-click]){cursor:pointer}.m_cbb57068:where([data-icon-position=left]){flex-direction:row}.m_cbb57068:where([data-icon-position=right]){flex-direction:row-reverse}.m_f56b1e2c{align-items:center}.m_833edb7e{--separator-spacing:calc(var(--mantine-spacing-xs)/2);min-height:calc(var(--stepper-icon-size) + var(--mantine-spacing-xl) + var(--separator-spacing));margin-top:var(--separator-spacing);justify-content:flex-start;overflow:hidden}.m_833edb7e:where(:first-of-type){margin-top:0}.m_833edb7e:where(:last-of-type){min-height:auto}.m_833edb7e:where(:last-of-type) .m_6496b3f3{display:none}.m_818e70b{position:relative}.m_6496b3f3{top:calc(var(--stepper-icon-size) + var(--separator-spacing));border-inline-start:var(--stepper-outline-thickness)solid var(--stepper-outline-color);height:100vh;position:absolute;inset-inline-start:calc(var(--stepper-icon-size)/2)}.m_6496b3f3:where([data-active]){border-color:var(--stepper-color)}.m_1959ad01{height:var(--stepper-icon-size);width:var(--stepper-icon-size);min-height:var(--stepper-icon-size);min-width:var(--stepper-icon-size);border-radius:var(--stepper-radius);font-size:var(--stepper-fz);border:var(--stepper-outline-thickness)solid var(--stepper-outline-color);background-color:var(--stepper-outline-color);justify-content:center;align-items:center;font-weight:700;transition:background-color .15s,border-color .15s;display:flex;position:relative}:where([data-mantine-color-scheme=light]) .m_1959ad01{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1959ad01{color:var(--mantine-color-dark-1)}.m_1959ad01:where([data-progress]){border-color:var(--step-color)}.m_1959ad01:where([data-completed]){color:var(--stepper-icon-color,var(--mantine-color-white));background-color:var(--step-color);border-color:var(--step-color)}.m_a79331dc{color:var(--stepper-icon-color,var(--mantine-color-white));justify-content:center;align-items:center;display:flex;position:absolute;top:0;right:0;bottom:0;left:0}.m_1956aa2a{flex-direction:column;display:flex}.m_1956aa2a:where([data-icon-position=left]){margin-inline-start:var(--mantine-spacing-sm)}.m_1956aa2a:where([data-icon-position=right]){text-align:right;margin-inline-end:var(--mantine-spacing-sm)}:where([dir=rtl]) .m_1956aa2a:where([data-icon-position=right]){text-align:left}.m_12051f6c{font-weight:500;font-size:var(--stepper-fz);line-height:1}.m_164eea74{margin-top:calc(var(--stepper-spacing)/3);margin-bottom:calc(var(--stepper-spacing)/3);font-size:calc(var(--stepper-fz) - calc(.125rem*var(--mantine-scale)));color:var(--mantine-color-dimmed);line-height:1}.m_5f93f3bb{--switch-height-xs:calc(1rem*var(--mantine-scale));--switch-height-sm:calc(1.25rem*var(--mantine-scale));--switch-height-md:calc(1.5rem*var(--mantine-scale));--switch-height-lg:calc(1.875rem*var(--mantine-scale));--switch-height-xl:calc(2.25rem*var(--mantine-scale));--switch-width-xs:calc(2rem*var(--mantine-scale));--switch-width-sm:calc(2.375rem*var(--mantine-scale));--switch-width-md:calc(2.875rem*var(--mantine-scale));--switch-width-lg:calc(3.5rem*var(--mantine-scale));--switch-width-xl:calc(4.5rem*var(--mantine-scale));--switch-thumb-size-xs:calc(.75rem*var(--mantine-scale));--switch-thumb-size-sm:calc(.875rem*var(--mantine-scale));--switch-thumb-size-md:calc(1.125rem*var(--mantine-scale));--switch-thumb-size-lg:calc(1.375rem*var(--mantine-scale));--switch-thumb-size-xl:calc(1.75rem*var(--mantine-scale));--switch-label-font-size-xs:calc(.3125rem*var(--mantine-scale));--switch-label-font-size-sm:calc(.375rem*var(--mantine-scale));--switch-label-font-size-md:calc(.4375rem*var(--mantine-scale));--switch-label-font-size-lg:calc(.5625rem*var(--mantine-scale));--switch-label-font-size-xl:calc(.6875rem*var(--mantine-scale));--switch-track-label-padding-xs:calc(.0625rem*var(--mantine-scale));--switch-track-label-padding-sm:calc(.125rem*var(--mantine-scale));--switch-track-label-padding-md:calc(.125rem*var(--mantine-scale));--switch-track-label-padding-lg:calc(.1875rem*var(--mantine-scale));--switch-track-label-padding-xl:calc(.1875rem*var(--mantine-scale));--switch-height:var(--switch-height-sm);--switch-width:var(--switch-width-sm);--switch-thumb-size:var(--switch-thumb-size-sm);--switch-label-font-size:var(--switch-label-font-size-sm);--switch-track-label-padding:var(--switch-track-label-padding-sm);--switch-radius:calc(62.5rem*var(--mantine-scale));--switch-color:var(--mantine-primary-color-filled);position:relative}.m_926b4011{opacity:0;white-space:nowrap;width:0;height:0;margin:0;padding:0;position:absolute;overflow:hidden}.m_9307d992{-webkit-tap-highlight-color:transparent;cursor:var(--switch-cursor,var(--mantine-cursor-type));border-radius:var(--switch-radius);background-color:var(--switch-bg);border:1px solid var(--switch-bd);height:var(--switch-height);min-width:var(--switch-width);-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:var(--switch-label-font-size);order:var(--switch-order,1);-webkit-user-select:none;user-select:none;z-index:0;color:var(--switch-text-color);align-items:center;margin:0;font-weight:600;line-height:0;transition:background-color .15s,border-color .15s;display:flex;position:relative;overflow:hidden}.m_9307d992:where([data-without-labels]){width:var(--switch-width)}.m_926b4011:focus-visible+.m_9307d992{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem*var(--mantine-scale))}.m_926b4011:checked+.m_9307d992{--switch-bg:var(--switch-color);--switch-bd:var(--switch-color);--switch-text-color:var(--mantine-color-white)}.m_926b4011:disabled+.m_9307d992,.m_926b4011[data-disabled]+.m_9307d992{--switch-bg:var(--switch-disabled-color);--switch-bd:var(--switch-disabled-color);--switch-cursor:not-allowed}[data-mantine-color-scheme=light] .m_9307d992{--switch-bg:var(--mantine-color-gray-2);--switch-bd:var(--mantine-color-gray-3);--switch-text-color:var(--mantine-color-gray-6);--switch-disabled-color:var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_9307d992{--switch-bg:var(--mantine-color-dark-6);--switch-bd:var(--mantine-color-dark-4);--switch-text-color:var(--mantine-color-dark-1);--switch-disabled-color:var(--mantine-color-dark-4)}.m_9307d992[data-error]{--switch-bd:var(--mantine-color-error)}.m_9307d992[data-label-position=left]{--switch-order:2}.m_93039a1d{z-index:1;border-radius:var(--switch-radius);background-color:var(--switch-thumb-bg,var(--mantine-color-white));height:var(--switch-thumb-size);width:var(--switch-thumb-size);border:1px solid var(--switch-thumb-bd);transition:inset-inline-start .15s;display:flex;position:absolute;inset-inline-start:var(--switch-thumb-start,var(--switch-track-label-padding))}.m_93039a1d>*{margin:auto}.m_926b4011:checked+*>.m_93039a1d{--switch-thumb-start:calc(100% - var(--switch-thumb-size) - var(--switch-track-label-padding));--switch-thumb-bd:var(--mantine-color-white)}.m_926b4011:disabled+*>.m_93039a1d,.m_926b4011[data-disabled]+*>.m_93039a1d{--switch-thumb-bd:var(--switch-thumb-bg-disabled);--switch-thumb-bg:var(--switch-thumb-bg-disabled)}[data-mantine-color-scheme=light] .m_93039a1d{--switch-thumb-bd:var(--mantine-color-gray-3);--switch-thumb-bg-disabled:var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_93039a1d{--switch-thumb-bd:var(--mantine-color-white);--switch-thumb-bg-disabled:var(--mantine-color-dark-3)}.m_8277e082{height:100%;min-width:calc(var(--switch-width) - var(--switch-thumb-size));padding-inline:var(--switch-track-label-padding);place-content:center;margin-inline-start:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));transition:margin .15s;display:grid}.m_926b4011:checked+*>.m_8277e082{margin-inline-start:0;margin-inline-end:calc(var(--switch-thumb-size) + var(--switch-track-label-padding))}.m_b23fa0ef{border-collapse:collapse;border-spacing:0;width:100%;line-height:var(--mantine-line-height);font-size:var(--mantine-font-size-sm);table-layout:var(--table-layout,auto);caption-side:var(--table-caption-side,bottom);border:none}:where([data-mantine-color-scheme=light]) .m_b23fa0ef{--table-hover-color:var(--mantine-color-gray-1);--table-striped-color:var(--mantine-color-gray-0);--table-border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef{--table-hover-color:var(--mantine-color-dark-5);--table-striped-color:var(--mantine-color-dark-6);--table-border-color:var(--mantine-color-dark-4)}.m_b23fa0ef:where([data-with-table-border]){border:calc(.0625rem*var(--mantine-scale))solid var(--table-border-color)}.m_b23fa0ef:where([data-tabular-nums]){font-variant-numeric:tabular-nums}.m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){font-weight:500}:where([data-mantine-color-scheme=light]) .m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef:where([data-variant=vertical]) :where(.m_4e7aa4f3){background-color:var(--mantine-color-dark-6)}.m_4e7aa4f3{text-align:left}:where([dir=rtl]) .m_4e7aa4f3{text-align:right}.m_4e7aa4fd{background-color:#0000;border-bottom:none}@media(hover:hover){.m_4e7aa4fd:hover:where([data-hover]){background-color:var(--tr-hover-bg)}}@media(hover:none){.m_4e7aa4fd:active:where([data-hover]){background-color:var(--tr-hover-bg)}}.m_4e7aa4fd:where([data-with-row-border]){border-bottom:calc(.0625rem*var(--mantine-scale))solid var(--table-border-color)}.m_4e7aa4ef,.m_4e7aa4f3{padding:var(--table-vertical-spacing)var(--table-horizontal-spacing,var(--mantine-spacing-xs))}.m_4e7aa4ef:where([data-with-column-border]:not(:last-child)),.m_4e7aa4f3:where([data-with-column-border]:not(:last-child)){border-inline-end:calc(.0625rem*var(--mantine-scale))solid var(--table-border-color)}.m_b2404537>:where(tr):where([data-with-row-border]:last-of-type){border-bottom:none}.m_b2404537>:where(tr):where([data-striped=odd]:nth-of-type(odd)),.m_b2404537>:where(tr):where([data-striped=even]:nth-of-type(2n)){background-color:var(--table-striped-color)}.m_b2404537>:where(tr)[data-hover]{--tr-hover-bg:var(--table-highlight-on-hover-color,var(--table-hover-color))}.m_b242d975{top:var(--table-sticky-header-offset,0);z-index:3}.m_b242d975:where([data-sticky]){position:sticky}.m_b242d975:where([data-sticky]) :where(.m_4e7aa4f3){top:var(--table-sticky-header-offset,0);background-color:var(--mantine-color-body);position:sticky}:where([data-with-table-border]) .m_b242d975[data-sticky] .m_4e7aa4f3{top:initial}.m_9e5a3ac7{color:var(--mantine-color-dimmed)}.m_9e5a3ac7:where([data-side=top]){margin-bottom:var(--mantine-spacing-xs)}.m_9e5a3ac7:where([data-side=bottom]){margin-top:var(--mantine-spacing-xs)}.m_a100c15{overflow-x:var(--table-overflow)}.m_62259741{min-width:var(--table-min-width);max-height:var(--table-max-height)}.m_bcaa9990{--toc-depth-offset:.8em;flex-direction:column;display:flex}.m_375a65ef{font-size:var(--toc-size,var(--mantine-font-size-md));border-radius:var(--toc-radius,var(--mantine-radius-default));padding:.3em .8em;padding-left:max(calc(var(--depth-offset)*var(--toc-depth-offset)),.8em);display:block}@media(hover:hover){:where([data-mantine-color-scheme=light]) .m_375a65ef:where(:hover):where(:not([data-variant=none])){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_375a65ef:where(:hover):where(:not([data-variant=none])){background-color:var(--mantine-color-dark-5)}}@media(hover:none){:where([data-mantine-color-scheme=light]) .m_375a65ef:where(:active):where(:not([data-variant=none])){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_375a65ef:where(:active):where(:not([data-variant=none])){background-color:var(--mantine-color-dark-5)}}.m_375a65ef:where([data-active]){background-color:var(--toc-bg);color:var(--toc-color)}.m_89d60db1{display:var(--tabs-display);flex-direction:var(--tabs-flex-direction);--tab-justify:flex-start;--tabs-list-direction:row;--tabs-panel-grow:unset;--tabs-display:block;--tabs-flex-direction:row;--tabs-list-border-width:0;--tabs-list-border-size:0 0 var(--tabs-list-border-width)0;--tabs-list-gap:unset;--tabs-list-line-bottom:0;--tabs-list-line-top:unset;--tabs-list-line-start:0;--tabs-list-line-end:0;--tab-radius:var(--tabs-radius)var(--tabs-radius)0 0;--tab-border-width:0 0 var(--tabs-list-border-width)0}.m_89d60db1[data-inverted]{--tabs-list-line-bottom:unset;--tabs-list-line-top:0;--tab-radius:0 0 var(--tabs-radius)var(--tabs-radius);--tab-border-width:var(--tabs-list-border-width)0 0 0}.m_89d60db1[data-inverted] .m_576c9d4:before{top:0;bottom:unset}.m_89d60db1[data-orientation=vertical]{--tabs-list-line-start:unset;--tabs-list-line-end:0;--tabs-list-line-top:0;--tabs-list-line-bottom:0;--tabs-list-border-size:0 var(--tabs-list-border-width)0 0;--tab-border-width:0 var(--tabs-list-border-width)0 0;--tab-radius:var(--tabs-radius)0 0 var(--tabs-radius);--tabs-list-direction:column;--tabs-panel-grow:1;--tabs-display:flex}[dir=rtl] .m_89d60db1[data-orientation=vertical]{--tabs-list-border-size:0 0 0 var(--tabs-list-border-width);--tab-border-width:0 0 0 var(--tabs-list-border-width);--tab-radius:0 var(--tabs-radius)var(--tabs-radius)0}.m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-flex-direction:row-reverse;--tabs-list-line-start:0;--tabs-list-line-end:unset;--tabs-list-border-size:0 0 0 var(--tabs-list-border-width);--tab-border-width:0 0 0 var(--tabs-list-border-width);--tab-radius:0 var(--tabs-radius)var(--tabs-radius)0}[dir=rtl] .m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-list-border-size:0 var(--tabs-list-border-width)0 0;--tab-border-width:0 var(--tabs-list-border-width)0 0;--tab-radius:var(--tabs-radius)0 0 var(--tabs-radius)}[data-mantine-color-scheme=light] .m_89d60db1{--tab-border-color:var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89d60db1{--tab-border-color:var(--mantine-color-dark-4)}.m_89d60db1[data-orientation=horizontal]{--tab-justify:center}.m_89d60db1[data-variant=default]{--tabs-list-border-width:calc(.125rem*var(--mantine-scale))}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=default]{--tab-hover-color:var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=default]{--tab-hover-color:var(--mantine-color-dark-6)}.m_89d60db1[data-variant=outline]{--tabs-list-border-width:calc(.0625rem*var(--mantine-scale))}.m_89d60db1[data-variant=pills]{--tabs-list-gap:calc(var(--mantine-spacing-sm)/2)}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=pills]{--tab-hover-color:var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=pills]{--tab-hover-color:var(--mantine-color-dark-6)}.m_89d33d6d{justify-content:var(--tabs-justify,flex-start);flex-wrap:wrap;flex-direction:var(--tabs-list-direction);gap:var(--tabs-list-gap);--tab-grow:unset;display:flex}.m_89d33d6d[data-grow]{--tab-grow:1}.m_b0c91715{flex-grow:var(--tabs-panel-grow)}.m_4ec4dce6{padding:var(--mantine-spacing-xs)var(--mantine-spacing-md);font-size:var(--mantine-font-size-sm);white-space:nowrap;z-index:0;-webkit-user-select:none;user-select:none;flex-grow:var(--tab-grow);align-items:center;justify-content:var(--tab-justify);line-height:1;display:flex;position:relative}.m_4ec4dce6:disabled,.m_4ec4dce6[data-disabled]{opacity:.5;cursor:not-allowed}.m_4ec4dce6:focus{z-index:1}.m_fc420b1f{margin-left:var(--tab-section-margin-left,0);margin-right:var(--tab-section-margin-right,0);justify-content:center;align-items:center;display:flex}.m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right:var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right:0rem;--tab-section-margin-left:var(--mantine-spacing-xs)}.m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left:var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left:0rem;--tab-section-margin-right:var(--mantine-spacing-xs)}.m_576c9d4{position:relative}.m_576c9d4:before{content:"";border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top);border-style:solid;position:absolute}.m_539e827b{border-radius:var(--tab-radius);border-width:var(--tab-border-width);background-color:var(--tab-bg);--tab-bg:transparent;border-style:solid;border-color:#0000}.m_539e827b:where([data-active]){border-color:var(--tabs-color)}@media(hover:hover){.m_539e827b:hover{--tab-bg:var(--tab-hover-color)}.m_539e827b:hover:where(:not([data-active])){border-color:var(--tab-border-color)}}@media(hover:none){.m_539e827b:active{--tab-bg:var(--tab-hover-color)}.m_539e827b:active:where(:not([data-active])){border-color:var(--tab-border-color)}}@media(hover:hover){.m_539e827b:disabled:hover,.m_539e827b[data-disabled]:hover{--tab-bg:transparent}}@media(hover:none){.m_539e827b:disabled:active,.m_539e827b[data-disabled]:active{--tab-bg:transparent}}.m_6772fbd5{position:relative}.m_6772fbd5:before{content:"";border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top);border-style:solid;position:absolute}.m_b59ab47c{border-top:calc(.0625rem*var(--mantine-scale))solid transparent;border-bottom:calc(.0625rem*var(--mantine-scale))solid transparent;border-right:calc(.0625rem*var(--mantine-scale))solid transparent;border-left:calc(.0625rem*var(--mantine-scale))solid transparent;border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-radius:var(--tab-radius);--tab-border-bottom-color:transparent;--tab-border-top-color:transparent;--tab-border-inline-end-color:transparent;--tab-border-inline-start-color:transparent;position:relative}.m_b59ab47c:where([data-active]):before{content:"";background-color:var(--tab-border-color);bottom:var(--tab-before-bottom,calc(-.0625rem*var(--mantine-scale)));left:var(--tab-before-left,calc(-.0625rem*var(--mantine-scale)));right:var(--tab-before-right,auto);top:var(--tab-before-top,auto);width:calc(.0625rem*var(--mantine-scale));height:calc(.0625rem*var(--mantine-scale));position:absolute}.m_b59ab47c:where([data-active]):after{content:"";background-color:var(--tab-border-color);bottom:var(--tab-after-bottom,calc(-.0625rem*var(--mantine-scale)));right:var(--tab-after-right,calc(-.0625rem*var(--mantine-scale)));left:var(--tab-after-left,auto);top:var(--tab-after-top,auto);width:calc(.0625rem*var(--mantine-scale));height:calc(.0625rem*var(--mantine-scale));position:absolute}.m_b59ab47c:where([data-active]){border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-inline-start-color:var(--tab-border-inline-start-color);border-inline-end-color:var(--tab-border-inline-end-color);--tab-border-top-color:var(--tab-border-color);--tab-border-inline-start-color:var(--tab-border-color);--tab-border-inline-end-color:var(--tab-border-color);--tab-border-bottom-color:var(--mantine-color-body)}.m_b59ab47c:where([data-active])[data-inverted]{--tab-border-bottom-color:var(--tab-border-color);--tab-border-top-color:var(--mantine-color-body);--tab-before-bottom:auto;--tab-before-top:calc(-.0625rem*var(--mantine-scale));--tab-after-bottom:auto;--tab-after-top:calc(-.0625rem*var(--mantine-scale))}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-border-inline-end-color:var(--mantine-color-body);--tab-border-inline-start-color:var(--tab-border-color);--tab-border-bottom-color:var(--tab-border-color);--tab-before-right:calc(-.0625rem*var(--mantine-scale));--tab-before-left:auto;--tab-before-bottom:auto;--tab-before-top:calc(-.0625rem*var(--mantine-scale));--tab-after-left:auto;--tab-after-right:calc(-.0625rem*var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-before-right:auto;--tab-before-left:calc(-.0625rem*var(--mantine-scale));--tab-after-left:calc(-.0625rem*var(--mantine-scale));--tab-after-right:auto}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-border-inline-start-color:var(--mantine-color-body);--tab-border-inline-end-color:var(--tab-border-color);--tab-border-bottom-color:var(--tab-border-color);--tab-before-left:calc(-.0625rem*var(--mantine-scale));--tab-before-right:auto;--tab-before-bottom:auto;--tab-before-top:calc(-.0625rem*var(--mantine-scale));--tab-after-right:auto;--tab-after-left:calc(-.0625rem*var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-before-left:auto;--tab-before-right:calc(-.0625rem*var(--mantine-scale));--tab-after-right:calc(-.0625rem*var(--mantine-scale));--tab-after-left:auto}.m_c3381914{border-radius:var(--tabs-radius);background-color:var(--tab-bg);color:var(--tab-color);--tab-bg:transparent;--tab-color:inherit}@media(hover:hover){.m_c3381914:not([data-disabled]):hover{--tab-bg:var(--tab-hover-color)}}@media(hover:none){.m_c3381914:not([data-disabled]):active{--tab-bg:var(--tab-hover-color)}}.m_c3381914[data-active][data-active]{--tab-bg:var(--tabs-color);--tab-color:var(--tabs-text-color,var(--mantine-color-white))}@media(hover:hover){.m_c3381914[data-active][data-active]:hover{--tab-bg:var(--tabs-color)}}@media(hover:none){.m_c3381914[data-active][data-active]:active{--tab-bg:var(--tabs-color)}}.m_7341320d{--ti-size-xs:calc(1.125rem*var(--mantine-scale));--ti-size-sm:calc(1.375rem*var(--mantine-scale));--ti-size-md:calc(1.75rem*var(--mantine-scale));--ti-size-lg:calc(2.125rem*var(--mantine-scale));--ti-size-xl:calc(2.75rem*var(--mantine-scale));--ti-size:var(--ti-size-md);-webkit-user-select:none;user-select:none;width:var(--ti-size);height:var(--ti-size);min-width:var(--ti-size);min-height:var(--ti-size);border-radius:var(--ti-radius,var(--mantine-radius-default));background:var(--ti-bg,var(--mantine-primary-color-filled));color:var(--ti-color,var(--mantine-color-white));border:var(--ti-bd,1px solid transparent);justify-content:center;align-items:center;line-height:1;display:inline-flex;position:relative}.m_43657ece{--offset:calc(var(--tl-bullet-size)/2 + var(--tl-line-width)/2);--tl-bullet-size:calc(1.25rem*var(--mantine-scale));--tl-line-width:calc(.25rem*var(--mantine-scale));--tl-radius:calc(62.5rem*var(--mantine-scale));--tl-color:var(--mantine-primary-color-filled)}.m_43657ece:where([data-align=left]){padding-inline-start:var(--offset)}.m_43657ece:where([data-align=right]){padding-inline-end:var(--offset)}.m_2ebe8099{margin-bottom:calc(var(--mantine-spacing-xs)/2);font-weight:500;line-height:1}.m_436178ff{--item-border:var(--tl-line-width)var(--tli-border-style,solid)var(--item-border-color);color:var(--mantine-color-text);position:relative}.m_436178ff:before{content:"";pointer-events:none;top:0;left:var(--timeline-line-left,0);right:var(--timeline-line-right,0);bottom:calc(var(--mantine-spacing-xl)*-1);border-inline-start:var(--item-border);display:var(--timeline-line-display,none);position:absolute}.m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left:calc(var(--tl-line-width)*-1);--timeline-line-right:auto}[dir=rtl] .m_43657ece[data-align=left] .m_436178ff:before,.m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left:auto;--timeline-line-right:calc(var(--tl-line-width)*-1)}[dir=rtl] .m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left:calc(var(--tl-line-width)*-1);--timeline-line-right:auto}.m_43657ece:where([data-align=left]) .m_436178ff{text-align:left;padding-inline-start:var(--offset)}.m_43657ece:where([data-align=right]) .m_436178ff{text-align:right;padding-inline-end:var(--offset)}:where([data-mantine-color-scheme=light]) .m_436178ff{--item-border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_436178ff{--item-border-color:var(--mantine-color-dark-4)}.m_436178ff:where([data-line-active]):before{border-color:var(--tli-color,var(--tl-color))}.m_436178ff:where(:not(:last-of-type)){--timeline-line-display:block}.m_436178ff:where(:not(:first-of-type)){margin-top:var(--mantine-spacing-xl)}.m_8affcee1{width:var(--tl-bullet-size);height:var(--tl-bullet-size);border-radius:var(--tli-radius,var(--tl-radius));border:var(--tl-line-width)solid;background-color:var(--mantine-color-body);color:var(--mantine-color-text);justify-content:center;align-items:center;display:flex;position:absolute;top:0}:where([data-mantine-color-scheme=light]) .m_8affcee1{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1{border-color:var(--mantine-color-dark-4)}.m_43657ece:where([data-align=left]) .m_8affcee1{left:calc((var(--tl-bullet-size)/2 + var(--tl-line-width)/2)*-1);right:auto}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_8affcee1,.m_43657ece:where([data-align=right]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size)/2 + var(--tl-line-width)/2)*-1)}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_8affcee1{left:calc((var(--tl-bullet-size)/2 + var(--tl-line-width)/2)*-1);right:auto}.m_8affcee1:where([data-with-child]){border-width:var(--tl-line-width)}:where([data-mantine-color-scheme=light]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-dark-4)}.m_8affcee1:where([data-active]){border-color:var(--tli-color,var(--tl-color));background-color:var(--mantine-color-white);color:var(--tl-icon-color,var(--mantine-color-white))}.m_8affcee1:where([data-active]):where([data-with-child]){background-color:var(--tli-color,var(--tl-color));color:var(--tl-icon-color,var(--mantine-color-white))}.m_43657ece:where([data-align=left]) .m_540e8f41{text-align:left;padding-inline-start:var(--offset)}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_540e8f41{text-align:right}.m_43657ece:where([data-align=right]) .m_540e8f41{text-align:right;padding-inline-end:var(--offset)}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_540e8f41{text-align:left}.m_8a5d1357{font-weight:var(--title-fw);font-size:var(--title-fz);line-height:var(--title-lh);font-family:var(--mantine-font-family-headings);text-wrap:var(--title-text-wrap,var(--mantine-heading-text-wrap));margin:0}.m_8a5d1357:where([data-line-clamp]){text-overflow:ellipsis;-webkit-line-clamp:var(--title-line-clamp);-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.m_f698e191{--level-offset:var(--mantine-spacing-lg);-webkit-user-select:none;user-select:none;margin:0;padding:0}.m_75f3ecf{margin:0;padding:0}.m_f6970eb1{cursor:pointer;outline:0;margin:0;padding:0;list-style:none}.m_f6970eb1:focus-visible>.m_dc283425{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem*var(--mantine-scale))}.m_dc283425{padding-inline-start:var(--label-offset)}:where([data-mantine-color-scheme=light]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-dark-5)}.m_d6493fad :first-child{margin-top:0}.m_d6493fad :last-child{margin-bottom:0}.m_d6493fad :where(h1,h2,h3,h4,h5,h6){margin-bottom:var(--mantine-spacing-xs);text-wrap:var(--mantine-heading-text-wrap);font-family:var(--mantine-font-family-headings)}.m_d6493fad :where(h1){margin-top:calc(1.5*var(--mantine-spacing-xl));font-size:var(--mantine-h1-font-size);line-height:var(--mantine-h1-line-height);font-weight:var(--mantine-h1-font-weight)}.m_d6493fad :where(h2){margin-top:var(--mantine-spacing-xl);font-size:var(--mantine-h2-font-size);line-height:var(--mantine-h2-line-height);font-weight:var(--mantine-h2-font-weight)}.m_d6493fad :where(h3){margin-top:calc(.8*var(--mantine-spacing-xl));font-size:var(--mantine-h3-font-size);line-height:var(--mantine-h3-line-height);font-weight:var(--mantine-h3-font-weight)}.m_d6493fad :where(h4){margin-top:calc(.8*var(--mantine-spacing-xl));font-size:var(--mantine-h4-font-size);line-height:var(--mantine-h4-line-height);font-weight:var(--mantine-h4-font-weight)}.m_d6493fad :where(h5){margin-top:calc(.5*var(--mantine-spacing-xl));font-size:var(--mantine-h5-font-size);line-height:var(--mantine-h5-line-height);font-weight:var(--mantine-h5-font-weight)}.m_d6493fad :where(h6){margin-top:calc(.5*var(--mantine-spacing-xl));font-size:var(--mantine-h6-font-size);line-height:var(--mantine-h6-line-height);font-weight:var(--mantine-h6-font-weight)}.m_d6493fad :where(img){max-width:100%;margin-bottom:var(--mantine-spacing-xs)}.m_d6493fad :where(p){margin-top:0;margin-bottom:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-2);color:inherit}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-5);color:var(--mantine-color-black)}.m_d6493fad :where(a){color:var(--mantine-color-anchor);text-decoration:none}@media(hover:hover){.m_d6493fad :where(a):hover{text-decoration:underline}}@media(hover:none){.m_d6493fad :where(a):active{text-decoration:underline}}.m_d6493fad :where(hr){margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);border:0;border-top:calc(.0625rem*var(--mantine-scale))solid}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(hr){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(hr){border-color:var(--mantine-color-dark-3)}.m_d6493fad :where(pre){padding:var(--mantine-spacing-xs);line-height:var(--mantine-line-height);margin:0;margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs);border-radius:var(--mantine-radius-sm);overflow-x:auto}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(pre){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(pre){background-color:var(--mantine-color-dark-8)}.m_d6493fad :where(pre) :where(code){color:inherit;background-color:#0000;border:0;border-radius:0;padding:0}.m_d6493fad :where(kbd){--kbd-fz:calc(.75rem*var(--mantine-scale));--kbd-padding:calc(.1875rem*var(--mantine-scale))calc(.3125rem*var(--mantine-scale));font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);padding:var(--kbd-padding);font-weight:700;font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625rem*var(--mantine-scale))solid;border-bottom-width:calc(.1875rem*var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-dark-3);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-5)}.m_d6493fad :where(code){line-height:var(--mantine-line-height);padding:calc(.0625rem*var(--mantine-scale))calc(.3125rem*var(--mantine-scale));border-radius:var(--mantine-radius-sm);font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(code){background-color:var(--mantine-color-gray-0);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(code){background-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_d6493fad :where(ul,ol):not([data-type=taskList]){margin-bottom:var(--mantine-spacing-md);padding-inline-start:var(--mantine-spacing-xl);list-style-position:outside}.m_d6493fad :where(table){border-collapse:collapse;caption-side:bottom;width:100%;margin-bottom:var(--mantine-spacing-md)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(table){--table-border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(table){--table-border-color:var(--mantine-color-dark-4)}.m_d6493fad :where(table) :where(caption){margin-top:var(--mantine-spacing-xs);font-size:var(--mantine-font-size-sm);color:var(--mantine-color-dimmed)}.m_d6493fad :where(table) :where(th){text-align:left;font-weight:700;font-size:var(--mantine-font-size-sm);padding:var(--mantine-spacing-xs)var(--mantine-spacing-sm)}.m_d6493fad :where(table) :where(thead th){border-bottom:calc(.0625rem*var(--mantine-scale))solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(tfoot th){border-top:calc(.0625rem*var(--mantine-scale))solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(td){padding:var(--mantine-spacing-xs)var(--mantine-spacing-sm);border-bottom:calc(.0625rem*var(--mantine-scale))solid;border-color:var(--table-border-color);font-size:var(--mantine-font-size-sm)}.m_d6493fad :where(table) :where(tr:last-of-type td){border-bottom:0}.m_d6493fad :where(blockquote){font-size:var(--mantine-font-size-lg);line-height:var(--mantine-line-height);margin:var(--mantine-spacing-md)0;border-radius:var(--mantine-radius-sm);padding:var(--mantine-spacing-md)var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-dark-8)}}@layer components;@layer utilities{.\@container{container-type:inline-size}.collapse{visibility:collapse}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.mt-2{margin-top:calc(var(--spacing)*2)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.table{display:table}.h-2{height:calc(var(--spacing)*2)}.h-3{height:calc(var(--spacing)*3)}.h-full{height:100%}.min-h-\[80px\]{min-height:80px}.min-h-\[200px\]{min-height:200px}.min-h-screen{min-height:100vh}.w-2{width:calc(var(--spacing)*2)}.w-3{width:calc(var(--spacing)*3)}.w-64{width:calc(var(--spacing)*64)}.max-w-\[280px\]{max-width:280px}.max-w-none{max-width:none}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-\[280px\]{min-width:280px}.flex-1{flex:1}.flex-shrink-0{flex-shrink:0}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.cursor-grab{cursor:grab}.cursor-pointer{cursor:pointer}.resize{resize:both}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-1{gap:calc(var(--spacing)*1)}.gap-2{gap:calc(var(--spacing)*2)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-x-auto{overflow-x:auto}.rounded{border-radius:.25rem}.rounded-full{border-radius:3.40282e38px}.rounded-md{border-radius:var(--radius-md)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-blue-500{border-color:var(--color-blue-500)}.border-gray-200{border-color:var(--color-gray-200)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-white{background-color:var(--color-white)}.p-1{padding:calc(var(--spacing)*1)}.p-2{padding:calc(var(--spacing)*2)}.p-4{padding:calc(var(--spacing)*4)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.whitespace-pre-wrap{white-space:pre-wrap}.text-gray-600{color:var(--color-gray-600)}.uppercase{text-transform:uppercase}.italic{font-style:italic}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-blue-400{--tw-ring-color:var(--color-blue-400)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter\!{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}@media(hover:hover){.hover\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\:underline:hover{text-decoration-line:underline}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.active\:cursor-grabbing:active{cursor:grabbing}@media(min-width:64rem){.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}}:root{--font-family:"Inter",system-ui,sans-serif}body{font-family:var(--font-family)}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}
</file>

<file path="apps/web/dist/assets/index-z2RtNmAn.js">
var JM=Object.defineProperty;var cx=e=>{throw TypeError(e)};var ej=(e,t,r)=>t in e?JM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ha=(e,t,r)=>ej(e,typeof t!="symbol"?t+"":t,r),Jp=(e,t,r)=>t.has(e)||cx("Cannot "+r);var P=(e,t,r)=>(Jp(e,t,"read from private field"),r?r.call(e):t.get(e)),De=(e,t,r)=>t.has(e)?cx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ee=(e,t,r,i)=>(Jp(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),Fe=(e,t,r)=>(Jp(e,t,"access private method"),r);var Jf=(e,t,r,i)=>({set _(o){Ee(e,t,o,r)},get _(){return P(e,t,i)}});function tj(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(i,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();function Qv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eg={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function nj(){if(fx)return Pu;fx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,o,s){var c=null;if(s!==void 0&&(c=""+s),o.key!==void 0&&(c=""+o.key),"key"in o){s={};for(var f in o)f!=="key"&&(s[f]=o[f])}else s=o;return o=s.ref,{$$typeof:e,type:i,key:c,ref:o!==void 0?o:null,props:s}}return Pu.Fragment=t,Pu.jsx=r,Pu.jsxs=r,Pu}var dx;function rj(){return dx||(dx=1,eg.exports=nj()),eg.exports}var x=rj(),Io,aj=(Io=class extends Error{constructor(r){super(new.target.formatMessage(new.target.kind,r.message,r.code,r.docsUrl),{cause:r.cause});ha(this,"clerkError",!0);ha(this,"code");ha(this,"longMessage");ha(this,"docsUrl");ha(this,"cause");Object.setPrototypeOf(this,Io.prototype),this.code=r.code,this.docsUrl=r.docsUrl,this.longMessage=r.longMessage,this.cause=r.cause}get name(){return this.constructor.name}toString(){return`[${this.name}]
Message:${this.message}`}static formatMessage(r,i,o,s){const c="Clerk:",f=new RegExp(c.replace(" ","\\s*"),"i");return i=i.replace(f,""),i=`${c} ${i.trim()}

(code="${o}")

`,s&&(i+=`

Docs: ${s}`),i}},ha(Io,"kind","ClerkError"),Io);const ij=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function eC({packageName:e,customMessages:t}){let r=e;function i(s,c){if(!c)return`${r}: ${s}`;let f=s;const d=s.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const h of d){const v=(c[h[1]]||"").toString();f=f.replace(`{{${h[1]}}}`,v)}return`${r}: ${f}`}const o={...ij,...t};return{setPackageName({packageName:s}){return typeof s=="string"&&(r=s),this},setMessages({customMessages:s}){return Object.assign(o,s||{}),this},throwInvalidPublishableKeyError(s){throw new Error(i(o.InvalidPublishableKeyErrorMessage,s))},throwInvalidProxyUrl(s){throw new Error(i(o.InvalidProxyUrlErrorMessage,s))},throwMissingPublishableKeyError(){throw new Error(i(o.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(i(o.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(s){throw new Error(i(o.MissingClerkProvider,s))},throw(s){throw new Error(i(s))}}}var Fo,Xg=(Fo=class extends aj{constructor(r,i){super({...i,message:r});ha(this,"clerkRuntimeError",!0);Object.setPrototypeOf(this,Fo.prototype)}},ha(Fo,"kind","ClerkRuntimeError"),Fo);const oj={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},lj=new Set(["first_factor","second_factor","multi_factor"]),sj=new Set(["strict_mfa","strict","moderate","lax"]),uj=e=>typeof e=="number"&&e>0,cj=e=>lj.has(e),fj=e=>sj.has(e),tg=e=>e.replace(/^(org:)*/,"org:"),dj=(e,t)=>{const{orgId:r,orgRole:i,orgPermissions:o}=t;return!e.role&&!e.permission||!r||!i||!o?null:e.permission?o.includes(tg(e.permission)):e.role?tg(i)===tg(e.role):null},hx=(e,t)=>{const{org:r,user:i}=mj(e),[o,s]=t.split(":"),c=s||o;return o==="org"?r.includes(c):o==="user"?i.includes(c):[...r,...i].includes(c)},hj=(e,t)=>{const{features:r,plans:i}=t;return e.feature&&r?hx(r,e.feature):e.plan&&i?hx(i,e.plan):null},mj=e=>{const t=e?e.split(",").map(r=>r.trim()):[];return{org:t.filter(r=>r.split(":")[0].includes("o")).map(r=>r.split(":")[1]),user:t.filter(r=>r.split(":")[0].includes("u")).map(r=>r.split(":")[1])}},pj=e=>{if(!e)return!1;const t=o=>typeof o=="string"?oj[o]:o,r=typeof e=="string"&&fj(e),i=typeof e=="object"&&cj(e.level)&&uj(e.afterMinutes);return r||i?t.bind(null,e):!1},gj=(e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;const r=pj(e.reverification);if(!r)return null;const{level:i,afterMinutes:o}=r(),[s,c]=t,f=s!==-1?o>s:null,d=c!==-1?o>c:null;switch(i){case"first_factor":return f;case"second_factor":return c!==-1?d:f;case"multi_factor":return c===-1?f:f&&d}},vj=e=>t=>{if(!e.userId)return!1;const r=hj(t,e),i=dj(t,e),o=gj(t,e);return[r||i,o].some(s=>s===null)?[r||i,o].some(s=>s===!0):[r||i,o].every(s=>s===!0)},yj=({authObject:{sessionId:e,sessionStatus:t,userId:r,actor:i,orgId:o,orgRole:s,orgSlug:c,signOut:f,getToken:d,has:h,sessionClaims:v},options:{treatPendingAsSignedOut:g=!0}})=>{if(e===void 0&&r===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:r,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:f,getToken:d};if(e===null&&r===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:r,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:f,getToken:d};if(g&&t==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:f,getToken:d};if(e&&v&&r&&o&&s)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:v,userId:r,actor:i||null,orgId:o,orgRole:s,orgSlug:c||null,has:h,signOut:f,getToken:d};if(e&&v&&r&&!o)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:v,userId:r,actor:i||null,orgId:null,orgRole:null,orgSlug:null,has:h,signOut:f,getToken:d}},bj=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],tC=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,nC="pk_live_",Sj="pk_test_";function rC(e){if(!e.endsWith("$"))return!1;const t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}function mx(e,t={}){if(e=e||"",!e||!Qg(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!Qg(e))throw new Error("Publishable key not valid.");return null}const r=e.startsWith(nC)?"production":"development";let i;try{i=tC(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!rC(i)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let o=i.slice(0,-1);return t.proxyUrl?o=t.proxyUrl:r!=="development"&&t.domain&&t.isSatellite&&(o=`clerk.${t.domain}`),{instanceType:r,frontendApi:o}}function Qg(e=""){try{if(!(e.startsWith(nC)||e.startsWith(Sj)))return!1;const t=e.split("_");if(t.length!==3)return!1;const r=t[2];return r?rC(tC(r)):!1}catch{return!1}}function wj(){const e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;const r=typeof t=="string"?t:t.hostname;let i=e.get(r);return i===void 0&&(i=bj.some(o=>r.endsWith(o)),e.set(r,i)),i}}}const xj="METHOD_CALLED",Ej=.1;function Cj(e,t){return{event:xj,eventSamplingRate:Ej,payload:{method:e,...t}}}var ng={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function Rj(){if(px)return Ue;px=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function T(L,W,ae){this.props=L,this.context=W,this.refs=R,this.updater=ae||C}T.prototype.isReactComponent={},T.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},T.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function _(){}_.prototype=T.prototype;function M(L,W,ae){this.props=L,this.context=W,this.refs=R,this.updater=ae||C}var A=M.prototype=new _;A.constructor=M,E(A,T.prototype),A.isPureReactComponent=!0;var D=Array.isArray;function N(){}var O={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function F(L,W,ae){var fe=ae.ref;return{$$typeof:e,type:L,key:W,ref:fe!==void 0?fe:null,props:ae}}function I(L,W){return F(L.type,W,L.props)}function G(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function J(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ae){return W[ae]})}var ce=/\/+/g;function ie(L,W){return typeof L=="object"&&L!==null&&L.key!=null?J(""+L.key):W.toString(36)}function pe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,W,ae,fe,ge){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(xe){case"bigint":case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case e:case t:se=!0;break;case v:return se=L._init,B(se(L._payload),W,ae,fe,ge)}}if(se)return ge=ge(L),se=fe===""?"."+ie(L,0):fe,D(ge)?(ae="",se!=null&&(ae=se.replace(ce,"$&/")+"/"),B(ge,W,ae,"",function(Se){return Se})):ge!=null&&(G(ge)&&(ge=I(ge,ae+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(ce,"$&/")+"/")+se)),W.push(ge)),1;se=0;var Ce=fe===""?".":fe+":";if(D(L))for(var Re=0;Re<L.length;Re++)fe=L[Re],xe=Ce+ie(fe,Re),se+=B(fe,W,ae,xe,ge);else if(Re=S(L),typeof Re=="function")for(L=Re.call(L),Re=0;!(fe=L.next()).done;)fe=fe.value,xe=Ce+ie(fe,Re++),se+=B(fe,W,ae,xe,ge);else if(xe==="object"){if(typeof L.then=="function")return B(pe(L),W,ae,fe,ge);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return se}function X(L,W,ae){if(L==null)return L;var fe=[],ge=0;return B(L,fe,"","",function(xe){return W.call(ae,xe,ge++)}),fe}function te(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ae){(L._status===0||L._status===-1)&&(L._status=1,L._result=ae)},function(ae){(L._status===0||L._status===-1)&&(L._status=2,L._result=ae)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var he=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},me={map:X,forEach:function(L,W,ae){X(L,function(){W.apply(this,arguments)},ae)},count:function(L){var W=0;return X(L,function(){W++}),W},toArray:function(L){return X(L,function(W){return W})||[]},only:function(L){if(!G(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ue.Activity=g,Ue.Children=me,Ue.Component=T,Ue.Fragment=r,Ue.Profiler=o,Ue.PureComponent=M,Ue.StrictMode=i,Ue.Suspense=d,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Ue.cache=function(L){return function(){return L.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(L,W,ae){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=E({},L.props),ge=L.key;if(W!=null)for(xe in W.key!==void 0&&(ge=""+W.key),W)!z.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(fe[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)fe.children=ae;else if(1<xe){for(var se=Array(xe),Ce=0;Ce<xe;Ce++)se[Ce]=arguments[Ce+2];fe.children=se}return F(L.type,ge,fe)},Ue.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Ue.createElement=function(L,W,ae){var fe,ge={},xe=null;if(W!=null)for(fe in W.key!==void 0&&(xe=""+W.key),W)z.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ge[fe]=W[fe]);var se=arguments.length-2;if(se===1)ge.children=ae;else if(1<se){for(var Ce=Array(se),Re=0;Re<se;Re++)Ce[Re]=arguments[Re+2];ge.children=Ce}if(L&&L.defaultProps)for(fe in se=L.defaultProps,se)ge[fe]===void 0&&(ge[fe]=se[fe]);return F(L,xe,ge)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(L){return{$$typeof:f,render:L}},Ue.isValidElement=G,Ue.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:te}},Ue.memo=function(L,W){return{$$typeof:h,type:L,compare:W===void 0?null:W}},Ue.startTransition=function(L){var W=O.T,ae={};O.T=ae;try{var fe=L(),ge=O.S;ge!==null&&ge(ae,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(N,he)}catch(xe){he(xe)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),O.T=W}},Ue.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ue.use=function(L){return O.H.use(L)},Ue.useActionState=function(L,W,ae){return O.H.useActionState(L,W,ae)},Ue.useCallback=function(L,W){return O.H.useCallback(L,W)},Ue.useContext=function(L){return O.H.useContext(L)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(L,W){return O.H.useDeferredValue(L,W)},Ue.useEffect=function(L,W){return O.H.useEffect(L,W)},Ue.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Ue.useId=function(){return O.H.useId()},Ue.useImperativeHandle=function(L,W,ae){return O.H.useImperativeHandle(L,W,ae)},Ue.useInsertionEffect=function(L,W){return O.H.useInsertionEffect(L,W)},Ue.useLayoutEffect=function(L,W){return O.H.useLayoutEffect(L,W)},Ue.useMemo=function(L,W){return O.H.useMemo(L,W)},Ue.useOptimistic=function(L,W){return O.H.useOptimistic(L,W)},Ue.useReducer=function(L,W,ae){return O.H.useReducer(L,W,ae)},Ue.useRef=function(L){return O.H.useRef(L)},Ue.useState=function(L){return O.H.useState(L)},Ue.useSyncExternalStore=function(L,W,ae){return O.H.useSyncExternalStore(L,W,ae)},Ue.useTransition=function(){return O.H.useTransition()},Ue.version="19.2.3",Ue}var gx;function Kd(){return gx||(gx=1,ng.exports=Rj()),ng.exports}var y=Kd();const q=Qv(y),aC=tj({__proto__:null,default:q},[y]);var rg={exports:{}},ag={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function Tj(){if(vx)return ag;vx=1;var e=Kd();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var r=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function f(g,b){var S=b(),C=i({inst:{value:S,getSnapshot:b}}),E=C[0].inst,R=C[1];return s(function(){E.value=S,E.getSnapshot=b,d(E)&&R({inst:E})},[g,S,b]),o(function(){return d(E)&&R({inst:E}),g(function(){d(E)&&R({inst:E})})},[g]),c(S),S}function d(g){var b=g.getSnapshot;g=g.value;try{var S=b();return!r(g,S)}catch{return!0}}function h(g,b){return b()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return ag.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,ag}var yx;function _j(){return yx||(yx=1,rg.exports=Tj()),rg.exports}_j();const Oj=0,Mj=1,jj=2;var bx=Object.prototype.hasOwnProperty;function Wg(e,t){var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&Wg(e[i],t[i]););return i===-1}if(!r||typeof e=="object"){i=0;for(r in e)if(bx.call(e,r)&&++i&&!bx.call(t,r)||!(r in t)||!Wg(e[r],t[r]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}const Yi=new WeakMap,io=()=>{},fr=io(),Dd=Object,Wr=e=>e===fr,Gi=e=>typeof e=="function",el=(e,t)=>({...e,...t}),Aj=e=>Gi(e.then),ig={},ed={},iC="undefined",Zd=typeof window!=iC,Kg=typeof document!=iC,Dj=Zd&&"Deno"in window,Nj=(e,t)=>{const r=Yi.get(e);return[()=>!Wr(t)&&e.get(t)||ig,i=>{if(!Wr(t)){const o=e.get(t);t in ed||(ed[t]=o),r[5](t,el(o,i),o||ig)}},r[6],()=>!Wr(t)&&t in ed?ed[t]:!Wr(t)&&e.get(t)||ig]};let Zg=!0;const zj=()=>Zg,[Jg,ev]=Zd&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[io,io],kj=()=>{const e=Kg&&document.visibilityState;return Wr(e)||e!=="hidden"},Lj=e=>(Kg&&document.addEventListener("visibilitychange",e),Jg("focus",e),()=>{Kg&&document.removeEventListener("visibilitychange",e),ev("focus",e)}),Uj=e=>{const t=()=>{Zg=!0,e()},r=()=>{Zg=!1};return Jg("online",t),Jg("offline",r),()=>{ev("online",t),ev("offline",r)}},Pj={isOnline:zj,isVisible:kj},Bj={initFocus:Lj,initReconnect:Uj};q.useId;const Wv=!Zd||Dj,$j=Wv?y.useEffect:y.useLayoutEffect,og=typeof navigator<"u"&&navigator.connection,Sx=!Wv&&og&&(["slow-2g","2g"].includes(og.effectiveType)||og.saveData),td=new WeakMap,Hj=e=>Dd.prototype.toString.call(e),lg=(e,t)=>e===`[object ${t}]`;let Ij=0;const tv=e=>{const t=typeof e,r=Hj(e),i=lg(r,"Date"),o=lg(r,"RegExp"),s=lg(r,"Object");let c,f;if(Dd(e)===e&&!i&&!o){if(c=td.get(e),c)return c;if(c=++Ij+"~",td.set(e,c),Array.isArray(e)){for(c="@",f=0;f<e.length;f++)c+=tv(e[f])+",";td.set(e,c)}if(s){c="#";const d=Dd.keys(e).sort();for(;!Wr(f=d.pop());)Wr(e[f])||(c+=f+":"+tv(e[f])+",");td.set(e,c)}}else c=i?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return c},oC=e=>{if(Gi(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?tv(e):"",[e,t]};let Fj=0;const wx=()=>++Fj;async function Vj(...e){const[t,r,i,o]=e,s=el({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let c=s.populateCache;const f=s.rollbackOnError;let d=s.optimisticData;const h=b=>typeof f=="function"?f(b):f!==!1,v=s.throwOnError;if(Gi(r)){const b=r,S=[],C=t.keys();for(const E of C)!/^\$(inf|sub)\$/.test(E)&&b(t.get(E)._k)&&S.push(E);return Promise.all(S.map(g))}return g(r);async function g(b){const[S]=oC(b);if(!S)return;const[C,E]=Nj(t,S),[R,T,_,M]=Yi.get(t),A=()=>{const ie=R[S];return(Gi(s.revalidate)?s.revalidate(C().data,b):s.revalidate!==!1)&&(delete _[S],delete M[S],ie&&ie[0])?ie[0](jj).then(()=>C().data):C().data};if(e.length<3)return A();let D=i,N,O=!1;const z=wx();T[S]=[z,0];const F=!Wr(d),I=C(),G=I.data,J=I._c,ce=Wr(J)?G:J;if(F&&(d=Gi(d)?d(ce,G):d,E({data:d,_c:ce})),Gi(D))try{D=D(ce)}catch(ie){N=ie,O=!0}if(D&&Aj(D))if(D=await D.catch(ie=>{N=ie,O=!0}),z!==T[S][0]){if(O)throw N;return D}else O&&F&&h(N)&&(c=!0,E({data:ce,_c:fr}));if(c&&!O)if(Gi(c)){const ie=c(D,ce);E({data:ie,error:fr,_c:fr})}else E({data:D,error:fr,_c:fr});if(T[S][1]=wx(),Promise.resolve(A()).then(()=>{E({_c:fr})}),O){if(v)throw N;return}return D}}const xx=(e,t)=>{for(const r in e)e[r][0]&&e[r][0](t)},lC=(e,t)=>{if(!Yi.has(e)){const r=el(Bj,t),i=Object.create(null),o=Vj.bind(fr,e);let s=io;const c=Object.create(null),f=(v,g)=>{const b=c[v]||[];return c[v]=b,b.push(g),()=>b.splice(b.indexOf(g),1)},d=(v,g,b)=>{e.set(v,g);const S=c[v];if(S)for(const C of S)C(g,b)},h=()=>{if(!Yi.has(e)&&(Yi.set(e,[i,Object.create(null),Object.create(null),Object.create(null),o,d,f]),!Wv)){const v=r.initFocus(setTimeout.bind(fr,xx.bind(fr,i,Oj))),g=r.initReconnect(setTimeout.bind(fr,xx.bind(fr,i,Mj)));s=()=>{v&&v(),g&&g(),Yi.delete(e)}}};return h(),[e,o,h,s]}return[e,Yi.get(e)[4]]},qj=(e,t,r,i,o)=>{const s=r.errorRetryCount,c=o.retryCount,f=~~((Math.random()+.5)*(1<<(c<8?c:8)))*r.errorRetryInterval;!Wr(s)&&c>s||setTimeout(i,f,o)},Yj=Wg,[Kv,Gj]=lC(new Map),Xj=el({onLoadingSlow:io,onSuccess:io,onError:io,onErrorRetry:qj,onDiscarded:io,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Sx?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Sx?5e3:3e3,compare:Yj,isPaused:()=>!1,cache:Kv,mutate:Gj,fallback:{}},Pj),Qj=(e,t)=>{const r=el(e,t);if(t){const{use:i,fallback:o}=e,{use:s,fallback:c}=t;i&&s&&(r.use=i.concat(s)),o&&c&&(r.fallback=el(o,c))}return r},Ex=y.createContext({}),Wj=e=>{const{value:t}=e,r=y.useContext(Ex),i=Gi(t),o=y.useMemo(()=>i?t(r):t,[i,r,t]),s=y.useMemo(()=>i?o:Qj(r,o),[i,r,o]),c=o&&o.provider,f=y.useRef(fr);c&&!f.current&&(f.current=lC(c(s.cache||Kv),o));const d=f.current;return d&&(s.cache=d[0],s.mutate=d[1]),$j(()=>{if(d)return d[2]&&d[2](),d[3]},[]),y.createElement(Ex.Provider,el(e,{value:s}))},Kj="$inf$",sC=Zd&&window.__SWR_DEVTOOLS_USE__,Zj=sC?window.__SWR_DEVTOOLS_USE__:[],Jj=()=>{sC&&(window.__SWR_DEVTOOLS_REACT__=q)},e2=e=>(t,r,i)=>e(t,r&&((...s)=>{const[c]=oC(t),[,,,f]=Yi.get(Kv);if(c.startsWith(Kj))return r(...s);const d=f[c];return Wr(d)?r(...s):(delete f[c],d)}),i);Zj.concat(e2);Jj();q.use;const t2=Dd.defineProperty(Wj,"defaultValue",{value:Xj});var Cx=Object.prototype.hasOwnProperty;function Rx(e,t,r){for(r of e.keys())if(ec(r,t))return r}function ec(e,t){var r,i,o;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&ec(e[i],t[i]););return i===-1}if(r===Set){if(e.size!==t.size)return!1;for(i of e)if(o=i,o&&typeof o=="object"&&(o=Rx(t,o),!o)||!t.has(o))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(i of e)if(o=i[0],o&&typeof o=="object"&&(o=Rx(t,o),!o)||!ec(i[1],t.get(o)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return i===-1}if(!r||typeof e=="object"){i=0;for(r in e)if(Cx.call(e,r)&&++i&&!Cx.call(t,r)||!(r in t)||!ec(e[r],t[r]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function n2(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}const li=(e,t)=>{const{assertCtxFn:r=n2}={},i=q.createContext(void 0);return i.displayName=e,[i,()=>{const c=q.useContext(i);return r(c,`${e} not found`),c.value},()=>{const c=q.useContext(i);return c?c.value:{}}]};function r2({swrConfig:e,children:t}){return q.createElement(t2,{value:e},t)}const[uC,a2]=li("ClerkInstanceContext"),[i2]=li("UserContext"),[o2]=li("ClientContext"),[l2]=li("SessionContext");q.createContext({});const[s2]=li("CheckoutContext"),u2=({children:e,...t})=>q.createElement(s2.Provider,{value:{value:t}},e),[c2]=li("OrganizationContext"),f2=({children:e,organization:t,swrConfig:r})=>q.createElement(r2,{swrConfig:r},q.createElement(c2.Provider,{value:{value:{organization:t}}},e));function d2(e){if(!q.useContext(uC)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?q.useLayoutEffect:q.useEffect;const Tx=ec,h2=e=>{const t=y.useRef(e);return y.useEffect(()=>{t.current=e},[e]),t.current},ur=(e,t,r)=>{const i=!!r,o=y.useRef(r);y.useEffect(()=>{o.current=r},[r]),y.useEffect(()=>{if(!i||!e)return()=>{};const s=(...c)=>{o.current&&o.current(...c)};return e.on(t,s),()=>{e.off(t,s)}},[i,t,e,o])},cC=q.createContext(null);cC.displayName="ElementsContext";const m2=(e,t)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e},Nd=e=>e!==null&&typeof e=="object",p2=(e,t,r)=>Nd(e)?Object.keys(e).reduce((i,o)=>{const s=!Nd(t)||!fC(e[o],t[o]);return r.includes(o)?(s&&console.warn(`Unsupported prop change: options.${o} is not a mutable property.`),i):s?{...i||{},[o]:e[o]}:i},null):null,_x="[object Object]",fC=(e,t)=>{if(!Nd(e)||!Nd(t))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;const i=Object.prototype.toString.call(e)===_x;if(i!==(Object.prototype.toString.call(t)===_x))return!1;if(!i&&!r)return e===t;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const c={};for(let g=0;g<o.length;g+=1)c[o[g]]=!0;for(let g=0;g<s.length;g+=1)c[s[g]]=!0;const f=Object.keys(c);if(f.length!==o.length)return!1;const d=e,h=t,v=g=>fC(d[g],h[g]);return f.every(v)},Ox=e=>m2(q.useContext(cC),e),g2=e=>e.charAt(0).toUpperCase()+e.slice(1),v2=(e,t)=>{const r=`${g2(e)}Element`,s=t?c=>{Ox(`mounts <${r}>`);const{id:f,className:d}=c;return q.createElement("div",{id:f,className:d})}:({id:c,className:f,fallback:d,options:h={},onBlur:v,onFocus:g,onReady:b,onChange:S,onEscape:C,onClick:E,onLoadError:R,onLoaderStart:T,onNetworksChange:_,onConfirm:M,onCancel:A,onShippingAddressChange:D,onShippingRateChange:N})=>{const O=Ox(`mounts <${r}>`),z="elements"in O?O.elements:null,[F,I]=q.useState(null),G=q.useRef(null),J=q.useRef(null),[ce,ie]=y.useState(!1);ur(F,"blur",v),ur(F,"focus",g),ur(F,"escape",C),ur(F,"click",E),ur(F,"loaderror",R),ur(F,"loaderstart",T),ur(F,"networkschange",_),ur(F,"confirm",M),ur(F,"cancel",A),ur(F,"shippingaddresschange",D),ur(F,"shippingratechange",N),ur(F,"change",S);let pe;b&&(pe=()=>{ie(!0),b(F)}),ur(F,"ready",pe),q.useLayoutEffect(()=>{if(G.current===null&&J.current!==null&&z){let X=null;z&&(X=z.create(e,h)),G.current=X,I(X),X&&X.mount(J.current)}},[z,h]);const B=h2(h);return q.useEffect(()=>{if(!G.current)return;const X=p2(h,B,["paymentRequest"]);X&&"update"in G.current&&G.current.update(X)},[h,B]),q.useLayoutEffect(()=>()=>{if(G.current&&typeof G.current.destroy=="function")try{G.current.destroy(),G.current=null}catch{}},[]),q.createElement(q.Fragment,null,!ce&&d,q.createElement("div",{id:c,style:{height:ce?"unset":"0px",visibility:ce?"visible":"hidden"},className:f,ref:J}))};return s.displayName=r,s.__elementType=e,s};v2("payment",typeof window>"u");li("PaymentElementContext");li("StripeUtilsContext");var Jr=eC({packageName:"@clerk/clerk-react"});function y2(e){Jr.setMessages(e).setPackageName(e)}var[b2,S2]=li("AuthContext"),w2=uC,dC=a2,x2="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",E2=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,C2="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",sg="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",R2="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",T2="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",_2="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",O2="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",M2=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,j2=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,A2=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,D2="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",N2="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",z2="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",k2="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",L2="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",U2="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",P2="Missing props. <UserButton.Action /> component requires the following props: label.",Jd=e=>{d2(()=>{Jr.throwMissingClerkProviderError({source:e})})},hC=e=>new Promise(t=>{const r=i=>{["ready","degraded"].includes(i)&&(t(),e.off("status",r))};e.on("status",r,{notify:!0})}),B2=e=>async t=>(await hC(e),e.session?e.session.getToken(t):null),$2=e=>async(...t)=>(await hC(e),e.signOut(...t)),Zv=(e={})=>{var t;Jd("useAuth");const{treatPendingAsSignedOut:r,...i}=e??{},o=i;let c=S2();c.sessionId===void 0&&c.userId===void 0&&(c=o??{});const f=dC(),d=y.useCallback(B2(f),[f]),h=y.useCallback($2(f),[f]);return(t=f.telemetry)==null||t.record(Cj("useAuth",{treatPendingAsSignedOut:r})),H2({...c,getToken:d,signOut:h},{treatPendingAsSignedOut:r})};function H2(e,{treatPendingAsSignedOut:t=!0}={}){const{userId:r,orgId:i,orgRole:o,has:s,signOut:c,getToken:f,orgPermissions:d,factorVerificationAge:h,sessionClaims:v}=e??{},g=y.useCallback(S=>s?s(S):vj({userId:r,orgId:i,orgRole:o,orgPermissions:d,factorVerificationAge:h,features:(v==null?void 0:v.fea)||"",plans:(v==null?void 0:v.pla)||""})(S),[s,r,i,o,d,h,v]),b=yj({authObject:{...e,getToken:f,signOut:c,has:g},options:{treatPendingAsSignedOut:t}});return b||Jr.throw(C2)}var St=(e,t)=>{const i=(typeof t=="string"?t:t==null?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=i;const o=typeof t=="string"?void 0:t,s=c=>{Jd(i||"withClerk");const f=dC();return!f.loaded&&!(o!=null&&o.renderWhileLoading)?null:q.createElement(e,{...c,component:i,clerk:f})};return s.displayName=`withClerk(${i})`,s};const I2=()=>{try{return!1}catch{}return!1},F2=()=>{try{return!1}catch{}return!1},V2=()=>{try{return!0}catch{}return!1},Mx=new Set,Jv=(e,t,r)=>{const i=F2()||V2(),o=e;Mx.has(o)||i||(Mx.add(o),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};var q2=({children:e,treatPendingAsSignedOut:t})=>{Jd("SignedIn");const{userId:r}=Zv({treatPendingAsSignedOut:t});return r?e:null},Y2=({children:e,treatPendingAsSignedOut:t})=>{Jd("SignedOut");const{userId:r}=Zv({treatPendingAsSignedOut:t});return r===null?e:null};St(({clerk:e,...t})=>{const{client:r,session:i}=e,o=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return q.useEffect(()=>{i===null&&o?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");St(({clerk:e,...t})=>(q.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");St(({clerk:e,...t})=>(q.useEffect(()=>{e.redirectToTasks(t)},[]),null),"RedirectToTasks");St(({clerk:e})=>(q.useEffect(()=>{Jv("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");St(({clerk:e})=>(q.useEffect(()=>{Jv("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");St(({clerk:e})=>(q.useEffect(()=>{Jv("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");St(({clerk:e,...t})=>(q.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");function ug(e,t,r){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof r<"u")return r}const Un=e=>{I2()&&console.error(`Clerk: ${e}`)};var cg={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function G2(){if(jx)return xn;jx=1;var e=Kd();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(d,h,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:d,containerInfo:h,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xn.createPortal=function(d,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(d,h,null,v)},xn.flushSync=function(d){var h=c.T,v=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=h,i.p=v,i.d.f()}},xn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},xn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},xn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var v=h.as,g=f(v,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:S}):v==="script"&&i.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=f(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},xn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,g=f(v,h.crossOrigin);i.d.L(d,v,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xn.preloadModule=function(d,h){if(typeof d=="string")if(h){var v=f(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},xn.requestFormReset=function(d){i.d.r(d)},xn.unstable_batchedUpdates=function(d,h){return d(h)},xn.useFormState=function(d,h,v){return c.H.useFormState(d,h,v)},xn.useFormStatus=function(){return c.H.useHostTransitionStatus()},xn.version="19.2.3",xn}var Ax;function mC(){if(Ax)return cg.exports;Ax=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cg.exports=G2(),cg.exports}var Sa=mC();const Xu=Qv(Sa),Dx=(e,...t)=>{const r={...e};for(const i of t)delete r[i];return r};var eh=e=>t=>{try{return q.Children.only(e)}catch{return Jr.throw(E2(t))}},th=(e,t)=>(e||(e=t),typeof e=="string"&&(e=q.createElement("button",null,e)),e),nh=e=>(...t)=>{if(e&&typeof e=="function")return e(...t)};function X2(e){return typeof e=="function"}var nd=new Map;function Q2(e,t,r=1){q.useEffect(()=>{const i=nd.get(e)||0;return i==r?Jr.throw(t):(nd.set(e,i+1),()=>{nd.set(e,(nd.get(e)||1)-1)})},[])}function W2(e,t,r){const i=e.displayName||e.name||t||"Component",o=s=>(Q2(t,r),q.createElement(e,{...s}));return o.displayName=`withMaxAllowedInstancesGuard(${i})`,o}var tc=e=>{const[t,r]=y.useState(new Map);return e.map(i=>({id:i.id,mount:o=>r(s=>new Map(s).set(String(i.id),o)),unmount:()=>r(o=>{const s=new Map(o);return s.set(String(i.id),null),s}),portal:()=>{const o=t.get(String(i.id));return o?Sa.createPortal(i.component,o):null}}))},kn=(e,t)=>!!e&&q.isValidElement(e)&&(e==null?void 0:e.type)===t,pC=(e,t)=>yC({children:e,reorderItemsLabels:["account","security","billing","apiKeys"],LinkComponent:Ec,PageComponent:xc,MenuItemsComponent:ah,componentName:"UserProfile"},t),gC=(e,t)=>yC({children:e,reorderItemsLabels:["general","members","billing","apiKeys"],LinkComponent:oh,PageComponent:ih,componentName:"OrganizationProfile"},t),vC=e=>{const t=[],r=[oh,ih,ah,xc,Ec];return q.Children.forEach(e,i=>{r.some(o=>kn(i,o))||t.push(i)}),t},yC=(e,t)=>{const{children:r,LinkComponent:i,PageComponent:o,MenuItemsComponent:s,reorderItemsLabels:c,componentName:f}=e,{allowForAnyChildren:d=!1}=t||{},h=[];q.Children.forEach(r,_=>{if(!kn(_,o)&&!kn(_,i)&&!kn(_,s)){_&&!d&&Un(M2(f));return}const{props:M}=_,{children:A,label:D,url:N,labelIcon:O}=M;if(kn(_,o))if(Nx(M,c))h.push({label:D});else if(fg(M))h.push({label:D,labelIcon:O,children:A,url:N});else{Un(j2(f));return}if(kn(_,i))if(dg(M))h.push({label:D,labelIcon:O,url:N});else{Un(A2(f));return}});const v=[],g=[],b=[];h.forEach((_,M)=>{if(fg(_)){v.push({component:_.children,id:M}),g.push({component:_.labelIcon,id:M});return}dg(_)&&b.push({component:_.labelIcon,id:M})});const S=tc(v),C=tc(g),E=tc(b),R=[],T=[];return h.forEach((_,M)=>{if(Nx(_,c)){R.push({label:_.label});return}if(fg(_)){const{portal:A,mount:D,unmount:N}=S.find(I=>I.id===M),{portal:O,mount:z,unmount:F}=C.find(I=>I.id===M);R.push({label:_.label,url:_.url,mount:D,unmount:N,mountIcon:z,unmountIcon:F}),T.push(A),T.push(O);return}if(dg(_)){const{portal:A,mount:D,unmount:N}=E.find(O=>O.id===M);R.push({label:_.label,url:_.url,mountIcon:D,unmountIcon:N}),T.push(A);return}}),{customPages:R,customPagesPortals:T}},Nx=(e,t)=>{const{children:r,label:i,url:o,labelIcon:s}=e;return!r&&!o&&!s&&t.some(c=>c===i)},fg=e=>{const{children:t,label:r,url:i,labelIcon:o}=e;return!!t&&!!i&&!!o&&!!r},dg=e=>{const{children:t,label:r,url:i,labelIcon:o}=e;return!t&&!!i&&!!o&&!!r},K2=(e,t)=>{var r;return Z2({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:ah,MenuActionComponent:SC,MenuLinkComponent:wC,UserProfileLinkComponent:Ec,UserProfilePageComponent:xc,allowForAnyChildren:(r=t==null?void 0:t.allowForAnyChildren)!=null?r:!1})},Z2=({children:e,MenuItemsComponent:t,MenuActionComponent:r,MenuLinkComponent:i,UserProfileLinkComponent:o,UserProfilePageComponent:s,reorderItemsLabels:c,allowForAnyChildren:f=!1})=>{const d=[],h=[],v=[];q.Children.forEach(e,E=>{if(!kn(E,t)&&!kn(E,o)&&!kn(E,s)){E&&!f&&Un(D2);return}if(kn(E,o)||kn(E,s))return;const{props:R}=E;q.Children.forEach(R.children,T=>{if(!kn(T,r)&&!kn(T,i)){T&&Un(N2);return}const{props:_}=T,{label:M,labelIcon:A,href:D,onClick:N,open:O}=_;if(kn(T,r))if(zx(_,c))d.push({label:M});else if(hg(_)){const z={label:M,labelIcon:A};if(N!==void 0)d.push({...z,onClick:N});else if(O!==void 0)d.push({...z,open:O.startsWith("/")?O:`/${O}`});else{Un("Custom menu item must have either onClick or open property");return}}else{Un(P2);return}if(kn(T,i))if(mg(_))d.push({label:M,labelIcon:A,href:D});else{Un(U2);return}})});const g=[],b=[];d.forEach((E,R)=>{hg(E)&&g.push({component:E.labelIcon,id:R}),mg(E)&&b.push({component:E.labelIcon,id:R})});const S=tc(g),C=tc(b);return d.forEach((E,R)=>{if(zx(E,c)&&h.push({label:E.label}),hg(E)){const{portal:T,mount:_,unmount:M}=S.find(D=>D.id===R),A={label:E.label,mountIcon:_,unmountIcon:M};"onClick"in E?A.onClick=E.onClick:"open"in E&&(A.open=E.open),h.push(A),v.push(T)}if(mg(E)){const{portal:T,mount:_,unmount:M}=C.find(A=>A.id===R);h.push({label:E.label,href:E.href,mountIcon:_,unmountIcon:M}),v.push(T)}}),{customMenuItems:h,customMenuItemsPortals:v}},zx=(e,t)=>{const{children:r,label:i,onClick:o,labelIcon:s}=e;return!r&&!o&&!s&&t.some(c=>c===i)},hg=e=>{const{label:t,labelIcon:r,onClick:i,open:o}=e;return!!r&&!!t&&(typeof i=="function"||typeof o=="string")},mg=e=>{const{label:t,href:r,labelIcon:i}=e;return!!r&&!!i&&!!t},J2=e=>{const t=e==null?void 0:e.isReady;return r=>new Promise((i,o)=>{const{root:s=document==null?void 0:document.body,selector:c,timeout:f=0}=r;if(!s){o(new Error("No root element provided"));return}let d=s;if(c&&(d=s==null?void 0:s.querySelector(c)),t(d,c)){i();return}const h=new MutationObserver(v=>{for(const g of v)if(!d&&c&&(d=s==null?void 0:s.querySelector(c)),(e.childList&&g.type==="childList"||e.attributes&&g.type==="attributes")&&t(d,c)){h.disconnect(),i();return}});h.observe(s,e),f>0&&setTimeout(()=>{h.disconnect(),o(new Error(`Timeout waiting for ${c}`))},f)})},eA=J2({childList:!0,subtree:!0,isReady:(e,t)=>{var r;return!!(e!=null&&e.childElementCount)&&((r=e==null?void 0:e.matches)==null?void 0:r.call(e,t))&&e.childElementCount>0}});function Bn(e,t){const r=y.useRef(),[i,o]=y.useState("rendering");return y.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!r.current){const s=`[data-clerk-component="${e}"]`,c=t==null?void 0:t.selector;r.current=eA({selector:c?s+c:s}).then(()=>{o("rendered")}).catch(()=>{o("error")})}},[e,t==null?void 0:t.selector]),i}var rd=e=>"mount"in e,kx=e=>"open"in e,Lx=e=>e==null?void 0:e.map(({mountIcon:t,unmountIcon:r,...i})=>i),vn=class extends q.PureComponent{constructor(){super(...arguments),this.rootRef=q.createRef()}componentDidUpdate(e){var t,r,i,o;if(!rd(e)||!rd(this.props))return;const s=Dx(e.props,"customPages","customMenuItems","children"),c=Dx(this.props.props,"customPages","customMenuItems","children"),f=((t=s.customPages)==null?void 0:t.length)!==((r=c.customPages)==null?void 0:r.length),d=((i=s.customMenuItems)==null?void 0:i.length)!==((o=c.customMenuItems)==null?void 0:o.length),h=Lx(e.props.customMenuItems),v=Lx(this.props.props.customMenuItems);(!Tx(s,c)||!Tx(h,v)||f||d)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(rd(this.props)&&this.props.mount(this.rootRef.current,this.props.props),kx(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(rd(this.props)&&this.props.unmount(this.rootRef.current),kx(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,t={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return q.createElement(q.Fragment,null,!e&&q.createElement("div",{...t}),this.props.children)}},rh=e=>{var t,r;return q.createElement(q.Fragment,null,(t=e==null?void 0:e.customPagesPortals)==null?void 0:t.map((i,o)=>y.createElement(i,{key:o})),(r=e==null?void 0:e.customMenuItemsPortals)==null?void 0:r.map((i,o)=>y.createElement(i,{key:o})))},tA=St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"SignIn",renderWhileLoading:!0}),nA=St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"SignUp",renderWhileLoading:!0});function xc({children:e}){return Un(R2),q.createElement(q.Fragment,null,e)}function Ec({children:e}){return Un(T2),q.createElement(q.Fragment,null,e)}var rA=St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}},{customPages:f,customPagesPortals:d}=pC(i.children);return q.createElement(q.Fragment,null,s&&r,q.createElement(vn,{component:t,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...i,customPages:f},rootProps:c},q.createElement(rh,{customPagesPortals:d})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(rA,{Page:xc,Link:Ec});var bC=y.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),aA=St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}},{customPages:f,customPagesPortals:d}=pC(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),h={...i.userProfileProps,customPages:f},{customMenuItems:v,customMenuItemsPortals:g}=K2(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),b=vC(i.children),S={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...i,userProfileProps:h,customMenuItems:v}},C={customPagesPortals:d,customMenuItemsPortals:g};return q.createElement(bC.Provider,{value:S},s&&r,e.loaded&&q.createElement(vn,{component:t,...S,hideRootHtmlElement:!!i.__experimental_asProvider,rootProps:c},i.__experimental_asProvider?b:null,q.createElement(rh,{...C})))},{component:"UserButton",renderWhileLoading:!0});function ah({children:e}){return Un(z2),q.createElement(q.Fragment,null,e)}function SC({children:e}){return Un(k2),q.createElement(q.Fragment,null,e)}function wC({children:e}){return Un(L2),q.createElement(q.Fragment,null,e)}function iA(e){const t=y.useContext(bC),r={...t,props:{...t.props,...e}};return q.createElement(vn,{...r})}var oA=Object.assign(aA,{UserProfilePage:xc,UserProfileLink:Ec,MenuItems:ah,Action:SC,Link:wC,__experimental_Outlet:iA});function ih({children:e}){return Un(_2),q.createElement(q.Fragment,null,e)}function oh({children:e}){return Un(O2),q.createElement(q.Fragment,null,e)}var lA=St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}},{customPages:f,customPagesPortals:d}=gC(i.children);return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...i,customPages:f},rootProps:c},q.createElement(rh,{customPagesPortals:d})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(lA,{Page:ih,Link:oh});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"CreateOrganization",renderWhileLoading:!0});var xC=y.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),sA=St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}},{customPages:f,customPagesPortals:d}=gC(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),h={...i.organizationProfileProps,customPages:f},v=vC(i.children),g={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...i,organizationProfileProps:h},rootProps:c,component:t};return e.__experimental_prefetchOrganizationSwitcher(),q.createElement(xC.Provider,{value:g},q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{...g,hideRootHtmlElement:!!i.__experimental_asProvider},i.__experimental_asProvider?v:null,q.createElement(rh,{customPagesPortals:d}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function uA(e){const t=y.useContext(xC),r={...t,props:{...t.props,...e}};return q.createElement(vn,{...r})}var cA=Object.assign(sA,{OrganizationProfilePage:ih,OrganizationProfileLink:oh,__experimental_Outlet:uA});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"OrganizationList",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"GoogleOneTap",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"Waitlist",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t,{selector:'[data-component-status="ready"]'})==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"PricingTable",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountAPIKeys,unmount:e.unmountAPIKeys,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"ApiKeys",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountUserAvatar,unmount:e.unmountUserAvatar,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"UserAvatar",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:r,...i})=>{const s=Bn(t)==="rendering"||!e.loaded,c={...s&&r&&{style:{display:"none"}}};return q.createElement(q.Fragment,null,s&&r,e.loaded&&q.createElement(vn,{component:t,mount:e.mountTaskResetPassword,unmount:e.unmountTaskResetPassword,updateProps:e.__unstable__updateProps,props:i,rootProps:c}))},{component:"TaskResetPassword",renderWhileLoading:!0});var EC=e=>{throw TypeError(e)},ey=(e,t,r)=>t.has(e)||EC("Cannot "+r),Rt=(e,t,r)=>(ey(e,t,"read from private field"),r?r.call(e):t.get(e)),$i=(e,t,r)=>t.has(e)?EC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ko=(e,t,r,i)=>(ey(e,t,"write to private field"),t.set(e,r),r),pg=(e,t,r)=>(ey(e,t,"access private method"),r);const fA={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,t)=>t<5,retryImmediately:!1,jitter:!0},dA=100,CC=async e=>new Promise(t=>setTimeout(t,e)),RC=(e,t)=>t?e*(1+Math.random()):e,hA=e=>{let t=0;const r=()=>{const i=e.initialDelay,o=e.factor;let s=i*Math.pow(o,t);return s=RC(s,e.jitter),Math.min(e.maxDelayBetweenRetries||s,s)};return async()=>{await CC(r()),t++}},mA=async(e,t={})=>{let r=0;const{shouldRetry:i,initialDelay:o,maxDelayBetweenRetries:s,factor:c,retryImmediately:f,jitter:d,onBeforeRetry:h}={...fA,...t},v=hA({initialDelay:o,maxDelayBetweenRetries:s,factor:c,jitter:d});for(;;)try{return await e()}catch(g){if(r++,!i(g,r))throw g;h&&await h(r),f&&r===1?await CC(RC(dA,d)):await v()}},pA="loadScript cannot be called when document does not exist",gA="loadScript cannot be called without a src";async function vA(e="",t){const{async:r,defer:i,beforeLoad:o,crossOrigin:s,nonce:c}=t||{};return mA(()=>new Promise((d,h)=>{e||h(new Error(gA)),(!document||!document.body)&&h(new Error(pA));const v=document.createElement("script");s&&v.setAttribute("crossorigin",s),v.async=r||!1,v.defer=i||!1,v.addEventListener("load",()=>{v.remove(),d(v)}),v.addEventListener("error",g=>{v.remove(),h(g.error??new Error(`failed to load script: ${e}`))}),v.src=e,v.nonce=c,o==null||o(v),document.body.appendChild(v)}),{shouldRetry:(d,h)=>h<=5})}function yA(e){return e?bA(e)||TC(e):!0}function bA(e){return/^http(s)?:\/\//.test(e||"")}function TC(e){return e.startsWith("/")}function SA(e){return e?TC(e)?new URL(e,window.location.origin).toString():e:""}function wA(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}const xA=(e,t="5.120.0")=>{if(e)return e;const r=EA(t);return r?r==="snapshot"?"5.120.0":r:CA(t)},EA=e=>{var t;return(t=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:t[1]},CA=e=>e.trim().replace(/^v/,"").split(".")[0],_C="failed_to_load_clerk_js",RA="failed_to_load_clerk_js_timeout",nv="Failed to load Clerk",{isDevOrStagingUrl:TA}=wj(),OC=eC({packageName:"@clerk/shared"});function _A(e){OC.setPackageName({packageName:e})}function rv(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function OA(e){if(typeof window>"u"||!window.performance)return!1;const t=performance.getEntriesByName(e,"resource");if(t.length===0)return!1;const r=t[t.length-1];return r.transferSize===0&&r.decodedBodySize===0&&(r.responseEnd===0||r.responseEnd>0&&r.responseStart>0||"responseStatus"in r&&(r.responseStatus>=400||r.responseStatus===0))}function Ux(e,t){return new Promise((r,i)=>{let o=!1;const s=(v,g)=>{clearTimeout(v),clearInterval(g)};t==null||t.addEventListener("error",()=>{s(d,h),i(new Xg(nv,{code:_C}))});const c=()=>{o||rv()&&(o=!0,s(d,h),r(null))},d=setTimeout(()=>{o||(o=!0,s(d,h),rv()?r(null):i(new Xg(nv,{code:RA})))},e);c();const h=setInterval(()=>{if(o){clearInterval(h);return}c()},100)})}const MA=async e=>{const t=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(rv())return null;if(!(e!=null&&e.publishableKey))return OC.throwMissingPublishableKeyError(),null;const r=jA(e),i=document.querySelector("script[data-clerk-js-script]");if(i)if(OA(r))i.remove();else try{return await Ux(t,i),null}catch{i.remove()}const o=Ux(t);return vA(r,{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:DA(e)}).catch(s=>{throw new Xg(nv+(s.message?`, ${s.message}`:""),{code:_C,cause:s})}),o},jA=e=>{var v,g;const{clerkJSUrl:t,clerkJSVariant:r,clerkJSVersion:i,proxyUrl:o,domain:s,publishableKey:c}=e;if(t)return t;let f="";o&&yA(o)?f=SA(o).replace(/http(s)?:\/\//,""):s&&!TA(((v=mx(c))==null?void 0:v.frontendApi)||"")?f=wA(s):f=((g=mx(c))==null?void 0:g.frontendApi)||"";const d=r?`${r.replace(/\.+$/,"")}.`:"",h=xA(i);return`https://${f}/npm/@clerk/clerk-js@${h}/dist/clerk.${d}browser.js`},AA=e=>{const t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},DA=e=>t=>{const r=AA(e);for(const i in r)t.setAttribute(i,r[i])},NA=(e,t,r)=>!e&&r?zA(r):kA(t),zA=e=>{const t=e.userId,r=e.user,i=e.sessionId,o=e.sessionStatus,s=e.sessionClaims;return{userId:t,user:r,sessionId:i,session:e.session,sessionStatus:o,sessionClaims:s,organization:e.organization,orgId:e.orgId,orgRole:e.orgRole,orgPermissions:e.orgPermissions,orgSlug:e.orgSlug,actor:e.actor,factorVerificationAge:e.factorVerificationAge}},kA=e=>{var C,E,R,T;const t=e.user?e.user.id:e.user,r=e.user,i=e.session?e.session.id:e.session,o=e.session,s=(C=e.session)==null?void 0:C.status,c=e.session?(R=(E=e.session.lastActiveToken)==null?void 0:E.jwt)==null?void 0:R.claims:null,f=e.session?e.session.factorVerificationAge:null,d=o==null?void 0:o.actor,h=e.organization,v=e.organization?e.organization.id:e.organization,g=h==null?void 0:h.slug,b=h&&((T=r==null?void 0:r.organizationMemberships)==null?void 0:T.find(_=>_.organization.id===v)),S=b&&b.permissions;return{userId:t,user:r,sessionId:i,session:o,sessionStatus:s,sessionClaims:c,organization:h,orgId:v,orgRole:b&&b.role,orgSlug:g,orgPermissions:S,actor:d,factorVerificationAge:f}};function zd(){return typeof window<"u"}const Px=(e,t,r,i,o)=>{const{notify:s}=o||{};let c=e.get(r);c||(c=[],e.set(r,c)),c.push(i),s&&t.has(r)&&i(t.get(r))},Bx=(e,t,r)=>(e.get(t)||[]).map(i=>i(r)),$x=(e,t,r)=>{const i=e.get(t);i&&(r?i.splice(i.indexOf(r)>>>0,1):e.set(t,[]))},LA=()=>{const e=new Map,t=new Map,r=new Map;return{on:(...o)=>Px(e,t,...o),prioritizedOn:(...o)=>Px(r,t,...o),emit:(o,s)=>{t.set(o,s),Bx(r,o,s),Bx(e,o,s)},off:(...o)=>$x(e,...o),prioritizedOff:(...o)=>$x(r,...o),internal:{retrieveListeners:o=>e.get(o)||[]}}},ad={Status:"status"},UA=()=>LA();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);St(({clerk:e,children:t,...r})=>{const{appearance:i,signUpFallbackRedirectUrl:o,forceRedirectUrl:s,fallbackRedirectUrl:c,signUpForceRedirectUrl:f,mode:d,initialValues:h,withSignUp:v,oauthFlow:g,...b}=r;t=th(t,"Sign in");const S=eh(t)("SignInButton"),C=()=>{const T={forceRedirectUrl:s,fallbackRedirectUrl:c,signUpFallbackRedirectUrl:o,signUpForceRedirectUrl:f,initialValues:h,withSignUp:v,oauthFlow:g};return d==="modal"?e.openSignIn({...T,appearance:i}):e.redirectToSignIn({...T,signInFallbackRedirectUrl:c,signInForceRedirectUrl:s})},R={...b,onClick:async T=>(S&&typeof S=="object"&&"props"in S&&await nh(S.props.onClick)(T),C())};return q.cloneElement(S,R)},{component:"SignInButton",renderWhileLoading:!0});St(({clerk:e,children:t,...r})=>{const{redirectUrl:i,...o}=r;t=th(t,"Sign in with Metamask");const s=eh(t)("SignInWithMetamaskButton"),c=async()=>{async function h(){await e.authenticateWithMetamask({redirectUrl:i||void 0})}h()},d={...o,onClick:async h=>(await nh(s.props.onClick)(h),c())};return q.cloneElement(s,d)},{component:"SignInWithMetamask",renderWhileLoading:!0});St(({clerk:e,children:t,...r})=>{const{redirectUrl:i="/",signOutOptions:o,...s}=r;t=th(t,"Sign out");const c=eh(t)("SignOutButton"),f=()=>e.signOut({redirectUrl:i,...o}),h={...s,onClick:async v=>(await nh(c.props.onClick)(v),f())};return q.cloneElement(c,h)},{component:"SignOutButton",renderWhileLoading:!0});St(({clerk:e,children:t,...r})=>{const{appearance:i,unsafeMetadata:o,fallbackRedirectUrl:s,forceRedirectUrl:c,signInFallbackRedirectUrl:f,signInForceRedirectUrl:d,mode:h,initialValues:v,oauthFlow:g,...b}=r;t=th(t,"Sign up");const S=eh(t)("SignUpButton"),C=()=>{const T={fallbackRedirectUrl:s,forceRedirectUrl:c,signInFallbackRedirectUrl:f,signInForceRedirectUrl:d,initialValues:v,oauthFlow:g};return h==="modal"?e.openSignUp({...T,appearance:i,unsafeMetadata:o}):e.redirectToSignUp({...T,signUpFallbackRedirectUrl:s,signUpForceRedirectUrl:c})},R={...b,onClick:async T=>(S&&typeof S=="object"&&"props"in S&&await nh(S.props.onClick)(T),C())};return q.cloneElement(S,R)},{component:"SignUpButton",renderWhileLoading:!0});var PA=()=>({fields:{identifier:null,password:null,code:null},raw:null,global:null}),BA=()=>({fields:{firstName:null,lastName:null,emailAddress:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),$A=class{constructor(e){this.isomorphicClerk=e,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const e=this.gateProperty.bind(this),t=()=>this.client.signIn.__internal_future;return{errors:PA(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,get id(){return e(t,"id",void 0)},get supportedFirstFactors(){return e(t,"supportedFirstFactors",[])},get supportedSecondFactors(){return e(t,"supportedSecondFactors",[])},get secondFactorVerification(){return e(t,"secondFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},get identifier(){return e(t,"identifier",null)},get createdSessionId(){return e(t,"createdSessionId",null)},get userData(){return e(t,"userData",{})},get firstFactorVerification(){return e(t,"firstFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},create:this.gateMethod(t,"create"),password:this.gateMethod(t,"password"),sso:this.gateMethod(t,"sso"),finalize:this.gateMethod(t,"finalize"),emailCode:this.wrapMethods(()=>t().emailCode,["sendCode","verifyCode"]),emailLink:this.wrapStruct(()=>t().emailLink,["sendLink","waitForVerification"],["verification"],{verification:null}),resetPasswordEmailCode:this.wrapMethods(()=>t().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>t().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>t().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"]),ticket:this.gateMethod(t,"ticket"),passkey:this.gateMethod(t,"passkey"),web3:this.gateMethod(t,"web3")}}}buildSignUpProxy(){const e=this.gateProperty.bind(this),t=this.gateMethod.bind(this),r=this.wrapMethods.bind(this),i=()=>this.client.signUp.__internal_future;return{errors:BA(),fetchStatus:"idle",signUp:{get id(){return e(i,"id",void 0)},get requiredFields(){return e(i,"requiredFields",[])},get optionalFields(){return e(i,"optionalFields",[])},get missingFields(){return e(i,"missingFields",[])},get username(){return e(i,"username",null)},get firstName(){return e(i,"firstName",null)},get lastName(){return e(i,"lastName",null)},get emailAddress(){return e(i,"emailAddress",null)},get phoneNumber(){return e(i,"phoneNumber",null)},get web3Wallet(){return e(i,"web3Wallet",null)},get hasPassword(){return e(i,"hasPassword",!1)},get unsafeMetadata(){return e(i,"unsafeMetadata",{})},get createdSessionId(){return e(i,"createdSessionId",null)},get createdUserId(){return e(i,"createdUserId",null)},get abandonAt(){return e(i,"abandonAt",null)},get legalAcceptedAt(){return e(i,"legalAcceptedAt",null)},get locale(){return e(i,"locale",null)},get status(){return e(i,"status","missing_requirements")},get unverifiedFields(){return e(i,"unverifiedFields",[])},get isTransferable(){return e(i,"isTransferable",!1)},create:t(i,"create"),update:t(i,"update"),sso:t(i,"sso"),password:t(i,"password"),ticket:t(i,"ticket"),web3:t(i,"web3"),finalize:t(i,"finalize"),verifications:r(()=>i().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(e){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(e){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const e=this.isomorphicClerk.client;if(!e)throw new Error("Clerk client not ready");return e}gateProperty(e,t,r){return!zd()||!this.isomorphicClerk.loaded?r:e()[t]}gateMethod(e,t){return(async(...r)=>{if(!zd())return Jr.throw(`Attempted to call a method (${t}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(o=>this.isomorphicClerk.addOnLoaded(o));const i=e();return i[t].apply(i,r)})}wrapMethods(e,t){return Object.fromEntries(t.map(r=>[r,this.gateMethod(e,r)]))}wrapStruct(e,t,r,i){const o={};for(const s of t)o[s]=this.gateMethod(e,s);for(const s of r)Object.defineProperty(o,s,{get:()=>this.gateProperty(e,s,i[s]),enumerable:!0});return o}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var HA={name:"@clerk/clerk-react",version:"5.59.4",environment:"production"},Sd,ns,rs,Hi,ma,wd,Fi,Qu,xd,MC=class jC{constructor(t){$i(this,Qu),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenEnableOrganizationsPrompt=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserAvatarNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountAPIKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountTaskResetPasswordNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],$i(this,Sd,"loading"),$i(this,ns),$i(this,rs),$i(this,Hi),$i(this,ma,UA()),$i(this,wd),this.buildSignInUrl=o=>{const s=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildSignInUrl(o))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildSignInUrl",s)},this.buildSignUpUrl=o=>{const s=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildSignUpUrl(o))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildSignUpUrl",s)},this.buildAfterSignInUrl=(...o)=>{const s=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildAfterSignInUrl(...o))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignInUrl",s)},this.buildAfterSignUpUrl=(...o)=>{const s=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildAfterSignUpUrl(...o))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignUpUrl",s)},this.buildAfterSignOutUrl=()=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("buildAfterSignOutUrl",o)},this.buildNewSubscriptionRedirectUrl=()=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",o)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",o)},this.buildUserProfileUrl=()=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("buildUserProfileUrl",o)},this.buildCreateOrganizationUrl=()=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("buildCreateOrganizationUrl",o)},this.buildOrganizationProfileUrl=()=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("buildOrganizationProfileUrl",o)},this.buildWaitlistUrl=()=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("buildWaitlistUrl",o)},this.buildTasksUrl=()=>{const o=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("buildTasksUrl",o)},this.buildUrlWithAuth=o=>{const s=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildUrlWithAuth(o))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUrlWithAuth",s)},this.handleUnauthenticated=async()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.handleUnauthenticated()};this.clerkjs&&this.loaded?o():this.premountMethodCalls.set("handleUnauthenticated",o)},this.on=(...o)=>{var s;if((s=this.clerkjs)!=null&&s.on)return this.clerkjs.on(...o);Rt(this,ma).on(...o)},this.off=(...o)=>{var s;if((s=this.clerkjs)!=null&&s.off)return this.clerkjs.off(...o);Rt(this,ma).off(...o)},this.addOnLoaded=o=>{this.loadedListeners.push(o),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(o=>o()),this.loadedListeners=[]},this.beforeLoad=o=>{if(!o)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=o=>{var s,c;if(!o)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=o,this.premountMethodCalls.forEach(f=>f()),this.premountAddListenerCalls.forEach((f,d)=>{f.nativeUnsubscribe=o.addListener(d)}),(s=Rt(this,ma).internal.retrieveListeners("status"))==null||s.forEach(f=>{this.on("status",f,{notify:!0})}),(c=Rt(this,ma).internal.retrieveListeners("queryClientStatus"))==null||c.forEach(f=>{this.on("queryClientStatus",f,{notify:!0})}),this.preopenSignIn!==null&&o.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&o.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&o.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&o.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&o.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&o.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&o.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&o.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&o.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&o.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&o.openWaitlist(this.preOpenWaitlist),this.preopenEnableOrganizationsPrompt&&o.__internal_openEnableOrganizationsPrompt(this.preopenEnableOrganizationsPrompt),this.premountSignInNodes.forEach((f,d)=>{o.mountSignIn(d,f)}),this.premountSignUpNodes.forEach((f,d)=>{o.mountSignUp(d,f)}),this.premountUserProfileNodes.forEach((f,d)=>{o.mountUserProfile(d,f)}),this.premountUserAvatarNodes.forEach((f,d)=>{o.mountUserAvatar(d,f)}),this.premountUserButtonNodes.forEach((f,d)=>{o.mountUserButton(d,f)}),this.premountOrganizationListNodes.forEach((f,d)=>{o.mountOrganizationList(d,f)}),this.premountWaitlistNodes.forEach((f,d)=>{o.mountWaitlist(d,f)}),this.premountPricingTableNodes.forEach((f,d)=>{o.mountPricingTable(d,f)}),this.premountAPIKeysNodes.forEach((f,d)=>{o.mountAPIKeys(d,f)}),this.premountOAuthConsentNodes.forEach((f,d)=>{o.__internal_mountOAuthConsent(d,f)}),this.premountTaskChooseOrganizationNodes.forEach((f,d)=>{o.mountTaskChooseOrganization(d,f)}),this.premountTaskResetPasswordNodes.forEach((f,d)=>{o.mountTaskResetPassword(d,f)}),typeof this.clerkjs.status>"u"&&Rt(this,ma).emit(ad.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...o)=>{var s;return(s=this.clerkjs)==null?void 0:s.__experimental_checkout(...o)},this.__unstable__updateProps=async o=>{const s=await pg(this,Qu,xd).call(this);if(s&&"__unstable__updateProps"in s)return s.__unstable__updateProps(o)},this.setActive=o=>this.clerkjs?this.clerkjs.setActive(o):Promise.reject(),this.openSignIn=o=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(o):this.preopenSignIn=o},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=o=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(o):this.preopenCheckout=o},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=o=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(o):this.preopenPlanDetails=o},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=o=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(o):this.preopenSubscriptionDetails=o??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=o=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(o):this.preopenUserVerification=o},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.__internal_openEnableOrganizationsPrompt=o=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openEnableOrganizationsPrompt(o):this.preopenEnableOrganizationsPrompt=o},this.__internal_closeEnableOrganizationsPrompt=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeEnableOrganizationsPrompt():this.preopenEnableOrganizationsPrompt=null},this.openGoogleOneTap=o=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(o):this.preopenOneTap=o},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=o=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(o):this.preopenUserProfile=o},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=o=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(o):this.preopenOrganizationProfile=o},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=o=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(o):this.preopenCreateOrganization=o},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=o=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(o):this.preOpenWaitlist=o},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=o=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(o):this.preopenSignUp=o},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(o,s):this.premountSignInNodes.set(o,s)},this.unmountSignIn=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(o):this.premountSignInNodes.delete(o)},this.mountSignUp=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(o,s):this.premountSignUpNodes.set(o,s)},this.unmountSignUp=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(o):this.premountSignUpNodes.delete(o)},this.mountUserAvatar=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserAvatar(o,s):this.premountUserAvatarNodes.set(o,s)},this.unmountUserAvatar=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserAvatar(o):this.premountUserAvatarNodes.delete(o)},this.mountUserProfile=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(o,s):this.premountUserProfileNodes.set(o,s)},this.unmountUserProfile=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(o):this.premountUserProfileNodes.delete(o)},this.mountOrganizationProfile=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(o,s):this.premountOrganizationProfileNodes.set(o,s)},this.unmountOrganizationProfile=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(o):this.premountOrganizationProfileNodes.delete(o)},this.mountCreateOrganization=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(o,s):this.premountCreateOrganizationNodes.set(o,s)},this.unmountCreateOrganization=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(o):this.premountCreateOrganizationNodes.delete(o)},this.mountOrganizationSwitcher=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(o,s):this.premountOrganizationSwitcherNodes.set(o,s)},this.unmountOrganizationSwitcher=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(o):this.premountOrganizationSwitcherNodes.delete(o)},this.__experimental_prefetchOrganizationSwitcher=()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?o():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",o)},this.mountOrganizationList=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(o,s):this.premountOrganizationListNodes.set(o,s)},this.unmountOrganizationList=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(o):this.premountOrganizationListNodes.delete(o)},this.mountUserButton=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(o,s):this.premountUserButtonNodes.set(o,s)},this.unmountUserButton=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(o):this.premountUserButtonNodes.delete(o)},this.mountWaitlist=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(o,s):this.premountWaitlistNodes.set(o,s)},this.unmountWaitlist=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(o):this.premountWaitlistNodes.delete(o)},this.mountPricingTable=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(o,s):this.premountPricingTableNodes.set(o,s)},this.unmountPricingTable=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(o):this.premountPricingTableNodes.delete(o)},this.mountAPIKeys=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountAPIKeys(o,s):this.premountAPIKeysNodes.set(o,s)},this.unmountAPIKeys=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountAPIKeys(o):this.premountAPIKeysNodes.delete(o)},this.__internal_mountOAuthConsent=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(o,s):this.premountOAuthConsentNodes.set(o,s)},this.__internal_unmountOAuthConsent=o=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(o):this.premountOAuthConsentNodes.delete(o)},this.mountTaskChooseOrganization=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(o,s):this.premountTaskChooseOrganizationNodes.set(o,s)},this.unmountTaskChooseOrganization=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(o):this.premountTaskChooseOrganizationNodes.delete(o)},this.mountTaskResetPassword=(o,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskResetPassword(o,s):this.premountTaskResetPasswordNodes.set(o,s)},this.unmountTaskResetPassword=o=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskResetPassword(o):this.premountTaskResetPasswordNodes.delete(o)},this.addListener=o=>{if(this.clerkjs)return this.clerkjs.addListener(o);{const s=()=>{var c;const f=this.premountAddListenerCalls.get(o);f&&((c=f.nativeUnsubscribe)==null||c.call(f),this.premountAddListenerCalls.delete(o))};return this.premountAddListenerCalls.set(o,{unsubscribe:s,nativeUnsubscribe:void 0}),s}},this.navigate=o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.navigate(o)};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("navigate",s)},this.redirectWithAuth=async(...o)=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectWithAuth(...o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectWithAuth",s)},this.redirectToSignIn=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToSignIn(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToSignIn",s)},this.redirectToSignUp=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToSignUp(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToSignUp",s)},this.redirectToUserProfile=async()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("redirectToUserProfile",o)},this.redirectToAfterSignUp=()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("redirectToAfterSignUp",o)},this.redirectToAfterSignIn=()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToAfterSignIn()};this.clerkjs&&this.loaded?o():this.premountMethodCalls.set("redirectToAfterSignIn",o)},this.redirectToAfterSignOut=()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToAfterSignOut()};this.clerkjs&&this.loaded?o():this.premountMethodCalls.set("redirectToAfterSignOut",o)},this.redirectToOrganizationProfile=async()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("redirectToOrganizationProfile",o)},this.redirectToCreateOrganization=async()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("redirectToCreateOrganization",o)},this.redirectToWaitlist=async()=>{const o=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return o();this.premountMethodCalls.set("redirectToWaitlist",o)},this.redirectToTasks=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToTasks(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToTasks",s)},this.handleRedirectCallback=async o=>{var s;const c=()=>{var f;return(f=this.clerkjs)==null?void 0:f.handleRedirectCallback(o)};this.clerkjs&&this.loaded?(s=c())==null||s.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",c)},this.handleGoogleOneTapCallback=async(o,s)=>{var c;const f=()=>{var d;return(d=this.clerkjs)==null?void 0:d.handleGoogleOneTapCallback(o,s)};this.clerkjs&&this.loaded?(c=f())==null||c.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",f)},this.handleEmailLinkVerification=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleEmailLinkVerification(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("handleEmailLinkVerification",s)},this.authenticateWithMetamask=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithMetamask(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithMetamask",s)},this.authenticateWithCoinbaseWallet=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithCoinbaseWallet(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",s)},this.authenticateWithBase=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithBase(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithBase",s)},this.authenticateWithOKXWallet=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithOKXWallet(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithOKXWallet",s)},this.authenticateWithSolana=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithSolana(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithSolana",s)},this.authenticateWithWeb3=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithWeb3(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithWeb3",s)},this.authenticateWithGoogleOneTap=async o=>(await pg(this,Qu,xd).call(this)).authenticateWithGoogleOneTap(o),this.__internal_loadStripeJs=async()=>(await pg(this,Qu,xd).call(this)).__internal_loadStripeJs(),this.createOrganization=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.createOrganization(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("createOrganization",s)},this.getOrganization=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.getOrganization(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("getOrganization",s)},this.joinWaitlist=async o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.joinWaitlist(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("joinWaitlist",s)},this.signOut=async(...o)=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.signOut(...o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("signOut",s)},this.__internal_attemptToEnableEnvironmentSetting=o=>{const s=()=>{var c;return(c=this.clerkjs)==null?void 0:c.__internal_attemptToEnableEnvironmentSetting(o)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("__internal_attemptToEnableEnvironmentSetting",s)};const{Clerk:r=null,publishableKey:i}=t||{};ko(this,Hi,i),ko(this,rs,t==null?void 0:t.proxyUrl),ko(this,ns,t==null?void 0:t.domain),this.options=t,this.Clerk=r,this.mode=zd()?"browser":"server",ko(this,wd,new $A(this)),this.options.sdkMetadata||(this.options.sdkMetadata=HA),Rt(this,ma).emit(ad.Status,"loading"),Rt(this,ma).prioritizedOn(ad.Status,o=>ko(this,Sd,o)),Rt(this,Hi)&&this.loadClerkJS()}get publishableKey(){return Rt(this,Hi)}get loaded(){var t;return((t=this.clerkjs)==null?void 0:t.loaded)||!1}get status(){var t;return this.clerkjs?((t=this.clerkjs)==null?void 0:t.status)||(this.clerkjs.loaded?"ready":"loading"):Rt(this,Sd)}static getOrCreateInstance(t){return(!zd()||!Rt(this,Fi)||t.Clerk&&Rt(this,Fi).Clerk!==t.Clerk||Rt(this,Fi).publishableKey!==t.publishableKey)&&ko(this,Fi,new jC(t)),Rt(this,Fi)}static clearInstance(){ko(this,Fi,null)}get domain(){return typeof window<"u"&&window.location?ug(Rt(this,ns),new URL(window.location.href),""):typeof Rt(this,ns)=="function"?Jr.throw(sg):Rt(this,ns)||""}get proxyUrl(){return typeof window<"u"&&window.location?ug(Rt(this,rs),new URL(window.location.href),""):typeof Rt(this,rs)=="function"?Jr.throw(sg):Rt(this,rs)||""}__internal_getOption(t){var r,i;return(r=this.clerkjs)!=null&&r.__internal_getOption?(i=this.clerkjs)==null?void 0:i.__internal_getOption(t):this.options[t]}get sdkMetadata(){var t;return((t=this.clerkjs)==null?void 0:t.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var t;return(t=this.clerkjs)==null?void 0:t.instanceType}get frontendApi(){var t;return((t=this.clerkjs)==null?void 0:t.frontendApi)||""}get isStandardBrowser(){var t;return((t=this.clerkjs)==null?void 0:t.isStandardBrowser)||this.options.standardBrowser||!1}get __internal_queryClient(){var t;return(t=this.clerkjs)==null?void 0:t.__internal_queryClient}get isSatellite(){return typeof window<"u"&&window.location?ug(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Jr.throw(sg):!1}async loadClerkJS(){var t;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Rt(this,Hi),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;X2(this.Clerk)?(r=new this.Clerk(Rt(this,Hi),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(r),await r.load(this.options)):(r=this.Clerk,r.loaded||(this.beforeLoad(r),await r.load(this.options))),global.Clerk=r}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await MA({...this.options,publishableKey:Rt(this,Hi),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(t=global.Clerk)!=null&&t.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(r){const i=r;Rt(this,ma).emit(ad.Status,"error"),console.error(i.stack||i.message||i);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var t;return(t=this.clerkjs)==null?void 0:t.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:Rt(this,wd)}get apiKeys(){var t;return(t=this.clerkjs)==null?void 0:t.apiKeys}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};Sd=new WeakMap;ns=new WeakMap;rs=new WeakMap;Hi=new WeakMap;ma=new WeakMap;wd=new WeakMap;Fi=new WeakMap;Qu=new WeakSet;xd=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};$i(MC,Fi);var Hx=MC;function IA(e){const{isomorphicClerkOptions:t,initialState:r,children:i}=e,{isomorphicClerk:o,clerkStatus:s}=FA(t),[c,f]=q.useState({client:o.client,session:o.session,user:o.user,organization:o.organization});q.useEffect(()=>o.addListener(J=>f({...J})),[]);const d=NA(o.loaded,c,r),h=q.useMemo(()=>({value:o}),[s]),v=q.useMemo(()=>({value:c.client}),[c.client]),{sessionId:g,sessionStatus:b,sessionClaims:S,session:C,userId:E,user:R,orgId:T,actor:_,organization:M,orgRole:A,orgSlug:D,orgPermissions:N,factorVerificationAge:O}=d,z=q.useMemo(()=>({value:{sessionId:g,sessionStatus:b,sessionClaims:S,userId:E,actor:_,orgId:T,orgRole:A,orgSlug:D,orgPermissions:N,factorVerificationAge:O}}),[g,b,E,_,T,A,D,O,S==null?void 0:S.__raw]),F=q.useMemo(()=>({value:C}),[g,C]),I=q.useMemo(()=>({value:R}),[E,R]),G=q.useMemo(()=>({value:{organization:M}}),[T,M]);return q.createElement(w2.Provider,{value:h},q.createElement(o2.Provider,{value:v},q.createElement(l2.Provider,{value:F},q.createElement(f2,{...G.value},q.createElement(b2.Provider,{value:z},q.createElement(i2.Provider,{value:I},q.createElement(u2,{value:void 0},i)))))))}var FA=e=>{const t=q.useRef(Hx.getOrCreateInstance(e)),[r,i]=q.useState(t.current.status);return q.useEffect(()=>{t.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),q.useEffect(()=>{t.current.__unstable__updateProps({options:e})},[e.localization]),q.useEffect(()=>(t.current.on("status",i),()=>{t.current&&t.current.off("status",i),Hx.clearInstance()}),[]),{isomorphicClerk:t.current,clerkStatus:r}};function VA(e){const{initialState:t,children:r,__internal_bypassMissingPublishableKey:i,...o}=e,{publishableKey:s="",Clerk:c}=o;return!c&&!i&&(s?s&&!Qg(s)&&Jr.throwInvalidPublishableKeyError({key:s}):Jr.throwMissingPublishableKeyError()),q.createElement(IA,{initialState:t,isomorphicClerkOptions:o},r)}var AC=W2(VA,"ClerkProvider",x2);AC.displayName="ClerkProvider";y2({packageName:"@clerk/clerk-react"});_A("@clerk/clerk-react");var ba=function(){return ba=Object.assign||function(t){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ba.apply(this,arguments)};function DC(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r}function qA(e,t,r){if(r||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var Ed="right-scroll-bar-position",Cd="width-before-scroll-bar",YA="with-scroll-bars-hidden",GA="--removed-body-scroll-bar-size";function gg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XA(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var o=r.value;o!==i&&(r.value=i,r.callback(i,o))}}}})[0];return r.callback=t,r.facade}var QA=typeof window<"u"?y.useLayoutEffect:y.useEffect,Ix=new WeakMap;function WA(e,t){var r=XA(null,function(i){return e.forEach(function(o){return gg(o,i)})});return QA(function(){var i=Ix.get(r);if(i){var o=new Set(i),s=new Set(e),c=r.current;o.forEach(function(f){s.has(f)||gg(f,null)}),s.forEach(function(f){o.has(f)||gg(f,c)})}Ix.set(r,e)},[e]),r}function KA(e){return e}function ZA(e,t){t===void 0&&(t=KA);var r=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,i);return r.push(c),function(){r=r.filter(function(f){return f!==c})}},assignSyncMedium:function(s){for(i=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(f){return s(f)},filter:function(){return r}}},assignMedium:function(s){i=!0;var c=[];if(r.length){var f=r;r=[],f.forEach(s),c=r}var d=function(){var v=c;c=[],v.forEach(s)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(v){c.push(v),h()},filter:function(v){return c=c.filter(v),r}}}};return o}function JA(e){e===void 0&&(e={});var t=ZA(null);return t.options=ba({async:!0,ssr:!1},e),t}var NC=function(e){var t=e.sideCar,r=DC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return y.createElement(i,ba({},r))};NC.isSideCarExport=!0;function eD(e,t){return e.useMedium(t),NC}var zC=JA(),vg=function(){},lh=y.forwardRef(function(e,t){var r=y.useRef(null),i=y.useState({onScrollCapture:vg,onWheelCapture:vg,onTouchMoveCapture:vg}),o=i[0],s=i[1],c=e.forwardProps,f=e.children,d=e.className,h=e.removeScrollBar,v=e.enabled,g=e.shards,b=e.sideCar,S=e.noRelative,C=e.noIsolation,E=e.inert,R=e.allowPinchZoom,T=e.as,_=T===void 0?"div":T,M=e.gapMode,A=DC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=b,N=WA([r,t]),O=ba(ba({},A),o);return y.createElement(y.Fragment,null,v&&y.createElement(D,{sideCar:zC,removeScrollBar:h,shards:g,noRelative:S,noIsolation:C,inert:E,setCallbacks:s,allowPinchZoom:!!R,lockRef:r,gapMode:M}),c?y.cloneElement(y.Children.only(f),ba(ba({},O),{ref:N})):y.createElement(_,ba({},O,{className:d,ref:N}),f))});lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lh.classNames={fullWidth:Cd,zeroRight:Ed};var tD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tD();return t&&e.setAttribute("nonce",t),e}function rD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=nD())&&(rD(t,r),aD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oD=function(){var e=iD();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kC=function(){var e=oD(),t=function(r){var i=r.styles,o=r.dynamic;return e(i,o),null};return t},lD={left:0,top:0,right:0,gap:0},yg=function(e){return parseInt(e||"",10)||0},sD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[yg(r),yg(i),yg(o)]},uD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lD;var t=sD(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},cD=kC(),ss="data-scroll-locked",fD=function(e,t,r,i){var o=e.left,s=e.top,c=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(YA,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(ss,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Cd,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Cd," .").concat(Cd,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ss,`] {
    `).concat(GA,": ").concat(f,`px;
  }
`)},Fx=function(){var e=parseInt(document.body.getAttribute(ss)||"0",10);return isFinite(e)?e:0},dD=function(){y.useEffect(function(){return document.body.setAttribute(ss,(Fx()+1).toString()),function(){var e=Fx()-1;e<=0?document.body.removeAttribute(ss):document.body.setAttribute(ss,e.toString())}},[])},hD=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;dD();var s=y.useMemo(function(){return uD(o)},[o]);return y.createElement(cD,{styles:fD(s,!t,o,r?"":"!important")})},av=!1;if(typeof window<"u")try{var id=Object.defineProperty({},"passive",{get:function(){return av=!0,!0}});window.addEventListener("test",id,id),window.removeEventListener("test",id,id)}catch{av=!1}var Wl=av?{passive:!1}:!1,mD=function(e){return e.tagName==="TEXTAREA"},LC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!mD(e)&&r[t]==="visible")},pD=function(e){return LC(e,"overflowY")},gD=function(e){return LC(e,"overflowX")},Vx=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=UC(e,i);if(o){var s=PC(e,i),c=s[1],f=s[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},vD=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},yD=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},UC=function(e,t){return e==="v"?pD(t):gD(t)},PC=function(e,t){return e==="v"?vD(t):yD(t)},bD=function(e,t){return e==="h"&&t==="rtl"?-1:1},SD=function(e,t,r,i,o){var s=bD(e,window.getComputedStyle(t).direction),c=s*i,f=r.target,d=t.contains(f),h=!1,v=c>0,g=0,b=0;do{if(!f)break;var S=PC(e,f),C=S[0],E=S[1],R=S[2],T=E-R-s*C;(C||T)&&UC(e,f)&&(g+=T,b+=C);var _=f.parentNode;f=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!d&&f!==document.body||d&&(t.contains(f)||t===f));return(v&&Math.abs(g)<1||!v&&Math.abs(b)<1)&&(h=!0),h},od=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qx=function(e){return[e.deltaX,e.deltaY]},Yx=function(e){return e&&"current"in e?e.current:e},wD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ED=0,Kl=[];function CD(e){var t=y.useRef([]),r=y.useRef([0,0]),i=y.useRef(),o=y.useState(ED++)[0],s=y.useState(kC)[0],c=y.useRef(e);y.useEffect(function(){c.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var E=qA([e.lockRef.current],(e.shards||[]).map(Yx),!0).filter(Boolean);return E.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),E.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=y.useCallback(function(E,R){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var T=od(E),_=r.current,M="deltaX"in E?E.deltaX:_[0]-T[0],A="deltaY"in E?E.deltaY:_[1]-T[1],D,N=E.target,O=Math.abs(M)>Math.abs(A)?"h":"v";if("touches"in E&&O==="h"&&N.type==="range")return!1;var z=window.getSelection(),F=z&&z.anchorNode,I=F?F===N||F.contains(N):!1;if(I)return!1;var G=Vx(O,N);if(!G)return!0;if(G?D=O:(D=O==="v"?"h":"v",G=Vx(O,N)),!G)return!1;if(!i.current&&"changedTouches"in E&&(M||A)&&(i.current=D),!D)return!0;var J=i.current||D;return SD(J,R,E,J==="h"?M:A)},[]),d=y.useCallback(function(E){var R=E;if(!(!Kl.length||Kl[Kl.length-1]!==s)){var T="deltaY"in R?qx(R):od(R),_=t.current.filter(function(D){return D.name===R.type&&(D.target===R.target||R.target===D.shadowParent)&&wD(D.delta,T)})[0];if(_&&_.should){R.cancelable&&R.preventDefault();return}if(!_){var M=(c.current.shards||[]).map(Yx).filter(Boolean).filter(function(D){return D.contains(R.target)}),A=M.length>0?f(R,M[0]):!c.current.noIsolation;A&&R.cancelable&&R.preventDefault()}}},[]),h=y.useCallback(function(E,R,T,_){var M={name:E,delta:R,target:T,should:_,shadowParent:RD(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(A){return A!==M})},1)},[]),v=y.useCallback(function(E){r.current=od(E),i.current=void 0},[]),g=y.useCallback(function(E){h(E.type,qx(E),E.target,f(E,e.lockRef.current))},[]),b=y.useCallback(function(E){h(E.type,od(E),E.target,f(E,e.lockRef.current))},[]);y.useEffect(function(){return Kl.push(s),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",d,Wl),document.addEventListener("touchmove",d,Wl),document.addEventListener("touchstart",v,Wl),function(){Kl=Kl.filter(function(E){return E!==s}),document.removeEventListener("wheel",d,Wl),document.removeEventListener("touchmove",d,Wl),document.removeEventListener("touchstart",v,Wl)}},[]);var S=e.removeScrollBar,C=e.inert;return y.createElement(y.Fragment,null,C?y.createElement(s,{styles:xD(o)}):null,S?y.createElement(hD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function RD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TD=eD(zC,CD);var Rs=y.forwardRef(function(e,t){return y.createElement(lh,ba({},e,{ref:t,sideCar:TD}))});Rs.classNames=lh.classNames;function qt(e){return Object.keys(e)}function bg(e){return e&&typeof e=="object"&&!Array.isArray(e)}function ty(e,t){const r={...e},i=t;return bg(e)&&bg(t)&&Object.keys(t).forEach(o=>{bg(i[o])&&o in e?r[o]=ty(r[o],i[o]):r[o]=i[o]}),r}function _D(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function OD(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function oc(e){const t=OD(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Sg(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function BC(e,{shouldScale:t=!1}={}){function r(i){if(i===0||i==="0")return`0${e}`;if(typeof i=="number"){const o=`${i/16}${e}`;return t?Sg(o):o}if(typeof i=="string"){if(i===""||i.startsWith("calc(")||i.startsWith("clamp(")||i.includes("rgba("))return i;if(i.includes(","))return i.split(",").map(s=>r(s)).join(",");if(i.includes(" "))return i.split(" ").map(s=>r(s)).join(" ");if(i.includes(e))return t?Sg(i):i;const o=i.replace("px","");if(!Number.isNaN(Number(o))){const s=`${Number(o)/16}${e}`;return t?Sg(s):s}}return i}return r}const ne=BC("rem",{shouldScale:!0}),kd=BC("em");function Cc(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function $C(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(i=>t.test(i))}return!1}function ny(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==y.Fragment:!1}function si(e){const t=y.createContext(null);return[({children:o,value:s})=>x.jsx(t.Provider,{value:s,children:o}),()=>{const o=y.useContext(t);if(o===null)throw new Error(e);return o}]}function ry(e=null){const t=y.createContext(e);return[({children:o,value:s})=>x.jsx(t.Provider,{value:s,children:o}),()=>y.useContext(t)]}function Ld(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function MD(e,t,r){for(let i=e-1;i>=0;i-=1)if(!t[i].disabled)return i;if(r){for(let i=t.length-1;i>-1;i-=1)if(!t[i].disabled)return i}return e}function jD(e,t,r){for(let i=e+1;i<t.length;i+=1)if(!t[i].disabled)return i;if(r){for(let i=0;i<t.length;i+=1)if(!t[i].disabled)return i}return e}function AD(e,t,r){return Ld(e,r)===Ld(t,r)}function DD({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:i=!0,activateOnFocus:o=!1,dir:s="rtl",orientation:c}){return f=>{var b;r==null||r(f);const d=Array.from(((b=Ld(f.currentTarget,e))==null?void 0:b.querySelectorAll(t))||[]).filter(S=>AD(f.currentTarget,S,e)),h=d.findIndex(S=>f.currentTarget===S),v=jD(h,d,i),g=MD(h,d,i);switch(f.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{f.stopPropagation(),f.preventDefault(),d[g].focus(),o&&d[g].click();break}case"ArrowDown":{f.stopPropagation(),f.preventDefault(),d[v].focus(),o&&d[v].click();break}case"Home":{f.stopPropagation(),f.preventDefault(),!d[0].disabled&&d[0].focus();break}case"End":{f.stopPropagation(),f.preventDefault();const S=d.length-1;!d[S].disabled&&d[S].focus();break}}}}const ND={app:100,modal:200,popover:300,overlay:400,max:9999};function ui(e){return ND[e]}const zD=()=>{};function kD(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||zD:r=>{var i;r.key==="Escape"&&(e(r),(i=t.onTrigger)==null||i.call(t))}}function Tt(e,t="size",r=!0){if(e!==void 0)return $C(e)?r?ne(e):e:`var(--${t}-${e})`}function un(e){return Tt(e,"mantine-spacing")}function _n(e){return e===void 0?"var(--mantine-radius-default)":Tt(e,"mantine-radius")}function Wn(e){return Tt(e,"mantine-font-size")}function LD(e){return Tt(e,"mantine-line-height",!1)}function ay(e){if(e)return Tt(e,"mantine-shadow",!1)}function wa(e,t){return r=>{e==null||e(r),t==null||t(r)}}function iy(e,t){return e in t?oc(t[e]):oc(e)}function iv(e,t){const r=e.map(i=>({value:i,px:iy(i,t)}));return r.sort((i,o)=>i.px-o.px),r}function us(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function UD(e,t,r){var i;return r?Array.from(((i=Ld(r,t))==null?void 0:i.querySelectorAll(e))||[]).findIndex(o=>o===r):null}function PD(){const[e,t]=y.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Ud(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function BD(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const r=Object.keys(e),{length:i}=r;if(i!==Object.keys(t).length)return!1;for(let o=0;o<i;o+=1){const s=r[o];if(!(s in t)||e[s]!==t[s]&&!(Number.isNaN(e[s])&&Number.isNaN(t[s])))return!1}return!0}function Po(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},[])}function sh(e,t){const r=typeof t=="number"?t:t.delay,i=typeof t=="number"?!1:t.flushOnUnmount,o=Po(e),s=y.useRef(0),c=y.useRef(()=>{}),f=Object.assign(y.useCallback((...d)=>{window.clearTimeout(s.current);const h=()=>{s.current!==0&&(s.current=0,o(...d))};c.current=h,f.flush=h,s.current=window.setTimeout(h,r)},[o,r]),{flush:c.current});return y.useEffect(()=>()=>{window.clearTimeout(s.current),i&&f.flush()},[f,i]),f}const Gx=["mousedown","touchstart"];function $D(e,t,r){const i=y.useRef(null);return y.useEffect(()=>{const o=s=>{const{target:c}=s??{};if(Array.isArray(r)){const f=(c==null?void 0:c.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(c)&&c.tagName!=="HTML";r.every(h=>!!h&&!s.composedPath().includes(h))&&!f&&e()}else i.current&&!i.current.contains(c)&&e()};return(t||Gx).forEach(s=>document.addEventListener(s,o)),()=>{(t||Gx).forEach(s=>document.removeEventListener(s,o))}},[i,e,r]),i}function HD(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function ID(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function FD(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[i,o]=y.useState(r?t:ID(e)),s=y.useRef(null);return y.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),o(s.current.matches),HD(s.current,c=>o(c.matches))},[e]),i}const js=typeof document<"u"?y.useLayoutEffect:y.useEffect;function ai(e,t){const r=y.useRef(!1);y.useEffect(()=>()=>{r.current=!1},[]),y.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function HC({opened:e,shouldReturnFocus:t=!0}){const r=y.useRef(null),i=()=>{var o;r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&((o=r.current)==null||o.focus({preventScroll:!0}))};return ai(()=>{let o=-1;const s=c=>{c.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",s),e?r.current=document.activeElement:t&&(o=window.setTimeout(i,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",s)}},[e,t]),i}const VD=/input|select|textarea|button|object/,IC="a, input, select, textarea, button, object, [tabindex]";function qD(e){return e.style.display==="none"}function YD(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(qD(r))return!1;r=r.parentNode}return!0}function FC(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function ov(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(FC(e));return(VD.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&YD(e)}function VC(e){const t=FC(e);return(Number.isNaN(t)||t>=0)&&ov(e)}function GD(e){return Array.from(e.querySelectorAll(IC)).filter(VC)}function XD(e,t){const r=GD(e);if(!r.length){t.preventDefault();return}const i=r[t.shiftKey?0:r.length-1],o=e.getRootNode();let s=i===o.activeElement||e===o.activeElement;const c=o.activeElement;if(c.tagName==="INPUT"&&c.getAttribute("type")==="radio"&&(s=r.filter(v=>v.getAttribute("type")==="radio"&&v.getAttribute("name")===c.getAttribute("name")).includes(i)),!s)return;t.preventDefault();const d=r[t.shiftKey?r.length-1:0];d&&d.focus()}function QD(e=!0){const t=y.useRef(null),r=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const c=Array.from(o.querySelectorAll(IC));s=c.find(VC)||c.find(ov)||null,!s&&ov(o)&&(s=o)}s&&s.focus({preventScroll:!0})},i=y.useCallback(o=>{e&&o!==null&&t.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&r(o)}),t.current=o):t.current=null)},[e]);return y.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const o=s=>{s.key==="Tab"&&t.current&&XD(t.current,s)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),i}const WD=e=>(e+1)%1e6;function KD(){const[,e]=y.useReducer(WD,0);return e}const ZD=q.useId||(()=>{});function JD(){const e=ZD();return e?`mantine-${e.replace(/:/g,"")}`:""}function uh(e){const t=JD(),[r,i]=y.useState(t);return js(()=>{i(Ud())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function qC(e,t,r){y.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function lv(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function YC(...e){const t=new Map;return r=>{if(e.forEach(i=>{const o=lv(i,r);o&&t.set(i,o)}),t.size>0)return()=>{e.forEach(i=>{const o=t.get(i);o?o():lv(i,null)}),t.clear()}}}function hr(...e){return y.useCallback(YC(...e),e)}function ch({value:e,defaultValue:t,finalValue:r,onChange:i=()=>{}}){const[o,s]=y.useState(t!==void 0?t:r),c=(f,...d)=>{s(f),i==null||i(f,...d)};return e!==void 0?[e,i,!0]:[o,c,!1]}function fh(e,t){return FD("(prefers-reduced-motion: reduce)",e,t)}function eN(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(!BD(e[r],t[r]))return!1;return!0}function tN(e){const t=y.useRef([]),r=y.useRef(0);return eN(t.current,e)||(t.current=e,r.current+=1),[r.current]}function nN(e,t){y.useEffect(e,tN(t))}function GC(e=!1,t){const{onOpen:r,onClose:i}={},[o,s]=y.useState(e),c=y.useCallback(()=>{s(h=>h||(r==null||r(),!0))},[r]),f=y.useCallback(()=>{s(h=>h&&(i==null||i(),!1))},[i]),d=y.useCallback(()=>{o?f():c()},[f,c,o]);return[o,{open:c,close:f,toggle:d}]}function rN(e,t,r={autoInvoke:!1}){const i=y.useRef(null),o=y.useCallback((...c)=>{i.current||(i.current=window.setTimeout(()=>{e(c),i.current=null},t))},[t]),s=y.useCallback(()=>{i.current&&(window.clearTimeout(i.current),i.current=null)},[]);return y.useEffect(()=>(r.autoInvoke&&o(),s),[s,o]),{start:o,clear:s}}function aN(e,t,r){const i=y.useRef(null),o=y.useRef(null);return y.useEffect(()=>{const s=typeof r=="function"?r():r;return(s||o.current)&&(i.current=new MutationObserver(e),i.current.observe(s||o.current,t)),()=>{var c;(c=i.current)==null||c.disconnect()}},[e,t]),o}function iN(){const[e,t]=y.useState(!1);return y.useEffect(()=>t(!0),[]),e}var oN={};function XC(){return typeof process<"u"&&oN?"production":"development"}function lN(e){var r;const t=q.version;return typeof q.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(r=e==null?void 0:e.props)==null?void 0:r.ref}function QC(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=QC(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function Tn(){for(var e,t,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=QC(e))&&(i&&(i+=" "),i+=t);return i}const sN={};function uN(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([i,o])=>{t[i]?t[i]=Tn(t[i],o):t[i]=o})}),t}function dh({theme:e,classNames:t,props:r,stylesCtx:i}){const s=(Array.isArray(t)?t:[t]).map(c=>typeof c=="function"?c(e,r,i):c||sN);return uN(s)}function Pd({theme:e,styles:t,props:r,stylesCtx:i}){return(Array.isArray(t)?t:[t]).reduce((s,c)=>typeof c=="function"?{...s,...c(e,r,i)}:{...s,...c},{})}const WC=y.createContext(null);function ci(){const e=y.useContext(WC);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function cN(){return ci().cssVariablesResolver}function fN(){return ci().classNamesPrefix}function oy(){return ci().getStyleNonce}function dN(){return ci().withStaticClasses}function hN(){return ci().headless}function mN(){var e;return(e=ci().stylesTransform)==null?void 0:e.sx}function pN(){var e;return(e=ci().stylesTransform)==null?void 0:e.styles}function KC(){return ci().env||"default"}function gN(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function vN(e){let t=e.replace("#","");if(t.length===3){const c=t.split("");t=[c[0],c[0],c[1],c[1],c[2],c[2]].join("")}if(t.length===8){const c=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:c}}const r=parseInt(t,16),i=r>>16&255,o=r>>8&255,s=r&255;return{r:i,g:o,b:s,a:1}}function yN(e){const[t,r,i,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:i,a:o===void 0?1:o}}function bN(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const i=parseInt(r[1],10),o=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,c=r[5]?parseFloat(r[5]):void 0,f=(1-Math.abs(2*s-1))*o,d=i/60,h=f*(1-Math.abs(d%2-1)),v=s-f/2;let g,b,S;return d>=0&&d<1?(g=f,b=h,S=0):d>=1&&d<2?(g=h,b=f,S=0):d>=2&&d<3?(g=0,b=f,S=h):d>=3&&d<4?(g=0,b=h,S=f):d>=4&&d<5?(g=h,b=0,S=f):(g=f,b=0,S=h),{r:Math.round((g+v)*255),g:Math.round((b+v)*255),b:Math.round((S+v)*255),a:c||1}}function ly(e){return gN(e)?vN(e):e.startsWith("rgb")?yN(e):e.startsWith("hsl")?bN(e):{r:0,g:0,b:0,a:1}}function ld(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:i,b:o,a:s}=ly(e),c=1-t,f=d=>Math.round(d*c);return`rgba(${f(r)}, ${f(i)}, ${f(o)}, ${s})`}function lc(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function wg(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function SN(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function wN(e){if(e.startsWith("oklch("))return(SN(e)||0)/100;const{r:t,g:r,b:i}=ly(e),o=t/255,s=r/255,c=i/255,f=wg(o),d=wg(s),h=wg(c);return .2126*f+.7152*d+.0722*h}function Bu(e,t=.179){return e.startsWith("var(")?!1:wN(e)>t}function As({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Bu(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Bu(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Bu(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[i,o]=e.split("."),s=o?Number(o):void 0,c=i in t.colors;if(c){const f=s!==void 0?t.colors[i][s]:t.colors[i][lc(t,r||"light")];return{color:i,value:f,shade:s,isThemeColor:c,isLight:Bu(f,t.luminanceThreshold),variable:o?`--mantine-color-${i}-${s}`:`--mantine-color-${i}-filled`}}return{color:e,value:e,isThemeColor:c,isLight:Bu(e,t.luminanceThreshold),shade:s,variable:void 0}}function ea(e,t){const r=As({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function sv(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},i=ea(r.from,t),o=ea(r.to,t);return`linear-gradient(${r.deg}deg, ${i} 0%, ${o} 100%)`}function pa(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:i,b:o}=ly(e);return`rgba(${r}, ${i}, ${o}, ${t})`}const Zl=pa,xN=({color:e,theme:t,variant:r,gradient:i,autoContrast:o})=>{const s=As({color:e,theme:t}),c=typeof o=="boolean"?o:t.autoContrast;if(r==="filled"){const f=c&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:f,border:`${ne(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:f,border:`${ne(1)} solid transparent`}:{background:e,hover:ld(e,.1),color:f,border:`${ne(1)} solid transparent`}}if(r==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${ne(1)} solid transparent`};const f=t.colors[s.color][s.shade];return{background:pa(f,.1),hover:pa(f,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${ne(1)} solid transparent`}}return{background:pa(e,.1),hover:pa(e,.12),color:e,border:`${ne(1)} solid transparent`}}if(r==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${ne(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:pa(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${ne(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:pa(e,.05),color:e,border:`${ne(1)} solid ${e}`};if(r==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${ne(1)} solid transparent`};const f=t.colors[s.color][s.shade];return{background:"transparent",hover:pa(f,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${ne(1)} solid transparent`}}return{background:"transparent",hover:pa(e,.12),color:e,border:`${ne(1)} solid transparent`}}return r==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${ne(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${ne(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${ne(1)} solid transparent`}:r==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:ld(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${ne(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ld(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${ne(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ld(t.white,.01),color:e,border:`${ne(1)} solid transparent`}:r==="gradient"?{background:sv(i,t),hover:sv(i,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${ne(1)} solid var(--mantine-color-default-border)`}:{}},EN={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Xx="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",sy={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:EN,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:xN,autoContrast:!1,luminanceThreshold:.3,fontFamily:Xx,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Xx,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:ne(34),lineHeight:"1.3"},h2:{fontSize:ne(26),lineHeight:"1.35"},h3:{fontSize:ne(22),lineHeight:"1.4"},h4:{fontSize:ne(18),lineHeight:"1.45"},h5:{fontSize:ne(16),lineHeight:"1.5"},h6:{fontSize:ne(14),lineHeight:"1.5"}}},fontSizes:{xs:ne(12),sm:ne(14),md:ne(16),lg:ne(18),xl:ne(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:ne(2),sm:ne(4),md:ne(8),lg:ne(16),xl:ne(32)},spacing:{xs:ne(10),sm:ne(12),md:ne(16),lg:ne(20),xl:ne(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), 0 ${ne(1)} ${ne(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ne(10)} ${ne(15)} ${ne(-5)}, rgba(0, 0, 0, 0.04) 0 ${ne(7)} ${ne(7)} ${ne(-5)}`,md:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ne(20)} ${ne(25)} ${ne(-5)}, rgba(0, 0, 0, 0.04) 0 ${ne(10)} ${ne(10)} ${ne(-5)}`,lg:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ne(28)} ${ne(23)} ${ne(-7)}, rgba(0, 0, 0, 0.04) 0 ${ne(12)} ${ne(12)} ${ne(-7)}`,xl:`0 ${ne(1)} ${ne(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ne(36)} ${ne(28)} ${ne(-7)}, rgba(0, 0, 0, 0.04) 0 ${ne(17)} ${ne(17)} ${ne(-7)}`},other:{},components:{}};function Qx(e){return e==="auto"||e==="dark"||e==="light"}function CN({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const i=window.localStorage.getItem(e);return Qx(i)?i:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:r=>{t=i=>{i.storageArea===window.localStorage&&i.key===e&&Qx(i.newValue)&&r(i.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const RN="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Wx="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function xg(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Kx(e){if(!(e.primaryColor in e.colors))throw new Error(RN);if(typeof e.primaryShade=="object"&&(!xg(e.primaryShade.dark)||!xg(e.primaryShade.light)))throw new Error(Wx);if(typeof e.primaryShade=="number"&&!xg(e.primaryShade))throw new Error(Wx)}function TN(e,t){var i;if(!t)return Kx(e),e;const r=ty(e,t);return t.fontFamily&&!((i=t.headings)!=null&&i.fontFamily)&&(r.headings.fontFamily=t.fontFamily),Kx(r),r}const uy=y.createContext(null),_N=()=>y.useContext(uy)||sy;function $n(){const e=y.useContext(uy);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function ZC({theme:e,children:t,inherit:r=!0}){const i=_N(),o=y.useMemo(()=>TN(r?i:sy,e),[e,i,r]);return x.jsx(uy.Provider,{value:o,children:t})}ZC.displayName="@mantine/core/MantineThemeProvider";function ON(){const e=$n(),t=oy(),r=qt(e.breakpoints).reduce((i,o)=>{const s=e.breakpoints[o].includes("px"),c=oc(e.breakpoints[o]),f=s?`${c-.1}px`:kd(c-.1),d=s?`${c}px`:kd(c);return`${i}@media (max-width: ${f}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${d}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return x.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function Eg(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function $u(e,t){return(Array.isArray(e)?e:[e]).reduce((i,o)=>`${o}{${i}}`,t)}function MN(e,t){const r=Eg(e.variables),i=r?$u(t,r):"",o=Eg(e.dark),s=Eg(e.light),c=o?$u(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,o):"",f=s?$u(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${i}${c}${f}`}function JC({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&As({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Zx(e,t){return JC({color:e.colors[e.primaryColor][lc(e,t)],theme:e,autoContrast:null})}function sd({theme:e,color:t,colorScheme:r,name:i=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(r==="light"){const f=lc(e,"light"),d={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${f})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${f===9?8:f+1})`,[`--mantine-color-${i}-light`]:Zl(e.colors[t][f],.1),[`--mantine-color-${i}-light-hover`]:Zl(e.colors[t][f],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${f})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${f})`,[`--mantine-color-${i}-outline-hover`]:Zl(e.colors[t][f],.05)};return o?{[`--mantine-color-${i}-0`]:e.colors[t][0],[`--mantine-color-${i}-1`]:e.colors[t][1],[`--mantine-color-${i}-2`]:e.colors[t][2],[`--mantine-color-${i}-3`]:e.colors[t][3],[`--mantine-color-${i}-4`]:e.colors[t][4],[`--mantine-color-${i}-5`]:e.colors[t][5],[`--mantine-color-${i}-6`]:e.colors[t][6],[`--mantine-color-${i}-7`]:e.colors[t][7],[`--mantine-color-${i}-8`]:e.colors[t][8],[`--mantine-color-${i}-9`]:e.colors[t][9],...d}:d}const s=lc(e,"dark"),c={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${s})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${s===9?8:s+1})`,[`--mantine-color-${i}-light`]:Zl(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${i}-light-hover`]:Zl(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(s-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(s-4,0)})`,[`--mantine-color-${i}-outline-hover`]:Zl(e.colors[t][Math.max(s-4,0)],.05)};return o?{[`--mantine-color-${i}-0`]:e.colors[t][0],[`--mantine-color-${i}-1`]:e.colors[t][1],[`--mantine-color-${i}-2`]:e.colors[t][2],[`--mantine-color-${i}-3`]:e.colors[t][3],[`--mantine-color-${i}-4`]:e.colors[t][4],[`--mantine-color-${i}-5`]:e.colors[t][5],[`--mantine-color-${i}-6`]:e.colors[t][6],[`--mantine-color-${i}-7`]:e.colors[t][7],[`--mantine-color-${i}-8`]:e.colors[t][8],[`--mantine-color-${i}-9`]:e.colors[t][9],...c}:c}function jN(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Jl(e,t,r){qt(t).forEach(i=>Object.assign(e,{[`--mantine-${r}-${i}`]:t[i]}))}const eR=e=>{const t=lc(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:ne(e.defaultRadius),i={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Zx(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Zx(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Jl(i.variables,e.breakpoints,"breakpoint"),Jl(i.variables,e.spacing,"spacing"),Jl(i.variables,e.fontSizes,"font-size"),Jl(i.variables,e.lineHeights,"line-height"),Jl(i.variables,e.shadows,"shadow"),Jl(i.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,c)=>{i.variables[`--mantine-primary-color-${c}`]=`var(--mantine-color-${e.primaryColor}-${c})`}),qt(e.colors).forEach(s=>{const c=e.colors[s];if(jN(c)){Object.assign(i.light,sd({theme:e,name:c.name,color:c.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,sd({theme:e,name:c.name,color:c.dark,colorScheme:"dark",withColorValues:!0}));return}c.forEach((f,d)=>{i.variables[`--mantine-color-${s}-${d}`]=f}),Object.assign(i.light,sd({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,sd({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return qt(o).forEach(s=>{i.variables[`--mantine-${s}-font-size`]=o[s].fontSize,i.variables[`--mantine-${s}-line-height`]=o[s].lineHeight,i.variables[`--mantine-${s}-font-weight`]=o[s].fontWeight||e.headings.fontWeight}),i};function AN({theme:e,generator:t}){const r=eR(e),i=t==null?void 0:t(e);return i?ty(r,i):r}const Cg=eR(sy);function DN(e){const t={variables:{},light:{},dark:{}};return qt(e.variables).forEach(r=>{Cg.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),qt(e.light).forEach(r=>{Cg.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),qt(e.dark).forEach(r=>{Cg.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function NN(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function tR({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=$n(),i=oy(),o=cN(),s=AN({theme:r,generator:o}),c=e===":root"&&t,f=c?DN(s):s,d=MN(f,e);return d?x.jsx("style",{"data-mantine-styles":!0,nonce:i==null?void 0:i(),dangerouslySetInnerHTML:{__html:`${d}${c?"":NN(e)}`}}):null}tR.displayName="@mantine/CssVariables";function zN(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function es(e,t){var o,s;const r=typeof window<"u"&&"matchMedia"in window&&((o=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:o.matches),i=e!=="auto"?e:r?"dark":"light";(s=t())==null||s.setAttribute("data-mantine-color-scheme",i)}function kN({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:i}){const o=y.useRef(null),[s,c]=y.useState(()=>e.get(t)),f=i||s,d=y.useCallback(v=>{i||(es(v,r),c(v),e.set(v))},[e.set,f,i]),h=y.useCallback(()=>{c(t),es(t,r),e.clear()},[e.clear,t]);return y.useEffect(()=>(e.subscribe(d),e.unsubscribe),[e.subscribe,e.unsubscribe]),js(()=>{es(e.get(t),r)},[]),y.useEffect(()=>{var g;if(i)return es(i,r),()=>{};i===void 0&&es(s,r),typeof window<"u"&&"matchMedia"in window&&(o.current=window.matchMedia("(prefers-color-scheme: dark)"));const v=b=>{s==="auto"&&es(b.matches?"dark":"light",r)};return(g=o.current)==null||g.addEventListener("change",v),()=>{var b;return(b=o.current)==null?void 0:b.removeEventListener("change",v)}},[s,i]),{colorScheme:f,setColorScheme:d,clearColorScheme:h}}function LN({respectReducedMotion:e,getRootElement:t}){js(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}zN();function nR({theme:e,children:t,getStyleNonce:r,withStaticClasses:i=!0,withGlobalClasses:o=!0,deduplicateCssVariables:s=!0,withCssVariables:c=!0,cssVariablesSelector:f=":root",classNamesPrefix:d="mantine",colorSchemeManager:h=CN(),defaultColorScheme:v="light",getRootElement:g=()=>document.documentElement,cssVariablesResolver:b,forceColorScheme:S,stylesTransform:C,env:E}){const{colorScheme:R,setColorScheme:T,clearColorScheme:_}=kN({defaultColorScheme:v,forceColorScheme:S,manager:h,getRootElement:g});return LN({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:g}),x.jsx(WC.Provider,{value:{colorScheme:R,setColorScheme:T,clearColorScheme:_,getRootElement:g,classNamesPrefix:d,getStyleNonce:r,cssVariablesResolver:b,cssVariablesSelector:f,withStaticClasses:i,stylesTransform:C,env:E},children:x.jsxs(ZC,{theme:e,children:[c&&x.jsx(tR,{cssVariablesSelector:f,deduplicateCssVariables:s}),o&&x.jsx(ON,{}),t]})})}nR.displayName="@mantine/core/MantineProvider";function cy({classNames:e,styles:t,props:r,stylesCtx:i}){const o=$n();return{resolvedClassNames:dh({theme:o,classNames:e,props:r,stylesCtx:i||void 0}),resolvedStyles:Pd({theme:o,styles:t,props:r,stylesCtx:i||void 0})}}const UN={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function PN({theme:e,options:t,unstyled:r}){return Tn((t==null?void 0:t.focusable)&&!r&&(e.focusClassName||UN[e.focusRing]),(t==null?void 0:t.active)&&!r&&e.activeClassName)}function BN({selector:e,stylesCtx:t,options:r,props:i,theme:o}){return dh({theme:o,classNames:r==null?void 0:r.classNames,props:(r==null?void 0:r.props)||i,stylesCtx:t})[e]}function Jx({selector:e,stylesCtx:t,theme:r,classNames:i,props:o}){return dh({theme:r,classNames:i,props:o,stylesCtx:t})[e]}function $N({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function HN({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function IN({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:i}){return i===!1?[]:e.map(o=>`${t}-${o}-${r}`)}function FN({themeName:e,theme:t,selector:r,props:i,stylesCtx:o}){return e.map(s=>{var c,f;return(f=dh({theme:t,classNames:(c=t.components[s])==null?void 0:c.classNames,props:i,stylesCtx:o}))==null?void 0:f[r]})}function VN({options:e,classes:t,selector:r,unstyled:i}){return e!=null&&e.variant&&!i?t[`${r}--${e.variant}`]:void 0}function qN({theme:e,options:t,themeName:r,selector:i,classNamesPrefix:o,classNames:s,classes:c,unstyled:f,className:d,rootSelector:h,props:v,stylesCtx:g,withStaticClasses:b,headless:S,transformedStyles:C}){return Tn(PN({theme:e,options:t,unstyled:f||S}),FN({theme:e,themeName:r,selector:i,props:v,stylesCtx:g}),VN({options:t,classes:c,selector:i,unstyled:f}),Jx({selector:i,stylesCtx:g,theme:e,classNames:s,props:v}),Jx({selector:i,stylesCtx:g,theme:e,classNames:C,props:v}),BN({selector:i,stylesCtx:g,options:t,props:v,theme:e}),$N({rootSelector:h,selector:i,className:d}),HN({selector:i,classes:c,unstyled:f||S}),b&&!S&&IN({themeName:r,classNamesPrefix:o,selector:i,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function YN({theme:e,themeName:t,props:r,stylesCtx:i,selector:o}){return t.map(s=>{var c;return Pd({theme:e,styles:(c=e.components[s])==null?void 0:c.styles,props:r,stylesCtx:i})[o]}).reduce((s,c)=>({...s,...c}),{})}function uv({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...uv({style:i,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function GN(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(i=>{t[i]={...t[i],...Cc(r[i])}}),t),{})}function XN({vars:e,varsResolver:t,theme:r,props:i,stylesCtx:o,selector:s,themeName:c,headless:f}){var d;return(d=GN([f?{}:t==null?void 0:t(r,i,o),...c.map(h=>{var v,g,b;return(b=(g=(v=r.components)==null?void 0:v[h])==null?void 0:g.vars)==null?void 0:b.call(g,r,i,o)}),e==null?void 0:e(r,i,o)]))==null?void 0:d[s]}function QN({theme:e,themeName:t,selector:r,options:i,props:o,stylesCtx:s,rootSelector:c,styles:f,style:d,vars:h,varsResolver:v,headless:g,withStylesTransform:b}){return{...!b&&YN({theme:e,themeName:t,props:o,stylesCtx:s,selector:r}),...!b&&Pd({theme:e,styles:f,props:o,stylesCtx:s})[r],...!b&&Pd({theme:e,styles:i==null?void 0:i.styles,props:(i==null?void 0:i.props)||o,stylesCtx:s})[r],...XN({theme:e,props:o,stylesCtx:s,vars:h,varsResolver:v,selector:r,themeName:t,headless:g}),...c===r?uv({style:d,theme:e}):null,...uv({style:i==null?void 0:i.style,theme:e})}}function WN({props:e,stylesCtx:t,themeName:r}){var c;const i=$n(),o=(c=pN())==null?void 0:c();return{getTransformedStyles:f=>o?[...f.map(h=>o(h,{props:e,theme:i,ctx:t})),...r.map(h=>{var v;return o((v=i.components[h])==null?void 0:v.styles,{props:e,theme:i,ctx:t})})].filter(Boolean):[],withStylesTransform:!!o}}function Pe({name:e,classes:t,props:r,stylesCtx:i,className:o,style:s,rootSelector:c="root",unstyled:f,classNames:d,styles:h,vars:v,varsResolver:g}){const b=$n(),S=fN(),C=dN(),E=hN(),R=(Array.isArray(e)?e:[e]).filter(M=>M),{withStylesTransform:T,getTransformedStyles:_}=WN({props:r,stylesCtx:i,themeName:R});return(M,A)=>({className:qN({theme:b,options:A,themeName:R,selector:M,classNamesPrefix:S,classNames:d,classes:t,unstyled:f,className:o,rootSelector:c,props:r,stylesCtx:i,withStaticClasses:C,headless:E,transformedStyles:_([A==null?void 0:A.styles,h])}),style:QN({theme:b,themeName:R,selector:M,options:A,props:r,stylesCtx:i,rootSelector:c,styles:h,style:s,vars:v,varsResolver:g,headless:E,withStylesTransform:T})})}function be(e,t,r){var c;const i=$n(),o=(c=i.components[e])==null?void 0:c.defaultProps,s=typeof o=="function"?o(i):o;return{...t,...s,...Cc(r)}}function Rg(e){return qt(e).reduce((t,r)=>e[r]!==void 0?`${t}${_D(r)}:${e[r]};`:t,"").trim()}function KN({selector:e,styles:t,media:r,container:i}){const o=t?Rg(t):"",s=Array.isArray(r)?r.map(f=>`@media${f.query}{${e}{${Rg(f.styles)}}}`):[],c=Array.isArray(i)?i.map(f=>`@container ${f.query}{${e}{${Rg(f.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${s.join("")}${c.join("")}`.trim()}function hh(e){const t=oy();return x.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:KN(e)}})}function fy(e){const{m:t,mx:r,my:i,mt:o,mb:s,ml:c,mr:f,me:d,ms:h,p:v,px:g,py:b,pt:S,pb:C,pl:E,pr:R,pe:T,ps:_,bd:M,bg:A,c:D,opacity:N,ff:O,fz:z,fw:F,lts:I,ta:G,lh:J,fs:ce,tt:ie,td:pe,w:B,miw:X,maw:te,h:he,mih:me,mah:L,bgsz:W,bgp:ae,bgr:fe,bga:ge,pos:xe,top:se,left:Ce,bottom:Re,right:Se,inset:st,display:He,flex:nt,hiddenFrom:ct,visibleFrom:bn,lightHidden:Nt,darkHidden:oa,sx:Br,...On}=e;return{styleProps:Cc({m:t,mx:r,my:i,mt:o,mb:s,ml:c,mr:f,me:d,ms:h,p:v,px:g,py:b,pt:S,pb:C,pl:E,pr:R,pe:T,ps:_,bd:M,bg:A,c:D,opacity:N,ff:O,fz:z,fw:F,lts:I,ta:G,lh:J,fs:ce,tt:ie,td:pe,w:B,miw:X,maw:te,h:he,mih:me,mah:L,bgsz:W,bgp:ae,bgr:fe,bga:ge,pos:xe,top:se,left:Ce,bottom:Re,right:Se,inset:st,display:He,flex:nt,hiddenFrom:ct,visibleFrom:bn,lightHidden:Nt,darkHidden:oa,sx:Br}),rest:On}}const ZN={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function dy(e,t){const r=As({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function JN(e,t){const r=As({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:dy(e,t)}function ez(e,t){if(typeof e=="number")return ne(e);if(typeof e=="string"){const[r,i,...o]=e.split(" ").filter(c=>c.trim()!=="");let s=`${ne(r)}`;return i&&(s+=` ${i}`),o.length>0&&(s+=` ${dy(o.join(" "),t)}`),s.trim()}return e}const e1={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function tz(e){return typeof e=="string"&&e in e1?e1[e]:e}const nz=["h1","h2","h3","h4","h5","h6"];function rz(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&nz.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?ne(e):e}function az(e){return e}const iz=["h1","h2","h3","h4","h5","h6"];function oz(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&iz.includes(e)?`var(--mantine-${e}-line-height)`:e}function lz(e){return typeof e=="number"?ne(e):e}function sz(e,t){if(typeof e=="number")return ne(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return ne(e);const i=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${i}) * -1)`:`var(${i})`}return e}const Tg={color:dy,textColor:JN,fontSize:rz,spacing:sz,identity:az,size:lz,lineHeight:oz,fontFamily:tz,border:ez};function t1(e){return e.replace("(min-width: ","").replace("em)","")}function uz({media:e,...t}){const i=Object.keys(e).sort((o,s)=>Number(t1(o))-Number(t1(s))).map(o=>({query:o,styles:e[o]}));return{...t,media:i}}function cz(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function fz(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function dz(e){return typeof e=="object"&&e!==null?qt(e).filter(t=>t!=="base"):[]}function hz(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function mz({styleProps:e,data:t,theme:r}){return uz(qt(e).reduce((i,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return i;const s=t[o],c=Array.isArray(s.property)?s.property:[s.property],f=fz(e[o]);if(!cz(e[o]))return c.forEach(h=>{i.inlineStyles[h]=Tg[s.type](f,r)}),i;i.hasResponsiveStyles=!0;const d=dz(e[o]);return c.forEach(h=>{f&&(i.styles[h]=Tg[s.type](f,r)),d.forEach(v=>{const g=`(min-width: ${r.breakpoints[v]})`;i.media[g]={...i.media[g],[h]:Tg[s.type](hz(e[o],v),r)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function rR(){return`__m__-${y.useId().replace(/:/g,"")}`}function aR(e,t){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...aR(i,t)}),{}):typeof e=="function"?e(t):e??{}}function iR(e){return e.startsWith("data-")?e:`data-${e}`}function pz(e){return Object.keys(e).reduce((t,r)=>{const i=e[r];return i===void 0||i===""||i===!1||i===null||(t[iR(r)]=e[r]),t},{})}function oR(e){return e?typeof e=="string"?{[iR(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...oR(r)}),{}):pz(e):null}function cv(e,t){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...cv(i,t)}),{}):typeof e=="function"?e(t):e??{}}function gz({theme:e,style:t,vars:r,styleProps:i}){const o=cv(t,e),s=cv(r,e);return{...o,...s,...i}}const lR=y.forwardRef(({component:e,style:t,__vars:r,className:i,variant:o,mod:s,size:c,hiddenFrom:f,visibleFrom:d,lightHidden:h,darkHidden:v,renderRoot:g,__size:b,...S},C)=>{var z;const E=$n(),R=e||"div",{styleProps:T,rest:_}=fy(S),M=mN(),A=(z=M==null?void 0:M())==null?void 0:z(T.sx),D=rR(),N=mz({styleProps:T,theme:E,data:ZN}),O={ref:C,style:gz({theme:E,style:t,vars:r,styleProps:N.inlineStyles}),className:Tn(i,A,{[D]:N.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":v,[`mantine-hidden-from-${f}`]:f,[`mantine-visible-from-${d}`]:d}),"data-variant":o,"data-size":$C(c)?void 0:c||void 0,size:b,...oR(s),..._};return x.jsxs(x.Fragment,{children:[N.hasResponsiveStyles&&x.jsx(hh,{selector:`.${D}`,styles:N.styles,media:N.media}),typeof g=="function"?g(O):x.jsx(R,{...O})]})});lR.displayName="@mantine/core/Box";const ye=lR;function sR(e){return e}function vz(e){const t=e;return r=>{const i=y.forwardRef((o,s)=>x.jsx(t,{...r,...o,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i}}function ze(e){const t=y.forwardRef(e);return t.extend=sR,t.withProps=r=>{const i=y.forwardRef((o,s)=>x.jsx(t,{...r,...o,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t}function yn(e){const t=y.forwardRef(e);return t.withProps=r=>{const i=y.forwardRef((o,s)=>x.jsx(t,{...r,...o,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t.extend=sR,t}const yz=y.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function mh(){return y.useContext(yz)}function bz(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function _g(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Hu=typeof window<"u"&&window.requestAnimationFrame;function Sz({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:i}){const o=y.useRef(null),s=0,c={height:0,overflow:"hidden"},[f,d]=y.useState(i?{}:c),h=C=>{Sa.flushSync(()=>d(C))},v=C=>{h(E=>({...E,...C}))};function g(C){const E=e||bz(C);return{transition:`height ${E}ms ${t}, opacity ${E}ms ${t}`}}ai(()=>{typeof Hu=="function"&&Hu(i?()=>{v({willChange:"height",display:"block",overflow:"hidden"}),Hu(()=>{const C=_g(o);v({...g(C),height:C})})}:()=>{const C=_g(o);v({...g(C),willChange:"height",height:C}),Hu(()=>v({height:s,overflow:"hidden"}))})},[i]);const b=C=>{if(!(C.target!==o.current||C.propertyName!=="height"))if(i){const E=_g(o);E===f.height?h({}):v({height:E}),r()}else f.height===s&&(h(c),r())};function S({style:C={},refKey:E="ref",...R}={}){const T=R[E],_={"aria-hidden":!i,...R,[E]:YC(o,T),onTransitionEnd:b,style:{boxSizing:"border-box",...C,...f}};return q.version.startsWith("18")?i||(_.inert=""):_.inert=!i,_}return S}const wz={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},uR=ze((e,t)=>{const{children:r,in:i,transitionDuration:o,transitionTimingFunction:s,style:c,onTransitionEnd:f,animateOpacity:d,...h}=be("Collapse",wz,e),v=$n(),g=fh(),S=(v.respectReducedMotion?g:!1)?0:o,C=Sz({opened:i,transitionDuration:S,transitionTimingFunction:s,onTransitionEnd:f});return S===0?i?x.jsx(ye,{...h,children:r}):null:x.jsx(ye,{...C({style:{opacity:i||!d?1:0,transition:d?`opacity ${S}ms ${s}`:"none",...aR(c,v)},ref:t,...h}),children:r})});uR.displayName="@mantine/core/Collapse";function ph(){return typeof window<"u"}function Ds(e){return cR(e)?(e.nodeName||"").toLowerCase():"#document"}function dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Oa(e){var t;return(t=(cR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cR(e){return ph()?e instanceof Node||e instanceof dr(e).Node:!1}function Pn(e){return ph()?e instanceof Element||e instanceof dr(e).Element:!1}function Ra(e){return ph()?e instanceof HTMLElement||e instanceof dr(e).HTMLElement:!1}function n1(e){return!ph()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dr(e).ShadowRoot}const xz=new Set(["inline","contents"]);function Rc(e){const{overflow:t,overflowX:r,overflowY:i,display:o}=ta(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!xz.has(o)}const Ez=new Set(["table","td","th"]);function Cz(e){return Ez.has(Ds(e))}const Rz=[":popover-open",":modal"];function gh(e){return Rz.some(t=>{try{return e.matches(t)}catch{return!1}})}const Tz=["transform","translate","scale","rotate","perspective"],_z=["transform","translate","scale","rotate","perspective","filter"],Oz=["paint","layout","strict","content"];function hy(e){const t=my(),r=Pn(e)?ta(e):e;return Tz.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||_z.some(i=>(r.willChange||"").includes(i))||Oz.some(i=>(r.contain||"").includes(i))}function Mz(e){let t=co(e);for(;Ra(t)&&!Ts(t);){if(hy(t))return t;if(gh(t))return null;t=co(t)}return null}function my(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jz=new Set(["html","body","#document"]);function Ts(e){return jz.has(Ds(e))}function ta(e){return dr(e).getComputedStyle(e)}function vh(e){return Pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function co(e){if(Ds(e)==="html")return e;const t=e.assignedSlot||e.parentNode||n1(e)&&e.host||Oa(e);return n1(t)?t.host:t}function fR(e){const t=co(e);return Ts(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ra(t)&&Rc(t)?t:fR(t)}function sc(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=fR(e),s=o===((i=e.ownerDocument)==null?void 0:i.body),c=dr(o);if(s){const f=fv(c);return t.concat(c,c.visualViewport||[],Rc(o)?o:[],f&&r?sc(f):[])}return t.concat(o,sc(o,[],r))}function fv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const na=Math.min,Cn=Math.max,Bd=Math.round,ud=Math.floor,xa=e=>({x:e,y:e}),Az={left:"right",right:"left",bottom:"top",top:"bottom"},Dz={start:"end",end:"start"};function dv(e,t,r){return Cn(e,na(t,r))}function ii(e,t){return typeof e=="function"?e(t):e}function ra(e){return e.split("-")[0]}function Ns(e){return e.split("-")[1]}function py(e){return e==="x"?"y":"x"}function gy(e){return e==="y"?"height":"width"}const Nz=new Set(["top","bottom"]);function Kr(e){return Nz.has(ra(e))?"y":"x"}function vy(e){return py(Kr(e))}function zz(e,t,r){r===void 0&&(r=!1);const i=Ns(e),o=vy(e),s=gy(o);let c=o==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=$d(c)),[c,$d(c)]}function kz(e){const t=$d(e);return[hv(e),t,hv(t)]}function hv(e){return e.replace(/start|end/g,t=>Dz[t])}const r1=["left","right"],a1=["right","left"],Lz=["top","bottom"],Uz=["bottom","top"];function Pz(e,t,r){switch(e){case"top":case"bottom":return r?t?a1:r1:t?r1:a1;case"left":case"right":return t?Lz:Uz;default:return[]}}function Bz(e,t,r,i){const o=Ns(e);let s=Pz(ra(e),r==="start",i);return o&&(s=s.map(c=>c+"-"+o),t&&(s=s.concat(s.map(hv)))),s}function $d(e){return e.replace(/left|right|bottom|top/g,t=>Az[t])}function $z(e){return{top:0,right:0,bottom:0,left:0,...e}}function yy(e){return typeof e!="number"?$z(e):{top:e,right:e,bottom:e,left:e}}function _s(e){const{x:t,y:r,width:i,height:o}=e;return{width:i,height:o,top:r,left:t,right:t+i,bottom:r+o,x:t,y:r}}function i1(e,t,r){let{reference:i,floating:o}=e;const s=Kr(t),c=vy(t),f=gy(c),d=ra(t),h=s==="y",v=i.x+i.width/2-o.width/2,g=i.y+i.height/2-o.height/2,b=i[f]/2-o[f]/2;let S;switch(d){case"top":S={x:v,y:i.y-o.height};break;case"bottom":S={x:v,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y:g};break;case"left":S={x:i.x-o.width,y:g};break;default:S={x:i.x,y:i.y}}switch(Ns(t)){case"start":S[c]-=b*(r&&h?-1:1);break;case"end":S[c]+=b*(r&&h?-1:1);break}return S}const Hz=async(e,t,r)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:c}=r,f=s.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:g}=i1(h,i,d),b=i,S={},C=0;for(let E=0;E<f.length;E++){const{name:R,fn:T}=f[E],{x:_,y:M,data:A,reset:D}=await T({x:v,y:g,initialPlacement:i,placement:b,strategy:o,middlewareData:S,rects:h,platform:c,elements:{reference:e,floating:t}});v=_??v,g=M??g,S={...S,[R]:{...S[R],...A}},D&&C<=50&&(C++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(h=D.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):D.rects),{x:v,y:g}=i1(h,b,d)),E=-1)}return{x:v,y:g,placement:b,strategy:o,middlewareData:S}};async function by(e,t){var r;t===void 0&&(t={});const{x:i,y:o,platform:s,rects:c,elements:f,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:v="viewport",elementContext:g="floating",altBoundary:b=!1,padding:S=0}=ii(t,e),C=yy(S),R=f[b?g==="floating"?"reference":"floating":g],T=_s(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(R)))==null||r?R:R.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(f.floating)),boundary:h,rootBoundary:v,strategy:d})),_=g==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f.floating)),A=await(s.isElement==null?void 0:s.isElement(M))?await(s.getScale==null?void 0:s.getScale(M))||{x:1,y:1}:{x:1,y:1},D=_s(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:_,offsetParent:M,strategy:d}):_);return{top:(T.top-D.top+C.top)/A.y,bottom:(D.bottom-T.bottom+C.bottom)/A.y,left:(T.left-D.left+C.left)/A.x,right:(D.right-T.right+C.right)/A.x}}const Iz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:o,rects:s,platform:c,elements:f,middlewareData:d}=t,{element:h,padding:v=0}=ii(e,t)||{};if(h==null)return{};const g=yy(v),b={x:r,y:i},S=vy(o),C=gy(S),E=await c.getDimensions(h),R=S==="y",T=R?"top":"left",_=R?"bottom":"right",M=R?"clientHeight":"clientWidth",A=s.reference[C]+s.reference[S]-b[S]-s.floating[C],D=b[S]-s.reference[S],N=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let O=N?N[M]:0;(!O||!await(c.isElement==null?void 0:c.isElement(N)))&&(O=f.floating[M]||s.floating[C]);const z=A/2-D/2,F=O/2-E[C]/2-1,I=na(g[T],F),G=na(g[_],F),J=I,ce=O-E[C]-G,ie=O/2-E[C]/2+z,pe=dv(J,ie,ce),B=!d.arrow&&Ns(o)!=null&&ie!==pe&&s.reference[C]/2-(ie<J?I:G)-E[C]/2<0,X=B?ie<J?ie-J:ie-ce:0;return{[S]:b[S]+X,data:{[S]:pe,centerOffset:ie-pe-X,...B&&{alignmentOffset:X}},reset:B}}}),Fz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:o,middlewareData:s,rects:c,initialPlacement:f,platform:d,elements:h}=t,{mainAxis:v=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...R}=ii(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const T=ra(o),_=Kr(f),M=ra(f)===f,A=await(d.isRTL==null?void 0:d.isRTL(h.floating)),D=b||(M||!E?[$d(f)]:kz(f)),N=C!=="none";!b&&N&&D.push(...Bz(f,E,C,A));const O=[f,...D],z=await by(t,R),F=[];let I=((i=s.flip)==null?void 0:i.overflows)||[];if(v&&F.push(z[T]),g){const ie=zz(o,c,A);F.push(z[ie[0]],z[ie[1]])}if(I=[...I,{placement:o,overflows:F}],!F.every(ie=>ie<=0)){var G,J;const ie=(((G=s.flip)==null?void 0:G.index)||0)+1,pe=O[ie];if(pe&&(!(g==="alignment"?_!==Kr(pe):!1)||I.every(te=>Kr(te.placement)===_?te.overflows[0]>0:!0)))return{data:{index:ie,overflows:I},reset:{placement:pe}};let B=(J=I.filter(X=>X.overflows[0]<=0).sort((X,te)=>X.overflows[1]-te.overflows[1])[0])==null?void 0:J.placement;if(!B)switch(S){case"bestFit":{var ce;const X=(ce=I.filter(te=>{if(N){const he=Kr(te.placement);return he===_||he==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(he=>he>0).reduce((he,me)=>he+me,0)]).sort((te,he)=>te[1]-he[1])[0])==null?void 0:ce[0];X&&(B=X);break}case"initialPlacement":B=f;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function dR(e){const t=na(...e.map(s=>s.left)),r=na(...e.map(s=>s.top)),i=Cn(...e.map(s=>s.right)),o=Cn(...e.map(s=>s.bottom));return{x:t,y:r,width:i-t,height:o-r}}function Vz(e){const t=e.slice().sort((o,s)=>o.y-s.y),r=[];let i=null;for(let o=0;o<t.length;o++){const s=t[o];!i||s.y-i.y>i.height/2?r.push([s]):r[r.length-1].push(s),i=s}return r.map(o=>_s(dR(o)))}const qz=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:i,rects:o,platform:s,strategy:c}=t,{padding:f=2,x:d,y:h}=ii(e,t),v=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(i.reference))||[]),g=Vz(v),b=_s(dR(v)),S=yy(f);function C(){if(g.length===2&&g[0].left>g[1].right&&d!=null&&h!=null)return g.find(R=>d>R.left-S.left&&d<R.right+S.right&&h>R.top-S.top&&h<R.bottom+S.bottom)||b;if(g.length>=2){if(Kr(r)==="y"){const I=g[0],G=g[g.length-1],J=ra(r)==="top",ce=I.top,ie=G.bottom,pe=J?I.left:G.left,B=J?I.right:G.right,X=B-pe,te=ie-ce;return{top:ce,bottom:ie,left:pe,right:B,width:X,height:te,x:pe,y:ce}}const R=ra(r)==="left",T=Cn(...g.map(I=>I.right)),_=na(...g.map(I=>I.left)),M=g.filter(I=>R?I.left===_:I.right===T),A=M[0].top,D=M[M.length-1].bottom,N=_,O=T,z=O-N,F=D-A;return{top:A,bottom:D,left:N,right:O,width:z,height:F,x:N,y:A}}return b}const E=await s.getElementRects({reference:{getBoundingClientRect:C},floating:i.floating,strategy:c});return o.reference.x!==E.reference.x||o.reference.y!==E.reference.y||o.reference.width!==E.reference.width||o.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}},hR=new Set(["left","top"]);async function Yz(e,t){const{placement:r,platform:i,elements:o}=e,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=ra(r),f=Ns(r),d=Kr(r)==="y",h=hR.has(c)?-1:1,v=s&&d?-1:1,g=ii(t,e);let{mainAxis:b,crossAxis:S,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),d?{x:S*v,y:b*h}:{x:b*h,y:S*v}}const Gz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:o,y:s,placement:c,middlewareData:f}=t,d=await Yz(t,e);return c===((r=f.offset)==null?void 0:r.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:o+d.x,y:s+d.y,data:{...d,placement:c}}}}},Xz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:o}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:f={fn:R=>{let{x:T,y:_}=R;return{x:T,y:_}}},...d}=ii(e,t),h={x:r,y:i},v=await by(t,d),g=Kr(ra(o)),b=py(g);let S=h[b],C=h[g];if(s){const R=b==="y"?"top":"left",T=b==="y"?"bottom":"right",_=S+v[R],M=S-v[T];S=dv(_,S,M)}if(c){const R=g==="y"?"top":"left",T=g==="y"?"bottom":"right",_=C+v[R],M=C-v[T];C=dv(_,C,M)}const E=f.fn({...t,[b]:S,[g]:C});return{...E,data:{x:E.x-r,y:E.y-i,enabled:{[b]:s,[g]:c}}}}}},Qz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:o,rects:s,middlewareData:c}=t,{offset:f=0,mainAxis:d=!0,crossAxis:h=!0}=ii(e,t),v={x:r,y:i},g=Kr(o),b=py(g);let S=v[b],C=v[g];const E=ii(f,t),R=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const M=b==="y"?"height":"width",A=s.reference[b]-s.floating[M]+R.mainAxis,D=s.reference[b]+s.reference[M]-R.mainAxis;S<A?S=A:S>D&&(S=D)}if(h){var T,_;const M=b==="y"?"width":"height",A=hR.has(ra(o)),D=s.reference[g]-s.floating[M]+(A&&((T=c.offset)==null?void 0:T[g])||0)+(A?0:R.crossAxis),N=s.reference[g]+s.reference[M]+(A?0:((_=c.offset)==null?void 0:_[g])||0)-(A?R.crossAxis:0);C<D?C=D:C>N&&(C=N)}return{[b]:S,[g]:C}}}},Wz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:o,rects:s,platform:c,elements:f}=t,{apply:d=()=>{},...h}=ii(e,t),v=await by(t,h),g=ra(o),b=Ns(o),S=Kr(o)==="y",{width:C,height:E}=s.floating;let R,T;g==="top"||g==="bottom"?(R=g,T=b===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(T=g,R=b==="end"?"top":"bottom");const _=E-v.top-v.bottom,M=C-v.left-v.right,A=na(E-v[R],_),D=na(C-v[T],M),N=!t.middlewareData.shift;let O=A,z=D;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=M),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(O=_),N&&!b){const I=Cn(v.left,0),G=Cn(v.right,0),J=Cn(v.top,0),ce=Cn(v.bottom,0);S?z=C-2*(I!==0||G!==0?I+G:Cn(v.left,v.right)):O=E-2*(J!==0||ce!==0?J+ce:Cn(v.top,v.bottom))}await d({...t,availableWidth:z,availableHeight:O});const F=await c.getDimensions(f.floating);return C!==F.width||E!==F.height?{reset:{rects:!0}}:{}}}};function mR(e){const t=ta(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Ra(e),s=o?e.offsetWidth:r,c=o?e.offsetHeight:i,f=Bd(r)!==s||Bd(i)!==c;return f&&(r=s,i=c),{width:r,height:i,$:f}}function Sy(e){return Pn(e)?e:e.contextElement}function cs(e){const t=Sy(e);if(!Ra(t))return xa(1);const r=t.getBoundingClientRect(),{width:i,height:o,$:s}=mR(t);let c=(s?Bd(r.width):r.width)/i,f=(s?Bd(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const Kz=xa(0);function pR(e){const t=dr(e);return!my()||!t.visualViewport?Kz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==dr(e)?!1:t}function tl(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),s=Sy(e);let c=xa(1);t&&(i?Pn(i)&&(c=cs(i)):c=cs(e));const f=Zz(s,r,i)?pR(s):xa(0);let d=(o.left+f.x)/c.x,h=(o.top+f.y)/c.y,v=o.width/c.x,g=o.height/c.y;if(s){const b=dr(s),S=i&&Pn(i)?dr(i):i;let C=b,E=fv(C);for(;E&&i&&S!==C;){const R=cs(E),T=E.getBoundingClientRect(),_=ta(E),M=T.left+(E.clientLeft+parseFloat(_.paddingLeft))*R.x,A=T.top+(E.clientTop+parseFloat(_.paddingTop))*R.y;d*=R.x,h*=R.y,v*=R.x,g*=R.y,d+=M,h+=A,C=dr(E),E=fv(C)}}return _s({width:v,height:g,x:d,y:h})}function yh(e,t){const r=vh(e).scrollLeft;return t?t.left+r:tl(Oa(e)).left+r}function gR(e,t){const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-yh(e,r),o=r.top+t.scrollTop;return{x:i,y:o}}function Jz(e){let{elements:t,rect:r,offsetParent:i,strategy:o}=e;const s=o==="fixed",c=Oa(i),f=t?gh(t.floating):!1;if(i===c||f&&s)return r;let d={scrollLeft:0,scrollTop:0},h=xa(1);const v=xa(0),g=Ra(i);if((g||!g&&!s)&&((Ds(i)!=="body"||Rc(c))&&(d=vh(i)),Ra(i))){const S=tl(i);h=cs(i),v.x=S.x+i.clientLeft,v.y=S.y+i.clientTop}const b=c&&!g&&!s?gR(c,d):xa(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+v.x+b.x,y:r.y*h.y-d.scrollTop*h.y+v.y+b.y}}function ek(e){return Array.from(e.getClientRects())}function tk(e){const t=Oa(e),r=vh(e),i=e.ownerDocument.body,o=Cn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=Cn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let c=-r.scrollLeft+yh(e);const f=-r.scrollTop;return ta(i).direction==="rtl"&&(c+=Cn(t.clientWidth,i.clientWidth)-o),{width:o,height:s,x:c,y:f}}const o1=25;function nk(e,t){const r=dr(e),i=Oa(e),o=r.visualViewport;let s=i.clientWidth,c=i.clientHeight,f=0,d=0;if(o){s=o.width,c=o.height;const v=my();(!v||v&&t==="fixed")&&(f=o.offsetLeft,d=o.offsetTop)}const h=yh(i);if(h<=0){const v=i.ownerDocument,g=v.body,b=getComputedStyle(g),S=v.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(i.clientWidth-g.clientWidth-S);C<=o1&&(s-=C)}else h<=o1&&(s+=h);return{width:s,height:c,x:f,y:d}}const rk=new Set(["absolute","fixed"]);function ak(e,t){const r=tl(e,!0,t==="fixed"),i=r.top+e.clientTop,o=r.left+e.clientLeft,s=Ra(e)?cs(e):xa(1),c=e.clientWidth*s.x,f=e.clientHeight*s.y,d=o*s.x,h=i*s.y;return{width:c,height:f,x:d,y:h}}function l1(e,t,r){let i;if(t==="viewport")i=nk(e,r);else if(t==="document")i=tk(Oa(e));else if(Pn(t))i=ak(t,r);else{const o=pR(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return _s(i)}function vR(e,t){const r=co(e);return r===t||!Pn(r)||Ts(r)?!1:ta(r).position==="fixed"||vR(r,t)}function ik(e,t){const r=t.get(e);if(r)return r;let i=sc(e,[],!1).filter(f=>Pn(f)&&Ds(f)!=="body"),o=null;const s=ta(e).position==="fixed";let c=s?co(e):e;for(;Pn(c)&&!Ts(c);){const f=ta(c),d=hy(c);!d&&f.position==="fixed"&&(o=null),(s?!d&&!o:!d&&f.position==="static"&&!!o&&rk.has(o.position)||Rc(c)&&!d&&vR(e,c))?i=i.filter(v=>v!==c):o=f,c=co(c)}return t.set(e,i),i}function ok(e){let{element:t,boundary:r,rootBoundary:i,strategy:o}=e;const c=[...r==="clippingAncestors"?gh(t)?[]:ik(t,this._c):[].concat(r),i],f=c[0],d=c.reduce((h,v)=>{const g=l1(t,v,o);return h.top=Cn(g.top,h.top),h.right=na(g.right,h.right),h.bottom=na(g.bottom,h.bottom),h.left=Cn(g.left,h.left),h},l1(t,f,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function lk(e){const{width:t,height:r}=mR(e);return{width:t,height:r}}function sk(e,t,r){const i=Ra(t),o=Oa(t),s=r==="fixed",c=tl(e,!0,s,t);let f={scrollLeft:0,scrollTop:0};const d=xa(0);function h(){d.x=yh(o)}if(i||!i&&!s)if((Ds(t)!=="body"||Rc(o))&&(f=vh(t)),i){const S=tl(t,!0,s,t);d.x=S.x+t.clientLeft,d.y=S.y+t.clientTop}else o&&h();s&&!i&&o&&h();const v=o&&!i&&!s?gR(o,f):xa(0),g=c.left+f.scrollLeft-d.x-v.x,b=c.top+f.scrollTop-d.y-v.y;return{x:g,y:b,width:c.width,height:c.height}}function Og(e){return ta(e).position==="static"}function s1(e,t){if(!Ra(e)||ta(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Oa(e)===r&&(r=r.ownerDocument.body),r}function yR(e,t){const r=dr(e);if(gh(e))return r;if(!Ra(e)){let o=co(e);for(;o&&!Ts(o);){if(Pn(o)&&!Og(o))return o;o=co(o)}return r}let i=s1(e,t);for(;i&&Cz(i)&&Og(i);)i=s1(i,t);return i&&Ts(i)&&Og(i)&&!hy(i)?r:i||Mz(e)||r}const uk=async function(e){const t=this.getOffsetParent||yR,r=this.getDimensions,i=await r(e.floating);return{reference:sk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function ck(e){return ta(e).direction==="rtl"}const fk={convertOffsetParentRelativeRectToViewportRelativeRect:Jz,getDocumentElement:Oa,getClippingRect:ok,getOffsetParent:yR,getElementRects:uk,getClientRects:ek,getDimensions:lk,getScale:cs,isElement:Pn,isRTL:ck};function bR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dk(e,t){let r=null,i;const o=Oa(e);function s(){var f;clearTimeout(i),(f=r)==null||f.disconnect(),r=null}function c(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),s();const h=e.getBoundingClientRect(),{left:v,top:g,width:b,height:S}=h;if(f||t(),!b||!S)return;const C=ud(g),E=ud(o.clientWidth-(v+b)),R=ud(o.clientHeight-(g+S)),T=ud(v),M={rootMargin:-C+"px "+-E+"px "+-R+"px "+-T+"px",threshold:Cn(0,na(1,d))||1};let A=!0;function D(N){const O=N[0].intersectionRatio;if(O!==d){if(!A)return c();O?c(!1,O):i=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!bR(h,e.getBoundingClientRect())&&c(),A=!1}try{r=new IntersectionObserver(D,{...M,root:o.ownerDocument})}catch{r=new IntersectionObserver(D,M)}r.observe(e)}return c(!0),s}function hk(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=Sy(e),v=o||s?[...h?sc(h):[],...sc(t)]:[];v.forEach(T=>{o&&T.addEventListener("scroll",r,{passive:!0}),s&&T.addEventListener("resize",r)});const g=h&&f?dk(h,r):null;let b=-1,S=null;c&&(S=new ResizeObserver(T=>{let[_]=T;_&&_.target===h&&S&&(S.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var M;(M=S)==null||M.observe(t)})),r()}),h&&!d&&S.observe(h),S.observe(t));let C,E=d?tl(e):null;d&&R();function R(){const T=tl(e);E&&!bR(E,T)&&r(),E=T,C=requestAnimationFrame(R)}return r(),()=>{var T;v.forEach(_=>{o&&_.removeEventListener("scroll",r),s&&_.removeEventListener("resize",r)}),g==null||g(),(T=S)==null||T.disconnect(),S=null,d&&cancelAnimationFrame(C)}}const mk=Gz,pk=Xz,gk=Fz,vk=Wz,u1=Iz,yk=qz,bk=Qz,Sk=(e,t,r)=>{const i=new Map,o={platform:fk,...r},s={...o.platform,_c:i};return Hz(e,t,{...o,platform:s})};var wk=typeof document<"u",xk=function(){},Rd=wk?y.useLayoutEffect:xk;function Hd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!Hd(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){const s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!Hd(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function SR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c1(e,t){const r=SR(e);return Math.round(t*r)/r}function Mg(e){const t=y.useRef(e);return Rd(()=>{t.current=e}),t}function Ek(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:s,floating:c}={},transform:f=!0,whileElementsMounted:d,open:h}=e,[v,g]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[b,S]=y.useState(i);Hd(b,i)||S(i);const[C,E]=y.useState(null),[R,T]=y.useState(null),_=y.useCallback(te=>{te!==N.current&&(N.current=te,E(te))},[]),M=y.useCallback(te=>{te!==O.current&&(O.current=te,T(te))},[]),A=s||C,D=c||R,N=y.useRef(null),O=y.useRef(null),z=y.useRef(v),F=d!=null,I=Mg(d),G=Mg(o),J=Mg(h),ce=y.useCallback(()=>{if(!N.current||!O.current)return;const te={placement:t,strategy:r,middleware:b};G.current&&(te.platform=G.current),Sk(N.current,O.current,te).then(he=>{const me={...he,isPositioned:J.current!==!1};ie.current&&!Hd(z.current,me)&&(z.current=me,Sa.flushSync(()=>{g(me)}))})},[b,t,r,G,J]);Rd(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,g(te=>({...te,isPositioned:!1})))},[h]);const ie=y.useRef(!1);Rd(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Rd(()=>{if(A&&(N.current=A),D&&(O.current=D),A&&D){if(I.current)return I.current(A,D,ce);ce()}},[A,D,ce,I,F]);const pe=y.useMemo(()=>({reference:N,floating:O,setReference:_,setFloating:M}),[_,M]),B=y.useMemo(()=>({reference:A,floating:D}),[A,D]),X=y.useMemo(()=>{const te={position:r,left:0,top:0};if(!B.floating)return te;const he=c1(B.floating,v.x),me=c1(B.floating,v.y);return f?{...te,transform:"translate("+he+"px, "+me+"px)",...SR(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:he,top:me}},[r,f,B.floating,v.x,v.y]);return y.useMemo(()=>({...v,update:ce,refs:pe,elements:B,floatingStyles:X}),[v,ce,pe,B,X])}const Ck=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:o}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?u1({element:i.current,padding:o}).fn(r):{}:i?u1({element:i,padding:o}).fn(r):{}}}},Rk=(e,t)=>({...mk(e),options:[e,t]}),Tk=(e,t)=>({...pk(e),options:[e,t]}),f1=(e,t)=>({...bk(e),options:[e,t]}),d1=(e,t)=>({...gk(e),options:[e,t]}),_k=(e,t)=>({...vk(e),options:[e,t]}),h1=(e,t)=>({...yk(e),options:[e,t]}),Ok=(e,t)=>({...Ck(e),options:[e,t]});function Mk(e){return y.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})},e)}const wR={...aC},jk=wR.useInsertionEffect,Ak=jk||(e=>e());function Dk(e){const t=y.useRef(()=>{});return Ak(()=>{t.current=e}),y.useCallback(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.current==null?void 0:t.current(...i)},[])}var mv=typeof document<"u"?y.useLayoutEffect:y.useEffect;let m1=!1,Nk=0;const p1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Nk++;function zk(){const[e,t]=y.useState(()=>m1?p1():void 0);return mv(()=>{e==null&&t(p1())},[]),y.useEffect(()=>{m1=!0},[]),e}const kk=wR.useId,Lk=kk||zk;function Uk(){const e=new Map;return{emit(t,r){var i;(i=e.get(t))==null||i.forEach(o=>o(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(o=>o!==r))||[])}}}const Pk=y.createContext(null),Bk=y.createContext(null),$k=()=>{var e;return((e=y.useContext(Pk))==null?void 0:e.id)||null},Hk=()=>y.useContext(Bk);function Ik(e){const{open:t=!1,onOpenChange:r,elements:i}=e,o=Lk(),s=y.useRef({}),[c]=y.useState(()=>Uk()),f=$k()!=null,[d,h]=y.useState(i.reference),v=Dk((S,C,E)=>{s.current.openEvent=S?C:void 0,c.emit("openchange",{open:S,event:C,reason:E,nested:f}),r==null||r(S,C,E)}),g=y.useMemo(()=>({setPositionReference:h}),[]),b=y.useMemo(()=>({reference:d||i.reference||null,floating:i.floating||null,domReference:i.reference}),[d,i.reference,i.floating]);return y.useMemo(()=>({dataRef:s,open:t,onOpenChange:v,elements:b,events:c,floatingId:o,refs:g}),[t,v,b,c,o,g])}function Fk(e){e===void 0&&(e={});const{nodeId:t}=e,r=Ik({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||r,o=i.elements,[s,c]=y.useState(null),[f,d]=y.useState(null),v=(o==null?void 0:o.domReference)||s,g=y.useRef(null),b=Hk();mv(()=>{v&&(g.current=v)},[v]);const S=Ek({...e,elements:{...o,...f&&{reference:f}}}),C=y.useCallback(M=>{const A=Pn(M)?{getBoundingClientRect:()=>M.getBoundingClientRect(),contextElement:M}:M;d(A),S.refs.setReference(A)},[S.refs]),E=y.useCallback(M=>{(Pn(M)||M===null)&&(g.current=M,c(M)),(Pn(S.refs.reference.current)||S.refs.reference.current===null||M!==null&&!Pn(M))&&S.refs.setReference(M)},[S.refs]),R=y.useMemo(()=>({...S.refs,setReference:E,setPositionReference:C,domReference:g}),[S.refs,E,C]),T=y.useMemo(()=>({...S.elements,domReference:v}),[S.elements,v]),_=y.useMemo(()=>({...S,...i,refs:R,elements:T,nodeId:t}),[S,R,T,t,i]);return mv(()=>{i.dataRef.current.floatingContext=_;const M=b==null?void 0:b.nodesRef.current.find(A=>A.id===t);M&&(M.context=_)}),y.useMemo(()=>({...S,context:_,refs:R,elements:T}),[S,R,T,_])}const[Vk,Lr]=si("ScrollArea.Root component was not found in tree");function Os(e,t){const r=Po(t);js(()=>{let i=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(i),o.unobserve(e)}}},[e,r])}const qk=y.forwardRef((e,t)=>{const{style:r,...i}=e,o=Lr(),[s,c]=y.useState(0),[f,d]=y.useState(0),h=!!(s&&f);return Os(o.scrollbarX,()=>{var g;const v=((g=o.scrollbarX)==null?void 0:g.offsetHeight)||0;o.onCornerHeightChange(v),d(v)}),Os(o.scrollbarY,()=>{var g;const v=((g=o.scrollbarY)==null?void 0:g.offsetWidth)||0;o.onCornerWidthChange(v),c(v)}),h?x.jsx("div",{...i,ref:t,style:{...r,width:s,height:f}}):null}),Yk=y.forwardRef((e,t)=>{const r=Lr(),i=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&i?x.jsx(qk,{...e,ref:t}):null}),Gk={scrollHideDelay:1e3,type:"hover"},xR=y.forwardRef((e,t)=>{const r=be("ScrollAreaRoot",Gk,e),{type:i,scrollHideDelay:o,scrollbars:s,...c}=r,[f,d]=y.useState(null),[h,v]=y.useState(null),[g,b]=y.useState(null),[S,C]=y.useState(null),[E,R]=y.useState(null),[T,_]=y.useState(0),[M,A]=y.useState(0),[D,N]=y.useState(!1),[O,z]=y.useState(!1),F=hr(t,I=>d(I));return x.jsx(Vk,{value:{type:i,scrollHideDelay:o,scrollArea:f,viewport:h,onViewportChange:v,content:g,onContentChange:b,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:D,onScrollbarXEnabledChange:N,scrollbarY:E,onScrollbarYChange:R,scrollbarYEnabled:O,onScrollbarYEnabledChange:z,onCornerWidthChange:_,onCornerHeightChange:A},children:x.jsx(ye,{...c,ref:F,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${T}px`,"--sa-corner-height":s!=="xy"?"0px":`${M}px`}})})});xR.displayName="@mantine/core/ScrollAreaRoot";function ER(e,t){const r=e/t;return Number.isNaN(r)?0:r}function bh(e){const t=ER(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-r)*t;return Math.max(i,18)}function CR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}function Xk(e,[t,r]){return Math.min(r,Math.max(t,e))}function g1(e,t,r="ltr"){const i=bh(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,c=t.content-t.viewport,f=s-i,d=r==="ltr"?[0,c]:[c*-1,0],h=Xk(e,d);return CR([0,c],[0,f])(h)}function Qk(e,t,r,i="ltr"){const o=bh(r),s=o/2,c=t||s,f=o-c,d=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-f,v=r.content-r.viewport,g=i==="ltr"?[0,v]:[v*-1,0];return CR([d,h],g)(e)}function RR(e,t){return e>0&&e<t}function oo(e){return e?parseInt(e,10):0}function Jo(e,t,{checkForDefaultPrevented:r=!0}={}){return i=>{e==null||e(i),(r===!1||!i.defaultPrevented)&&(t==null||t(i))}}const[Wk,TR]=si("ScrollAreaScrollbar was not found in tree"),_R=y.forwardRef((e,t)=>{const{sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:c,onThumbPositionChange:f,onDragScroll:d,onWheelScroll:h,onResize:v,...g}=e,b=Lr(),[S,C]=y.useState(null),E=hr(t,z=>C(z)),R=y.useRef(null),T=y.useRef(""),{viewport:_}=b,M=r.content-r.viewport,A=Po(h),D=Po(f),N=sh(v,10),O=z=>{if(R.current){const F=z.clientX-R.current.left,I=z.clientY-R.current.top;d({x:F,y:I})}};return y.useEffect(()=>{const z=F=>{const I=F.target;(S==null?void 0:S.contains(I))&&A(F,M)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[_,S,M,A]),y.useEffect(D,[r,D]),Os(S,N),Os(b.content,N),x.jsx(Wk,{value:{scrollbar:S,hasThumb:i,onThumbChange:Po(o),onThumbPointerUp:Po(s),onThumbPositionChange:D,onThumbPointerDown:Po(c)},children:x.jsx("div",{...g,ref:E,"data-mantine-scrollbar":!0,style:{position:"absolute",...g.style},onPointerDown:Jo(e.onPointerDown,z=>{z.preventDefault(),z.button===0&&(z.target.setPointerCapture(z.pointerId),R.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",O(z))}),onPointerMove:Jo(e.onPointerMove,O),onPointerUp:Jo(e.onPointerUp,z=>{const F=z.target;F.hasPointerCapture(z.pointerId)&&(z.preventDefault(),F.releasePointerCapture(z.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=T.current,R.current=null}})})}),OR=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,style:o,...s}=e,c=Lr(),[f,d]=y.useState(),h=y.useRef(null),v=hr(t,h,c.onScrollbarXChange);return y.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),x.jsx(_R,{"data-orientation":"horizontal",...s,ref:v,sizes:r,style:{...o,"--sa-thumb-width":`${bh(r)}px`},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,b)=>{if(c.viewport){const S=c.viewport.scrollLeft+g.deltaX;e.onWheelScroll(S),RR(S,b)&&g.preventDefault()}},onResize:()=>{h.current&&c.viewport&&f&&i({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:oo(f.paddingLeft),paddingEnd:oo(f.paddingRight)}})}})});OR.displayName="@mantine/core/ScrollAreaScrollbarX";const MR=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,style:o,...s}=e,c=Lr(),[f,d]=y.useState(),h=y.useRef(null),v=hr(t,h,c.onScrollbarYChange);return y.useEffect(()=>{h.current&&d(window.getComputedStyle(h.current))},[]),x.jsx(_R,{...s,"data-orientation":"vertical",ref:v,sizes:r,style:{"--sa-thumb-height":`${bh(r)}px`,...o},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,b)=>{if(c.viewport){const S=c.viewport.scrollTop+g.deltaY;e.onWheelScroll(S),RR(S,b)&&g.preventDefault()}},onResize:()=>{h.current&&c.viewport&&f&&i({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:oo(f.paddingTop),paddingEnd:oo(f.paddingBottom)}})}})});MR.displayName="@mantine/core/ScrollAreaScrollbarY";const Sh=y.forwardRef((e,t)=>{const{orientation:r="vertical",...i}=e,{dir:o}=mh(),s=Lr(),c=y.useRef(null),f=y.useRef(0),[d,h]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),v=ER(d.viewport,d.content),g={...i,sizes:d,onSizesChange:h,hasThumb:v>0&&v<1,onThumbChange:S=>{c.current=S},onThumbPointerUp:()=>{f.current=0},onThumbPointerDown:S=>{f.current=S}},b=(S,C)=>Qk(S,f.current,d,C);return r==="horizontal"?x.jsx(OR,{...g,ref:t,onThumbPositionChange:()=>{if(s.viewport&&c.current){const S=s.viewport.scrollLeft,C=g1(S,d,o);c.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:S=>{s.viewport&&(s.viewport.scrollLeft=S)},onDragScroll:S=>{s.viewport&&(s.viewport.scrollLeft=b(S,o))}}):r==="vertical"?x.jsx(MR,{...g,ref:t,onThumbPositionChange:()=>{if(s.viewport&&c.current){const S=s.viewport.scrollTop,C=g1(S,d);d.scrollbar.size===0?c.current.style.setProperty("--thumb-opacity","0"):c.current.style.setProperty("--thumb-opacity","1"),c.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:S=>{s.viewport&&(s.viewport.scrollTop=S)},onDragScroll:S=>{s.viewport&&(s.viewport.scrollTop=b(S))}}):null});Sh.displayName="@mantine/core/ScrollAreaScrollbarVisible";const wy=y.forwardRef((e,t)=>{const r=Lr(),{forceMount:i,...o}=e,[s,c]=y.useState(!1),f=e.orientation==="horizontal",d=sh(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,v=r.viewport.offsetHeight<r.viewport.scrollHeight;c(f?h:v)}},10);return Os(r.viewport,d),Os(r.content,d),i||s?x.jsx(Sh,{"data-state":s?"visible":"hidden",...o,ref:t}):null});wy.displayName="@mantine/core/ScrollAreaScrollbarAuto";const jR=y.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=Lr(),[s,c]=y.useState(!1);return y.useEffect(()=>{const{scrollArea:f}=o;let d=0;if(f){const h=()=>{window.clearTimeout(d),c(!0)},v=()=>{d=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return f.addEventListener("pointerenter",h),f.addEventListener("pointerleave",v),()=>{window.clearTimeout(d),f.removeEventListener("pointerenter",h),f.removeEventListener("pointerleave",v)}}},[o.scrollArea,o.scrollHideDelay]),r||s?x.jsx(wy,{"data-state":s?"visible":"hidden",...i,ref:t}):null});jR.displayName="@mantine/core/ScrollAreaScrollbarHover";const Kk=y.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=Lr(),s=e.orientation==="horizontal",[c,f]=y.useState("hidden"),d=sh(()=>f("idle"),100);return y.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>f("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,o.scrollHideDelay]),y.useEffect(()=>{const{viewport:h}=o,v=s?"scrollLeft":"scrollTop";if(h){let g=h[v];const b=()=>{const S=h[v];g!==S&&(f("scrolling"),d()),g=S};return h.addEventListener("scroll",b),()=>h.removeEventListener("scroll",b)}},[o.viewport,s,d]),r||c!=="hidden"?x.jsx(Sh,{"data-state":c==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Jo(e.onPointerEnter,()=>f("interacting")),onPointerLeave:Jo(e.onPointerLeave,()=>f("idle"))}):null}),pv=y.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=Lr(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:c}=o,f=e.orientation==="horizontal";return y.useEffect(()=>(f?s(!0):c(!0),()=>{f?s(!1):c(!1)}),[f,s,c]),o.type==="hover"?x.jsx(jR,{...i,ref:t,forceMount:r}):o.type==="scroll"?x.jsx(Kk,{...i,ref:t,forceMount:r}):o.type==="auto"?x.jsx(wy,{...i,ref:t,forceMount:r}):o.type==="always"?x.jsx(Sh,{...i,ref:t}):null});pv.displayName="@mantine/core/ScrollAreaScrollbar";function Zk(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},i=0;return(function o(){const s={left:e.scrollLeft,top:e.scrollTop},c=r.left!==s.left,f=r.top!==s.top;(c||f)&&t(),r=s,i=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(i)}const AR=y.forwardRef((e,t)=>{const{style:r,...i}=e,o=Lr(),s=TR(),{onThumbPositionChange:c}=s,f=hr(t,v=>s.onThumbChange(v)),d=y.useRef(void 0),h=sh(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const{viewport:v}=o;if(v){const g=()=>{if(h(),!d.current){const b=Zk(v,c);d.current=b,c()}};return c(),v.addEventListener("scroll",g),()=>v.removeEventListener("scroll",g)}},[o.viewport,h,c]),x.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...i,ref:f,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:Jo(e.onPointerDownCapture,v=>{const b=v.target.getBoundingClientRect(),S=v.clientX-b.left,C=v.clientY-b.top;s.onThumbPointerDown({x:S,y:C})}),onPointerUp:Jo(e.onPointerUp,s.onThumbPointerUp)})});AR.displayName="@mantine/core/ScrollAreaThumb";const gv=y.forwardRef((e,t)=>{const{forceMount:r,...i}=e,o=TR();return r||o.hasThumb?x.jsx(AR,{ref:t,...i}):null});gv.displayName="@mantine/core/ScrollAreaThumb";const DR=y.forwardRef(({children:e,style:t,...r},i)=>{const o=Lr(),s=hr(i,o.onViewportChange);return x.jsx(ye,{...r,ref:s,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:x.jsx("div",{style:{minWidth:"100%"},ref:o.onContentChange,children:e})})});DR.displayName="@mantine/core/ScrollAreaViewport";var xy={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const NR={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Jk=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":ne(t),"--scrollarea-over-scroll-behavior":r}}),zs=ze((e,t)=>{const r=be("ScrollArea",NR,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,scrollbarSize:d,vars:h,type:v,scrollHideDelay:g,viewportProps:b,viewportRef:S,onScrollPositionChange:C,children:E,offsetScrollbars:R,scrollbars:T,onBottomReached:_,onTopReached:M,overscrollBehavior:A,...D}=r,[N,O]=y.useState(!1),[z,F]=y.useState(!1),[I,G]=y.useState(!1),J=Pe({name:"ScrollArea",props:r,classes:xy,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:h,varsResolver:Jk}),ce=y.useRef(null),ie=Mk([S,ce]);return y.useEffect(()=>{if(!ce.current||R!=="present")return;const pe=ce.current,B=new ResizeObserver(()=>{const{scrollHeight:X,clientHeight:te,scrollWidth:he,clientWidth:me}=pe;F(X>te),G(he>me)});return B.observe(pe),()=>B.disconnect()},[ce,R]),x.jsxs(xR,{type:v==="never"?"always":v,scrollHideDelay:g,ref:t,scrollbars:T,...J("root"),...D,children:[x.jsx(DR,{...b,...J("viewport",{style:b==null?void 0:b.style}),ref:ie,"data-offset-scrollbars":R===!0?"xy":R||void 0,"data-scrollbars":T||void 0,"data-horizontal-hidden":R==="present"&&!I?"true":void 0,"data-vertical-hidden":R==="present"&&!z?"true":void 0,onScroll:pe=>{var he;(he=b==null?void 0:b.onScroll)==null||he.call(b,pe),C==null||C({x:pe.currentTarget.scrollLeft,y:pe.currentTarget.scrollTop});const{scrollTop:B,scrollHeight:X,clientHeight:te}=pe.currentTarget;B-(X-te)>=-.6&&(_==null||_()),B===0&&(M==null||M())},children:E}),(T==="xy"||T==="x")&&x.jsx(pv,{...J("scrollbar"),orientation:"horizontal","data-hidden":v==="never"||R==="present"&&!I?!0:void 0,forceMount:!0,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:x.jsx(gv,{...J("thumb")})}),(T==="xy"||T==="y")&&x.jsx(pv,{...J("scrollbar"),orientation:"vertical","data-hidden":v==="never"||R==="present"&&!z?!0:void 0,forceMount:!0,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:x.jsx(gv,{...J("thumb")})}),x.jsx(Yk,{...J("corner"),"data-hovered":N||void 0,"data-hidden":v==="never"||void 0})]})});zs.displayName="@mantine/core/ScrollArea";const Ey=ze((e,t)=>{const{children:r,classNames:i,styles:o,scrollbarSize:s,scrollHideDelay:c,type:f,dir:d,offsetScrollbars:h,viewportRef:v,onScrollPositionChange:g,unstyled:b,variant:S,viewportProps:C,scrollbars:E,style:R,vars:T,onBottomReached:_,onTopReached:M,...A}=be("ScrollAreaAutosize",NR,e);return x.jsx(ye,{...A,ref:t,style:[{display:"flex",overflow:"auto"},R],children:x.jsx(ye,{style:{display:"flex",flexDirection:"column",flex:1},children:x.jsx(zs,{classNames:i,styles:o,scrollHideDelay:c,scrollbarSize:s,type:f,dir:d,offsetScrollbars:h,viewportRef:v,onScrollPositionChange:g,unstyled:b,variant:S,viewportProps:C,vars:T,scrollbars:E,onBottomReached:_,onTopReached:M,children:r})})})});zs.classes=xy;Ey.displayName="@mantine/core/ScrollAreaAutosize";Ey.classes=xy;zs.Autosize=Ey;var zR={root:"m_87cf2631"};const eL={__staticSelector:"UnstyledButton"},ho=yn((e,t)=>{const r=be("UnstyledButton",eL,e),{className:i,component:o="button",__staticSelector:s,unstyled:c,classNames:f,styles:d,style:h,...v}=r,g=Pe({name:s,props:r,classes:zR,className:i,style:h,classNames:f,styles:d,unstyled:c});return x.jsx(ye,{...g("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...v})});ho.classes=zR;ho.displayName="@mantine/core/UnstyledButton";var kR={root:"m_515a97f8"};const tL={},Cy=ze((e,t)=>{const r=be("VisuallyHidden",tL,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,...h}=r,v=Pe({name:"VisuallyHidden",classes:kR,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f});return x.jsx(ye,{component:"span",ref:t,...v("root"),...h})});Cy.classes=kR;Cy.displayName="@mantine/core/VisuallyHidden";var LR={root:"m_1b7284a3"};const nL={},rL=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:_n(t),"--paper-shadow":ay(r)}}),Kn=yn((e,t)=>{const r=be("Paper",nL,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,withBorder:d,vars:h,radius:v,shadow:g,variant:b,mod:S,...C}=r,E=Pe({name:"Paper",props:r,classes:LR,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:h,varsResolver:rL});return x.jsx(ye,{ref:t,mod:[{"data-with-border":d},S],...E("root"),variant:b,...C})});Kn.classes=LR;Kn.displayName="@mantine/core/Paper";function aL(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,i]=t.split("-"),o=r==="right"?"left":"right";return i===void 0?o:`${o}-${i}`}return t}function v1(e,t,r,i){return e==="center"||i==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function y1(e,t,r,i,o){return e==="center"||i==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:r}:e==="start"?{[o==="ltr"?"left":"right"]:r}:{}}const iL={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function oL({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:o,arrowX:s,arrowY:c,dir:f}){const[d,h="center"]=e.split("-"),v={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[iL[d]]:i},g=-t/2;return d==="left"?{...v,...v1(h,c,r,o),right:g,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:d==="right"?{...v,...v1(h,c,r,o),left:g,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:d==="top"?{...v,...y1(h,s,r,o,f),bottom:g,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:d==="bottom"?{...v,...y1(h,s,r,o,f),top:g,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const UR=y.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:o,visible:s,arrowX:c,arrowY:f,style:d,...h},v)=>{const{dir:g}=mh();return s?x.jsx("div",{...h,ref:v,style:{...d,...oL({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:o,dir:g,arrowX:c,arrowY:f})}}):null});UR.displayName="@mantine/core/FloatingArrow";var PR={root:"m_9814e45f"};const lL={zIndex:ui("modal")},sL=(e,{gradient:t,color:r,backgroundOpacity:i,blur:o,radius:s,zIndex:c})=>({root:{"--overlay-bg":t||(r!==void 0||i!==void 0)&&pa(r||"#000",i??.6)||void 0,"--overlay-filter":o?`blur(${ne(o)})`:void 0,"--overlay-radius":s===void 0?void 0:_n(s),"--overlay-z-index":c==null?void 0:c.toString()}}),wh=yn((e,t)=>{const r=be("Overlay",lL,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,fixed:h,center:v,children:g,radius:b,zIndex:S,gradient:C,blur:E,color:R,backgroundOpacity:T,mod:_,...M}=r,A=Pe({name:"Overlay",props:r,classes:PR,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:sL});return x.jsx(ye,{ref:t,...A("root"),mod:[{center:v,fixed:h},_],...M,children:g})});wh.classes=PR;wh.displayName="@mantine/core/Overlay";function jg(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function uL({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||jg(r):e;if(t){const i=document.querySelector("[data-mantine-shared-portal-node]");if(i)return i;const o=jg(r);return o.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(o),o}return jg(r)}const cL={},BR=ze((e,t)=>{const{children:r,target:i,reuseTargetNode:o,...s}=be("Portal",cL,e),[c,f]=y.useState(!1),d=y.useRef(null);return js(()=>(f(!0),d.current=uL({target:i,reuseTargetNode:o,...s}),lv(t,d.current),!i&&!o&&d.current&&document.body.appendChild(d.current),()=>{!i&&!o&&d.current&&document.body.removeChild(d.current)}),[i]),!c||!d.current?null:Sa.createPortal(x.jsx(x.Fragment,{children:r}),d.current)});BR.displayName="@mantine/core/Portal";const Tc=ze(({withinPortal:e=!0,children:t,...r},i)=>KC()==="test"||!e?x.jsx(x.Fragment,{children:t}):x.jsx(BR,{ref:i,...r,children:t}));Tc.displayName="@mantine/core/OptionalPortal";const Iu=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),cd={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Iu("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Iu("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Iu("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Iu("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Iu("top"),common:{transformOrigin:"top right"}}},b1={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function fL({transition:e,state:t,duration:r,timingFunction:i}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:i};return typeof e=="string"?e in cd?{transitionProperty:cd[e].transitionProperty,...o,...cd[e].common,...cd[e][b1[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[b1[t]]}}function dL({duration:e,exitDuration:t,timingFunction:r,mounted:i,onEnter:o,onExit:s,onEntered:c,onExited:f,enterDelay:d,exitDelay:h}){const v=$n(),g=fh(),b=v.respectReducedMotion?g:!1,[S,C]=y.useState(b?0:e),[E,R]=y.useState(i?"entered":"exited"),T=y.useRef(-1),_=y.useRef(-1),M=y.useRef(-1);function A(){window.clearTimeout(T.current),window.clearTimeout(_.current),cancelAnimationFrame(M.current)}const D=O=>{A();const z=O?o:s,F=O?c:f,I=b?0:O?e:t;C(I),I===0?(typeof z=="function"&&z(),typeof F=="function"&&F(),R(O?"entered":"exited")):M.current=requestAnimationFrame(()=>{Xu.flushSync(()=>{R(O?"pre-entering":"pre-exiting")}),M.current=requestAnimationFrame(()=>{typeof z=="function"&&z(),R(O?"entering":"exiting"),T.current=window.setTimeout(()=>{typeof F=="function"&&F(),R(O?"entered":"exited")},I)})})},N=O=>{if(A(),typeof(O?d:h)!="number"){D(O);return}_.current=window.setTimeout(()=>{D(O)},O?d:h)};return ai(()=>{N(i)},[i]),y.useEffect(()=>()=>{A()},[]),{transitionDuration:S,transitionStatus:E,transitionTimingFunction:r||"ease"}}function il({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:i=r,mounted:o,children:s,timingFunction:c="ease",onExit:f,onEntered:d,onEnter:h,onExited:v,enterDelay:g,exitDelay:b}){const S=KC(),{transitionDuration:C,transitionStatus:E,transitionTimingFunction:R}=dL({mounted:o,exitDuration:i,duration:r,timingFunction:c,onExit:f,onEntered:d,onEnter:h,onExited:v,enterDelay:g,exitDelay:b});return C===0||S==="test"?o?x.jsx(x.Fragment,{children:s({})}):e?s({display:"none"}):null:E==="exited"?e?s({display:"none"}):null:x.jsx(x.Fragment,{children:s(fL({transition:t,duration:C,state:E,timingFunction:R}))})}il.displayName="@mantine/core/Transition";const[hL,$R]=si("Popover component was not found in the tree");function xh({children:e,active:t=!0,refProp:r="ref",innerRef:i}){const o=QD(t),s=hr(o,i);return ny(e)?y.cloneElement(e,{[r]:s}):e}function HR(e){return x.jsx(Cy,{tabIndex:-1,"data-autofocus":!0,...e})}xh.displayName="@mantine/core/FocusTrap";HR.displayName="@mantine/core/FocusTrapInitialFocus";xh.InitialFocus=HR;var IR={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const mL={},Ry=ze((e,t)=>{var R,T,_,M;const r=be("PopoverDropdown",mL,e),{className:i,style:o,vars:s,children:c,onKeyDownCapture:f,variant:d,classNames:h,styles:v,...g}=r,b=$R(),S=HC({opened:b.opened,shouldReturnFocus:b.returnFocus}),C=b.withRoles?{"aria-labelledby":b.getTargetId(),id:b.getDropdownId(),role:"dialog",tabIndex:-1}:{},E=hr(t,b.floating);return b.disabled?null:x.jsx(Tc,{...b.portalProps,withinPortal:b.withinPortal,children:x.jsx(il,{mounted:b.opened,...b.transitionProps,transition:((R=b.transitionProps)==null?void 0:R.transition)||"fade",duration:((T=b.transitionProps)==null?void 0:T.duration)??150,keepMounted:b.keepMounted,exitDuration:typeof((_=b.transitionProps)==null?void 0:_.exitDuration)=="number"?b.transitionProps.exitDuration:(M=b.transitionProps)==null?void 0:M.duration,children:A=>x.jsx(xh,{active:b.trapFocus&&b.opened,innerRef:E,children:x.jsxs(ye,{...C,...g,variant:d,onKeyDownCapture:kD(()=>{var D,N;(D=b.onClose)==null||D.call(b),(N=b.onDismiss)==null||N.call(b)},{active:b.closeOnEscape,onTrigger:S,onKeyDown:f}),"data-position":b.placement,"data-fixed":b.floatingStrategy==="fixed"||void 0,...b.getStyles("dropdown",{className:i,props:r,classNames:h,styles:v,style:[{...A,zIndex:b.zIndex,top:b.y??0,left:b.x??0,width:b.width==="target"?void 0:ne(b.width)},b.resolvedStyles.dropdown,v==null?void 0:v.dropdown,o]}),children:[c,x.jsx(UR,{ref:b.arrowRef,arrowX:b.arrowX,arrowY:b.arrowY,visible:b.withArrow,position:b.placement,arrowSize:b.arrowSize,arrowRadius:b.arrowRadius,arrowOffset:b.arrowOffset,arrowPosition:b.arrowPosition,...b.getStyles("arrow",{props:r,classNames:h,styles:v})})]})})})})});Ry.classes=IR;Ry.displayName="@mantine/core/PopoverDropdown";const pL={refProp:"ref",popupType:"dialog"},FR=ze((e,t)=>{const{children:r,refProp:i,popupType:o,...s}=be("PopoverTarget",pL,e);if(!ny(r))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=s,f=$R(),d=hr(f.reference,lN(r),t),h=f.withRoles?{"aria-haspopup":o,"aria-expanded":f.opened,"aria-controls":f.getDropdownId(),id:f.getTargetId()}:{};return y.cloneElement(r,{...c,...h,...f.targetProps,className:Tn(f.targetProps.className,c.className,r.props.className),[i]:d,...f.controlled?null:{onClick:f.onToggle}})});FR.displayName="@mantine/core/PopoverTarget";function gL({opened:e,floating:t,position:r,positionDependencies:i}){const[o,s]=y.useState(0);y.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return hk(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,r]),ai(()=>{t.update()},i),ai(()=>{s(c=>c+1)},[e])}function vL(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function yL(e,t){const r=vL(e.middlewares),i=[Rk(e.offset)];return r.shift&&i.push(Tk(typeof r.shift=="boolean"?{limiter:f1(),padding:5}:{limiter:f1(),padding:5,...r.shift})),r.flip&&i.push(typeof r.flip=="boolean"?d1():d1(r.flip)),r.inline&&i.push(typeof r.inline=="boolean"?h1():h1(r.inline)),i.push(Ok({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&i.push(_k({...typeof r.size=="boolean"?{}:r.size,apply({rects:o,availableWidth:s,availableHeight:c,...f}){var v;const h=((v=t().refs.floating.current)==null?void 0:v.style)??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:o,availableWidth:s,availableHeight:c,...f}):Object.assign(h,{maxWidth:`${s}px`,maxHeight:`${c}px`})),e.width==="target"&&Object.assign(h,{width:`${o.reference.width}px`})}})),i}function bL(e){const[t,r]=ch({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),i=y.useRef(t),o=()=>{t&&!e.disabled&&r(!1)},s=()=>!e.disabled&&r(!t),c=Fk({strategy:e.strategy,placement:e.position,middleware:yL(e,()=>c)});return gL({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),ai(()=>{var f;(f=e.onPositionChange)==null||f.call(e,c.placement)},[c.placement]),ai(()=>{var f,d;t!==i.current&&(t?(d=e.onOpen)==null||d.call(e):(f=e.onClose)==null||f.call(e)),i.current=t},[t,e.onClose,e.onOpen]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:o,onToggle:s}}const SL={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:ui("popover"),__staticSelector:"Popover",width:"max-content"},wL=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:_n(t),"--popover-shadow":ay(r)}});function ol(e){var gr,sa,Sn,_t,Yt,$r;const t=be("Popover",SL,e),{children:r,position:i,offset:o,onPositionChange:s,positionDependencies:c,opened:f,transitionProps:d,onExitTransitionEnd:h,onEnterTransitionEnd:v,width:g,middlewares:b,withArrow:S,arrowSize:C,arrowOffset:E,arrowRadius:R,arrowPosition:T,unstyled:_,classNames:M,styles:A,closeOnClickOutside:D,withinPortal:N,portalProps:O,closeOnEscape:z,clickOutsideEvents:F,trapFocus:I,onClose:G,onDismiss:J,onOpen:ce,onChange:ie,zIndex:pe,radius:B,shadow:X,id:te,defaultOpened:he,__staticSelector:me,withRoles:L,disabled:W,returnFocus:ae,variant:fe,keepMounted:ge,vars:xe,floatingStrategy:se,withOverlay:Ce,overlayProps:Re,...Se}=t,st=Pe({name:me,props:t,classes:IR,classNames:M,styles:A,unstyled:_,rootSelector:"dropdown",vars:xe,varsResolver:wL}),{resolvedStyles:He}=cy({classNames:M,styles:A,props:t}),nt=y.useRef(null),[ct,bn]=y.useState(null),[Nt,oa]=y.useState(null),{dir:Br}=mh(),On=uh(te),it=bL({middlewares:b,width:g,position:aL(Br,i),offset:typeof o=="number"?o+(S?C/2:0):o,arrowRef:nt,arrowOffset:E,onPositionChange:s,positionDependencies:c,opened:f,defaultOpened:he,onChange:ie,onOpen:ce,onClose:G,onDismiss:J,strategy:se,disabled:W});$D(()=>{D&&(it.onClose(),J==null||J())},F,[ct,Nt]);const pr=y.useCallback(yt=>{bn(yt),it.floating.refs.setReference(yt)},[it.floating.refs.setReference]),la=y.useCallback(yt=>{oa(yt),it.floating.refs.setFloating(yt)},[it.floating.refs.setFloating]),pi=y.useCallback(()=>{var yt;(yt=d==null?void 0:d.onExited)==null||yt.call(d),h==null||h()},[d==null?void 0:d.onExited,h]),vt=y.useCallback(()=>{var yt;(yt=d==null?void 0:d.onEntered)==null||yt.call(d),v==null||v()},[d==null?void 0:d.onEntered,v]);return x.jsxs(hL,{value:{returnFocus:ae,disabled:W,controlled:it.controlled,reference:pr,floating:la,x:it.floating.x,y:it.floating.y,arrowX:(Sn=(sa=(gr=it.floating)==null?void 0:gr.middlewareData)==null?void 0:sa.arrow)==null?void 0:Sn.x,arrowY:($r=(Yt=(_t=it.floating)==null?void 0:_t.middlewareData)==null?void 0:Yt.arrow)==null?void 0:$r.y,opened:it.opened,arrowRef:nt,transitionProps:{...d,onExited:pi,onEntered:vt},width:g,withArrow:S,arrowSize:C,arrowOffset:E,arrowRadius:R,arrowPosition:T,placement:it.floating.placement,trapFocus:I,withinPortal:N,portalProps:O,zIndex:pe,radius:B,shadow:X,closeOnEscape:z,onDismiss:J,onClose:it.onClose,onToggle:it.onToggle,getTargetId:()=>`${On}-target`,getDropdownId:()=>`${On}-dropdown`,withRoles:L,targetProps:Se,__staticSelector:me,classNames:M,styles:A,unstyled:_,variant:fe,keepMounted:ge,getStyles:st,resolvedStyles:He,floatingStrategy:se},children:[r,Ce&&x.jsx(il,{transition:"fade",mounted:it.opened,duration:(d==null?void 0:d.duration)||250,exitDuration:(d==null?void 0:d.exitDuration)||250,children:yt=>x.jsx(Tc,{withinPortal:N,children:x.jsx(wh,{...Re,...st("overlay",{className:Re==null?void 0:Re.className,style:[yt,Re==null?void 0:Re.style]})})})})]})}ol.Target=FR;ol.Dropdown=Ry;ol.displayName="@mantine/core/Popover";ol.extend=e=>e;var Zr={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const VR=y.forwardRef(({className:e,...t},r)=>x.jsxs(ye,{component:"span",className:Tn(Zr.barsLoader,e),...t,ref:r,children:[x.jsx("span",{className:Zr.bar}),x.jsx("span",{className:Zr.bar}),x.jsx("span",{className:Zr.bar})]}));VR.displayName="@mantine/core/Bars";const qR=y.forwardRef(({className:e,...t},r)=>x.jsxs(ye,{component:"span",className:Tn(Zr.dotsLoader,e),...t,ref:r,children:[x.jsx("span",{className:Zr.dot}),x.jsx("span",{className:Zr.dot}),x.jsx("span",{className:Zr.dot})]}));qR.displayName="@mantine/core/Dots";const YR=y.forwardRef(({className:e,...t},r)=>x.jsx(ye,{component:"span",className:Tn(Zr.ovalLoader,e),...t,ref:r}));YR.displayName="@mantine/core/Oval";const GR={bars:VR,oval:YR,dots:qR},xL={loaders:GR,type:"oval"},EL=(e,{size:t,color:r})=>({root:{"--loader-size":Tt(t,"loader-size"),"--loader-color":r?ea(r,e):void 0}}),ks=ze((e,t)=>{const r=be("Loader",xL,e),{size:i,color:o,type:s,vars:c,className:f,style:d,classNames:h,styles:v,unstyled:g,loaders:b,variant:S,children:C,...E}=r,R=Pe({name:"Loader",props:r,classes:Zr,className:f,style:d,classNames:h,styles:v,unstyled:g,vars:c,varsResolver:EL});return C?x.jsx(ye,{...R("root"),ref:t,...E,children:C}):x.jsx(ye,{...R("root"),ref:t,component:b[s],variant:S,size:i,...E})});ks.defaultLoaders=GR;ks.classes=Zr;ks.displayName="@mantine/core/Loader";var Ls={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const S1={orientation:"horizontal"},CL=(e,{borderWidth:t})=>({group:{"--ai-border-width":ne(t)}}),Ty=ze((e,t)=>{const r=be("ActionIconGroup",S1,e),{className:i,style:o,classNames:s,styles:c,unstyled:f,orientation:d,vars:h,borderWidth:v,variant:g,mod:b,...S}=be("ActionIconGroup",S1,e),C=Pe({name:"ActionIconGroup",props:r,classes:Ls,className:i,style:o,classNames:s,styles:c,unstyled:f,vars:h,varsResolver:CL,rootSelector:"group"});return x.jsx(ye,{...C("group"),ref:t,variant:g,mod:[{"data-orientation":d},b],role:"group",...S})});Ty.classes=Ls;Ty.displayName="@mantine/core/ActionIconGroup";const w1={},RL=(e,{radius:t,color:r,gradient:i,variant:o,autoContrast:s,size:c})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:o||"filled",autoContrast:s});return{groupSection:{"--section-height":Tt(c,"section-height"),"--section-padding-x":Tt(c,"section-padding-x"),"--section-fz":Wn(c),"--section-radius":t===void 0?void 0:_n(t),"--section-bg":r||o?f.background:void 0,"--section-color":f.color,"--section-bd":r||o?f.border:void 0}}},_y=ze((e,t)=>{const r=be("ActionIconGroupSection",w1,e),{className:i,style:o,classNames:s,styles:c,unstyled:f,vars:d,variant:h,gradient:v,radius:g,autoContrast:b,...S}=be("ActionIconGroupSection",w1,e),C=Pe({name:"ActionIconGroupSection",props:r,classes:Ls,className:i,style:o,classNames:s,styles:c,unstyled:f,vars:d,varsResolver:RL,rootSelector:"groupSection"});return x.jsx(ye,{...C("groupSection"),ref:t,variant:h,...S})});_y.classes=Ls;_y.displayName="@mantine/core/ActionIconGroupSection";const TL={},_L=(e,{size:t,radius:r,variant:i,gradient:o,color:s,autoContrast:c})=>{const f=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:o,variant:i||"filled",autoContrast:c});return{root:{"--ai-size":Tt(t,"ai-size"),"--ai-radius":r===void 0?void 0:_n(r),"--ai-bg":s||i?f.background:void 0,"--ai-hover":s||i?f.hover:void 0,"--ai-hover-color":s||i?f.hoverColor:void 0,"--ai-color":f.color,"--ai-bd":s||i?f.border:void 0}}},ll=yn((e,t)=>{const r=be("ActionIcon",TL,e),{className:i,unstyled:o,variant:s,classNames:c,styles:f,style:d,loading:h,loaderProps:v,size:g,color:b,radius:S,__staticSelector:C,gradient:E,vars:R,children:T,disabled:_,"data-disabled":M,autoContrast:A,mod:D,...N}=r,O=Pe({name:["ActionIcon",C],props:r,className:i,style:d,classes:Ls,classNames:c,styles:f,unstyled:o,vars:R,varsResolver:_L});return x.jsxs(ho,{...O("root",{active:!_&&!h&&!M}),...N,unstyled:o,variant:s,size:g,disabled:_||h,ref:t,mod:[{loading:h,disabled:_||M},D],children:[x.jsx(il,{mounted:!!h,transition:"slide-down",duration:150,children:z=>x.jsx(ye,{component:"span",...O("loader",{style:z}),"aria-hidden":!0,children:x.jsx(ks,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...v})})}),x.jsx(ye,{component:"span",mod:{loading:h},...O("icon"),children:T})]})});ll.classes=Ls;ll.displayName="@mantine/core/ActionIcon";ll.Group=Ty;ll.GroupSection=_y;const XR=y.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},i)=>x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:i,...r,children:x.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));XR.displayName="@mantine/core/CloseIcon";var QR={root:"m_86a44da5","root--subtle":"m_220c80f2"};const OL={variant:"subtle"},ML=(e,{size:t,radius:r,iconSize:i})=>({root:{"--cb-size":Tt(t,"cb-size"),"--cb-radius":r===void 0?void 0:_n(r),"--cb-icon-size":ne(i)}}),_c=yn((e,t)=>{const r=be("CloseButton",OL,e),{iconSize:i,children:o,vars:s,radius:c,className:f,classNames:d,style:h,styles:v,unstyled:g,"data-disabled":b,disabled:S,variant:C,icon:E,mod:R,__staticSelector:T,..._}=r,M=Pe({name:T||"CloseButton",props:r,className:f,style:h,classes:QR,classNames:d,styles:v,unstyled:g,vars:s,varsResolver:ML});return x.jsxs(ho,{ref:t,..._,unstyled:g,variant:C,disabled:S,mod:[{disabled:S||b},R],...M("root",{variant:C,active:!S&&!b}),children:[E||x.jsx(XR,{}),o]})});_c.classes=QR;_c.displayName="@mantine/core/CloseButton";function jL(e){return y.Children.toArray(e).filter(Boolean)}var WR={root:"m_4081bf90"};const AL={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},DL=(e,{grow:t,preventGrowOverflow:r,gap:i,align:o,justify:s,wrap:c},{childWidth:f})=>({root:{"--group-child-width":t&&r?f:void 0,"--group-gap":un(i),"--group-align":o,"--group-justify":s,"--group-wrap":c}}),Rn=ze((e,t)=>{const r=be("Group",AL,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,children:d,gap:h,align:v,justify:g,wrap:b,grow:S,preventGrowOverflow:C,vars:E,variant:R,__size:T,mod:_,...M}=r,A=jL(d),D=A.length,N=un(h??"md"),z={childWidth:`calc(${100/D}% - (${N} - ${N} / ${D}))`},F=Pe({name:"Group",props:r,stylesCtx:z,className:o,style:s,classes:WR,classNames:i,styles:c,unstyled:f,vars:E,varsResolver:DL});return x.jsx(ye,{...F("root"),ref:t,variant:R,mod:[{grow:S},_],size:T,...M,children:A})});Rn.classes=WR;Rn.displayName="@mantine/core/Group";const[NL,fi]=si("ModalBase component was not found in tree");function zL({opened:e,transitionDuration:t}){const[r,i]=y.useState(e),o=y.useRef(-1),c=fh()?0:t;return y.useEffect(()=>(e?(i(!0),window.clearTimeout(o.current)):c===0?i(!1):o.current=window.setTimeout(()=>i(!1),c),()=>window.clearTimeout(o.current)),[e,c]),r}function kL({id:e,transitionProps:t,opened:r,trapFocus:i,closeOnEscape:o,onClose:s,returnFocus:c}){const f=uh(e),[d,h]=y.useState(!1),[v,g]=y.useState(!1),b=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,S=zL({opened:r,transitionDuration:b});return qC("keydown",C=>{var E;C.key==="Escape"&&o&&!C.isComposing&&r&&((E=C.target)==null?void 0:E.getAttribute("data-mantine-stop-propagation"))!=="true"&&s()},{capture:!0}),HC({opened:r,shouldReturnFocus:i&&c}),{_id:f,titleMounted:d,bodyMounted:v,shouldLockScroll:S,setTitleMounted:h,setBodyMounted:g}}const KR=y.forwardRef(({keepMounted:e,opened:t,onClose:r,id:i,transitionProps:o,onExitTransitionEnd:s,onEnterTransitionEnd:c,trapFocus:f,closeOnEscape:d,returnFocus:h,closeOnClickOutside:v,withinPortal:g,portalProps:b,lockScroll:S,children:C,zIndex:E,shadow:R,padding:T,__vars:_,unstyled:M,removeScrollProps:A,...D},N)=>{const{_id:O,titleMounted:z,bodyMounted:F,shouldLockScroll:I,setTitleMounted:G,setBodyMounted:J}=kL({id:i,transitionProps:o,opened:t,trapFocus:f,closeOnEscape:d,onClose:r,returnFocus:h}),{key:ce,...ie}=A||{};return x.jsx(Tc,{...b,withinPortal:g,children:x.jsx(NL,{value:{opened:t,onClose:r,closeOnClickOutside:v,onExitTransitionEnd:s,onEnterTransitionEnd:c,transitionProps:{...o,keepMounted:e},getTitleId:()=>`${O}-title`,getBodyId:()=>`${O}-body`,titleMounted:z,bodyMounted:F,setTitleMounted:G,setBodyMounted:J,trapFocus:f,closeOnEscape:d,zIndex:E,unstyled:M},children:x.jsx(Rs,{enabled:I&&S,...ie,children:x.jsx(ye,{ref:N,...D,__vars:{..._,"--mb-z-index":(E||ui("modal")).toString(),"--mb-shadow":ay(R),"--mb-padding":un(T)},children:C})},ce)})})});KR.displayName="@mantine/core/ModalBase";function LL(){const e=fi();return y.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Ms={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const ZR=y.forwardRef(({className:e,...t},r)=>{const i=LL(),o=fi();return x.jsx(ye,{ref:r,...t,id:i,className:Tn({[Ms.body]:!o.unstyled},e)})});ZR.displayName="@mantine/core/ModalBaseBody";const JR=y.forwardRef(({className:e,onClick:t,...r},i)=>{const o=fi();return x.jsx(_c,{ref:i,...r,onClick:s=>{o.onClose(),t==null||t(s)},className:Tn({[Ms.close]:!o.unstyled},e),unstyled:o.unstyled})});JR.displayName="@mantine/core/ModalBaseCloseButton";const eT=y.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:i,style:o,...s},c)=>{const f=fi();return x.jsx(il,{mounted:f.opened,transition:"pop",...f.transitionProps,onExited:()=>{var d,h,v;(d=f.onExitTransitionEnd)==null||d.call(f),(v=(h=f.transitionProps)==null?void 0:h.onExited)==null||v.call(h)},onEntered:()=>{var d,h,v;(d=f.onEnterTransitionEnd)==null||d.call(f),(v=(h=f.transitionProps)==null?void 0:h.onEntered)==null||v.call(h)},...e,children:d=>x.jsx("div",{...r,className:Tn({[Ms.inner]:!f.unstyled},r.className),children:x.jsx(xh,{active:f.opened&&f.trapFocus,innerRef:c,children:x.jsx(Kn,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":f.bodyMounted?f.getBodyId():void 0,"aria-labelledby":f.titleMounted?f.getTitleId():void 0,style:[o,d],className:Tn({[Ms.content]:!f.unstyled},t),unstyled:f.unstyled,children:s.children})})})})});eT.displayName="@mantine/core/ModalBaseContent";const tT=y.forwardRef(({className:e,...t},r)=>{const i=fi();return x.jsx(ye,{component:"header",ref:r,className:Tn({[Ms.header]:!i.unstyled},e),...t})});tT.displayName="@mantine/core/ModalBaseHeader";const UL={duration:200,timingFunction:"ease",transition:"fade"};function PL(e){const t=fi();return{...UL,...t.transitionProps,...e}}const nT=y.forwardRef(({onClick:e,transitionProps:t,style:r,visible:i,...o},s)=>{const c=fi(),f=PL(t);return x.jsx(il,{mounted:i!==void 0?i:c.opened,...f,transition:"fade",children:d=>x.jsx(wh,{ref:s,fixed:!0,style:[r,d],zIndex:c.zIndex,unstyled:c.unstyled,onClick:h=>{e==null||e(h),c.closeOnClickOutside&&c.onClose()},...o})})});nT.displayName="@mantine/core/ModalBaseOverlay";function BL(){const e=fi();return y.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const rT=y.forwardRef(({className:e,...t},r)=>{const i=BL(),o=fi();return x.jsx(ye,{component:"h2",ref:r,className:Tn({[Ms.title]:!o.unstyled},e),...t,id:i})});rT.displayName="@mantine/core/ModalBaseTitle";function $L({children:e}){return x.jsx(x.Fragment,{children:e})}const[HL,IL]=ry({size:"sm"}),FL={},aT=ze((e,t)=>{const r=be("InputClearButton",FL,e),{size:i,variant:o,vars:s,classNames:c,styles:f,...d}=r,h=IL(),{resolvedClassNames:v,resolvedStyles:g}=cy({classNames:c,styles:f,props:r});return x.jsx(_c,{variant:o||"transparent",ref:t,size:i||(h==null?void 0:h.size)||"sm",classNames:v,styles:g,__staticSelector:"InputClearButton",...d})});aT.displayName="@mantine/core/InputClearButton";const[VL,Eh]=ry({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Ur={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const x1={},qL=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Wn(t)} - ${ne(2)})`}}),Ch=ze((e,t)=>{const r=be("InputDescription",x1,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,size:h,__staticSelector:v,__inheritStyles:g=!0,variant:b,...S}=be("InputDescription",x1,r),C=Eh(),E=Pe({name:["InputWrapper",v],props:r,classes:Ur,className:o,style:s,classNames:i,styles:c,unstyled:f,rootSelector:"description",vars:d,varsResolver:qL}),R=g&&(C==null?void 0:C.getStyles)||E;return x.jsx(ye,{component:"p",ref:t,variant:b,size:h,...R("description",C!=null&&C.getStyles?{className:o,style:s}:void 0),...S})});Ch.classes=Ur;Ch.displayName="@mantine/core/InputDescription";const YL={},GL=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Wn(t)} - ${ne(2)})`}}),Rh=ze((e,t)=>{const r=be("InputError",YL,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,size:h,__staticSelector:v,__inheritStyles:g=!0,variant:b,...S}=r,C=Pe({name:["InputWrapper",v],props:r,classes:Ur,className:o,style:s,classNames:i,styles:c,unstyled:f,rootSelector:"error",vars:d,varsResolver:GL}),E=Eh(),R=g&&(E==null?void 0:E.getStyles)||C;return x.jsx(ye,{component:"p",ref:t,variant:b,size:h,...R("error",E!=null&&E.getStyles?{className:o,style:s}:void 0),...S})});Rh.classes=Ur;Rh.displayName="@mantine/core/InputError";const E1={labelElement:"label"},XL=(e,{size:t})=>({label:{"--input-label-size":Wn(t),"--input-asterisk-color":void 0}}),Th=ze((e,t)=>{const r=be("InputLabel",E1,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,labelElement:h,size:v,required:g,htmlFor:b,onMouseDown:S,children:C,__staticSelector:E,variant:R,mod:T,..._}=be("InputLabel",E1,r),M=Pe({name:["InputWrapper",E],props:r,classes:Ur,className:o,style:s,classNames:i,styles:c,unstyled:f,rootSelector:"label",vars:d,varsResolver:XL}),A=Eh(),D=(A==null?void 0:A.getStyles)||M;return x.jsxs(ye,{...D("label",A!=null&&A.getStyles?{className:o,style:s}:void 0),component:h,variant:R,size:v,ref:t,htmlFor:h==="label"?b:void 0,mod:[{required:g},T],onMouseDown:N=>{S==null||S(N),!N.defaultPrevented&&N.detail>1&&N.preventDefault()},..._,children:[C,g&&x.jsx("span",{...D("required"),"aria-hidden":!0,children:" *"})]})});Th.classes=Ur;Th.displayName="@mantine/core/InputLabel";const C1={},Oy=ze((e,t)=>{const r=be("InputPlaceholder",C1,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,__staticSelector:h,variant:v,error:g,mod:b,...S}=be("InputPlaceholder",C1,r),C=Pe({name:["InputPlaceholder",h],props:r,classes:Ur,className:o,style:s,classNames:i,styles:c,unstyled:f,rootSelector:"placeholder"});return x.jsx(ye,{...C("placeholder"),mod:[{error:!!g},b],component:"span",variant:v,ref:t,...S})});Oy.classes=Ur;Oy.displayName="@mantine/core/InputPlaceholder";function QL(e,{hasDescription:t,hasError:r}){const i=e.findIndex(d=>d==="input"),o=e.slice(0,i),s=e.slice(i+1),c=t&&o.includes("description")||r&&o.includes("error");return{offsetBottom:t&&s.includes("description")||r&&s.includes("error"),offsetTop:c}}const WL={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},KL=(e,{size:t})=>({label:{"--input-label-size":Wn(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Wn(t)} - ${ne(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Wn(t)} - ${ne(2)})`}}),My=ze((e,t)=>{const r=be("InputWrapper",WL,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,size:h,variant:v,__staticSelector:g,inputContainer:b,inputWrapperOrder:S,label:C,error:E,description:R,labelProps:T,descriptionProps:_,errorProps:M,labelElement:A,children:D,withAsterisk:N,id:O,required:z,__stylesApiProps:F,mod:I,...G}=r,J=Pe({name:["InputWrapper",g],props:F||r,classes:Ur,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:KL}),ce={size:h,variant:v,__staticSelector:g},ie=uh(O),pe=typeof N=="boolean"?N:z,B=(M==null?void 0:M.id)||`${ie}-error`,X=(_==null?void 0:_.id)||`${ie}-description`,te=ie,he=!!E&&typeof E!="boolean",me=!!R,L=`${he?B:""} ${me?X:""}`,W=L.trim().length>0?L.trim():void 0,ae=(T==null?void 0:T.id)||`${ie}-label`,fe=C&&x.jsx(Th,{labelElement:A,id:ae,htmlFor:te,required:pe,...ce,...T,children:C},"label"),ge=me&&x.jsx(Ch,{..._,...ce,size:(_==null?void 0:_.size)||ce.size,id:(_==null?void 0:_.id)||X,children:R},"description"),xe=x.jsx(y.Fragment,{children:b(D)},"input"),se=he&&y.createElement(Rh,{...M,...ce,size:(M==null?void 0:M.size)||ce.size,key:"error",id:(M==null?void 0:M.id)||B},E),Ce=S.map(Re=>{switch(Re){case"label":return fe;case"input":return xe;case"description":return ge;case"error":return se;default:return null}});return x.jsx(VL,{value:{getStyles:J,describedBy:W,inputId:te,labelId:ae,...QL(S,{hasDescription:me,hasError:he})},children:x.jsx(ye,{ref:t,variant:v,size:h,mod:[{error:!!E},I],...J("root"),...G,children:Ce})})});My.classes=Ur;My.displayName="@mantine/core/InputWrapper";const ZL={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},JL=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Tt(t.size,"input-height"),"--input-fz":Wn(t.size),"--input-radius":t.radius===void 0?void 0:_n(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?ne(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?ne(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Tt(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Nr=yn((e,t)=>{const r=be("Input",ZL,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,required:d,__staticSelector:h,__stylesApiProps:v,size:g,wrapperProps:b,error:S,disabled:C,leftSection:E,leftSectionProps:R,leftSectionWidth:T,rightSection:_,rightSectionProps:M,rightSectionWidth:A,rightSectionPointerEvents:D,leftSectionPointerEvents:N,variant:O,vars:z,pointer:F,multiline:I,radius:G,id:J,withAria:ce,withErrorStyles:ie,mod:pe,inputSize:B,__clearSection:X,__clearable:te,__defaultRightSection:he,...me}=r,{styleProps:L,rest:W}=fy(me),ae=Eh(),fe={offsetBottom:ae==null?void 0:ae.offsetBottom,offsetTop:ae==null?void 0:ae.offsetTop},ge=Pe({name:["Input",h],props:v||r,classes:Ur,className:o,style:s,classNames:i,styles:c,unstyled:f,stylesCtx:fe,rootSelector:"wrapper",vars:z,varsResolver:JL}),xe=ce?{required:d,disabled:C,"aria-invalid":!!S,"aria-describedby":ae==null?void 0:ae.describedBy,id:(ae==null?void 0:ae.inputId)||J}:{},se=_||te&&X||he;return x.jsx(HL,{value:{size:g||"sm"},children:x.jsxs(ye,{...ge("wrapper"),...L,...b,mod:[{error:!!S&&ie,pointer:F,disabled:C,multiline:I,"data-with-right-section":!!se,"data-with-left-section":!!E},pe],variant:O,size:g,children:[E&&x.jsx("div",{...R,"data-position":"left",...ge("section",{className:R==null?void 0:R.className,style:R==null?void 0:R.style}),children:E}),x.jsx(ye,{component:"input",...W,...xe,ref:t,required:d,mod:{disabled:C,error:!!S&&ie},variant:O,__size:B,...ge("input")}),se&&x.jsx("div",{...M,"data-position":"right",...ge("section",{className:M==null?void 0:M.className,style:M==null?void 0:M.style}),children:se})]})})});Nr.classes=Ur;Nr.Wrapper=My;Nr.Label=Th;Nr.Error=Rh;Nr.Description=Ch;Nr.Placeholder=Oy;Nr.ClearButton=aT;Nr.displayName="@mantine/core/Input";function e3(e,t,r){const i=be(e,t,r),{label:o,description:s,error:c,required:f,classNames:d,styles:h,className:v,unstyled:g,__staticSelector:b,__stylesApiProps:S,errorProps:C,labelProps:E,descriptionProps:R,wrapperProps:T,id:_,size:M,style:A,inputContainer:D,inputWrapperOrder:N,withAsterisk:O,variant:z,vars:F,mod:I,...G}=i,{styleProps:J,rest:ce}=fy(G),ie={label:o,description:s,error:c,required:f,classNames:d,className:v,__staticSelector:b,__stylesApiProps:S||i,errorProps:C,labelProps:E,descriptionProps:R,unstyled:g,styles:h,size:M,style:A,inputContainer:D,inputWrapperOrder:N,withAsterisk:O,variant:z,id:_,mod:I,...T};return{...ce,classNames:d,styles:h,unstyled:g,wrapperProps:{...ie,...J},inputProps:{required:f,classNames:d,styles:h,unstyled:g,size:M,__staticSelector:b,__stylesApiProps:S||i,error:c,variant:z,id:_}}}const t3={__staticSelector:"InputBase",withAria:!0},Us=yn((e,t)=>{const{inputProps:r,wrapperProps:i,...o}=e3("InputBase",t3,e);return x.jsx(Nr.Wrapper,{...i,children:x.jsx(Nr,{...r,...o,ref:t})})});Us.classes={...Nr.classes,...Nr.Wrapper.classes};Us.displayName="@mantine/core/InputBase";function n3(e,t){if(!t||!e)return!1;let r=t.parentNode;for(;r!=null;){if(r===e)return!0;r=r.parentNode}return!1}function r3({target:e,parent:t,ref:r,displayAfterTransitionEnd:i}){const o=y.useRef(-1),[s,c]=y.useState(!1),[f,d]=y.useState(typeof i=="boolean"?i:!1),h=()=>{if(!e||!t||!r.current)return;const S=e.getBoundingClientRect(),C=t.getBoundingClientRect(),E=window.getComputedStyle(e),R=window.getComputedStyle(t),T=oo(E.borderTopWidth)+oo(R.borderTopWidth),_=oo(E.borderLeftWidth)+oo(R.borderLeftWidth),M={top:S.top-C.top-T,left:S.left-C.left-_,width:S.width,height:S.height};r.current.style.transform=`translateY(${M.top}px) translateX(${M.left}px)`,r.current.style.width=`${M.width}px`,r.current.style.height=`${M.height}px`},v=()=>{window.clearTimeout(o.current),r.current&&(r.current.style.transitionDuration="0ms"),h(),o.current=window.setTimeout(()=>{r.current&&(r.current.style.transitionDuration="")},30)},g=y.useRef(null),b=y.useRef(null);return y.useEffect(()=>{if(h(),e)return g.current=new ResizeObserver(v),g.current.observe(e),t&&(b.current=new ResizeObserver(v),b.current.observe(t)),()=>{var S,C;(S=g.current)==null||S.disconnect(),(C=b.current)==null||C.disconnect()}},[t,e]),y.useEffect(()=>{if(t){const S=C=>{n3(C.target,t)&&(v(),d(!1))};return t.addEventListener("transitionend",S),()=>{t.removeEventListener("transitionend",S)}}},[t]),rN(()=>{XC()!=="test"&&c(!0)},20,{autoInvoke:!0}),aN(S=>{S.forEach(C=>{C.type==="attributes"&&C.attributeName==="dir"&&v()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:f}}var iT={root:"m_96b553a6"};const a3={},i3=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),jy=ze((e,t)=>{const r=be("FloatingIndicator",a3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,target:h,parent:v,transitionDuration:g,mod:b,displayAfterTransitionEnd:S,...C}=r,E=Pe({name:"FloatingIndicator",classes:iT,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:i3}),R=y.useRef(null),{initialized:T,hidden:_}=r3({target:h,parent:v,ref:R,displayAfterTransitionEnd:S}),M=hr(t,R);return!h||!v?null:x.jsx(ye,{ref:M,mod:[{initialized:T,hidden:_},b],...E("root"),...C})});jy.displayName="@mantine/core/FloatingIndicator";jy.classes=iT;function oT({style:e,size:t=16,...r}){return x.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:ne(t),height:ne(t),display:"block"},...r,children:x.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}oT.displayName="@mantine/core/AccordionChevron";var lT={root:"m_b6d8b162"};function o3(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const l3={inherit:!1},s3=(e,{variant:t,lineClamp:r,gradient:i,size:o,color:s})=>({root:{"--text-fz":Wn(o),"--text-lh":LD(o),"--text-gradient":t==="gradient"?sv(i,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":s?ea(s,e):void 0}}),Xe=yn((e,t)=>{const r=be("Text",l3,e),{lineClamp:i,truncate:o,inline:s,inherit:c,gradient:f,span:d,__staticSelector:h,vars:v,className:g,style:b,classNames:S,styles:C,unstyled:E,variant:R,mod:T,size:_,...M}=r,A=Pe({name:["Text",h],props:r,classes:lT,className:g,style:b,classNames:S,styles:C,unstyled:E,vars:v,varsResolver:s3});return x.jsx(ye,{...A("root",{focusable:!0}),ref:t,component:d?"span":"p",variant:R,mod:[{"data-truncate":o3(o),"data-line-clamp":typeof i=="number","data-inline":s,"data-inherit":c},T],size:_,...M})});Xe.classes=lT;Xe.displayName="@mantine/core/Text";const[u3,Ps]=si("AppShell was not found in tree");var mo={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const c3={},Ay=ze((e,t)=>{const r=be("AppShellAside",c3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,withBorder:h,zIndex:v,mod:g,...b}=r,S=Ps();return S.disabled?null:x.jsx(ye,{component:"aside",ref:t,mod:[{"with-border":h??S.withBorder},g],...S.getStyles("aside",{className:o,classNames:i,styles:c,style:s}),...b,__vars:{"--app-shell-aside-z-index":`calc(${v??S.zIndex} + 1)`}})});Ay.classes=mo;Ay.displayName="@mantine/core/AppShellAside";const f3={},Dy=ze((e,t)=>{var C;const r=be("AppShellFooter",f3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,withBorder:h,zIndex:v,mod:g,...b}=r,S=Ps();return S.disabled?null:x.jsx(ye,{component:"footer",ref:t,mod:[{"with-border":h??S.withBorder},g],...S.getStyles("footer",{className:Tn({[Rs.classNames.zeroRight]:S.offsetScrollbars},o),classNames:i,styles:c,style:s}),...b,__vars:{"--app-shell-footer-z-index":(C=v??S.zIndex)==null?void 0:C.toString()}})});Dy.classes=mo;Dy.displayName="@mantine/core/AppShellFooter";const d3={},Ny=ze((e,t)=>{var C;const r=be("AppShellHeader",d3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,withBorder:h,zIndex:v,mod:g,...b}=r,S=Ps();return S.disabled?null:x.jsx(ye,{component:"header",ref:t,mod:[{"with-border":h??S.withBorder},g],...S.getStyles("header",{className:Tn({[Rs.classNames.zeroRight]:S.offsetScrollbars},o),classNames:i,styles:c,style:s}),...b,__vars:{"--app-shell-header-z-index":(C=v??S.zIndex)==null?void 0:C.toString()}})});Ny.classes=mo;Ny.displayName="@mantine/core/AppShellHeader";const h3={},zy=ze((e,t)=>{const r=be("AppShellMain",h3,e),{classNames:i,className:o,style:s,styles:c,vars:f,...d}=r,h=Ps();return x.jsx(ye,{component:"main",ref:t,...h.getStyles("main",{className:o,style:s,classNames:i,styles:c}),...d})});zy.classes=mo;zy.displayName="@mantine/core/AppShellMain";function Oc(e){return typeof e=="object"?e.base:e}function Mc(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function jc(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function m3({baseStyles:e,minMediaStyles:t,maxMediaStyles:r,aside:i,theme:o}){var d,h,v;const s=i==null?void 0:i.width,c="translateX(var(--app-shell-aside-width))",f="translateX(calc(var(--app-shell-aside-width) * -1))";if(i!=null&&i.breakpoint&&!((d=i==null?void 0:i.collapsed)!=null&&d.mobile)&&(r[i==null?void 0:i.breakpoint]=r[i==null?void 0:i.breakpoint]||{},r[i==null?void 0:i.breakpoint]["--app-shell-aside-width"]="100%",r[i==null?void 0:i.breakpoint]["--app-shell-aside-offset"]="0px"),Mc(s)){const g=ne(Oc(s));e["--app-shell-aside-width"]=g,e["--app-shell-aside-offset"]=g}if(jc(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=ne(s.base),e["--app-shell-aside-offset"]=ne(s.base)),qt(s).forEach(g=>{g!=="base"&&(t[g]=t[g]||{},t[g]["--app-shell-aside-width"]=ne(s[g]),t[g]["--app-shell-aside-offset"]=ne(s[g]))})),(h=i==null?void 0:i.collapsed)!=null&&h.desktop){const g=i.breakpoint;t[g]=t[g]||{},t[g]["--app-shell-aside-transform"]=c,t[g]["--app-shell-aside-transform-rtl"]=f,t[g]["--app-shell-aside-offset"]="0px !important"}if((v=i==null?void 0:i.collapsed)!=null&&v.mobile){const g=iy(i.breakpoint,o.breakpoints)-.1;r[g]=r[g]||{},r[g]["--app-shell-aside-width"]="100%",r[g]["--app-shell-aside-offset"]="0px",r[g]["--app-shell-aside-transform"]=c,r[g]["--app-shell-aside-transform-rtl"]=f}}function p3({baseStyles:e,minMediaStyles:t,footer:r}){const i=r==null?void 0:r.height,o="translateY(var(--app-shell-footer-height))",s=(r==null?void 0:r.offset)??!0;if(Mc(i)){const c=ne(Oc(i));e["--app-shell-footer-height"]=c,s&&(e["--app-shell-footer-offset"]=c)}jc(i)&&(typeof i.base<"u"&&(e["--app-shell-footer-height"]=ne(i.base),s&&(e["--app-shell-footer-offset"]=ne(i.base))),qt(i).forEach(c=>{c!=="base"&&(t[c]=t[c]||{},t[c]["--app-shell-footer-height"]=ne(i[c]),s&&(t[c]["--app-shell-footer-offset"]=ne(i[c])))})),r!=null&&r.collapsed&&(e["--app-shell-footer-transform"]=o,e["--app-shell-footer-offset"]="0px !important")}function g3({baseStyles:e,minMediaStyles:t,header:r}){const i=r==null?void 0:r.height,o="translateY(calc(var(--app-shell-header-height) * -1))",s=(r==null?void 0:r.offset)??!0;if(Mc(i)){const c=ne(Oc(i));e["--app-shell-header-height"]=c,s&&(e["--app-shell-header-offset"]=c)}jc(i)&&(typeof i.base<"u"&&(e["--app-shell-header-height"]=ne(i.base),s&&(e["--app-shell-header-offset"]=ne(i.base))),qt(i).forEach(c=>{c!=="base"&&(t[c]=t[c]||{},t[c]["--app-shell-header-height"]=ne(i[c]),s&&(t[c]["--app-shell-header-offset"]=ne(i[c])))})),r!=null&&r.collapsed&&(e["--app-shell-header-transform"]=o,e["--app-shell-header-offset"]="0px !important")}function v3({baseStyles:e,minMediaStyles:t,maxMediaStyles:r,navbar:i,theme:o}){var d,h,v;const s=i==null?void 0:i.width,c="translateX(calc(var(--app-shell-navbar-width) * -1))",f="translateX(var(--app-shell-navbar-width))";if(i!=null&&i.breakpoint&&!((d=i==null?void 0:i.collapsed)!=null&&d.mobile)&&(r[i==null?void 0:i.breakpoint]=r[i==null?void 0:i.breakpoint]||{},r[i==null?void 0:i.breakpoint]["--app-shell-navbar-width"]="100%",r[i==null?void 0:i.breakpoint]["--app-shell-navbar-offset"]="0px"),Mc(s)){const g=ne(Oc(s));e["--app-shell-navbar-width"]=g,e["--app-shell-navbar-offset"]=g}if(jc(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=ne(s.base),e["--app-shell-navbar-offset"]=ne(s.base)),qt(s).forEach(g=>{g!=="base"&&(t[g]=t[g]||{},t[g]["--app-shell-navbar-width"]=ne(s[g]),t[g]["--app-shell-navbar-offset"]=ne(s[g]))})),(h=i==null?void 0:i.collapsed)!=null&&h.desktop){const g=i.breakpoint;t[g]=t[g]||{},t[g]["--app-shell-navbar-transform"]=c,t[g]["--app-shell-navbar-transform-rtl"]=f,t[g]["--app-shell-navbar-offset"]="0px !important"}if((v=i==null?void 0:i.collapsed)!=null&&v.mobile){const g=iy(i.breakpoint,o.breakpoints)-.1;r[g]=r[g]||{},r[g]["--app-shell-navbar-width"]="100%",r[g]["--app-shell-navbar-offset"]="0px",r[g]["--app-shell-navbar-transform"]=c,r[g]["--app-shell-navbar-transform-rtl"]=f}}function Ag(e){return Number(e)===0?"0px":un(e)}function y3({padding:e,baseStyles:t,minMediaStyles:r}){Mc(e)&&(t["--app-shell-padding"]=Ag(Oc(e))),jc(e)&&(e.base&&(t["--app-shell-padding"]=Ag(e.base)),qt(e).forEach(i=>{i!=="base"&&(r[i]=r[i]||{},r[i]["--app-shell-padding"]=Ag(e[i]))}))}function b3({navbar:e,header:t,footer:r,aside:i,padding:o,theme:s}){const c={},f={},d={};v3({baseStyles:d,minMediaStyles:c,maxMediaStyles:f,navbar:e,theme:s}),m3({baseStyles:d,minMediaStyles:c,maxMediaStyles:f,aside:i,theme:s}),g3({baseStyles:d,minMediaStyles:c,header:t}),p3({baseStyles:d,minMediaStyles:c,footer:r}),y3({baseStyles:d,minMediaStyles:c,padding:o});const h=iv(qt(c),s.breakpoints).map(b=>({query:`(min-width: ${kd(b.px)})`,styles:c[b.value]})),v=iv(qt(f),s.breakpoints).map(b=>({query:`(max-width: ${kd(b.px)})`,styles:f[b.value]})),g=[...h,...v];return{baseStyles:d,media:g}}function S3({navbar:e,header:t,aside:r,footer:i,padding:o}){const s=$n(),c=ci(),{media:f,baseStyles:d}=b3({navbar:e,header:t,footer:i,aside:r,padding:o,theme:s});return x.jsx(hh,{media:f,styles:d,selector:c.cssVariablesSelector})}const w3={},ky=ze((e,t)=>{const r=be("AppShellNavbar",w3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,withBorder:h,zIndex:v,mod:g,...b}=r,S=Ps();return S.disabled?null:x.jsx(ye,{component:"nav",ref:t,mod:[{"with-border":h??S.withBorder},g],...S.getStyles("navbar",{className:o,classNames:i,styles:c,style:s}),...b,__vars:{"--app-shell-navbar-z-index":`calc(${v??S.zIndex} + 1)`}})});ky.classes=mo;ky.displayName="@mantine/core/AppShellNavbar";const x3={},Ly=yn((e,t)=>{const r=be("AppShellSection",x3,e),{classNames:i,className:o,style:s,styles:c,vars:f,grow:d,mod:h,...v}=r,g=Ps();return x.jsx(ye,{ref:t,mod:[{grow:d},h],...g.getStyles("section",{className:o,style:s,classNames:i,styles:c}),...v})});Ly.classes=mo;Ly.displayName="@mantine/core/AppShellSection";function E3({transitionDuration:e,disabled:t}){const[r,i]=y.useState(!0),o=y.useRef(-1),s=y.useRef(-1);return qC("resize",()=>{i(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>y.startTransition(()=>{i(!1)}),200)}),js(()=>{i(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>y.startTransition(()=>{i(!1)}),e||0)},[t,e]),r}const C3={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:ui("app")},R3=(e,{transitionDuration:t,transitionTimingFunction:r})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":r}}),Ar=ze((e,t)=>{const r=be("AppShell",C3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,navbar:h,withBorder:v,padding:g,transitionDuration:b,transitionTimingFunction:S,header:C,zIndex:E,layout:R,disabled:T,aside:_,footer:M,offsetScrollbars:A=R!=="alt",mod:D,...N}=r,O=Pe({name:"AppShell",classes:mo,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:R3}),z=E3({disabled:T,transitionDuration:b});return x.jsxs(u3,{value:{getStyles:O,withBorder:v,zIndex:E,disabled:T,offsetScrollbars:A},children:[x.jsx(S3,{navbar:h,header:C,aside:_,footer:M,padding:g}),x.jsx(ye,{ref:t,...O("root"),mod:[{resizing:z,layout:R,disabled:T},D],...N})]})});Ar.classes=mo;Ar.displayName="@mantine/core/AppShell";Ar.Navbar=ky;Ar.Header=Ny;Ar.Main=zy;Ar.Aside=Ay;Ar.Footer=Dy;Ar.Section=Ly;const sT=y.createContext(null),T3=sT.Provider;function _3(){return{withinGroup:!!y.useContext(sT)}}var _h={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const O3={},M3=(e,{spacing:t})=>({group:{"--ag-spacing":un(t)}}),Uy=ze((e,t)=>{const r=be("AvatarGroup",O3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,spacing:h,...v}=r,g=Pe({name:"AvatarGroup",classes:_h,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:M3,rootSelector:"group"});return x.jsx(T3,{value:!0,children:x.jsx(ye,{ref:t,...g("group"),...v})})});Uy.classes=_h;Uy.displayName="@mantine/core/AvatarGroup";function j3(e){return x.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function A3(e){let t=0;for(let r=0;r<e.length;r+=1){const i=e.charCodeAt(r);t=(t<<5)-t+i,t|=0}return t}const D3=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function N3(e,t=D3){const r=A3(e),i=Math.abs(r)%t.length;return t[i]}function z3(e,t=2){const r=e.split(" ");return r.length===1?e.slice(0,t).toUpperCase():r.map(i=>i[0]).slice(0,t).join("").toUpperCase()}const k3={},L3=(e,{size:t,radius:r,variant:i,gradient:o,color:s,autoContrast:c,name:f,allowedInitialsColors:d})=>{const h=s==="initials"&&typeof f=="string"?N3(f,d):s,v=e.variantColorResolver({color:h||"gray",theme:e,gradient:o,variant:i||"light",autoContrast:c});return{root:{"--avatar-size":Tt(t,"avatar-size"),"--avatar-radius":r===void 0?void 0:_n(r),"--avatar-bg":h||i?v.background:void 0,"--avatar-color":h||i?v.color:void 0,"--avatar-bd":h||i?v.border:void 0}}},sl=yn((e,t)=>{const r=be("Avatar",k3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,src:h,alt:v,radius:g,color:b,gradient:S,imageProps:C,children:E,autoContrast:R,mod:T,name:_,allowedInitialsColors:M,...A}=r,D=_3(),[N,O]=y.useState(!h),z=Pe({name:"Avatar",props:r,classes:_h,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:L3});return y.useEffect(()=>O(!h),[h]),x.jsx(ye,{...z("root"),mod:[{"within-group":D.withinGroup},T],ref:t,...A,children:N?x.jsx("span",{...z("placeholder"),title:v,children:E||typeof _=="string"&&z3(_)||x.jsx(j3,{})}):x.jsx("img",{...C,...z("image"),src:h,alt:v,onError:F=>{var I;O(!0),(I=C==null?void 0:C.onError)==null||I.call(C,F)}})})});sl.classes=_h;sl.displayName="@mantine/core/Avatar";sl.Group=Uy;var uT={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const U3={},P3=(e,{radius:t,color:r,gradient:i,variant:o,size:s,autoContrast:c})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:o||"filled",autoContrast:c});return{root:{"--badge-height":Tt(s,"badge-height"),"--badge-padding-x":Tt(s,"badge-padding-x"),"--badge-fz":Tt(s,"badge-fz"),"--badge-radius":t===void 0?void 0:_n(t),"--badge-bg":r||o?f.background:void 0,"--badge-color":r||o?f.color:void 0,"--badge-bd":r||o?f.border:void 0,"--badge-dot-color":o==="dot"?ea(r,e):void 0}}},oi=yn((e,t)=>{const r=be("Badge",U3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,radius:h,color:v,gradient:g,leftSection:b,rightSection:S,children:C,variant:E,fullWidth:R,autoContrast:T,circle:_,mod:M,...A}=r,D=Pe({name:"Badge",props:r,classes:uT,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:P3});return x.jsxs(ye,{variant:E,mod:[{block:R,circle:_,"with-right-section":!!S,"with-left-section":!!b},M],...D("root",{variant:E}),ref:t,...A,children:[b&&x.jsx("span",{...D("section"),"data-position":"left",children:b}),x.jsx("span",{...D("label"),children:C}),S&&x.jsx("span",{...D("section"),"data-position":"right",children:S})]})});oi.classes=uT;oi.displayName="@mantine/core/Badge";var cT={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const B3={},$3=(e,{color:t,size:r,lineSize:i,transitionDuration:o,transitionTimingFunction:s})=>({root:{"--burger-color":t?ea(t,e):void 0,"--burger-size":Tt(r,"burger-size"),"--burger-line-size":i?ne(i):void 0,"--burger-transition-duration":o===void 0?void 0:`${o}ms`,"--burger-transition-timing-function":s}}),Py=ze((e,t)=>{const r=be("Burger",B3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,opened:h,children:v,transitionDuration:g,transitionTimingFunction:b,lineSize:S,...C}=r,E=Pe({name:"Burger",classes:cT,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:$3});return x.jsxs(ho,{...E("root"),ref:t,...C,children:[x.jsx(ye,{mod:["reduce-motion",{opened:h}],...E("burger")}),v]})});Py.classes=cT;Py.displayName="@mantine/core/Burger";var Bs={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const R1={orientation:"horizontal"},H3=(e,{borderWidth:t})=>({group:{"--button-border-width":ne(t)}}),By=ze((e,t)=>{const r=be("ButtonGroup",R1,e),{className:i,style:o,classNames:s,styles:c,unstyled:f,orientation:d,vars:h,borderWidth:v,variant:g,mod:b,...S}=be("ButtonGroup",R1,e),C=Pe({name:"ButtonGroup",props:r,classes:Bs,className:i,style:o,classNames:s,styles:c,unstyled:f,vars:h,varsResolver:H3,rootSelector:"group"});return x.jsx(ye,{...C("group"),ref:t,variant:g,mod:[{"data-orientation":d},b],role:"group",...S})});By.classes=Bs;By.displayName="@mantine/core/ButtonGroup";const T1={},I3=(e,{radius:t,color:r,gradient:i,variant:o,autoContrast:s,size:c})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:o||"filled",autoContrast:s});return{groupSection:{"--section-height":Tt(c,"section-height"),"--section-padding-x":Tt(c,"section-padding-x"),"--section-fz":c!=null&&c.includes("compact")?Wn(c.replace("compact-","")):Wn(c),"--section-radius":t===void 0?void 0:_n(t),"--section-bg":r||o?f.background:void 0,"--section-color":f.color,"--section-bd":r||o?f.border:void 0}}},$y=ze((e,t)=>{const r=be("ButtonGroupSection",T1,e),{className:i,style:o,classNames:s,styles:c,unstyled:f,vars:d,variant:h,gradient:v,radius:g,autoContrast:b,...S}=be("ButtonGroupSection",T1,e),C=Pe({name:"ButtonGroupSection",props:r,classes:Bs,className:i,style:o,classNames:s,styles:c,unstyled:f,vars:d,varsResolver:I3,rootSelector:"groupSection"});return x.jsx(ye,{...C("groupSection"),ref:t,variant:h,...S})});$y.classes=Bs;$y.displayName="@mantine/core/ButtonGroupSection";const F3={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${ne(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},V3={},q3=(e,{radius:t,color:r,gradient:i,variant:o,size:s,justify:c,autoContrast:f})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:o||"filled",autoContrast:f});return{root:{"--button-justify":c,"--button-height":Tt(s,"button-height"),"--button-padding-x":Tt(s,"button-padding-x"),"--button-fz":s!=null&&s.includes("compact")?Wn(s.replace("compact-","")):Wn(s),"--button-radius":t===void 0?void 0:_n(t),"--button-bg":r||o?d.background:void 0,"--button-hover":r||o?d.hover:void 0,"--button-color":d.color,"--button-bd":r||o?d.border:void 0,"--button-hover-color":r||o?d.hoverColor:void 0}}},ul=yn((e,t)=>{const r=be("Button",V3,e),{style:i,vars:o,className:s,color:c,disabled:f,children:d,leftSection:h,rightSection:v,fullWidth:g,variant:b,radius:S,loading:C,loaderProps:E,gradient:R,classNames:T,styles:_,unstyled:M,"data-disabled":A,autoContrast:D,mod:N,...O}=r,z=Pe({name:"Button",props:r,classes:Bs,className:s,style:i,classNames:T,styles:_,unstyled:M,vars:o,varsResolver:q3}),F=!!h,I=!!v;return x.jsxs(ho,{ref:t,...z("root",{active:!f&&!C&&!A}),unstyled:M,variant:b,disabled:f||C,mod:[{disabled:f||A,loading:C,block:g,"with-left-section":F,"with-right-section":I},N],...O,children:[x.jsx(il,{mounted:!!C,transition:F3,duration:150,children:G=>x.jsx(ye,{component:"span",...z("loader",{style:G}),"aria-hidden":!0,children:x.jsx(ks,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...E})})}),x.jsxs("span",{...z("inner"),children:[h&&x.jsx(ye,{component:"span",...z("section"),mod:{position:"left"},children:h}),x.jsx(ye,{component:"span",mod:{loading:C},...z("label"),children:d}),v&&x.jsx(ye,{component:"span",...z("section"),mod:{position:"right"},children:v})]})]})});ul.classes=Bs;ul.displayName="@mantine/core/Button";ul.Group=By;ul.GroupSection=$y;const[Y3,G3]=si("Card component was not found in tree");var Hy={root:"m_e615b15f",section:"m_599a2148"};const X3={},Oh=yn((e,t)=>{const r=be("CardSection",X3,e),{classNames:i,className:o,style:s,styles:c,vars:f,withBorder:d,inheritPadding:h,mod:v,...g}=r,b=G3();return x.jsx(ye,{ref:t,mod:[{"with-border":d,"inherit-padding":h},v],...b.getStyles("section",{className:o,style:s,styles:c,classNames:i}),...g})});Oh.classes=Hy;Oh.displayName="@mantine/core/CardSection";const Q3={},W3=(e,{padding:t})=>({root:{"--card-padding":un(t)}}),Mh=yn((e,t)=>{const r=be("Card",Q3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,children:h,padding:v,...g}=r,b=Pe({name:"Card",props:r,classes:Hy,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:W3}),S=y.Children.toArray(h),C=S.map((E,R)=>typeof E=="object"&&E&&"type"in E&&E.type===Oh?y.cloneElement(E,{"data-first-section":R===0||void 0,"data-last-section":R===S.length-1||void 0}):E);return x.jsx(Y3,{value:{getStyles:b},children:x.jsx(Kn,{ref:t,unstyled:f,...b("root"),...g,children:C})})});Mh.classes=Hy;Mh.displayName="@mantine/core/Card";Mh.Section=Oh;var fT={root:"m_4451eb3a"};const K3={},Iy=yn((e,t)=>{const r=be("Center",K3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,inline:h,mod:v,...g}=r,b=Pe({name:"Center",props:r,classes:fT,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d});return x.jsx(ye,{ref:t,mod:[{inline:h},v],...b("root"),...g})});Iy.classes=fT;Iy.displayName="@mantine/core/Center";var dT={root:"m_7485cace"};const Z3={},J3=(e,{size:t,fluid:r})=>({root:{"--container-size":r?void 0:Tt(t,"container-size")}}),so=ze((e,t)=>{const r=be("Container",Z3,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,fluid:h,mod:v,...g}=r,b=Pe({name:"Container",classes:dT,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:J3});return x.jsx(ye,{ref:t,mod:[{fluid:h},v],...b("root"),...g})});so.classes=dT;so.displayName="@mantine/core/Container";function e4({open:e,close:t,openDelay:r,closeDelay:i}){const o=y.useRef(-1),s=y.useRef(-1),c=()=>{window.clearTimeout(o.current),window.clearTimeout(s.current)},f=()=>{c(),r===0||r===void 0?e():o.current=window.setTimeout(e,r)},d=()=>{c(),i===0||i===void 0?t():s.current=window.setTimeout(t,i)};return y.useEffect(()=>c,[]),{openDropdown:f,closeDropdown:d}}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Id.apply(null,arguments)}function Fy(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}var t4=y.useLayoutEffect,n4=function(t){var r=q.useRef(t);return t4(function(){r.current=t}),r},_1=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},r4=function(t,r){var i=q.useRef();return q.useCallback(function(o){t.current=o,i.current&&_1(i.current,null),i.current=r,r&&_1(r,o)},[r])},O1={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},a4=function(t){Object.keys(O1).forEach(function(r){t.style.setProperty(r,O1[r],"important")})},M1=a4,Dn=null,j1=function(t,r){var i=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?i+r.borderSize:i-r.paddingSize};function i4(e,t,r,i){r===void 0&&(r=1),i===void 0&&(i=1/0),Dn||(Dn=document.createElement("textarea"),Dn.setAttribute("tabindex","-1"),Dn.setAttribute("aria-hidden","true"),M1(Dn)),Dn.parentNode===null&&document.body.appendChild(Dn);var o=e.paddingSize,s=e.borderSize,c=e.sizingStyle,f=c.boxSizing;Object.keys(c).forEach(function(b){var S=b;Dn.style[S]=c[S]}),M1(Dn),Dn.value=t;var d=j1(Dn,e);Dn.value=t,d=j1(Dn,e),Dn.value="x";var h=Dn.scrollHeight-o,v=h*r;f==="border-box"&&(v=v+o+s),d=Math.max(v,d);var g=h*i;return f==="border-box"&&(g=g+o+s),d=Math.min(g,d),[d,h]}var A1=function(){},o4=function(t,r){return t.reduce(function(i,o){return i[o]=r[o],i},{})},l4=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],s4=!!document.documentElement.currentStyle,u4=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var i=o4(l4,r),o=i.boxSizing;if(o==="")return null;s4&&o==="border-box"&&(i.width=parseFloat(i.width)+parseFloat(i.borderRightWidth)+parseFloat(i.borderLeftWidth)+parseFloat(i.paddingRight)+parseFloat(i.paddingLeft)+"px");var s=parseFloat(i.paddingBottom)+parseFloat(i.paddingTop),c=parseFloat(i.borderBottomWidth)+parseFloat(i.borderTopWidth);return{sizingStyle:i,paddingSize:s,borderSize:c}},c4=u4;function Vy(e,t,r){var i=n4(r);y.useLayoutEffect(function(){var o=function(c){return i.current(c)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var f4=function(t,r){Vy(document.body,"reset",function(i){t.current.form===i.target&&r(i)})},d4=function(t){Vy(window,"resize",t)},h4=function(t){Vy(document.fonts,"loadingdone",t)},m4=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],p4=function(t,r){var i=t.cacheMeasurements,o=t.maxRows,s=t.minRows,c=t.onChange,f=c===void 0?A1:c,d=t.onHeightChange,h=d===void 0?A1:d,v=Fy(t,m4),g=v.value!==void 0,b=y.useRef(null),S=r4(b,r),C=y.useRef(0),E=y.useRef(),R=function(){var M=b.current,A=i&&E.current?E.current:c4(M);if(A){E.current=A;var D=i4(A,M.value||M.placeholder||"x",s,o),N=D[0],O=D[1];C.current!==N&&(C.current=N,M.style.setProperty("height",N+"px","important"),h(N,{rowHeight:O}))}},T=function(M){g||R(),f(M)};return y.useLayoutEffect(R),f4(b,function(){if(!g){var _=b.current.value;requestAnimationFrame(function(){var M=b.current;M&&_!==M.value&&R()})}}),d4(R),h4(R),y.createElement("textarea",Id({},v,{onChange:T,ref:S}))},g4=y.forwardRef(p4);const v4={},qy=ze((e,t)=>{const{autosize:r,maxRows:i,minRows:o,__staticSelector:s,resize:c,...f}=be("Textarea",v4,e),d=r&&XC()!=="test",h=d?{maxRows:i,minRows:o}:{};return x.jsx(Us,{component:d?g4:"textarea",ref:t,...f,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":r&&i===void 0||void 0,__vars:{"--input-resize":c},...h})});qy.classes=Us.classes;qy.displayName="@mantine/core/Textarea";const[y4,Ac]=si("Menu component was not found in the tree");var $s={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const b4={},Yy=ze((e,t)=>{const{classNames:r,className:i,style:o,styles:s,vars:c,...f}=be("MenuDivider",b4,e),d=Ac();return x.jsx(ye,{ref:t,...d.getStyles("divider",{className:i,style:o,styles:s,classNames:r}),...f})});Yy.classes=$s;Yy.displayName="@mantine/core/MenuDivider";const S4={},Gy=ze((e,t)=>{const{classNames:r,className:i,style:o,styles:s,vars:c,onMouseEnter:f,onMouseLeave:d,onKeyDown:h,children:v,...g}=be("MenuDropdown",S4,e),b=y.useRef(null),S=Ac(),C=wa(h,T=>{var _,M;(T.key==="ArrowUp"||T.key==="ArrowDown")&&(T.preventDefault(),(M=(_=b.current)==null?void 0:_.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||M.focus())}),E=wa(f,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.openDropdown()),R=wa(d,()=>(S.trigger==="hover"||S.trigger==="click-hover")&&S.closeDropdown());return x.jsxs(ol.Dropdown,{...g,onMouseEnter:E,onMouseLeave:R,role:"menu","aria-orientation":"vertical",ref:hr(t,b),...S.getStyles("dropdown",{className:i,style:o,styles:s,classNames:r,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:C,children:[S.withInitialFocusPlaceholder&&x.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),v]})});Gy.classes=$s;Gy.displayName="@mantine/core/MenuDropdown";const w4={},Xy=yn((e,t)=>{const{classNames:r,className:i,style:o,styles:s,vars:c,color:f,closeMenuOnClick:d,leftSection:h,rightSection:v,children:g,disabled:b,"data-disabled":S,...C}=be("MenuItem",w4,e),E=Ac(),R=$n(),{dir:T}=mh(),_=y.useRef(null),M=E.getItemIndex(_.current),A=C,D=wa(A.onMouseLeave,()=>E.setHovered(-1)),N=wa(A.onMouseEnter,()=>E.setHovered(E.getItemIndex(_.current))),O=wa(A.onClick,()=>{S||(typeof d=="boolean"?d&&E.closeDropdownImmediately():E.closeOnItemClick&&E.closeDropdownImmediately())}),z=wa(A.onFocus,()=>E.setHovered(E.getItemIndex(_.current))),F=f?R.variantColorResolver({color:f,theme:R,variant:"light"}):void 0,I=f?As({color:f,theme:R}):null;return x.jsxs(ho,{...C,unstyled:E.unstyled,tabIndex:E.menuItemTabIndex,onFocus:z,...E.getStyles("item",{className:i,style:o,styles:s,classNames:r}),ref:hr(_,t),role:"menuitem",disabled:b,"data-menu-item":!0,"data-disabled":b||S||void 0,"data-hovered":E.hovered===M?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:N,onMouseLeave:D,onClick:O,onKeyDown:DD({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:E.loop,dir:T,orientation:"vertical",onKeyDown:A.onKeyDown}),__vars:{"--menu-item-color":I!=null&&I.isThemeColor&&(I==null?void 0:I.shade)===void 0?`var(--mantine-color-${I.color}-6)`:F==null?void 0:F.color,"--menu-item-hover":F==null?void 0:F.hover},children:[h&&x.jsx("div",{...E.getStyles("itemSection",{styles:s,classNames:r}),"data-position":"left",children:h}),g&&x.jsx("div",{...E.getStyles("itemLabel",{styles:s,classNames:r}),children:g}),v&&x.jsx("div",{...E.getStyles("itemSection",{styles:s,classNames:r}),"data-position":"right",children:v})]})});Xy.classes=$s;Xy.displayName="@mantine/core/MenuItem";const x4={},Qy=ze((e,t)=>{const{classNames:r,className:i,style:o,styles:s,vars:c,...f}=be("MenuLabel",x4,e),d=Ac();return x.jsx(ye,{ref:t,...d.getStyles("label",{className:i,style:o,styles:s,classNames:r}),...f})});Qy.classes=$s;Qy.displayName="@mantine/core/MenuLabel";const E4={refProp:"ref"},hT=y.forwardRef((e,t)=>{const{children:r,refProp:i,...o}=be("MenuTarget",E4,e);if(!ny(r))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=Ac(),c=r.props,f=wa(c.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),d=wa(c.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),h=wa(c.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return x.jsx(ol.Target,{refProp:i,popupType:"menu",ref:t,...o,children:y.cloneElement(r,{onClick:f,onMouseEnter:d,onMouseLeave:h,"data-expanded":s.opened?!0:void 0})})});hT.displayName="@mantine/core/MenuTarget";const C4={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Kt(e){const t=be("Menu",C4,e),{children:r,onOpen:i,onClose:o,opened:s,defaultOpened:c,trapFocus:f,onChange:d,closeOnItemClick:h,loop:v,closeOnEscape:g,trigger:b,openDelay:S,closeDelay:C,classNames:E,styles:R,unstyled:T,variant:_,vars:M,menuItemTabIndex:A,keepMounted:D,withInitialFocusPlaceholder:N,...O}=t,z=Pe({name:"Menu",classes:$s,props:t,classNames:E,styles:R,unstyled:T}),[F,{setHovered:I,resetHovered:G}]=PD(),[J,ce]=ch({value:s,defaultValue:c,finalValue:!1,onChange:d}),[ie,pe]=y.useState(!1),B=()=>{ce(!1),pe(!1),J&&(o==null||o())},X=()=>{ce(!0),!J&&(i==null||i())},te=()=>{J?B():X()},{openDropdown:he,closeDropdown:me}=e4({open:X,close:B,closeDelay:C,openDelay:S}),L=fe=>UD("[data-menu-item]","[data-menu-dropdown]",fe),{resolvedClassNames:W,resolvedStyles:ae}=cy({classNames:E,styles:R,props:t});return ai(()=>{G()},[J]),x.jsx(y4,{value:{getStyles:z,opened:J,toggleDropdown:te,getItemIndex:L,hovered:F,setHovered:I,openedViaClick:ie,setOpenedViaClick:pe,closeOnItemClick:h,closeDropdown:b==="click"?B:me,openDropdown:b==="click"?X:he,closeDropdownImmediately:B,loop:v,trigger:b,unstyled:T,menuItemTabIndex:A,withInitialFocusPlaceholder:N},children:x.jsx(ol,{...O,opened:J,onChange:te,defaultOpened:c,trapFocus:D?!1:f,closeOnEscape:g,__staticSelector:"Menu",classNames:W,styles:ae,unstyled:T,variant:_,keepMounted:D,children:r})})}Kt.extend=e=>e;Kt.withProps=vz(Kt);Kt.classes=$s;Kt.displayName="@mantine/core/Menu";Kt.Item=Xy;Kt.Label=Qy;Kt.Dropdown=Gy;Kt.Target=hT;Kt.Divider=Yy;const[R4,Hs]=si("Modal component was not found in tree");var di={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const T4={},jh=ze((e,t)=>{const r=be("ModalBody",T4,e),{classNames:i,className:o,style:s,styles:c,vars:f,...d}=r,h=Hs();return x.jsx(ZR,{ref:t,...h.getStyles("body",{classNames:i,style:s,styles:c,className:o}),...d})});jh.classes=di;jh.displayName="@mantine/core/ModalBody";const _4={},Ah=ze((e,t)=>{const r=be("ModalCloseButton",_4,e),{classNames:i,className:o,style:s,styles:c,vars:f,...d}=r,h=Hs();return x.jsx(JR,{ref:t,...h.getStyles("close",{classNames:i,style:s,styles:c,className:o}),...d})});Ah.classes=di;Ah.displayName="@mantine/core/ModalCloseButton";const O4={},Dh=ze((e,t)=>{const r=be("ModalContent",O4,e),{classNames:i,className:o,style:s,styles:c,vars:f,children:d,__hidden:h,...v}=r,g=Hs(),b=g.scrollAreaComponent||$L;return x.jsx(eT,{...g.getStyles("content",{className:o,style:s,styles:c,classNames:i}),innerProps:g.getStyles("inner",{className:o,style:s,styles:c,classNames:i}),"data-full-screen":g.fullScreen||void 0,"data-modal-content":!0,"data-hidden":h||void 0,ref:t,...v,children:x.jsx(b,{style:{maxHeight:g.fullScreen?"100dvh":`calc(100dvh - (${ne(g.yOffset)} * 2))`},children:d})})});Dh.classes=di;Dh.displayName="@mantine/core/ModalContent";const M4={},Nh=ze((e,t)=>{const r=be("ModalHeader",M4,e),{classNames:i,className:o,style:s,styles:c,vars:f,...d}=r,h=Hs();return x.jsx(tT,{ref:t,...h.getStyles("header",{classNames:i,style:s,styles:c,className:o}),...d})});Nh.classes=di;Nh.displayName="@mantine/core/ModalHeader";const j4={},zh=ze((e,t)=>{const r=be("ModalOverlay",j4,e),{classNames:i,className:o,style:s,styles:c,vars:f,...d}=r,h=Hs();return x.jsx(nT,{ref:t,...h.getStyles("overlay",{classNames:i,style:s,styles:c,className:o}),...d})});zh.classes=di;zh.displayName="@mantine/core/ModalOverlay";const A4={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ui("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},D4=(e,{radius:t,size:r,yOffset:i,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:_n(t),"--modal-size":Tt(r,"modal-size"),"--modal-y-offset":ne(i),"--modal-x-offset":ne(o)}}),kh=ze((e,t)=>{const r=be("ModalRoot",A4,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,yOffset:h,scrollAreaComponent:v,radius:g,fullScreen:b,centered:S,xOffset:C,__staticSelector:E,...R}=r,T=Pe({name:E,classes:di,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:D4});return x.jsx(R4,{value:{yOffset:h,scrollAreaComponent:v,getStyles:T,fullScreen:b},children:x.jsx(KR,{ref:t,...T("root"),"data-full-screen":b||void 0,"data-centered":S||void 0,"data-offset-scrollbars":v===zs.Autosize||void 0,unstyled:f,...R})})});kh.classes=di;kh.displayName="@mantine/core/ModalRoot";const[N4,z4]=ry();function mT({children:e}){const[t,r]=y.useState([]),[i,o]=y.useState(ui("modal"));return x.jsx(N4,{value:{stack:t,addModal:(s,c)=>{r(f=>[...new Set([...f,s])]),o(f=>typeof c=="number"&&typeof f=="number"?Math.max(f,c):f)},removeModal:s=>r(c=>c.filter(f=>f!==s)),getZIndex:s=>`calc(${i} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:i},children:e})}mT.displayName="@mantine/core/ModalStack";const k4={},Lh=ze((e,t)=>{const r=be("ModalTitle",k4,e),{classNames:i,className:o,style:s,styles:c,vars:f,...d}=r,h=Hs();return x.jsx(rT,{ref:t,...h.getStyles("title",{classNames:i,style:s,styles:c,className:o}),...d})});Lh.classes=di;Lh.displayName="@mantine/core/ModalTitle";const L4={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ui("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},ia=ze((e,t)=>{const{title:r,withOverlay:i,overlayProps:o,withCloseButton:s,closeButtonProps:c,children:f,radius:d,opened:h,stackId:v,zIndex:g,...b}=be("Modal",L4,e),S=z4(),C=!!r||s,E=S&&v?{closeOnEscape:S.currentId===v,trapFocus:S.currentId===v,zIndex:S.getZIndex(v)}:{},R=i===!1?!1:v&&S?S.currentId===v:h;return y.useEffect(()=>{S&&v&&(h?S.addModal(v,g||ui("modal")):S.removeModal(v))},[h,v,g]),x.jsxs(kh,{ref:t,radius:d,opened:h,zIndex:S&&v?S.getZIndex(v):g,...b,...E,children:[i&&x.jsx(zh,{visible:R,transitionProps:S&&v?{duration:0}:void 0,...o}),x.jsxs(Dh,{radius:d,__hidden:S&&v&&h?v!==S.currentId:!1,children:[C&&x.jsxs(Nh,{children:[r&&x.jsx(Lh,{children:r}),s&&x.jsx(Ah,{...c})]}),x.jsx(jh,{children:f})]})]})});ia.classes=di;ia.displayName="@mantine/core/Modal";ia.Root=kh;ia.Overlay=zh;ia.Content=Dh;ia.Body=jh;ia.Header=Nh;ia.Title=Lh;ia.CloseButton=Ah;ia.Stack=mT;var pT={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const U4={},P4=(e,{variant:t,color:r,childrenOffset:i,autoContrast:o})=>{const s=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:t||"light",autoContrast:o});return{root:{"--nl-bg":r||t?s.background:void 0,"--nl-hover":r||t?s.hover:void 0,"--nl-color":r||t?s.color:void 0},children:{"--nl-offset":un(i)}}},Wy=yn((e,t)=>{const r=be("NavLink",U4,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,opened:h,defaultOpened:v,onChange:g,children:b,onClick:S,active:C,disabled:E,leftSection:R,rightSection:T,label:_,description:M,disableRightSectionRotation:A,noWrap:D,childrenOffset:N,onKeyDown:O,autoContrast:z,mod:F,...I}=r,G=Pe({name:"NavLink",props:r,classes:pT,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:P4}),[J,ce]=ch({value:h,defaultValue:v,finalValue:!1,onChange:g}),ie=!!b,pe=B=>{S==null||S(B),ie&&(B.preventDefault(),ce(!J))};return x.jsxs(x.Fragment,{children:[x.jsxs(ho,{...G("root"),component:"a",ref:t,onClick:pe,onKeyDown:B=>{O==null||O(B),B.nativeEvent.code==="Space"&&ie&&(B.preventDefault(),ce(!J))},unstyled:f,mod:[{disabled:E,active:C,expanded:J},F],...I,children:[R&&x.jsx(ye,{component:"span",...G("section"),mod:{position:"left"},children:R}),x.jsxs(ye,{...G("body"),mod:{"no-wrap":D},children:[x.jsx(ye,{component:"span",...G("label"),children:_}),x.jsx(ye,{component:"span",mod:{active:C},...G("description"),children:M})]}),(ie||T!==void 0)&&x.jsx(ye,{...G("section"),component:"span",mod:{rotate:J&&!A,position:"right"},children:ie?T!==void 0?T:x.jsx(oT,{...G("chevron")}):T})]}),ie&&x.jsx(uR,{in:J,...G("collapse"),children:x.jsx("div",{...G("children"),children:b})})]})});Wy.classes=pT;Wy.displayName="@mantine/core/NavLink";var gT={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const B4={withCloseButton:!0},$4=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:_n(t),"--notification-color":r?ea(r,e):void 0}}),Ky=ze((e,t)=>{const r=be("Notification",B4,e),{className:i,color:o,radius:s,loading:c,withCloseButton:f,withBorder:d,title:h,icon:v,children:g,onClose:b,closeButtonProps:S,classNames:C,style:E,styles:R,unstyled:T,variant:_,vars:M,mod:A,loaderProps:D,role:N,...O}=r,z=Pe({name:"Notification",classes:gT,props:r,className:i,style:E,classNames:C,styles:R,unstyled:T,vars:M,varsResolver:$4});return x.jsxs(ye,{...z("root"),mod:[{"data-with-icon":!!v||c,"data-with-border":d},A],ref:t,variant:_,role:N||"alert",...O,children:[v&&!c&&x.jsx("div",{...z("icon"),children:v}),c&&x.jsx(ks,{size:28,color:o,...D,...z("loader")}),x.jsxs("div",{...z("body"),children:[h&&x.jsx("div",{...z("title"),children:h}),x.jsx(ye,{...z("description"),mod:{"data-with-title":!!h},children:g})]}),f&&x.jsx(_c,{iconSize:16,color:"gray",...S,unstyled:T,onClick:b,...z("closeButton")})]})});Ky.classes=gT;Ky.displayName="@mantine/core/Notification";var vT={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const H4={withItemsBorders:!0},I4=(e,{radius:t,color:r,transitionDuration:i,size:o,transitionTimingFunction:s})=>({root:{"--sc-radius":t===void 0?void 0:_n(t),"--sc-color":r?ea(r,e):void 0,"--sc-shadow":r?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":i===void 0?void 0:`${i}ms`,"--sc-transition-timing-function":s,"--sc-padding":Tt(o,"sc-padding"),"--sc-font-size":Wn(o)}}),Zy=ze((e,t)=>{var Ce,Re;const r=be("SegmentedControl",H4,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,data:h,value:v,defaultValue:g,onChange:b,size:S,name:C,disabled:E,readOnly:R,fullWidth:T,orientation:_,radius:M,color:A,transitionDuration:D,transitionTimingFunction:N,variant:O,autoContrast:z,withItemsBorders:F,mod:I,...G}=r,J=Pe({name:"SegmentedControl",props:r,classes:vT,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:I4}),ce=$n(),ie=h.map(Se=>typeof Se=="string"?{label:Se,value:Se}:Se),pe=iN(),[B,X]=y.useState(Ud()),[te,he]=y.useState(null),[me,L]=y.useState({}),W=(Se,st)=>{me[st]=Se,L(me)},[ae,fe]=ch({value:v,defaultValue:g,finalValue:Array.isArray(h)?((Ce=ie.find(Se=>!Se.disabled))==null?void 0:Ce.value)??((Re=h[0])==null?void 0:Re.value)??null:null,onChange:b}),ge=uh(C),xe=ie.map(Se=>y.createElement(ye,{...J("control"),mod:{active:ae===Se.value,orientation:_},key:Se.value},y.createElement("input",{...J("input"),disabled:E||Se.disabled,type:"radio",name:ge,value:Se.value,id:`${ge}-${Se.value}`,checked:ae===Se.value,onChange:()=>!R&&fe(Se.value),"data-focus-ring":ce.focusRing,key:`${Se.value}-input`}),y.createElement(ye,{component:"label",...J("label"),mod:{active:ae===Se.value&&!(E||Se.disabled),disabled:E||Se.disabled,"read-only":R},htmlFor:`${ge}-${Se.value}`,ref:st=>W(st,Se.value),__vars:{"--sc-label-color":A!==void 0?JC({color:A,theme:ce,autoContrast:z}):void 0},key:`${Se.value}-label`},x.jsx("span",{...J("innerLabel"),children:Se.label})))),se=hr(t,Se=>he(Se));return nN(()=>{X(Ud())},[h.length]),h.length===0?null:x.jsxs(ye,{...J("root"),variant:O,size:S,ref:se,mod:[{"full-width":T,orientation:_,initialized:pe,"with-items-borders":F},I],...G,role:"radiogroup","data-disabled":E,children:[typeof ae=="string"&&x.jsx(jy,{target:me[ae],parent:te,component:"span",transitionDuration:"var(--sc-transition-duration)",...J("indicator")},B),xe]})});Zy.classes=vT;Zy.displayName="@mantine/core/SegmentedControl";function F4({spacing:e,verticalSpacing:t,cols:r,selector:i}){var v;const o=$n(),s=t===void 0?e:t,c=Cc({"--sg-spacing-x":un(us(e)),"--sg-spacing-y":un(us(s)),"--sg-cols":(v=us(r))==null?void 0:v.toString()}),f=qt(o.breakpoints).reduce((g,b)=>(g[b]||(g[b]={}),typeof e=="object"&&e[b]!==void 0&&(g[b]["--sg-spacing-x"]=un(e[b])),typeof s=="object"&&s[b]!==void 0&&(g[b]["--sg-spacing-y"]=un(s[b])),typeof r=="object"&&r[b]!==void 0&&(g[b]["--sg-cols"]=r[b]),g),{}),h=iv(qt(f),o.breakpoints).filter(g=>qt(f[g.value]).length>0).map(g=>({query:`(min-width: ${o.breakpoints[g.value]})`,styles:f[g.value]}));return x.jsx(hh,{styles:c,media:h,selector:i})}function Dg(e){return typeof e=="object"&&e!==null?qt(e):[]}function V4(e){return e.sort((t,r)=>oc(t)-oc(r))}function q4({spacing:e,verticalSpacing:t,cols:r}){const i=Array.from(new Set([...Dg(e),...Dg(t),...Dg(r)]));return V4(i)}function Y4({spacing:e,verticalSpacing:t,cols:r,selector:i}){var h;const o=t===void 0?e:t,s=Cc({"--sg-spacing-x":un(us(e)),"--sg-spacing-y":un(us(o)),"--sg-cols":(h=us(r))==null?void 0:h.toString()}),c=q4({spacing:e,verticalSpacing:t,cols:r}),f=c.reduce((v,g)=>(v[g]||(v[g]={}),typeof e=="object"&&e[g]!==void 0&&(v[g]["--sg-spacing-x"]=un(e[g])),typeof o=="object"&&o[g]!==void 0&&(v[g]["--sg-spacing-y"]=un(o[g])),typeof r=="object"&&r[g]!==void 0&&(v[g]["--sg-cols"]=r[g]),v),{}),d=c.map(v=>({query:`simple-grid (min-width: ${v})`,styles:f[v]}));return x.jsx(hh,{styles:s,container:d,selector:i})}var yT={container:"m_925c2d2c",root:"m_2415a157"};const G4={cols:1,spacing:"md",type:"media"},uc=ze((e,t)=>{const r=be("SimpleGrid",G4,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,cols:h,verticalSpacing:v,spacing:g,type:b,...S}=r,C=Pe({name:"SimpleGrid",classes:yT,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d}),E=rR();return b==="container"?x.jsxs(x.Fragment,{children:[x.jsx(Y4,{...r,selector:`.${E}`}),x.jsx("div",{...C("container"),children:x.jsx(ye,{ref:t,...C("root",{className:E}),...S})})]}):x.jsxs(x.Fragment,{children:[x.jsx(F4,{...r,selector:`.${E}`}),x.jsx(ye,{ref:t,...C("root",{className:E}),...S})]})});uc.classes=yT;uc.displayName="@mantine/core/SimpleGrid";var bT={root:"m_18320242","skeleton-fade":"m_299c329c"};const X4={visible:!0,animate:!0},Q4=(e,{width:t,height:r,radius:i,circle:o})=>({root:{"--skeleton-height":ne(r),"--skeleton-width":ne(o?r:t),"--skeleton-radius":o?"1000px":i===void 0?void 0:_n(i)}}),Dr=ze((e,t)=>{const r=be("Skeleton",X4,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,width:h,height:v,circle:g,visible:b,radius:S,animate:C,mod:E,...R}=r,T=Pe({name:"Skeleton",classes:bT,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:Q4});return x.jsx(ye,{ref:t,...T("root"),mod:[{visible:b,animate:C},E],...R})});Dr.classes=bT;Dr.displayName="@mantine/core/Skeleton";var ST={root:"m_6d731127"};const W4={gap:"md",align:"stretch",justify:"flex-start"},K4=(e,{gap:t,align:r,justify:i})=>({root:{"--stack-gap":un(t),"--stack-align":r,"--stack-justify":i}}),Zn=ze((e,t)=>{const r=be("Stack",W4,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,align:h,justify:v,gap:g,variant:b,...S}=r,C=Pe({name:"Stack",props:r,classes:ST,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:K4});return x.jsx(ye,{ref:t,...C("root"),variant:b,...S})});Zn.classes=ST;Zn.displayName="@mantine/core/Stack";const[Z4,J4]=si("Table component was not found in the tree");var Dc={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function eU(e,t){if(!t)return;const r={};return t.columnBorder&&e.withColumnBorders&&(r["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(r["data-with-row-border"]=!0),t.striped&&e.striped&&(r["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(r["data-hover"]=!0),t.captionSide&&e.captionSide&&(r["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(r["data-sticky"]=!0),r}function cl(e,t){const r=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,i=ze((o,s)=>{const c=be(r,{},o),{classNames:f,className:d,style:h,styles:v,...g}=c,b=J4();return x.jsx(ye,{component:e,ref:s,...eU(b,t),...b.getStyles(e,{className:d,classNames:f,style:h,styles:v,props:c}),...g})});return i.displayName=`@mantine/core/${r}`,i.classes=Dc,i}const vv=cl("th",{columnBorder:!0}),wT=cl("td",{columnBorder:!0}),Td=cl("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),xT=cl("thead",{stickyHeader:!0}),ET=cl("tbody"),CT=cl("tfoot"),RT=cl("caption",{captionSide:!0});function Jy({data:e}){return x.jsxs(x.Fragment,{children:[e.caption&&x.jsx(RT,{children:e.caption}),e.head&&x.jsx(xT,{children:x.jsx(Td,{children:e.head.map((t,r)=>x.jsx(vv,{children:t},r))})}),e.body&&x.jsx(ET,{children:e.body.map((t,r)=>x.jsx(Td,{children:t.map((i,o)=>x.jsx(wT,{children:i},o))},r))}),e.foot&&x.jsx(CT,{children:x.jsx(Td,{children:e.foot.map((t,r)=>x.jsx(vv,{children:t},r))})})]})}Jy.displayName="@mantine/core/TableDataRenderer";const tU={type:"scrollarea"},nU=(e,{minWidth:t,maxHeight:r,type:i})=>({scrollContainer:{"--table-min-width":ne(t),"--table-max-height":ne(r),"--table-overflow":i==="native"?"auto":void 0}}),eb=ze((e,t)=>{const r=be("TableScrollContainer",tU,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,children:h,minWidth:v,maxHeight:g,type:b,scrollAreaProps:S,...C}=r,E=Pe({name:"TableScrollContainer",classes:Dc,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:nU,rootSelector:"scrollContainer"});return x.jsx(ye,{component:b==="scrollarea"?zs:"div",...b==="scrollarea"?g?{offsetScrollbars:"xy",...S}:{offsetScrollbars:"x",...S}:{},ref:t,...E("scrollContainer"),...C,children:x.jsx("div",{...E("scrollContainerInner"),children:h})})});eb.classes=Dc;eb.displayName="@mantine/core/TableScrollContainer";const rU={withRowBorders:!0,verticalSpacing:7},aU=(e,{layout:t,captionSide:r,horizontalSpacing:i,verticalSpacing:o,borderColor:s,stripedColor:c,highlightOnHoverColor:f,striped:d,highlightOnHover:h,stickyHeaderOffset:v,stickyHeader:g})=>({table:{"--table-layout":t,"--table-caption-side":r,"--table-horizontal-spacing":un(i),"--table-vertical-spacing":un(o),"--table-border-color":s?ea(s,e):void 0,"--table-striped-color":d&&c?ea(c,e):void 0,"--table-highlight-on-hover-color":h&&f?ea(f,e):void 0,"--table-sticky-header-offset":g?ne(v):void 0}}),bt=ze((e,t)=>{const r=be("Table",rU,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,horizontalSpacing:h,verticalSpacing:v,captionSide:g,stripedColor:b,highlightOnHoverColor:S,striped:C,highlightOnHover:E,withColumnBorders:R,withRowBorders:T,withTableBorder:_,borderColor:M,layout:A,variant:D,data:N,children:O,stickyHeader:z,stickyHeaderOffset:F,mod:I,tabularNums:G,...J}=r,ce=Pe({name:"Table",props:r,className:o,style:s,classes:Dc,classNames:i,styles:c,unstyled:f,rootSelector:"table",vars:d,varsResolver:aU});return x.jsx(Z4,{value:{getStyles:ce,stickyHeader:z,striped:C===!0?"odd":C||void 0,highlightOnHover:E,withColumnBorders:R,withRowBorders:T,captionSide:g||"bottom"},children:x.jsx(ye,{component:"table",variant:D,ref:t,mod:[{"data-with-table-border":_,"data-tabular-nums":G},I],...ce("table"),...J,children:O||!!N&&x.jsx(Jy,{data:N})})})});bt.classes=Dc;bt.displayName="@mantine/core/Table";bt.Td=wT;bt.Th=vv;bt.Tr=Td;bt.Thead=xT;bt.Tbody=ET;bt.Tfoot=CT;bt.Caption=RT;bt.ScrollContainer=eb;bt.DataRenderer=Jy;const iU={},Uh=ze((e,t)=>{const r=be("TextInput",iU,e);return x.jsx(Us,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Uh.classes=Us.classes;Uh.displayName="@mantine/core/TextInput";var TT={root:"m_7341320d"};const oU={},lU=(e,{size:t,radius:r,variant:i,gradient:o,color:s,autoContrast:c})=>{const f=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:o,variant:i||"filled",autoContrast:c});return{root:{"--ti-size":Tt(t,"ti-size"),"--ti-radius":r===void 0?void 0:_n(r),"--ti-bg":s||i?f.background:void 0,"--ti-color":s||i?f.color:void 0,"--ti-bd":s||i?f.border:void 0}}},ni=ze((e,t)=>{const r=be("ThemeIcon",oU,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,autoContrast:h,...v}=r,g=Pe({name:"ThemeIcon",classes:TT,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:lU});return x.jsx(ye,{ref:t,...g("root"),...v})});ni.classes=TT;ni.displayName="@mantine/core/ThemeIcon";const sU=["h1","h2","h3","h4","h5","h6"],uU=["xs","sm","md","lg","xl"];function cU(e,t){const r=t!==void 0?t:`h${e}`;return sU.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:uU.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:ne(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var _T={root:"m_8a5d1357"};const fU={order:1},dU=(e,{order:t,size:r,lineClamp:i,textWrap:o})=>{const s=cU(t,r);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof i=="number"?i.toString():void 0,"--title-text-wrap":o}}},nl=ze((e,t)=>{const r=be("Title",fU,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,order:d,vars:h,size:v,variant:g,lineClamp:b,textWrap:S,mod:C,...E}=r,R=Pe({name:"Title",props:r,classes:_T,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:h,varsResolver:dU});return[1,2,3,4,5,6].includes(d)?x.jsx(ye,{...R("root"),component:`h${d}`,variant:g,ref:t,mod:[{order:d,"data-line-clamp":typeof b=="number"},C],size:v,...E}):null});nl.classes=_T;nl.displayName="@mantine/core/Title";function hU(e){let t=e,r=!1;const i=new Set;return{getState(){return t},updateState(o){t=typeof o=="function"?o(t):o},setState(o){this.updateState(o),i.forEach(s=>s(t))},initialize(o){r||(t=o,r=!0)},subscribe(o){return i.add(o),()=>i.delete(o)}}}function mU(e){return y.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function pU(e,t,r){const i=[],o=[],s={};for(const c of e){const f=c.position||t;s[f]=s[f]||0,s[f]+=1,s[f]<=r?o.push(c):i.push(c)}return{notifications:o,queue:i}}const gU=()=>hU({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),fl=gU(),vU=(e=fl)=>mU(e);function Is(e,t){const r=e.getState(),i=t([...r.notifications,...r.queue]),o=pU(i,r.defaultPosition,r.limit);e.setState({notifications:o.notifications,queue:o.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function yU(e,t=fl){const r=e.id||Ud();return Is(t,i=>e.id&&i.some(o=>o.id===e.id)?i:[...i,{...e,id:r}]),r}function OT(e,t=fl){return Is(t,r=>r.filter(i=>{var o;return i.id===e?((o=i.onClose)==null||o.call(i,i),!1):!0})),e}function bU(e,t=fl){return Is(t,r=>r.map(i=>i.id===e.id?{...i,...e}:i)),e.id}function SU(e=fl){Is(e,()=>[])}function wU(e=fl){Is(e,t=>t.slice(0,e.getState().limit))}const fo={show:yU,hide:OT,update:bU,clean:SU,cleanQueue:wU,updateState:Is};function yv(e,t){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yv(e,t)}function MT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yv(e,t)}const D1={disabled:!1},Fd=q.createContext(null);var xU=function(t){return t.scrollTop},Wu="unmounted",Lo="exited",Uo="entering",as="entered",bv="exiting",hi=(function(e){MT(t,e);function t(i,o){var s;s=e.call(this,i,o)||this;var c=o,f=c&&!c.isMounting?i.enter:i.appear,d;return s.appearStatus=null,i.in?f?(d=Lo,s.appearStatus=Uo):d=as:i.unmountOnExit||i.mountOnEnter?d=Wu:d=Lo,s.state={status:d},s.nextCallback=null,s}t.getDerivedStateFromProps=function(o,s){var c=o.in;return c&&s.status===Wu?{status:Lo}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var s=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==Uo&&c!==as&&(s=Uo):(c===Uo||c===as)&&(s=bv)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,s,c,f;return s=c=f=o,o!=null&&typeof o!="number"&&(s=o.exit,c=o.enter,f=o.appear!==void 0?o.appear:c),{exit:s,enter:c,appear:f}},r.updateStatus=function(o,s){if(o===void 0&&(o=!1),s!==null)if(this.cancelNextCallback(),s===Uo){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Xu.findDOMNode(this);c&&xU(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Lo&&this.setState({status:Wu})},r.performEnter=function(o){var s=this,c=this.props.enter,f=this.context?this.context.isMounting:o,d=this.props.nodeRef?[f]:[Xu.findDOMNode(this),f],h=d[0],v=d[1],g=this.getTimeouts(),b=f?g.appear:g.enter;if(!o&&!c||D1.disabled){this.safeSetState({status:as},function(){s.props.onEntered(h)});return}this.props.onEnter(h,v),this.safeSetState({status:Uo},function(){s.props.onEntering(h,v),s.onTransitionEnd(b,function(){s.safeSetState({status:as},function(){s.props.onEntered(h,v)})})})},r.performExit=function(){var o=this,s=this.props.exit,c=this.getTimeouts(),f=this.props.nodeRef?void 0:Xu.findDOMNode(this);if(!s||D1.disabled){this.safeSetState({status:Lo},function(){o.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:bv},function(){o.props.onExiting(f),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:Lo},function(){o.props.onExited(f)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,s){s=this.setNextCallback(s),this.setState(o,s)},r.setNextCallback=function(o){var s=this,c=!0;return this.nextCallback=function(f){c&&(c=!1,s.nextCallback=null,o(f))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(o,s){this.setNextCallback(s);var c=this.props.nodeRef?this.props.nodeRef.current:Xu.findDOMNode(this),f=o==null&&!this.props.addEndListener;if(!c||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],h=d[0],v=d[1];this.props.addEndListener(h,v)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===Wu)return null;var s=this.props,c=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var f=Fy(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return q.createElement(Fd.Provider,{value:null},typeof c=="function"?c(o,f):q.cloneElement(q.Children.only(c),f))},t})(q.Component);hi.contextType=Fd;hi.propTypes={};function ts(){}hi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ts,onEntering:ts,onEntered:ts,onExit:ts,onExiting:ts,onExited:ts};hi.UNMOUNTED=Wu;hi.EXITED=Lo;hi.ENTERING=Uo;hi.ENTERED=as;hi.EXITING=bv;function EU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tb(e,t){var r=function(s){return t&&y.isValidElement(s)?t(s):s},i=Object.create(null);return e&&y.Children.map(e,function(o){return o}).forEach(function(o){i[o.key]=r(o)}),i}function CU(e,t){e=e||{},t=t||{};function r(v){return v in t?t[v]:e[v]}var i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var c,f={};for(var d in t){if(i[d])for(c=0;c<i[d].length;c++){var h=i[d][c];f[i[d][c]]=r(h)}f[d]=r(d)}for(c=0;c<o.length;c++)f[o[c]]=r(o[c]);return f}function Bo(e,t,r){return r[t]!=null?r[t]:e.props[t]}function RU(e,t){return tb(e.children,function(r){return y.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Bo(r,"appear",e),enter:Bo(r,"enter",e),exit:Bo(r,"exit",e)})})}function TU(e,t,r){var i=tb(e.children),o=CU(t,i);return Object.keys(o).forEach(function(s){var c=o[s];if(y.isValidElement(c)){var f=s in t,d=s in i,h=t[s],v=y.isValidElement(h)&&!h.props.in;d&&(!f||v)?o[s]=y.cloneElement(c,{onExited:r.bind(null,c),in:!0,exit:Bo(c,"exit",e),enter:Bo(c,"enter",e)}):!d&&f&&!v?o[s]=y.cloneElement(c,{in:!1}):d&&f&&y.isValidElement(h)&&(o[s]=y.cloneElement(c,{onExited:r.bind(null,c),in:h.props.in,exit:Bo(c,"exit",e),enter:Bo(c,"enter",e)}))}}),o}var _U=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},OU={component:"div",childFactory:function(t){return t}},Vi=(function(e){MT(t,e);function t(i,o){var s;s=e.call(this,i,o)||this;var c=s.handleExited.bind(EU(s));return s.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},s}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,s){var c=s.children,f=s.handleExited,d=s.firstRender;return{children:d?RU(o,f):TU(o,c,f),firstRender:!1}},r.handleExited=function(o,s){var c=tb(this.props.children);o.key in c||(o.props.onExited&&o.props.onExited(s),this.mounted&&this.setState(function(f){var d=Id({},f.children);return delete d[o.key],{children:d}}))},r.render=function(){var o=this.props,s=o.component,c=o.childFactory,f=Fy(o,["component","childFactory"]),d=this.state.contextValue,h=_U(this.state.children).map(c);return delete f.appear,delete f.enter,delete f.exit,s===null?q.createElement(Fd.Provider,{value:d},h):q.createElement(Fd.Provider,{value:d},q.createElement(s,f,h))},t})(q.Component);Vi.propTypes={};Vi.defaultProps=OU;const jT=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function MU(e,t){return e.reduce((r,i)=>(r[i.position||t].push(i),r),jT.reduce((r,i)=>(r[i]=[],r),{}))}const N1={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},jU={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function AU({state:e,maxHeight:t,position:r,transitionDuration:i}){const[o,s]=r.split("-"),c=s==="center"?`${o}-center`:s,f={opacity:0,maxHeight:t,transform:N1[c],transitionDuration:`${i}ms, ${i}ms, ${i}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},d={opacity:1,transform:jU[c]},h={opacity:0,maxHeight:0,transform:N1[c]};return{...f,...{entering:d,entered:d,exiting:h,exited:h}[e]}}function DU(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const AT=y.forwardRef(({data:e,onHide:t,autoClose:r,...i},o)=>{const{autoClose:s,message:c,...f}=e,d=DU(r,e.autoClose),h=y.useRef(-1),v=()=>window.clearTimeout(h.current),g=()=>{t(e.id),v()},b=()=>{typeof d=="number"&&(h.current=window.setTimeout(g,d))};return y.useEffect(()=>{var S;(S=e.onOpen)==null||S.call(e,e)},[]),y.useEffect(()=>(b(),v),[d]),x.jsx(Ky,{...i,...f,onClose:g,ref:o,onMouseEnter:v,onMouseLeave:b,children:c})});AT.displayName="@mantine/notifications/NotificationContainer";var DT={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const NU=hi,zU={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:ui("overlay"),store:fl,withinPortal:!0},kU=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":ne(r)}}),mi=ze((e,t)=>{const r=be("Notifications",zU,e),{classNames:i,className:o,style:s,styles:c,unstyled:f,vars:d,position:h,autoClose:v,transitionDuration:g,containerWidth:b,notificationMaxHeight:S,limit:C,zIndex:E,store:R,portalProps:T,withinPortal:_,...M}=r,A=$n(),D=vU(R),N=KD(),O=fh(),z=y.useRef({}),F=y.useRef(0),G=(A.respectReducedMotion?O:!1)?1:g,J=Pe({name:"Notifications",classes:DT,props:r,className:o,style:s,classNames:i,styles:c,unstyled:f,vars:d,varsResolver:kU});y.useEffect(()=>{R==null||R.updateState(pe=>({...pe,limit:C||5,defaultPosition:h}))},[C,h]),ai(()=>{D.notifications.length>F.current&&setTimeout(()=>N(),0),F.current=D.notifications.length},[D.notifications]);const ce=MU(D.notifications,h),ie=jT.reduce((pe,B)=>(pe[B]=ce[B].map(({style:X,...te})=>x.jsx(NU,{timeout:G,onEnter:()=>z.current[te.id].offsetHeight,nodeRef:{current:z.current[te.id]},children:he=>x.jsx(AT,{ref:me=>{me&&(z.current[te.id]=me)},data:te,onHide:me=>OT(me,R),autoClose:v,...J("notification",{style:{...AU({state:he,position:B,transitionDuration:G,maxHeight:S}),...X}})})},te.id)),pe),{});return x.jsxs(Tc,{withinPortal:_,...T,children:[x.jsx(ye,{...J("root"),"data-position":"top-center",ref:t,...M,children:x.jsx(Vi,{children:ie["top-center"]})}),x.jsx(ye,{...J("root"),"data-position":"top-left",...M,children:x.jsx(Vi,{children:ie["top-left"]})}),x.jsx(ye,{...J("root",{className:Rs.classNames.fullWidth}),"data-position":"top-right",...M,children:x.jsx(Vi,{children:ie["top-right"]})}),x.jsx(ye,{...J("root",{className:Rs.classNames.fullWidth}),"data-position":"bottom-right",...M,children:x.jsx(Vi,{children:ie["bottom-right"]})}),x.jsx(ye,{...J("root"),"data-position":"bottom-left",...M,children:x.jsx(Vi,{children:ie["bottom-left"]})}),x.jsx(ye,{...J("root"),"data-position":"bottom-center",...M,children:x.jsx(Vi,{children:ie["bottom-center"]})})]})});mi.classes=DT;mi.displayName="@mantine/notifications/Notifications";mi.show=fo.show;mi.hide=fo.hide;mi.update=fo.update;mi.clean=fo.clean;mi.cleanQueue=fo.cleanQueue;mi.updateState=fo.updateState;var Fs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},LU={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Wi,Xv,FE,UU=(FE=class{constructor(){De(this,Wi,LU);De(this,Xv,!1)}setTimeoutProvider(e){Ee(this,Wi,e)}setTimeout(e,t){return P(this,Wi).setTimeout(e,t)}clearTimeout(e){P(this,Wi).clearTimeout(e)}setInterval(e,t){return P(this,Wi).setInterval(e,t)}clearInterval(e){P(this,Wi).clearInterval(e)}},Wi=new WeakMap,Xv=new WeakMap,FE),$o=new UU;function PU(e){setTimeout(e,0)}var rl=typeof window>"u"||"Deno"in globalThis;function Ln(){}function BU(e,t){return typeof e=="function"?e(t):e}function Sv(e){return typeof e=="number"&&e>=0&&e!==1/0}function NT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function uo(e,t){return typeof e=="function"?e(t):e}function Mr(e,t){return typeof e=="function"?e(t):e}function z1(e,t){const{type:r="all",exact:i,fetchStatus:o,predicate:s,queryKey:c,stale:f}=e;if(c){if(i){if(t.queryHash!==nb(c,t.options))return!1}else if(!cc(t.queryKey,c))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||s&&!s(t))}function k1(e,t){const{exact:r,status:i,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(al(t.options.mutationKey)!==al(s))return!1}else if(!cc(t.options.mutationKey,s))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function nb(e,t){return((t==null?void 0:t.queryKeyHashFn)||al)(e)}function al(e){return JSON.stringify(e,(t,r)=>wv(r)?Object.keys(r).sort().reduce((i,o)=>(i[o]=r[o],i),{}):r)}function cc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>cc(e[r],t[r])):!1}var $U=Object.prototype.hasOwnProperty;function zT(e,t,r=0){if(e===t)return e;if(r>500)return t;const i=L1(e)&&L1(t);if(!i&&!(wv(e)&&wv(t)))return t;const s=(i?e:Object.keys(e)).length,c=i?t:Object.keys(t),f=c.length,d=i?new Array(f):{};let h=0;for(let v=0;v<f;v++){const g=i?v:c[v],b=e[g],S=t[g];if(b===S){d[g]=b,(i?v<s:$U.call(e,g))&&h++;continue}if(b===null||S===null||typeof b!="object"||typeof S!="object"){d[g]=S;continue}const C=zT(b,S,r+1);d[g]=C,C===b&&h++}return s===f&&h===s?e:d}function Vd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function L1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wv(e){if(!U1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!U1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function U1(e){return Object.prototype.toString.call(e)==="[object Object]"}function HU(e){return new Promise(t=>{$o.setTimeout(t,e)})}function xv(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?zT(e,t):t}function IU(e,t,r=0){const i=[...e,t];return r&&i.length>r?i.slice(1):i}function FU(e,t,r=0){const i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var rb=Symbol();function kT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ab(e,t){return typeof e=="function"?e(...t):!!e}function VU(e,t,r){let i=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??(o=t()),i||(i=!0,o.aborted?r():o.addEventListener("abort",r,{once:!0})),o)}),e}var Vo,Ki,hs,VE,qU=(VE=class extends Fs{constructor(){super();De(this,Vo);De(this,Ki);De(this,hs);Ee(this,hs,t=>{if(!rl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,Ki)||this.setEventListener(P(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Ki))==null||t.call(this),Ee(this,Ki,void 0))}setEventListener(t){var r;Ee(this,hs,t),(r=P(this,Ki))==null||r.call(this),Ee(this,Ki,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){P(this,Vo)!==t&&(Ee(this,Vo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof P(this,Vo)=="boolean"?P(this,Vo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vo=new WeakMap,Ki=new WeakMap,hs=new WeakMap,VE),ib=new qU;function Ev(){let e,t;const r=new Promise((o,s)=>{e=o,t=s});r.status="pending",r.catch(()=>{});function i(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},r.reject=o=>{i({status:"rejected",reason:o}),t(o)},r}var YU=PU;function GU(){let e=[],t=0,r=f=>{f()},i=f=>{f()},o=YU;const s=f=>{t?e.push(f):o(()=>{r(f)})},c=()=>{const f=e;e=[],f.length&&o(()=>{i(()=>{f.forEach(d=>{r(d)})})})};return{batch:f=>{let d;t++;try{d=f()}finally{t--,t||c()}return d},batchCalls:f=>(...d)=>{s(()=>{f(...d)})},schedule:s,setNotifyFunction:f=>{r=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var rn=GU(),ms,Zi,ps,qE,XU=(qE=class extends Fs{constructor(){super();De(this,ms,!0);De(this,Zi);De(this,ps);Ee(this,ps,t=>{if(!rl&&window.addEventListener){const r=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}})}onSubscribe(){P(this,Zi)||this.setEventListener(P(this,ps))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Zi))==null||t.call(this),Ee(this,Zi,void 0))}setEventListener(t){var r;Ee(this,ps,t),(r=P(this,Zi))==null||r.call(this),Ee(this,Zi,t(this.setOnline.bind(this)))}setOnline(t){P(this,ms)!==t&&(Ee(this,ms,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return P(this,ms)}},ms=new WeakMap,Zi=new WeakMap,ps=new WeakMap,qE),qd=new XU;function QU(e){return Math.min(1e3*2**e,3e4)}function LT(e){return(e??"online")==="online"?qd.isOnline():!0}var Cv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function UT(e){let t=!1,r=0,i;const o=Ev(),s=()=>o.status!=="pending",c=E=>{var R;if(!s()){const T=new Cv(E);b(T),(R=e.onCancel)==null||R.call(e,T)}},f=()=>{t=!0},d=()=>{t=!1},h=()=>ib.isFocused()&&(e.networkMode==="always"||qd.isOnline())&&e.canRun(),v=()=>LT(e.networkMode)&&e.canRun(),g=E=>{s()||(i==null||i(),o.resolve(E))},b=E=>{s()||(i==null||i(),o.reject(E))},S=()=>new Promise(E=>{var R;i=T=>{(s()||h())&&E(T)},(R=e.onPause)==null||R.call(e)}).then(()=>{var E;i=void 0,s()||(E=e.onContinue)==null||E.call(e)}),C=()=>{if(s())return;let E;const R=r===0?e.initialPromise:void 0;try{E=R??e.fn()}catch(T){E=Promise.reject(T)}Promise.resolve(E).then(g).catch(T=>{var N;if(s())return;const _=e.retry??(rl?0:3),M=e.retryDelay??QU,A=typeof M=="function"?M(r,T):M,D=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,T);if(t||!D){b(T);return}r++,(N=e.onFail)==null||N.call(e,r,T),HU(A).then(()=>h()?void 0:S()).then(()=>{t?b(T):C()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(i==null||i(),o),cancelRetry:f,continueRetry:d,canStart:v,start:()=>(v()?C():S().then(C),o)}}var qo,YE,PT=(YE=class{constructor(){De(this,qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sv(this.gcTime)&&Ee(this,qo,$o.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(rl?1/0:300*1e3))}clearGcTimeout(){P(this,qo)&&($o.clearTimeout(P(this,qo)),Ee(this,qo,void 0))}},qo=new WeakMap,YE),Yo,gs,_r,Go,ln,vc,Xo,Xr,Wa,GE,WU=(GE=class extends PT{constructor(t){super();De(this,Xr);De(this,Yo);De(this,gs);De(this,_r);De(this,Go);De(this,ln);De(this,vc);De(this,Xo);Ee(this,Xo,!1),Ee(this,vc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,Go,t.client),Ee(this,_r,P(this,Go).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,Yo,B1(this.options)),this.state=t.state??P(this,Yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,ln))==null?void 0:t.promise}setOptions(t){if(this.options={...P(this,vc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=B1(this.options);r.data!==void 0&&(this.setState(P1(r.data,r.dataUpdatedAt)),Ee(this,Yo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,_r).remove(this)}setData(t,r){const i=xv(this.state.data,t,this.options);return Fe(this,Xr,Wa).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){Fe(this,Xr,Wa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,o;const r=(i=P(this,ln))==null?void 0:i.promise;return(o=P(this,ln))==null||o.cancel(t),r?r.then(Ln).catch(Ln):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,Yo))}isActive(){return this.observers.some(t=>Mr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>uo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!NT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,ln))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,ln))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,_r).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(P(this,ln)&&(P(this,Xo)?P(this,ln).cancel({revert:!0}):P(this,ln).cancelRetry()),this.scheduleGc()),P(this,_r).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,Xr,Wa).call(this,{type:"invalidate"})}async fetch(t,r){var d,h,v,g,b,S,C,E,R,T,_,M;if(this.state.fetchStatus!=="idle"&&((d=P(this,ln))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,ln))return P(this,ln).continueRetry(),P(this,ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const A=this.observers.find(D=>D.options.queryFn);A&&this.setOptions(A.options)}const i=new AbortController,o=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(Ee(this,Xo,!0),i.signal)})},s=()=>{const A=kT(this.options,r),N=(()=>{const O={client:P(this,Go),queryKey:this.queryKey,meta:this.meta};return o(O),O})();return Ee(this,Xo,!1),this.options.persister?this.options.persister(A,N,this):A(N)},f=(()=>{const A={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:P(this,Go),state:this.state,fetchFn:s};return o(A),A})();(h=this.options.behavior)==null||h.onFetch(f,this),Ee(this,gs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=f.fetchOptions)==null?void 0:v.meta))&&Fe(this,Xr,Wa).call(this,{type:"fetch",meta:(g=f.fetchOptions)==null?void 0:g.meta}),Ee(this,ln,UT({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,onCancel:A=>{A instanceof Cv&&A.revert&&this.setState({...P(this,gs),fetchStatus:"idle"}),i.abort()},onFail:(A,D)=>{Fe(this,Xr,Wa).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{Fe(this,Xr,Wa).call(this,{type:"pause"})},onContinue:()=>{Fe(this,Xr,Wa).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const A=await P(this,ln).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(S=(b=P(this,_r).config).onSuccess)==null||S.call(b,A,this),(E=(C=P(this,_r).config).onSettled)==null||E.call(C,A,this.state.error,this),A}catch(A){if(A instanceof Cv){if(A.silent)return P(this,ln).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Fe(this,Xr,Wa).call(this,{type:"error",error:A}),(T=(R=P(this,_r).config).onError)==null||T.call(R,A,this),(M=(_=P(this,_r).config).onSettled)==null||M.call(_,this.state.data,A,this),A}finally{this.scheduleGc()}}},Yo=new WeakMap,gs=new WeakMap,_r=new WeakMap,Go=new WeakMap,ln=new WeakMap,vc=new WeakMap,Xo=new WeakMap,Xr=new WeakSet,Wa=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...BT(i.data,this.options),fetchMeta:t.meta??null};case"success":const o={...i,...P1(t.data,t.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ee(this,gs,t.manual?o:void 0),o;case"error":const s=t.error;return{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),rn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),P(this,_r).notify({query:this,type:"updated",action:t})})},GE);function BT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function P1(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function B1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xn,tt,yc,Nn,Qo,vs,Za,Ji,bc,ys,bs,Wo,Ko,eo,Ss,ut,Ku,Rv,Tv,_v,Ov,Mv,jv,Av,$T,XE,KU=(XE=class extends Fs{constructor(t,r){super();De(this,ut);De(this,Xn);De(this,tt);De(this,yc);De(this,Nn);De(this,Qo);De(this,vs);De(this,Za);De(this,Ji);De(this,bc);De(this,ys);De(this,bs);De(this,Wo);De(this,Ko);De(this,eo);De(this,Ss,new Set);this.options=r,Ee(this,Xn,t),Ee(this,Ji,null),Ee(this,Za,Ev()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,tt).addObserver(this),$1(P(this,tt),this.options)?Fe(this,ut,Ku).call(this):this.updateResult(),Fe(this,ut,Ov).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dv(P(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dv(P(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,ut,Mv).call(this),Fe(this,ut,jv).call(this),P(this,tt).removeObserver(this)}setOptions(t){const r=this.options,i=P(this,tt);if(this.options=P(this,Xn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mr(this.options.enabled,P(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,ut,Av).call(this),P(this,tt).setOptions(this.options),r._defaulted&&!Vd(this.options,r)&&P(this,Xn).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,tt),observer:this});const o=this.hasListeners();o&&H1(P(this,tt),i,this.options,r)&&Fe(this,ut,Ku).call(this),this.updateResult(),o&&(P(this,tt)!==i||Mr(this.options.enabled,P(this,tt))!==Mr(r.enabled,P(this,tt))||uo(this.options.staleTime,P(this,tt))!==uo(r.staleTime,P(this,tt)))&&Fe(this,ut,Rv).call(this);const s=Fe(this,ut,Tv).call(this);o&&(P(this,tt)!==i||Mr(this.options.enabled,P(this,tt))!==Mr(r.enabled,P(this,tt))||s!==P(this,eo))&&Fe(this,ut,_v).call(this,s)}getOptimisticResult(t){const r=P(this,Xn).getQueryCache().build(P(this,Xn),t),i=this.createResult(r,t);return JU(this,i)&&(Ee(this,Nn,i),Ee(this,vs,this.options),Ee(this,Qo,P(this,tt).state)),i}getCurrentResult(){return P(this,Nn)}trackResult(t,r){return new Proxy(t,{get:(i,o)=>(this.trackProp(o),r==null||r(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&P(this,Za).status==="pending"&&P(this,Za).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,o))})}trackProp(t){P(this,Ss).add(t)}getCurrentQuery(){return P(this,tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=P(this,Xn).defaultQueryOptions(t),i=P(this,Xn).getQueryCache().build(P(this,Xn),r);return i.fetch().then(()=>this.createResult(i,r))}fetch(t){return Fe(this,ut,Ku).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,Nn)))}createResult(t,r){var F;const i=P(this,tt),o=this.options,s=P(this,Nn),c=P(this,Qo),f=P(this,vs),h=t!==i?t.state:P(this,yc),{state:v}=t;let g={...v},b=!1,S;if(r._optimisticResults){const I=this.hasListeners(),G=!I&&$1(t,r),J=I&&H1(t,i,r,o);(G||J)&&(g={...g,...BT(v.data,t.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:C,errorUpdatedAt:E,status:R}=g;S=g.data;let T=!1;if(r.placeholderData!==void 0&&S===void 0&&R==="pending"){let I;s!=null&&s.isPlaceholderData&&r.placeholderData===(f==null?void 0:f.placeholderData)?(I=s.data,T=!0):I=typeof r.placeholderData=="function"?r.placeholderData((F=P(this,bs))==null?void 0:F.state.data,P(this,bs)):r.placeholderData,I!==void 0&&(R="success",S=xv(s==null?void 0:s.data,I,r),b=!0)}if(r.select&&S!==void 0&&!T)if(s&&S===(c==null?void 0:c.data)&&r.select===P(this,bc))S=P(this,ys);else try{Ee(this,bc,r.select),S=r.select(S),S=xv(s==null?void 0:s.data,S,r),Ee(this,ys,S),Ee(this,Ji,null)}catch(I){Ee(this,Ji,I)}P(this,Ji)&&(C=P(this,Ji),S=P(this,ys),E=Date.now(),R="error");const _=g.fetchStatus==="fetching",M=R==="pending",A=R==="error",D=M&&_,N=S!==void 0,z={status:R,fetchStatus:g.fetchStatus,isPending:M,isSuccess:R==="success",isError:A,isInitialLoading:D,isLoading:D,data:S,dataUpdatedAt:g.dataUpdatedAt,error:C,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:_,isRefetching:_&&!M,isLoadingError:A&&!N,isPaused:g.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:A&&N,isStale:ob(t,r),refetch:this.refetch,promise:P(this,Za),isEnabled:Mr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=z.data!==void 0,G=z.status==="error"&&!I,J=pe=>{G?pe.reject(z.error):I&&pe.resolve(z.data)},ce=()=>{const pe=Ee(this,Za,z.promise=Ev());J(pe)},ie=P(this,Za);switch(ie.status){case"pending":t.queryHash===i.queryHash&&J(ie);break;case"fulfilled":(G||z.data!==ie.value)&&ce();break;case"rejected":(!G||z.error!==ie.reason)&&ce();break}}return z}updateResult(){const t=P(this,Nn),r=this.createResult(P(this,tt),this.options);if(Ee(this,Qo,P(this,tt).state),Ee(this,vs,this.options),P(this,Qo).data!==void 0&&Ee(this,bs,P(this,tt)),Vd(r,t))return;Ee(this,Nn,r);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!P(this,Ss).size)return!0;const c=new Set(s??P(this,Ss));return this.options.throwOnError&&c.add("error"),Object.keys(P(this,Nn)).some(f=>{const d=f;return P(this,Nn)[d]!==t[d]&&c.has(d)})};Fe(this,ut,$T).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,ut,Ov).call(this)}},Xn=new WeakMap,tt=new WeakMap,yc=new WeakMap,Nn=new WeakMap,Qo=new WeakMap,vs=new WeakMap,Za=new WeakMap,Ji=new WeakMap,bc=new WeakMap,ys=new WeakMap,bs=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,eo=new WeakMap,Ss=new WeakMap,ut=new WeakSet,Ku=function(t){Fe(this,ut,Av).call(this);let r=P(this,tt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ln)),r},Rv=function(){Fe(this,ut,Mv).call(this);const t=uo(this.options.staleTime,P(this,tt));if(rl||P(this,Nn).isStale||!Sv(t))return;const i=NT(P(this,Nn).dataUpdatedAt,t)+1;Ee(this,Wo,$o.setTimeout(()=>{P(this,Nn).isStale||this.updateResult()},i))},Tv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,tt)):this.options.refetchInterval)??!1},_v=function(t){Fe(this,ut,jv).call(this),Ee(this,eo,t),!(rl||Mr(this.options.enabled,P(this,tt))===!1||!Sv(P(this,eo))||P(this,eo)===0)&&Ee(this,Ko,$o.setInterval(()=>{(this.options.refetchIntervalInBackground||ib.isFocused())&&Fe(this,ut,Ku).call(this)},P(this,eo)))},Ov=function(){Fe(this,ut,Rv).call(this),Fe(this,ut,_v).call(this,Fe(this,ut,Tv).call(this))},Mv=function(){P(this,Wo)&&($o.clearTimeout(P(this,Wo)),Ee(this,Wo,void 0))},jv=function(){P(this,Ko)&&($o.clearInterval(P(this,Ko)),Ee(this,Ko,void 0))},Av=function(){const t=P(this,Xn).getQueryCache().build(P(this,Xn),this.options);if(t===P(this,tt))return;const r=P(this,tt);Ee(this,tt,t),Ee(this,yc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$T=function(t){rn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(P(this,Nn))}),P(this,Xn).getQueryCache().notify({query:P(this,tt),type:"observerResultsUpdated"})})},XE);function ZU(e,t){return Mr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $1(e,t){return ZU(e,t)||e.state.data!==void 0&&Dv(e,t,t.refetchOnMount)}function Dv(e,t,r){if(Mr(t.enabled,e)!==!1&&uo(t.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&ob(e,t)}return!1}function H1(e,t,r,i){return(e!==t||Mr(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ob(e,r)}function ob(e,t){return Mr(t.enabled,e)!==!1&&e.isStaleByTime(uo(t.staleTime,e))}function JU(e,t){return!Vd(e.getCurrentResult(),t)}function I1(e){return{onFetch:(t,r)=>{var v,g,b,S,C;const i=t.options,o=(b=(g=(v=t.fetchOptions)==null?void 0:v.meta)==null?void 0:g.fetchMore)==null?void 0:b.direction,s=((S=t.state.data)==null?void 0:S.pages)||[],c=((C=t.state.data)==null?void 0:C.pageParams)||[];let f={pages:[],pageParams:[]},d=0;const h=async()=>{let E=!1;const R=M=>{VU(M,()=>t.signal,()=>E=!0)},T=kT(t.options,t.fetchOptions),_=async(M,A,D)=>{if(E)return Promise.reject();if(A==null&&M.pages.length)return Promise.resolve(M);const O=(()=>{const G={client:t.client,queryKey:t.queryKey,pageParam:A,direction:D?"backward":"forward",meta:t.options.meta};return R(G),G})(),z=await T(O),{maxPages:F}=t.options,I=D?FU:IU;return{pages:I(M.pages,z,F),pageParams:I(M.pageParams,A,F)}};if(o&&s.length){const M=o==="backward",A=M?e5:F1,D={pages:s,pageParams:c},N=A(i,D);f=await _(D,N,M)}else{const M=e??s.length;do{const A=d===0?c[0]??i.initialPageParam:F1(i,f);if(d>0&&A==null)break;f=await _(f,A),d++}while(d<M)}return f};t.options.persister?t.fetchFn=()=>{var E,R;return(R=(E=t.options).persister)==null?void 0:R.call(E,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function F1(e,{pages:t,pageParams:r}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,r[i],r):void 0}function e5(e,{pages:t,pageParams:r}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,r[0],r):void 0}var Sc,ga,zn,Zo,va,Ii,QE,t5=(QE=class extends PT{constructor(t){super();De(this,va);De(this,Sc);De(this,ga);De(this,zn);De(this,Zo);Ee(this,Sc,t.client),this.mutationId=t.mutationId,Ee(this,zn,t.mutationCache),Ee(this,ga,[]),this.state=t.state||HT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,ga).includes(t)||(P(this,ga).push(t),this.clearGcTimeout(),P(this,zn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,ga,P(this,ga).filter(r=>r!==t)),this.scheduleGc(),P(this,zn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,ga).length||(this.state.status==="pending"?this.scheduleGc():P(this,zn).remove(this))}continue(){var t;return((t=P(this,Zo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,f,d,h,v,g,b,S,C,E,R,T,_,M,A,D,N,O,z,F;const r=()=>{Fe(this,va,Ii).call(this,{type:"continue"})},i={client:P(this,Sc),meta:this.options.meta,mutationKey:this.options.mutationKey};Ee(this,Zo,UT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(I,G)=>{Fe(this,va,Ii).call(this,{type:"failed",failureCount:I,error:G})},onPause:()=>{Fe(this,va,Ii).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,zn).canRun(this)}));const o=this.state.status==="pending",s=!P(this,Zo).canStart();try{if(o)r();else{Fe(this,va,Ii).call(this,{type:"pending",variables:t,isPaused:s}),await((f=(c=P(this,zn).config).onMutate)==null?void 0:f.call(c,t,this,i));const G=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,t,i));G!==this.state.context&&Fe(this,va,Ii).call(this,{type:"pending",context:G,variables:t,isPaused:s})}const I=await P(this,Zo).start();return await((g=(v=P(this,zn).config).onSuccess)==null?void 0:g.call(v,I,t,this.state.context,this,i)),await((S=(b=this.options).onSuccess)==null?void 0:S.call(b,I,t,this.state.context,i)),await((E=(C=P(this,zn).config).onSettled)==null?void 0:E.call(C,I,null,this.state.variables,this.state.context,this,i)),await((T=(R=this.options).onSettled)==null?void 0:T.call(R,I,null,t,this.state.context,i)),Fe(this,va,Ii).call(this,{type:"success",data:I}),I}catch(I){try{await((M=(_=P(this,zn).config).onError)==null?void 0:M.call(_,I,t,this.state.context,this,i))}catch(G){Promise.reject(G)}try{await((D=(A=this.options).onError)==null?void 0:D.call(A,I,t,this.state.context,i))}catch(G){Promise.reject(G)}try{await((O=(N=P(this,zn).config).onSettled)==null?void 0:O.call(N,void 0,I,this.state.variables,this.state.context,this,i))}catch(G){Promise.reject(G)}try{await((F=(z=this.options).onSettled)==null?void 0:F.call(z,void 0,I,t,this.state.context,i))}catch(G){Promise.reject(G)}throw Fe(this,va,Ii).call(this,{type:"error",error:I}),I}finally{P(this,zn).runNext(this)}}},Sc=new WeakMap,ga=new WeakMap,zn=new WeakMap,Zo=new WeakMap,va=new WeakSet,Ii=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rn.batch(()=>{P(this,ga).forEach(i=>{i.onMutationUpdate(t)}),P(this,zn).notify({mutation:this,type:"updated",action:t})})},QE);function HT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ja,Qr,wc,WE,n5=(WE=class extends Fs{constructor(t={}){super();De(this,Ja);De(this,Qr);De(this,wc);this.config=t,Ee(this,Ja,new Set),Ee(this,Qr,new Map),Ee(this,wc,0)}build(t,r,i){const o=new t5({client:t,mutationCache:this,mutationId:++Jf(this,wc)._,options:t.defaultMutationOptions(r),state:i});return this.add(o),o}add(t){P(this,Ja).add(t);const r=fd(t);if(typeof r=="string"){const i=P(this,Qr).get(r);i?i.push(t):P(this,Qr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,Ja).delete(t)){const r=fd(t);if(typeof r=="string"){const i=P(this,Qr).get(r);if(i)if(i.length>1){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}else i[0]===t&&P(this,Qr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=fd(t);if(typeof r=="string"){const i=P(this,Qr).get(r),o=i==null?void 0:i.find(s=>s.state.status==="pending");return!o||o===t}else return!0}runNext(t){var i;const r=fd(t);if(typeof r=="string"){const o=(i=P(this,Qr).get(r))==null?void 0:i.find(s=>s!==t&&s.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rn.batch(()=>{P(this,Ja).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,Ja).clear(),P(this,Qr).clear()})}getAll(){return Array.from(P(this,Ja))}find(t){const r={exact:!0,...t};return this.getAll().find(i=>k1(r,i))}findAll(t={}){return this.getAll().filter(r=>k1(t,r))}notify(t){rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ln))))}},Ja=new WeakMap,Qr=new WeakMap,wc=new WeakMap,WE);function fd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ei,to,Qn,ti,ri,_d,Nv,KE,r5=(KE=class extends Fs{constructor(r,i){super();De(this,ri);De(this,ei);De(this,to);De(this,Qn);De(this,ti);Ee(this,ei,r),this.setOptions(i),this.bindMethods(),Fe(this,ri,_d).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var o;const i=this.options;this.options=P(this,ei).defaultMutationOptions(r),Vd(this.options,i)||P(this,ei).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,Qn),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&al(i.mutationKey)!==al(this.options.mutationKey)?this.reset():((o=P(this,Qn))==null?void 0:o.state.status)==="pending"&&P(this,Qn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=P(this,Qn))==null||r.removeObserver(this)}onMutationUpdate(r){Fe(this,ri,_d).call(this),Fe(this,ri,Nv).call(this,r)}getCurrentResult(){return P(this,to)}reset(){var r;(r=P(this,Qn))==null||r.removeObserver(this),Ee(this,Qn,void 0),Fe(this,ri,_d).call(this),Fe(this,ri,Nv).call(this)}mutate(r,i){var o;return Ee(this,ti,i),(o=P(this,Qn))==null||o.removeObserver(this),Ee(this,Qn,P(this,ei).getMutationCache().build(P(this,ei),this.options)),P(this,Qn).addObserver(this),P(this,Qn).execute(r)}},ei=new WeakMap,to=new WeakMap,Qn=new WeakMap,ti=new WeakMap,ri=new WeakSet,_d=function(){var i;const r=((i=P(this,Qn))==null?void 0:i.state)??HT();Ee(this,to,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Nv=function(r){rn.batch(()=>{var i,o,s,c,f,d,h,v;if(P(this,ti)&&this.hasListeners()){const g=P(this,to).variables,b=P(this,to).context,S={client:P(this,ei),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(o=(i=P(this,ti)).onSuccess)==null||o.call(i,r.data,g,b,S)}catch(C){Promise.reject(C)}try{(c=(s=P(this,ti)).onSettled)==null||c.call(s,r.data,null,g,b,S)}catch(C){Promise.reject(C)}}else if((r==null?void 0:r.type)==="error"){try{(d=(f=P(this,ti)).onError)==null||d.call(f,r.error,g,b,S)}catch(C){Promise.reject(C)}try{(v=(h=P(this,ti)).onSettled)==null||v.call(h,void 0,r.error,g,b,S)}catch(C){Promise.reject(C)}}}this.listeners.forEach(g=>{g(P(this,to))})})},KE),ya,ZE,a5=(ZE=class extends Fs{constructor(t={}){super();De(this,ya);this.config=t,Ee(this,ya,new Map)}build(t,r,i){const o=r.queryKey,s=r.queryHash??nb(o,r);let c=this.get(s);return c||(c=new WU({client:t,queryKey:o,queryHash:s,options:t.defaultQueryOptions(r),state:i,defaultOptions:t.getQueryDefaults(o)}),this.add(c)),c}add(t){P(this,ya).has(t.queryHash)||(P(this,ya).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=P(this,ya).get(t.queryHash);r&&(t.destroy(),r===t&&P(this,ya).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,ya).get(t)}getAll(){return[...P(this,ya).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(i=>z1(r,i))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(i=>z1(t,i)):r}notify(t){rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ya=new WeakMap,ZE),Pt,no,ro,ws,xs,ao,Es,Cs,JE,i5=(JE=class{constructor(e={}){De(this,Pt);De(this,no);De(this,ro);De(this,ws);De(this,xs);De(this,ao);De(this,Es);De(this,Cs);Ee(this,Pt,e.queryCache||new a5),Ee(this,no,e.mutationCache||new n5),Ee(this,ro,e.defaultOptions||{}),Ee(this,ws,new Map),Ee(this,xs,new Map),Ee(this,ao,0)}mount(){Jf(this,ao)._++,P(this,ao)===1&&(Ee(this,Es,ib.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Pt).onFocus())})),Ee(this,Cs,qd.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Pt).onOnline())})))}unmount(){var e,t;Jf(this,ao)._--,P(this,ao)===0&&((e=P(this,Es))==null||e.call(this),Ee(this,Es,void 0),(t=P(this,Cs))==null||t.call(this),Ee(this,Cs,void 0))}isFetching(e){return P(this,Pt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,no).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,Pt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=P(this,Pt).build(this,t),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(uo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return P(this,Pt).findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.defaultQueryOptions({queryKey:e}),o=P(this,Pt).get(i.queryHash),s=o==null?void 0:o.state.data,c=BU(t,s);if(c!==void 0)return P(this,Pt).build(this,i).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return rn.batch(()=>P(this,Pt).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,Pt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=P(this,Pt);rn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=P(this,Pt);return rn.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},i=rn.batch(()=>P(this,Pt).findAll(e).map(o=>o.cancel(r)));return Promise.all(i).then(Ln).catch(Ln)}invalidateQueries(e,t={}){return rn.batch(()=>(P(this,Pt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},i=rn.batch(()=>P(this,Pt).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let s=o.fetch(void 0,r);return r.throwOnError||(s=s.catch(Ln)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Ln)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=P(this,Pt).build(this,t);return r.isStaleByTime(uo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ln).catch(Ln)}fetchInfiniteQuery(e){return e.behavior=I1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ln).catch(Ln)}ensureInfiniteQueryData(e){return e.behavior=I1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qd.isOnline()?P(this,no).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,Pt)}getMutationCache(){return P(this,no)}getDefaultOptions(){return P(this,ro)}setDefaultOptions(e){Ee(this,ro,e)}setQueryDefaults(e,t){P(this,ws).set(al(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,ws).values()],r={};return t.forEach(i=>{cc(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,t){P(this,xs).set(al(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,xs).values()],r={};return t.forEach(i=>{cc(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,ro).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,ro).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,Pt).clear(),P(this,no).clear()}},Pt=new WeakMap,no=new WeakMap,ro=new WeakMap,ws=new WeakMap,xs=new WeakMap,ao=new WeakMap,Es=new WeakMap,Cs=new WeakMap,JE),IT=y.createContext(void 0),Vs=e=>{const t=y.useContext(IT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},o5=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),x.jsx(IT.Provider,{value:e,children:t})),FT=y.createContext(!1),l5=()=>y.useContext(FT);FT.Provider;function s5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var u5=y.createContext(s5()),c5=()=>y.useContext(u5),f5=(e,t,r)=>{const i=r!=null&&r.state.error&&typeof e.throwOnError=="function"?ab(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},d5=e=>{y.useEffect(()=>{e.clearReset()},[e])},h5=({result:e,errorResetBoundary:t,throwOnError:r,query:i,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||ab(r,[e.error,i])),m5=e=>{if(e.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>r(i(...o)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},p5=(e,t)=>e.isLoading&&e.isFetching&&!t,g5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,V1=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function v5(e,t,r){var b,S,C,E;const i=l5(),o=c5(),s=Vs(),c=s.defaultQueryOptions(e);(S=(b=s.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||S.call(b,c);const f=s.getQueryCache().get(c.queryHash);c._optimisticResults=i?"isRestoring":"optimistic",m5(c),f5(c,o,f),d5(o);const d=!s.getQueryCache().get(c.queryHash),[h]=y.useState(()=>new t(s,c)),v=h.getOptimisticResult(c),g=!i&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(R=>{const T=g?h.subscribe(rn.batchCalls(R)):Ln;return h.updateResult(),T},[h,g]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),y.useEffect(()=>{h.setOptions(c)},[c,h]),g5(c,v))throw V1(c,h,o);if(h5({result:v,errorResetBoundary:o,throwOnError:c.throwOnError,query:f,suspense:c.suspense}))throw v.error;if((E=(C=s.getDefaultOptions().queries)==null?void 0:C._experimental_afterQuery)==null||E.call(C,c,v),c.experimental_prefetchInRender&&!rl&&p5(v,i)){const R=d?V1(c,h,o):f==null?void 0:f.promise;R==null||R.catch(Ln).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?v:h.trackResult(v)}function qs(e,t){return v5(e,KU)}function Ph(e,t){const r=Vs(),[i]=y.useState(()=>new r5(r,e));y.useEffect(()=>{i.setOptions(e)},[i,e]);const o=y.useSyncExternalStore(y.useCallback(c=>i.subscribe(rn.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),s=y.useCallback((c,f)=>{i.mutate(c,f).catch(Ln)},[i]);if(o.error&&ab(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}var Ng={exports:{}},Fu={},zg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function y5(){return q1||(q1=1,(function(e){function t(B,X){var te=B.length;B.push(X);e:for(;0<te;){var he=te-1>>>1,me=B[he];if(0<o(me,X))B[he]=X,B[te]=me,te=he;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],te=B.pop();if(te!==X){B[0]=te;e:for(var he=0,me=B.length,L=me>>>1;he<L;){var W=2*(he+1)-1,ae=B[W],fe=W+1,ge=B[fe];if(0>o(ae,te))fe<me&&0>o(ge,ae)?(B[he]=ge,B[fe]=te,he=fe):(B[he]=ae,B[W]=te,he=W);else if(fe<me&&0>o(ge,te))B[he]=ge,B[fe]=te,he=fe;else break e}}return X}function o(B,X){var te=B.sortIndex-X.sortIndex;return te!==0?te:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var d=[],h=[],v=1,g=null,b=3,S=!1,C=!1,E=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var X=r(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=B)i(h),X.sortIndex=X.expirationTime,t(d,X);else break;X=r(h)}}function D(B){if(E=!1,A(B),!C)if(r(d)!==null)C=!0,N||(N=!0,J());else{var X=r(h);X!==null&&pe(D,X.startTime-B)}}var N=!1,O=-1,z=5,F=-1;function I(){return R?!0:!(e.unstable_now()-F<z)}function G(){if(R=!1,N){var B=e.unstable_now();F=B;var X=!0;try{e:{C=!1,E&&(E=!1,_(O),O=-1),S=!0;var te=b;try{t:{for(A(B),g=r(d);g!==null&&!(g.expirationTime>B&&I());){var he=g.callback;if(typeof he=="function"){g.callback=null,b=g.priorityLevel;var me=he(g.expirationTime<=B);if(B=e.unstable_now(),typeof me=="function"){g.callback=me,A(B),X=!0;break t}g===r(d)&&i(d),A(B)}else i(d);g=r(d)}if(g!==null)X=!0;else{var L=r(h);L!==null&&pe(D,L.startTime-B),X=!1}}break e}finally{g=null,b=te,S=!1}X=void 0}}finally{X?J():N=!1}}}var J;if(typeof M=="function")J=function(){M(G)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ie=ce.port2;ce.port1.onmessage=G,J=function(){ie.postMessage(null)}}else J=function(){T(G,0)};function pe(B,X){O=T(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(B){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var te=b;b=X;try{return B()}finally{b=te}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=b;b=B;try{return X()}finally{b=te}},e.unstable_scheduleCallback=function(B,X,te){var he=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,B){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=te+me,B={id:v++,callback:X,priorityLevel:B,startTime:te,expirationTime:me,sortIndex:-1},te>he?(B.sortIndex=te,t(h,B),r(d)===null&&B===r(h)&&(E?(_(O),O=-1):E=!0,pe(D,te-he))):(B.sortIndex=me,t(d,B),C||S||(C=!0,N||(N=!0,J()))),B},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(B){var X=b;return function(){var te=b;b=X;try{return B.apply(this,arguments)}finally{b=te}}}})(kg)),kg}var Y1;function b5(){return Y1||(Y1=1,zg.exports=y5()),zg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function S5(){if(G1)return Fu;G1=1;var e=b5(),t=Kd(),r=mC();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function f(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(s(n)!==n)throw Error(i(188))}function h(n){var a=n.alternate;if(!a){if(a=s(n),a===null)throw Error(i(188));return a!==n?null:n}for(var l=n,u=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return d(m),n;if(p===u)return d(m),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var w=!1,j=m.child;j;){if(j===l){w=!0,l=m,u=p;break}if(j===u){w=!0,u=m,l=p;break}j=j.sibling}if(!w){for(j=p.child;j;){if(j===l){w=!0,l=p,u=m;break}if(j===u){w=!0,u=p,l=m;break}j=j.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:a}function v(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=v(n),a!==null)return a;n=n.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function J(n){return n===null||typeof n!="object"?null:(n=G&&n[G]||n["@@iterator"],typeof n=="function"?n:null)}var ce=Symbol.for("react.client.reference");function ie(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ce?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case T:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList";case F:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case M:return n.displayName||"Context";case _:return(n._context.displayName||"Context")+".Consumer";case A:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return a=n.displayName||null,a!==null?a:ie(n.type)||"Memo";case z:a=n._payload,n=n._init;try{return ie(n(a))}catch{}}return null}var pe=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},he=[],me=-1;function L(n){return{current:n}}function W(n){0>me||(n.current=he[me],he[me]=null,me--)}function ae(n,a){me++,he[me]=n.current,n.current=a}var fe=L(null),ge=L(null),xe=L(null),se=L(null);function Ce(n,a){switch(ae(xe,a),ae(ge,n),ae(fe,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?Nw(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=Nw(a),n=zw(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(fe),ae(fe,n)}function Re(){W(fe),W(ge),W(xe)}function Se(n){n.memoizedState!==null&&ae(se,n);var a=fe.current,l=zw(a,n.type);a!==l&&(ae(ge,n),ae(fe,l))}function st(n){ge.current===n&&(W(fe),W(ge)),se.current===n&&(W(se),zu._currentValue=te)}var He,nt;function ct(n){if(He===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);He=a&&a[1]||"",nt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+n+nt}var bn=!1;function Nt(n,a){if(!n||bn)return"";bn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var Z=ee}Reflect.construct(n,[],le)}else{try{le.call()}catch(ee){Z=ee}n.call(le.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(le=n())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),w=p[0],j=p[1];if(w&&j){var U=w.split(`
`),Q=j.split(`
`);for(m=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===U.length||m===Q.length)for(u=U.length-1,m=Q.length-1;1<=u&&0<=m&&U[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(U[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||U[u]!==Q[m]){var re=`
`+U[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=m);break}}}finally{bn=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ct(l):""}function oa(n,a){switch(n.tag){case 26:case 27:case 5:return ct(n.type);case 16:return ct("Lazy");case 13:return n.child!==a&&a!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Nt(n.type,!1);case 11:return Nt(n.type.render,!1);case 1:return Nt(n.type,!0);case 31:return ct("Activity");default:return""}}function Br(n){try{var a="",l=null;do a+=oa(n,l),l=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var On=Object.prototype.hasOwnProperty,it=e.unstable_scheduleCallback,pr=e.unstable_cancelCallback,la=e.unstable_shouldYield,pi=e.unstable_requestPaint,vt=e.unstable_now,gr=e.unstable_getCurrentPriorityLevel,sa=e.unstable_ImmediatePriority,Sn=e.unstable_UserBlockingPriority,_t=e.unstable_NormalPriority,Yt=e.unstable_LowPriority,$r=e.unstable_IdlePriority,yt=e.log,gi=e.unstable_setDisableYieldValue,ja=null,wt=null;function Mn(n){if(typeof yt=="function"&&gi(n),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ja,n)}catch{}}var Jt=Math.clz32?Math.clz32:gl,ml=Math.log,pl=Math.LN2;function gl(n){return n>>>=0,n===0?32:31-(ml(n)/pl|0)|0}var Hr=256,Aa=262144,xt=4194304;function jt(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Bt(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var m=0,p=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var j=u&134217727;return j!==0?(u=j&~p,u!==0?m=jt(u):(w&=j,w!==0?m=jt(w):l||(l=j&~n,l!==0&&(m=jt(l))))):(j=u&~p,j!==0?m=jt(j):w!==0?m=jt(w):l||(l=u&~n,l!==0&&(m=jt(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function wn(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function cn(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var n=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),n}function en(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function jn(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ht(n,a,l,u,m,p){var w=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var j=n.entanglements,U=n.expirationTimes,Q=n.hiddenUpdates;for(l=w&~l;0<l;){var re=31-Jt(l),le=1<<re;j[re]=0,U[re]=-1;var Z=Q[re];if(Z!==null)for(Q[re]=null,re=0;re<Z.length;re++){var ee=Z[re];ee!==null&&(ee.lane&=-536870913)}l&=~le}u!==0&&er(n,u,0),p!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=p&~(w&~a))}function er(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Jt(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function k(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-Jt(l),m=1<<u;m&a|n[u]&a&&(n[u]|=a),l&=~m}}function H(n,a){var l=a&-a;return l=(l&42)!==0?1:K(l),(l&(n.suspendedLanes|a))!==0?0:l}function K(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ue(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function de(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:rx(n.type))}function _e(n,a){var l=X.p;try{return X.p=n,a()}finally{X.p=l}}var Te=Math.random().toString(36).slice(2),ve="__reactFiber$"+Te,we="__reactProps$"+Te,Me="__reactContainer$"+Te,Le="__reactEvents$"+Te,Ae="__reactListeners$"+Te,Be="__reactHandles$"+Te,qe="__reactResources$"+Te,At="__reactMarker$"+Te;function zt(n){delete n[ve],delete n[we],delete n[Le],delete n[Ae],delete n[Be]}function kt(n){var a=n[ve];if(a)return a;for(var l=n.parentNode;l;){if(a=l[Me]||l[ve]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=Hw(n);n!==null;){if(l=n[ve])return l;n=Hw(n)}return a}n=l,l=n.parentNode}return null}function Ke(n){if(n=n[ve]||n[Me]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function an(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function Hn(n){var a=n[qe];return a||(a=n[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(n){n[At]=!0}var Ir=new Set,tr={};function Fr(n,a){vr(n,a),vr(n+"Capture",a)}function vr(n,a){for(tr[n]=a,n=0;n<a.length;n++)Ir.add(a[n])}var Da=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},vo={};function Ze(n){return On.call(vo,n)?!0:On.call(go,n)?!1:Da.test(n)?vo[n]=!0:(go[n]=!0,!1)}function It(n,a,l){if(Ze(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function Vr(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function fn(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}function Je(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function yo(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Hc(n,a,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return m.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Ws(n){if(!n._valueTracker){var a=yo(n)?"checked":"value";n._valueTracker=Hc(n,a,""+n[a])}}function Tb(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=yo(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function Ic(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var G_=/[\n"\\]/g;function yr(n){return n.replace(G_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Gh(n,a,l,u,m,p,w,j){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),a!=null?w==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Je(a)):n.value!==""+Je(a)&&(n.value=""+Je(a)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),a!=null?Xh(n,w,Je(a)):l!=null?Xh(n,w,Je(l)):u!=null&&n.removeAttribute("value"),m==null&&p!=null&&(n.defaultChecked=!!p),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?n.name=""+Je(j):n.removeAttribute("name")}function _b(n,a,l,u,m,p,w,j){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Ws(n);return}l=l!=null?""+Je(l):"",a=a!=null?""+Je(a):l,j||a===n.value||(n.value=a),n.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=j?n.checked:!!u,n.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),Ws(n)}function Xh(n,a,l){a==="number"&&Ic(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function vl(n,a,l,u){if(n=n.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=a.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Je(l),a=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}a!==null||n[m].disabled||(a=n[m])}a!==null&&(a.selected=!0)}}function Ob(n,a,l){if(a!=null&&(a=""+Je(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+Je(l):""}function Mb(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Je(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),Ws(n)}function yl(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var X_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jb(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||X_.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function Ab(n,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&jb(n,m,u)}else for(var p in a)a.hasOwnProperty(p)&&jb(n,p,a[p])}function Qh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(n){return W_.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Na(){}var Wh=null;function Kh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bl=null,Sl=null;function Db(n){var a=Ke(n);if(a&&(n=a.stateNode)){var l=n[we]||null;e:switch(n=a.stateNode,a.type){case"input":if(Gh(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var m=u[we]||null;if(!m)throw Error(i(90));Gh(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&Tb(u)}break e;case"textarea":Ob(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&vl(n,!!l.multiple,a,!1)}}}var Zh=!1;function Nb(n,a,l){if(Zh)return n(a,l);Zh=!0;try{var u=n(a);return u}finally{if(Zh=!1,(bl!==null||Sl!==null)&&(Af(),bl&&(a=bl,n=Sl,Sl=bl=null,Db(a),n)))for(a=0;a<n.length;a++)Db(n[a])}}function Ks(n,a){var l=n.stateNode;if(l===null)return null;var u=l[we]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=!1;if(za)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Jh=!1}var vi=null,em=null,Vc=null;function zb(){if(Vc)return Vc;var n,a=em,l=a.length,u,m="value"in vi?vi.value:vi.textContent,p=m.length;for(n=0;n<l&&a[n]===m[n];n++);var w=l-n;for(u=1;u<=w&&a[l-u]===m[p-u];u++);return Vc=m.slice(n,1<u?1-u:void 0)}function qc(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Yc(){return!0}function kb(){return!1}function In(n){function a(l,u,m,p,w){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(l=n[j],this[j]=l?l(p):p[j]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Yc:kb,this.isPropagationStopped=kb,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),a}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=In(bo),Js=g({},bo,{view:0,detail:0}),K_=In(Js),tm,nm,eu,Xc=g({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==eu&&(eu&&n.type==="mousemove"?(tm=n.screenX-eu.screenX,nm=n.screenY-eu.screenY):nm=tm=0,eu=n),tm)},movementY:function(n){return"movementY"in n?n.movementY:nm}}),Lb=In(Xc),Z_=g({},Xc,{dataTransfer:0}),J_=In(Z_),eO=g({},Js,{relatedTarget:0}),rm=In(eO),tO=g({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),nO=In(tO),rO=g({},bo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),aO=In(rO),iO=g({},bo,{data:0}),Ub=In(iO),oO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uO(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=sO[n])?!!a[n]:!1}function am(){return uO}var cO=g({},Js,{key:function(n){if(n.key){var a=oO[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=qc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lO[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(n){return n.type==="keypress"?qc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fO=In(cO),dO=g({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pb=In(dO),hO=g({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),mO=In(hO),pO=g({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),gO=In(pO),vO=g({},Xc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yO=In(vO),bO=g({},bo,{newState:0,oldState:0}),SO=In(bO),wO=[9,13,27,32],im=za&&"CompositionEvent"in window,tu=null;za&&"documentMode"in document&&(tu=document.documentMode);var xO=za&&"TextEvent"in window&&!tu,Bb=za&&(!im||tu&&8<tu&&11>=tu),$b=" ",Hb=!1;function Ib(n,a){switch(n){case"keyup":return wO.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fb(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wl=!1;function EO(n,a){switch(n){case"compositionend":return Fb(a);case"keypress":return a.which!==32?null:(Hb=!0,$b);case"textInput":return n=a.data,n===$b&&Hb?null:n;default:return null}}function CO(n,a){if(wl)return n==="compositionend"||!im&&Ib(n,a)?(n=zb(),Vc=em=vi=null,wl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Bb&&a.locale!=="ko"?null:a.data;default:return null}}var RO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vb(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!RO[n.type]:a==="textarea"}function qb(n,a,l,u){bl?Sl?Sl.push(u):Sl=[u]:bl=u,a=Pf(a,"onChange"),0<a.length&&(l=new Gc("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var nu=null,ru=null;function TO(n){_w(n,0)}function Qc(n){var a=an(n);if(Tb(a))return n}function Yb(n,a){if(n==="change")return a}var Gb=!1;if(za){var om;if(za){var lm="oninput"in document;if(!lm){var Xb=document.createElement("div");Xb.setAttribute("oninput","return;"),lm=typeof Xb.oninput=="function"}om=lm}else om=!1;Gb=om&&(!document.documentMode||9<document.documentMode)}function Qb(){nu&&(nu.detachEvent("onpropertychange",Wb),ru=nu=null)}function Wb(n){if(n.propertyName==="value"&&Qc(ru)){var a=[];qb(a,ru,n,Kh(n)),Nb(TO,a)}}function _O(n,a,l){n==="focusin"?(Qb(),nu=a,ru=l,nu.attachEvent("onpropertychange",Wb)):n==="focusout"&&Qb()}function OO(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qc(ru)}function MO(n,a){if(n==="click")return Qc(a)}function jO(n,a){if(n==="input"||n==="change")return Qc(a)}function AO(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var nr=typeof Object.is=="function"?Object.is:AO;function au(n,a){if(nr(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!On.call(a,m)||!nr(n[m],a[m]))return!1}return!0}function Kb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zb(n,a){var l=Kb(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Kb(l)}}function Jb(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Jb(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function e0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Ic(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Ic(n.document)}return a}function sm(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var DO=za&&"documentMode"in document&&11>=document.documentMode,xl=null,um=null,iu=null,cm=!1;function t0(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cm||xl==null||xl!==Ic(u)||(u=xl,"selectionStart"in u&&sm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),iu&&au(iu,u)||(iu=u,u=Pf(um,"onSelect"),0<u.length&&(a=new Gc("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=xl)))}function So(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var El={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionrun:So("Transition","TransitionRun"),transitionstart:So("Transition","TransitionStart"),transitioncancel:So("Transition","TransitionCancel"),transitionend:So("Transition","TransitionEnd")},fm={},n0={};za&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function wo(n){if(fm[n])return fm[n];if(!El[n])return n;var a=El[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in n0)return fm[n]=a[l];return n}var r0=wo("animationend"),a0=wo("animationiteration"),i0=wo("animationstart"),NO=wo("transitionrun"),zO=wo("transitionstart"),kO=wo("transitioncancel"),o0=wo("transitionend"),l0=new Map,dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dm.push("scrollEnd");function qr(n,a){l0.set(n,a),Fr(a,[n])}var Wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},br=[],Cl=0,hm=0;function Kc(){for(var n=Cl,a=hm=Cl=0;a<n;){var l=br[a];br[a++]=null;var u=br[a];br[a++]=null;var m=br[a];br[a++]=null;var p=br[a];if(br[a++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}p!==0&&s0(l,m,p)}}function Zc(n,a,l,u){br[Cl++]=n,br[Cl++]=a,br[Cl++]=l,br[Cl++]=u,hm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function mm(n,a,l,u){return Zc(n,a,l,u),Jc(n)}function xo(n,a){return Zc(n,null,null,a),Jc(n)}function s0(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=n.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(m=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,m&&a!==null&&(m=31-Jt(l),n=p.hiddenUpdates,u=n[m],u===null?n[m]=[a]:u.push(a),a.lane=l|536870912),p):null}function Jc(n){if(50<_u)throw _u=0,Ep=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Rl={};function LO(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(n,a,l,u){return new LO(n,a,l,u)}function pm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ka(n,a){var l=n.alternate;return l===null?(l=rr(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function u0(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function ef(n,a,l,u,m,p){var w=0;if(u=n,typeof n=="function")pm(n)&&(w=1);else if(typeof n=="string")w=HM(n,l,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case F:return n=rr(31,l,a,m),n.elementType=F,n.lanes=p,n;case E:return Eo(l.children,m,p,a);case R:w=8,m|=24;break;case T:return n=rr(12,l,a,m|2),n.elementType=T,n.lanes=p,n;case D:return n=rr(13,l,a,m),n.elementType=D,n.lanes=p,n;case N:return n=rr(19,l,a,m),n.elementType=N,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:w=10;break e;case _:w=9;break e;case A:w=11;break e;case O:w=14;break e;case z:w=16,u=null;break e}w=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return a=rr(w,l,a,m),a.elementType=n,a.type=u,a.lanes=p,a}function Eo(n,a,l,u){return n=rr(7,n,u,a),n.lanes=l,n}function gm(n,a,l){return n=rr(6,n,null,a),n.lanes=l,n}function c0(n){var a=rr(18,null,null,0);return a.stateNode=n,a}function vm(n,a,l){return a=rr(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var f0=new WeakMap;function Sr(n,a){if(typeof n=="object"&&n!==null){var l=f0.get(n);return l!==void 0?l:(a={value:n,source:a,stack:Br(a)},f0.set(n,a),a)}return{value:n,source:a,stack:Br(a)}}var Tl=[],_l=0,tf=null,ou=0,wr=[],xr=0,yi=null,ua=1,ca="";function La(n,a){Tl[_l++]=ou,Tl[_l++]=tf,tf=n,ou=a}function d0(n,a,l){wr[xr++]=ua,wr[xr++]=ca,wr[xr++]=yi,yi=n;var u=ua;n=ca;var m=32-Jt(u)-1;u&=~(1<<m),l+=1;var p=32-Jt(a)+m;if(30<p){var w=m-m%5;p=(u&(1<<w)-1).toString(32),u>>=w,m-=w,ua=1<<32-Jt(a)+m|l<<m|u,ca=p+n}else ua=1<<p|l<<m|u,ca=n}function ym(n){n.return!==null&&(La(n,1),d0(n,1,0))}function bm(n){for(;n===tf;)tf=Tl[--_l],Tl[_l]=null,ou=Tl[--_l],Tl[_l]=null;for(;n===yi;)yi=wr[--xr],wr[xr]=null,ca=wr[--xr],wr[xr]=null,ua=wr[--xr],wr[xr]=null}function h0(n,a){wr[xr++]=ua,wr[xr++]=ca,wr[xr++]=yi,ua=a.id,ca=a.overflow,yi=n}var dn=null,Et=null,et=!1,bi=null,Er=!1,Sm=Error(i(519));function Si(n){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(Sr(a,n)),Sm}function m0(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[ve]=n,a[we]=u,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<Mu.length;l++)Ge(Mu[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),_b(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),Mb(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Aw(a.textContent,l)?(u.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),u.onScroll!=null&&Ge("scroll",a),u.onScrollEnd!=null&&Ge("scrollend",a),u.onClick!=null&&(a.onclick=Na),a=!0):a=!1,a||Si(n,!0)}function p0(n){for(dn=n.return;dn;)switch(dn.tag){case 5:case 31:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:dn=dn.return}}function Ol(n){if(n!==dn)return!1;if(!et)return p0(n),et=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Pp(n.type,n.memoizedProps)),l=!l),l&&Et&&Si(n),p0(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Et=$w(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Et=$w(n)}else a===27?(a=Et,zi(n.type)?(n=Fp,Fp=null,Et=n):Et=a):Et=dn?Rr(n.stateNode.nextSibling):null;return!0}function Co(){Et=dn=null,et=!1}function wm(){var n=bi;return n!==null&&(Yn===null?Yn=n:Yn.push.apply(Yn,n),bi=null),n}function lu(n){bi===null?bi=[n]:bi.push(n)}var xm=L(null),Ro=null,Ua=null;function wi(n,a,l){ae(xm,a._currentValue),a._currentValue=l}function Pa(n){n._currentValue=xm.current,W(xm)}function Em(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function Cm(n,a,l,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var p=m.dependencies;if(p!==null){var w=m.child;p=p.firstContext;e:for(;p!==null;){var j=p;p=m;for(var U=0;U<a.length;U++)if(j.context===a[U]){p.lanes|=l,j=p.alternate,j!==null&&(j.lanes|=l),Em(p.return,l,n),u||(w=null);break e}p=j.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=l,p=w.alternate,p!==null&&(p.lanes|=l),Em(w,l,n),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===n){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Ml(n,a,l,u){n=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var j=m.type;nr(m.pendingProps.value,w.value)||(n!==null?n.push(j):n=[j])}}else if(m===se.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(zu):n=[zu])}m=m.return}n!==null&&Cm(a,n,l,u),a.flags|=262144}function nf(n){for(n=n.firstContext;n!==null;){if(!nr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function To(n){Ro=n,Ua=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function hn(n){return g0(Ro,n)}function rf(n,a){return Ro===null&&To(n),g0(n,a)}function g0(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ua===null){if(n===null)throw Error(i(308));Ua=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Ua=Ua.next=a;return l}var UO=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},PO=e.unstable_scheduleCallback,BO=e.unstable_NormalPriority,Gt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new UO,data:new Map,refCount:0}}function su(n){n.refCount--,n.refCount===0&&PO(BO,function(){n.controller.abort()})}var uu=null,Tm=0,jl=0,Al=null;function $O(n,a){if(uu===null){var l=uu=[];Tm=0,jl=Mp(),Al={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Tm++,a.then(v0,v0),a}function v0(){if(--Tm===0&&uu!==null){Al!==null&&(Al.status="fulfilled");var n=uu;uu=null,jl=0,Al=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function HO(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var y0=B.S;B.S=function(n,a){tw=vt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&$O(n,a),y0!==null&&y0(n,a)};var _o=L(null);function _m(){var n=_o.current;return n!==null?n:gt.pooledCache}function af(n,a){a===null?ae(_o,_o.current):ae(_o,a.pool)}function b0(){var n=_m();return n===null?null:{parent:Gt._currentValue,pool:n}}var Dl=Error(i(460)),Om=Error(i(474)),of=Error(i(542)),lf={then:function(){}};function S0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function w0(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(Na,Na),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,E0(n),n;default:if(typeof a.status=="string")a.then(Na,Na);else{if(n=gt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,E0(n),n}throw Mo=a,Dl}}function Oo(n){try{var a=n._init;return a(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Mo=l,Dl):l}}var Mo=null;function x0(){if(Mo===null)throw Error(i(459));var n=Mo;return Mo=null,n}function E0(n){if(n===Dl||n===of)throw Error(i(483))}var Nl=null,cu=0;function sf(n){var a=cu;return cu+=1,Nl===null&&(Nl=[]),w0(Nl,n,a)}function fu(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function uf(n,a){throw a.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function C0(n){function a(V,$){if(n){var Y=V.deletions;Y===null?(V.deletions=[$],V.flags|=16):Y.push($)}}function l(V,$){if(!n)return null;for(;$!==null;)a(V,$),$=$.sibling;return null}function u(V){for(var $=new Map;V!==null;)V.key!==null?$.set(V.key,V):$.set(V.index,V),V=V.sibling;return $}function m(V,$){return V=ka(V,$),V.index=0,V.sibling=null,V}function p(V,$,Y){return V.index=Y,n?(Y=V.alternate,Y!==null?(Y=Y.index,Y<$?(V.flags|=67108866,$):Y):(V.flags|=67108866,$)):(V.flags|=1048576,$)}function w(V){return n&&V.alternate===null&&(V.flags|=67108866),V}function j(V,$,Y,oe){return $===null||$.tag!==6?($=gm(Y,V.mode,oe),$.return=V,$):($=m($,Y),$.return=V,$)}function U(V,$,Y,oe){var Ne=Y.type;return Ne===E?re(V,$,Y.props.children,oe,Y.key):$!==null&&($.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===z&&Oo(Ne)===$.type)?($=m($,Y.props),fu($,Y),$.return=V,$):($=ef(Y.type,Y.key,Y.props,null,V.mode,oe),fu($,Y),$.return=V,$)}function Q(V,$,Y,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==Y.containerInfo||$.stateNode.implementation!==Y.implementation?($=vm(Y,V.mode,oe),$.return=V,$):($=m($,Y.children||[]),$.return=V,$)}function re(V,$,Y,oe,Ne){return $===null||$.tag!==7?($=Eo(Y,V.mode,oe,Ne),$.return=V,$):($=m($,Y),$.return=V,$)}function le(V,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=gm(""+$,V.mode,Y),$.return=V,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return Y=ef($.type,$.key,$.props,null,V.mode,Y),fu(Y,$),Y.return=V,Y;case C:return $=vm($,V.mode,Y),$.return=V,$;case z:return $=Oo($),le(V,$,Y)}if(pe($)||J($))return $=Eo($,V.mode,Y,null),$.return=V,$;if(typeof $.then=="function")return le(V,sf($),Y);if($.$$typeof===M)return le(V,rf(V,$),Y);uf(V,$)}return null}function Z(V,$,Y,oe){var Ne=$!==null?$.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ne!==null?null:j(V,$,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===Ne?U(V,$,Y,oe):null;case C:return Y.key===Ne?Q(V,$,Y,oe):null;case z:return Y=Oo(Y),Z(V,$,Y,oe)}if(pe(Y)||J(Y))return Ne!==null?null:re(V,$,Y,oe,null);if(typeof Y.then=="function")return Z(V,$,sf(Y),oe);if(Y.$$typeof===M)return Z(V,$,rf(V,Y),oe);uf(V,Y)}return null}function ee(V,$,Y,oe,Ne){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return V=V.get(Y)||null,j($,V,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:return V=V.get(oe.key===null?Y:oe.key)||null,U($,V,oe,Ne);case C:return V=V.get(oe.key===null?Y:oe.key)||null,Q($,V,oe,Ne);case z:return oe=Oo(oe),ee(V,$,Y,oe,Ne)}if(pe(oe)||J(oe))return V=V.get(Y)||null,re($,V,oe,Ne,null);if(typeof oe.then=="function")return ee(V,$,Y,sf(oe),Ne);if(oe.$$typeof===M)return ee(V,$,Y,rf($,oe),Ne);uf($,oe)}return null}function Oe(V,$,Y,oe){for(var Ne=null,rt=null,je=$,Ie=$=0,We=null;je!==null&&Ie<Y.length;Ie++){je.index>Ie?(We=je,je=null):We=je.sibling;var at=Z(V,je,Y[Ie],oe);if(at===null){je===null&&(je=We);break}n&&je&&at.alternate===null&&a(V,je),$=p(at,$,Ie),rt===null?Ne=at:rt.sibling=at,rt=at,je=We}if(Ie===Y.length)return l(V,je),et&&La(V,Ie),Ne;if(je===null){for(;Ie<Y.length;Ie++)je=le(V,Y[Ie],oe),je!==null&&($=p(je,$,Ie),rt===null?Ne=je:rt.sibling=je,rt=je);return et&&La(V,Ie),Ne}for(je=u(je);Ie<Y.length;Ie++)We=ee(je,V,Ie,Y[Ie],oe),We!==null&&(n&&We.alternate!==null&&je.delete(We.key===null?Ie:We.key),$=p(We,$,Ie),rt===null?Ne=We:rt.sibling=We,rt=We);return n&&je.forEach(function(Bi){return a(V,Bi)}),et&&La(V,Ie),Ne}function ke(V,$,Y,oe){if(Y==null)throw Error(i(151));for(var Ne=null,rt=null,je=$,Ie=$=0,We=null,at=Y.next();je!==null&&!at.done;Ie++,at=Y.next()){je.index>Ie?(We=je,je=null):We=je.sibling;var Bi=Z(V,je,at.value,oe);if(Bi===null){je===null&&(je=We);break}n&&je&&Bi.alternate===null&&a(V,je),$=p(Bi,$,Ie),rt===null?Ne=Bi:rt.sibling=Bi,rt=Bi,je=We}if(at.done)return l(V,je),et&&La(V,Ie),Ne;if(je===null){for(;!at.done;Ie++,at=Y.next())at=le(V,at.value,oe),at!==null&&($=p(at,$,Ie),rt===null?Ne=at:rt.sibling=at,rt=at);return et&&La(V,Ie),Ne}for(je=u(je);!at.done;Ie++,at=Y.next())at=ee(je,V,Ie,at.value,oe),at!==null&&(n&&at.alternate!==null&&je.delete(at.key===null?Ie:at.key),$=p(at,$,Ie),rt===null?Ne=at:rt.sibling=at,rt=at);return n&&je.forEach(function(ZM){return a(V,ZM)}),et&&La(V,Ie),Ne}function pt(V,$,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===E&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var Ne=Y.key;$!==null;){if($.key===Ne){if(Ne=Y.type,Ne===E){if($.tag===7){l(V,$.sibling),oe=m($,Y.props.children),oe.return=V,V=oe;break e}}else if($.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===z&&Oo(Ne)===$.type){l(V,$.sibling),oe=m($,Y.props),fu(oe,Y),oe.return=V,V=oe;break e}l(V,$);break}else a(V,$);$=$.sibling}Y.type===E?(oe=Eo(Y.props.children,V.mode,oe,Y.key),oe.return=V,V=oe):(oe=ef(Y.type,Y.key,Y.props,null,V.mode,oe),fu(oe,Y),oe.return=V,V=oe)}return w(V);case C:e:{for(Ne=Y.key;$!==null;){if($.key===Ne)if($.tag===4&&$.stateNode.containerInfo===Y.containerInfo&&$.stateNode.implementation===Y.implementation){l(V,$.sibling),oe=m($,Y.children||[]),oe.return=V,V=oe;break e}else{l(V,$);break}else a(V,$);$=$.sibling}oe=vm(Y,V.mode,oe),oe.return=V,V=oe}return w(V);case z:return Y=Oo(Y),pt(V,$,Y,oe)}if(pe(Y))return Oe(V,$,Y,oe);if(J(Y)){if(Ne=J(Y),typeof Ne!="function")throw Error(i(150));return Y=Ne.call(Y),ke(V,$,Y,oe)}if(typeof Y.then=="function")return pt(V,$,sf(Y),oe);if(Y.$$typeof===M)return pt(V,$,rf(V,Y),oe);uf(V,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,$!==null&&$.tag===6?(l(V,$.sibling),oe=m($,Y),oe.return=V,V=oe):(l(V,$),oe=gm(Y,V.mode,oe),oe.return=V,V=oe),w(V)):l(V,$)}return function(V,$,Y,oe){try{cu=0;var Ne=pt(V,$,Y,oe);return Nl=null,Ne}catch(je){if(je===Dl||je===of)throw je;var rt=rr(29,je,null,V.mode);return rt.lanes=oe,rt.return=V,rt}finally{}}}var jo=C0(!0),R0=C0(!1),xi=!1;function Mm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ei(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ci(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ot&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=Jc(n),s0(n,null,l),a}return Zc(n,u,a,l),Jc(n)}function du(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,k(n,l)}}function Am(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=w:p=p.next=w,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var Dm=!1;function hu(){if(Dm){var n=Al;if(n!==null)throw n}}function mu(n,a,l,u){Dm=!1;var m=n.updateQueue;xi=!1;var p=m.firstBaseUpdate,w=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var U=j,Q=U.next;U.next=null,w===null?p=Q:w.next=Q,w=U;var re=n.alternate;re!==null&&(re=re.updateQueue,j=re.lastBaseUpdate,j!==w&&(j===null?re.firstBaseUpdate=Q:j.next=Q,re.lastBaseUpdate=U))}if(p!==null){var le=m.baseState;w=0,re=Q=U=null,j=p;do{var Z=j.lane&-536870913,ee=Z!==j.lane;if(ee?(Qe&Z)===Z:(u&Z)===Z){Z!==0&&Z===jl&&(Dm=!0),re!==null&&(re=re.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Oe=n,ke=j;Z=a;var pt=l;switch(ke.tag){case 1:if(Oe=ke.payload,typeof Oe=="function"){le=Oe.call(pt,le,Z);break e}le=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=ke.payload,Z=typeof Oe=="function"?Oe.call(pt,le,Z):Oe,Z==null)break e;le=g({},le,Z);break e;case 2:xi=!0}}Z=j.callback,Z!==null&&(n.flags|=64,ee&&(n.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:j.tag,payload:j.payload,callback:j.callback,next:null},re===null?(Q=re=ee,U=le):re=re.next=ee,w|=Z;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);re===null&&(U=le),m.baseState=U,m.firstBaseUpdate=Q,m.lastBaseUpdate=re,p===null&&(m.shared.lanes=0),Mi|=w,n.lanes=w,n.memoizedState=le}}function T0(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function _0(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)T0(l[n],a)}var zl=L(null),cf=L(0);function O0(n,a){n=Ga,ae(cf,n),ae(zl,a),Ga=n|a.baseLanes}function Nm(){ae(cf,Ga),ae(zl,zl.current)}function zm(){Ga=cf.current,W(zl),W(cf)}var ar=L(null),Cr=null;function Ri(n){var a=n.alternate;ae(Ft,Ft.current&1),ae(ar,n),Cr===null&&(a===null||zl.current!==null||a.memoizedState!==null)&&(Cr=n)}function km(n){ae(Ft,Ft.current),ae(ar,n),Cr===null&&(Cr=n)}function M0(n){n.tag===22?(ae(Ft,Ft.current),ae(ar,n),Cr===null&&(Cr=n)):Ti()}function Ti(){ae(Ft,Ft.current),ae(ar,ar.current)}function ir(n){W(ar),Cr===n&&(Cr=null),W(Ft)}var Ft=L(0);function ff(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Hp(l)||Ip(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ba=0,$e=null,ht=null,Xt=null,df=!1,kl=!1,Ao=!1,hf=0,pu=0,Ll=null,IO=0;function Lt(){throw Error(i(321))}function Lm(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!nr(n[l],a[l]))return!1;return!0}function Um(n,a,l,u,m,p){return Ba=p,$e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=n===null||n.memoizedState===null?dS:Zm,Ao=!1,p=l(u,m),Ao=!1,kl&&(p=A0(a,l,u,m)),j0(n),p}function j0(n){B.H=yu;var a=ht!==null&&ht.next!==null;if(Ba=0,Xt=ht=$e=null,df=!1,pu=0,Ll=null,a)throw Error(i(300));n===null||Qt||(n=n.dependencies,n!==null&&nf(n)&&(Qt=!0))}function A0(n,a,l,u){$e=n;var m=0;do{if(kl&&(Ll=null),pu=0,kl=!1,25<=m)throw Error(i(301));if(m+=1,Xt=ht=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=hS,p=a(l,u)}while(kl);return p}function FO(){var n=B.H,a=n.useState()[0];return a=typeof a.then=="function"?gu(a):a,n=n.useState()[0],(ht!==null?ht.memoizedState:null)!==n&&($e.flags|=1024),a}function Pm(){var n=hf!==0;return hf=0,n}function Bm(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function $m(n){if(df){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}df=!1}Ba=0,Xt=ht=$e=null,kl=!1,pu=hf=0,Ll=null}function An(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?$e.memoizedState=Xt=n:Xt=Xt.next=n,Xt}function Vt(){if(ht===null){var n=$e.alternate;n=n!==null?n.memoizedState:null}else n=ht.next;var a=Xt===null?$e.memoizedState:Xt.next;if(a!==null)Xt=a,ht=n;else{if(n===null)throw $e.alternate===null?Error(i(467)):Error(i(310));ht=n,n={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Xt===null?$e.memoizedState=Xt=n:Xt=Xt.next=n}return Xt}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gu(n){var a=pu;return pu+=1,Ll===null&&(Ll=[]),n=w0(Ll,n,a),a=$e,(Xt===null?a.memoizedState:Xt.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?dS:Zm),n}function pf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return gu(n);if(n.$$typeof===M)return hn(n)}throw Error(i(438,String(n)))}function Hm(n){var a=null,l=$e.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=mf(),$e.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=I;return a.index++,l}function $a(n,a){return typeof a=="function"?a(n):a}function gf(n){var a=Vt();return Im(a,ht,n)}function Im(n,a,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=n.baseQueue,p=u.pending;if(p!==null){if(m!==null){var w=m.next;m.next=p.next,p.next=w}a.baseQueue=m=p,u.pending=null}if(p=n.baseState,m===null)n.memoizedState=p;else{a=m.next;var j=w=null,U=null,Q=a,re=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(Qe&le)===le:(Ba&le)===le){var Z=Q.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===jl&&(re=!0);else if((Ba&Z)===Z){Q=Q.next,Z===jl&&(re=!0);continue}else le={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(j=U=le,w=p):U=U.next=le,$e.lanes|=Z,Mi|=Z;le=Q.action,Ao&&l(p,le),p=Q.hasEagerState?Q.eagerState:l(p,le)}else Z={lane:le,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(j=U=Z,w=p):U=U.next=Z,$e.lanes|=le,Mi|=le;Q=Q.next}while(Q!==null&&Q!==a);if(U===null?w=p:U.next=j,!nr(p,n.memoizedState)&&(Qt=!0,re&&(l=Al,l!==null)))throw l;n.memoizedState=p,n.baseState=w,n.baseQueue=U,u.lastRenderedState=p}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Fm(n){var a=Vt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var w=m=m.next;do p=n(p,w.action),w=w.next;while(w!==m);nr(p,a.memoizedState)||(Qt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function D0(n,a,l){var u=$e,m=Vt(),p=et;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var w=!nr((ht||m).memoizedState,l);if(w&&(m.memoizedState=l,Qt=!0),m=m.queue,Ym(k0.bind(null,u,m,n),[n]),m.getSnapshot!==a||w||Xt!==null&&Xt.memoizedState.tag&1){if(u.flags|=2048,Ul(9,{destroy:void 0},z0.bind(null,u,m,l,a),null),gt===null)throw Error(i(349));p||(Ba&127)!==0||N0(u,a,l)}return l}function N0(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=$e.updateQueue,a===null?(a=mf(),$e.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function z0(n,a,l,u){a.value=l,a.getSnapshot=u,L0(a)&&U0(n)}function k0(n,a,l){return l(function(){L0(a)&&U0(n)})}function L0(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!nr(n,l)}catch{return!0}}function U0(n){var a=xo(n,2);a!==null&&Gn(a,n,2)}function Vm(n){var a=An();if(typeof n=="function"){var l=n;if(n=l(),Ao){Mn(!0);try{l()}finally{Mn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:n},a}function P0(n,a,l,u){return n.baseState=l,Im(n,ht,typeof u=="function"?u:$a)}function VO(n,a,l,u,m){if(bf(n))throw Error(i(485));if(n=a.action,n!==null){var p={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};B.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,B0(a,p)):(p.next=l.next,a.pending=l.next=p)}}function B0(n,a){var l=a.action,u=a.payload,m=n.state;if(a.isTransition){var p=B.T,w={};B.T=w;try{var j=l(m,u),U=B.S;U!==null&&U(w,j),$0(n,a,j)}catch(Q){qm(n,a,Q)}finally{p!==null&&w.types!==null&&(p.types=w.types),B.T=p}}else try{p=l(m,u),$0(n,a,p)}catch(Q){qm(n,a,Q)}}function $0(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){H0(n,a,u)},function(u){return qm(n,a,u)}):H0(n,a,l)}function H0(n,a,l){a.status="fulfilled",a.value=l,I0(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,B0(n,l)))}function qm(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,I0(a),a=a.next;while(a!==u)}n.action=null}function I0(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function F0(n,a){return a}function V0(n,a){if(et){var l=gt.formState;if(l!==null){e:{var u=$e;if(et){if(Et){t:{for(var m=Et,p=Er;m.nodeType!==8;){if(!p){m=null;break t}if(m=Rr(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Et=Rr(m.nextSibling),u=m.data==="F!";break e}}Si(u)}u=!1}u&&(a=l[0])}}return l=An(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F0,lastRenderedState:a},l.queue=u,l=uS.bind(null,$e,u),u.dispatch=l,u=Vm(!1),p=Km.bind(null,$e,!1,u.queue),u=An(),m={state:a,dispatch:null,action:n,pending:null},u.queue=m,l=VO.bind(null,$e,m,p,l),m.dispatch=l,u.memoizedState=n,[a,l,!1]}function q0(n){var a=Vt();return Y0(a,ht,n)}function Y0(n,a,l){if(a=Im(n,a,F0)[0],n=gf($a)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=gu(a)}catch(w){throw w===Dl?of:w}else u=a;a=Vt();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&($e.flags|=2048,Ul(9,{destroy:void 0},qO.bind(null,m,l),null)),[u,p,n]}function qO(n,a){n.action=a}function G0(n){var a=Vt(),l=ht;if(l!==null)return Y0(a,l,n);Vt(),a=a.memoizedState,l=Vt();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function Ul(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=$e.updateQueue,a===null&&(a=mf(),$e.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function X0(){return Vt().memoizedState}function vf(n,a,l,u){var m=An();$e.flags|=n,m.memoizedState=Ul(1|a,{destroy:void 0},l,u===void 0?null:u)}function yf(n,a,l,u){var m=Vt();u=u===void 0?null:u;var p=m.memoizedState.inst;ht!==null&&u!==null&&Lm(u,ht.memoizedState.deps)?m.memoizedState=Ul(a,p,l,u):($e.flags|=n,m.memoizedState=Ul(1|a,p,l,u))}function Q0(n,a){vf(8390656,8,n,a)}function Ym(n,a){yf(2048,8,n,a)}function YO(n){$e.flags|=4;var a=$e.updateQueue;if(a===null)a=mf(),$e.updateQueue=a,a.events=[n];else{var l=a.events;l===null?a.events=[n]:l.push(n)}}function W0(n){var a=Vt().memoizedState;return YO({ref:a,nextImpl:n}),function(){if((ot&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function K0(n,a){return yf(4,2,n,a)}function Z0(n,a){return yf(4,4,n,a)}function J0(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function eS(n,a,l){l=l!=null?l.concat([n]):null,yf(4,4,J0.bind(null,a,n),l)}function Gm(){}function tS(n,a){var l=Vt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Lm(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function nS(n,a){var l=Vt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Lm(a,u[1]))return u[0];if(u=n(),Ao){Mn(!0);try{n()}finally{Mn(!1)}}return l.memoizedState=[u,a],u}function Xm(n,a,l){return l===void 0||(Ba&1073741824)!==0&&(Qe&261930)===0?n.memoizedState=a:(n.memoizedState=l,n=rw(),$e.lanes|=n,Mi|=n,l)}function rS(n,a,l,u){return nr(l,a)?l:zl.current!==null?(n=Xm(n,l,u),nr(n,a)||(Qt=!0),n):(Ba&42)===0||(Ba&1073741824)!==0&&(Qe&261930)===0?(Qt=!0,n.memoizedState=l):(n=rw(),$e.lanes|=n,Mi|=n,a)}function aS(n,a,l,u,m){var p=X.p;X.p=p!==0&&8>p?p:8;var w=B.T,j={};B.T=j,Km(n,!1,a,l);try{var U=m(),Q=B.S;if(Q!==null&&Q(j,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=HO(U,u);vu(n,a,re,sr(n))}else vu(n,a,u,sr(n))}catch(le){vu(n,a,{then:function(){},status:"rejected",reason:le},sr())}finally{X.p=p,w!==null&&j.types!==null&&(w.types=j.types),B.T=w}}function GO(){}function Qm(n,a,l,u){if(n.tag!==5)throw Error(i(476));var m=iS(n).queue;aS(n,m,a,te,l===null?GO:function(){return oS(n),l(u)})}function iS(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:te},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function oS(n){var a=iS(n);a.next===null&&(a=n.alternate.memoizedState),vu(n,a.next.queue,{},sr())}function Wm(){return hn(zu)}function lS(){return Vt().memoizedState}function sS(){return Vt().memoizedState}function XO(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=sr();n=Ei(l);var u=Ci(a,n,l);u!==null&&(Gn(u,a,l),du(u,a,l)),a={cache:Rm()},n.payload=a;return}a=a.return}}function QO(n,a,l){var u=sr();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bf(n)?cS(a,l):(l=mm(n,a,l,u),l!==null&&(Gn(l,n,u),fS(l,a,u)))}function uS(n,a,l){var u=sr();vu(n,a,l,u)}function vu(n,a,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(bf(n))cS(a,m);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var w=a.lastRenderedState,j=p(w,l);if(m.hasEagerState=!0,m.eagerState=j,nr(j,w))return Zc(n,a,m,0),gt===null&&Kc(),!1}catch{}finally{}if(l=mm(n,a,m,u),l!==null)return Gn(l,n,u),fS(l,a,u),!0}return!1}function Km(n,a,l,u){if(u={lane:2,revertLane:Mp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bf(n)){if(a)throw Error(i(479))}else a=mm(n,l,u,2),a!==null&&Gn(a,n,2)}function bf(n){var a=n.alternate;return n===$e||a!==null&&a===$e}function cS(n,a){kl=df=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function fS(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,k(n,l)}}var yu={readContext:hn,use:pf,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};yu.useEffectEvent=Lt;var dS={readContext:hn,use:pf,useCallback:function(n,a){return An().memoizedState=[n,a===void 0?null:a],n},useContext:hn,useEffect:Q0,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,vf(4194308,4,J0.bind(null,a,n),l)},useLayoutEffect:function(n,a){return vf(4194308,4,n,a)},useInsertionEffect:function(n,a){vf(4,2,n,a)},useMemo:function(n,a){var l=An();a=a===void 0?null:a;var u=n();if(Ao){Mn(!0);try{n()}finally{Mn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=An();if(l!==void 0){var m=l(a);if(Ao){Mn(!0);try{l(a)}finally{Mn(!1)}}}else m=a;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=QO.bind(null,$e,n),[u.memoizedState,n]},useRef:function(n){var a=An();return n={current:n},a.memoizedState=n},useState:function(n){n=Vm(n);var a=n.queue,l=uS.bind(null,$e,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Gm,useDeferredValue:function(n,a){var l=An();return Xm(l,n,a)},useTransition:function(){var n=Vm(!1);return n=aS.bind(null,$e,n.queue,!0,!1),An().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=$e,m=An();if(et){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),gt===null)throw Error(i(349));(Qe&127)!==0||N0(u,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,Q0(k0.bind(null,u,p,n),[n]),u.flags|=2048,Ul(9,{destroy:void 0},z0.bind(null,u,p,l,a),null),l},useId:function(){var n=An(),a=gt.identifierPrefix;if(et){var l=ca,u=ua;l=(u&~(1<<32-Jt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=hf++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=IO++,a="_"+a+"r_"+l.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Wm,useFormState:V0,useActionState:V0,useOptimistic:function(n){var a=An();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Km.bind(null,$e,!0,l),l.dispatch=a,[n,a]},useMemoCache:Hm,useCacheRefresh:function(){return An().memoizedState=XO.bind(null,$e)},useEffectEvent:function(n){var a=An(),l={impl:n};return a.memoizedState=l,function(){if((ot&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Zm={readContext:hn,use:pf,useCallback:tS,useContext:hn,useEffect:Ym,useImperativeHandle:eS,useInsertionEffect:K0,useLayoutEffect:Z0,useMemo:nS,useReducer:gf,useRef:X0,useState:function(){return gf($a)},useDebugValue:Gm,useDeferredValue:function(n,a){var l=Vt();return rS(l,ht.memoizedState,n,a)},useTransition:function(){var n=gf($a)[0],a=Vt().memoizedState;return[typeof n=="boolean"?n:gu(n),a]},useSyncExternalStore:D0,useId:lS,useHostTransitionStatus:Wm,useFormState:q0,useActionState:q0,useOptimistic:function(n,a){var l=Vt();return P0(l,ht,n,a)},useMemoCache:Hm,useCacheRefresh:sS};Zm.useEffectEvent=W0;var hS={readContext:hn,use:pf,useCallback:tS,useContext:hn,useEffect:Ym,useImperativeHandle:eS,useInsertionEffect:K0,useLayoutEffect:Z0,useMemo:nS,useReducer:Fm,useRef:X0,useState:function(){return Fm($a)},useDebugValue:Gm,useDeferredValue:function(n,a){var l=Vt();return ht===null?Xm(l,n,a):rS(l,ht.memoizedState,n,a)},useTransition:function(){var n=Fm($a)[0],a=Vt().memoizedState;return[typeof n=="boolean"?n:gu(n),a]},useSyncExternalStore:D0,useId:lS,useHostTransitionStatus:Wm,useFormState:G0,useActionState:G0,useOptimistic:function(n,a){var l=Vt();return ht!==null?P0(l,ht,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:sS};hS.useEffectEvent=W0;function Jm(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:g({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var ep={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=sr(),m=Ei(u);m.payload=a,l!=null&&(m.callback=l),a=Ci(n,m,u),a!==null&&(Gn(a,n,u),du(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=sr(),m=Ei(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Ci(n,m,u),a!==null&&(Gn(a,n,u),du(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=sr(),u=Ei(l);u.tag=2,a!=null&&(u.callback=a),a=Ci(n,u,l),a!==null&&(Gn(a,n,l),du(a,n,l))}};function mS(n,a,l,u,m,p,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,w):a.prototype&&a.prototype.isPureReactComponent?!au(l,u)||!au(m,p):!0}function pS(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&ep.enqueueReplaceState(a,a.state,null)}function Do(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=g({},l));for(var m in n)l[m]===void 0&&(l[m]=n[m])}return l}function gS(n){Wc(n)}function vS(n){console.error(n)}function yS(n){Wc(n)}function Sf(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function bS(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tp(n,a,l){return l=Ei(l),l.tag=3,l.payload={element:null},l.callback=function(){Sf(n,a)},l}function SS(n){return n=Ei(n),n.tag=3,n}function wS(n,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;n.payload=function(){return m(p)},n.callback=function(){bS(a,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){bS(a,l,u),typeof m!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var j=u.stack;this.componentDidCatch(u.value,{componentStack:j!==null?j:""})})}function WO(n,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Ml(a,l,m,!0),l=ar.current,l!==null){switch(l.tag){case 31:case 13:return Cr===null?Df():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===lf?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Tp(n,u,m)),!1;case 22:return l.flags|=65536,u===lf?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Tp(n,u,m)),!1}throw Error(i(435,l.tag))}return Tp(n,u,m),Df(),!1}if(et)return a=ar.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Sm&&(n=Error(i(422),{cause:u}),lu(Sr(n,l)))):(u!==Sm&&(a=Error(i(423),{cause:u}),lu(Sr(a,l))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=Sr(u,l),m=tp(n.stateNode,u,m),Am(n,m),Ut!==4&&(Ut=2)),!1;var p=Error(i(520),{cause:u});if(p=Sr(p,l),Tu===null?Tu=[p]:Tu.push(p),Ut!==4&&(Ut=2),a===null)return!0;u=Sr(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=m&-m,l.lanes|=n,n=tp(l.stateNode,u,n),Am(l,n),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ji===null||!ji.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=SS(m),wS(m,n,l,u),Am(l,m),!1}l=l.return}while(l!==null);return!1}var np=Error(i(461)),Qt=!1;function mn(n,a,l,u){a.child=n===null?R0(a,null,l,u):jo(a,n.child,l,u)}function xS(n,a,l,u,m){l=l.render;var p=a.ref;if("ref"in u){var w={};for(var j in u)j!=="ref"&&(w[j]=u[j])}else w=u;return To(a),u=Um(n,a,l,w,p,m),j=Pm(),n!==null&&!Qt?(Bm(n,a,m),Ha(n,a,m)):(et&&j&&ym(a),a.flags|=1,mn(n,a,u,m),a.child)}function ES(n,a,l,u,m){if(n===null){var p=l.type;return typeof p=="function"&&!pm(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,CS(n,a,p,u,m)):(n=ef(l.type,null,u,a,a.mode,m),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!cp(n,m)){var w=p.memoizedProps;if(l=l.compare,l=l!==null?l:au,l(w,u)&&n.ref===a.ref)return Ha(n,a,m)}return a.flags|=1,n=ka(p,u),n.ref=a.ref,n.return=a,a.child=n}function CS(n,a,l,u,m){if(n!==null){var p=n.memoizedProps;if(au(p,u)&&n.ref===a.ref)if(Qt=!1,a.pendingProps=u=p,cp(n,m))(n.flags&131072)!==0&&(Qt=!0);else return a.lanes=n.lanes,Ha(n,a,m)}return rp(n,a,l,u,m)}function RS(n,a,l,u){var m=u.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,n!==null){for(u=a.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,a.child=null;return TS(n,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&af(a,p!==null?p.cachePool:null),p!==null?O0(a,p):Nm(),M0(a);else return u=a.lanes=536870912,TS(n,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(af(a,p.cachePool),O0(a,p),Ti(),a.memoizedState=null):(n!==null&&af(a,null),Nm(),Ti());return mn(n,a,m,l),a.child}function bu(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function TS(n,a,l,u,m){var p=_m();return p=p===null?null:{parent:Gt._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},n!==null&&af(a,null),Nm(),M0(a),n!==null&&Ml(n,a,u,!0),a.childLanes=m,null}function wf(n,a){return a=Ef({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function _S(n,a,l){return jo(a,n.child,null,l),n=wf(a,a.pendingProps),n.flags|=2,ir(a),a.memoizedState=null,n}function KO(n,a,l){var u=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(et){if(u.mode==="hidden")return n=wf(a,u),a.lanes=536870912,bu(null,n);if(km(a),(n=Et)?(n=Bw(n,Er),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:yi!==null?{id:ua,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},l=c0(n),l.return=a,a.child=l,dn=a,Et=null)):n=null,n===null)throw Si(a);return a.lanes=536870912,null}return wf(a,u)}var p=n.memoizedState;if(p!==null){var w=p.dehydrated;if(km(a),m)if(a.flags&256)a.flags&=-257,a=_S(n,a,l);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(i(558));else if(Qt||Ml(n,a,l,!1),m=(l&n.childLanes)!==0,Qt||m){if(u=gt,u!==null&&(w=H(u,l),w!==0&&w!==p.retryLane))throw p.retryLane=w,xo(n,w),Gn(u,n,w),np;Df(),a=_S(n,a,l)}else n=p.treeContext,Et=Rr(w.nextSibling),dn=a,et=!0,bi=null,Er=!1,n!==null&&h0(a,n),a=wf(a,u),a.flags|=4096;return a}return n=ka(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function xf(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function rp(n,a,l,u,m){return To(a),l=Um(n,a,l,u,void 0,m),u=Pm(),n!==null&&!Qt?(Bm(n,a,m),Ha(n,a,m)):(et&&u&&ym(a),a.flags|=1,mn(n,a,l,m),a.child)}function OS(n,a,l,u,m,p){return To(a),a.updateQueue=null,l=A0(a,u,l,m),j0(n),u=Pm(),n!==null&&!Qt?(Bm(n,a,p),Ha(n,a,p)):(et&&u&&ym(a),a.flags|=1,mn(n,a,l,p),a.child)}function MS(n,a,l,u,m){if(To(a),a.stateNode===null){var p=Rl,w=l.contextType;typeof w=="object"&&w!==null&&(p=hn(w)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ep,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Mm(a),w=l.contextType,p.context=typeof w=="object"&&w!==null?hn(w):Rl,p.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Jm(a,l,w,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&ep.enqueueReplaceState(p,p.state,null),mu(a,u,p,m),hu(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){p=a.stateNode;var j=a.memoizedProps,U=Do(l,j);p.props=U;var Q=p.context,re=l.contextType;w=Rl,typeof re=="object"&&re!==null&&(w=hn(re));var le=l.getDerivedStateFromProps;re=typeof le=="function"||typeof p.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(j||Q!==w)&&pS(a,p,u,w),xi=!1;var Z=a.memoizedState;p.state=Z,mu(a,u,p,m),hu(),Q=a.memoizedState,j||Z!==Q||xi?(typeof le=="function"&&(Jm(a,l,le,u),Q=a.memoizedState),(U=xi||mS(a,l,U,u,Z,Q,w))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Q),p.props=u,p.state=Q,p.context=w,u=U):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,jm(n,a),w=a.memoizedProps,re=Do(l,w),p.props=re,le=a.pendingProps,Z=p.context,Q=l.contextType,U=Rl,typeof Q=="object"&&Q!==null&&(U=hn(Q)),j=l.getDerivedStateFromProps,(Q=typeof j=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==le||Z!==U)&&pS(a,p,u,U),xi=!1,Z=a.memoizedState,p.state=Z,mu(a,u,p,m),hu();var ee=a.memoizedState;w!==le||Z!==ee||xi||n!==null&&n.dependencies!==null&&nf(n.dependencies)?(typeof j=="function"&&(Jm(a,l,j,u),ee=a.memoizedState),(re=xi||mS(a,l,re,u,Z,ee,U)||n!==null&&n.dependencies!==null&&nf(n.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,ee,U),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,ee,U)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===n.memoizedProps&&Z===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&Z===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ee),p.props=u,p.state=ee,p.context=U,u=re):(typeof p.componentDidUpdate!="function"||w===n.memoizedProps&&Z===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&Z===n.memoizedState||(a.flags|=1024),u=!1)}return p=u,xf(n,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&u?(a.child=jo(a,n.child,null,m),a.child=jo(a,null,l,m)):mn(n,a,l,m),a.memoizedState=p.state,n=a.child):n=Ha(n,a,m),n}function jS(n,a,l,u){return Co(),a.flags|=256,mn(n,a,l,u),a.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(n){return{baseLanes:n,cachePool:b0()}}function op(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=lr),n}function AS(n,a,l){var u=a.pendingProps,m=!1,p=(a.flags&128)!==0,w;if((w=p)||(w=n!==null&&n.memoizedState===null?!1:(Ft.current&2)!==0),w&&(m=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,n===null){if(et){if(m?Ri(a):Ti(),(n=Et)?(n=Bw(n,Er),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:yi!==null?{id:ua,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},l=c0(n),l.return=a,a.child=l,dn=a,Et=null)):n=null,n===null)throw Si(a);return Ip(n)?a.lanes=32:a.lanes=536870912,null}var j=u.children;return u=u.fallback,m?(Ti(),m=a.mode,j=Ef({mode:"hidden",children:j},m),u=Eo(u,m,l,null),j.return=a,u.return=a,j.sibling=u,a.child=j,u=a.child,u.memoizedState=ip(l),u.childLanes=op(n,w,l),a.memoizedState=ap,bu(null,u)):(Ri(a),lp(a,j))}var U=n.memoizedState;if(U!==null&&(j=U.dehydrated,j!==null)){if(p)a.flags&256?(Ri(a),a.flags&=-257,a=sp(n,a,l)):a.memoizedState!==null?(Ti(),a.child=n.child,a.flags|=128,a=null):(Ti(),j=u.fallback,m=a.mode,u=Ef({mode:"visible",children:u.children},m),j=Eo(j,m,l,null),j.flags|=2,u.return=a,j.return=a,u.sibling=j,a.child=u,jo(a,n.child,null,l),u=a.child,u.memoizedState=ip(l),u.childLanes=op(n,w,l),a.memoizedState=ap,a=bu(null,u));else if(Ri(a),Ip(j)){if(w=j.nextSibling&&j.nextSibling.dataset,w)var Q=w.dgst;w=Q,u=Error(i(419)),u.stack="",u.digest=w,lu({value:u,source:null,stack:null}),a=sp(n,a,l)}else if(Qt||Ml(n,a,l,!1),w=(l&n.childLanes)!==0,Qt||w){if(w=gt,w!==null&&(u=H(w,l),u!==0&&u!==U.retryLane))throw U.retryLane=u,xo(n,u),Gn(w,n,u),np;Hp(j)||Df(),a=sp(n,a,l)}else Hp(j)?(a.flags|=192,a.child=n.child,a=null):(n=U.treeContext,Et=Rr(j.nextSibling),dn=a,et=!0,bi=null,Er=!1,n!==null&&h0(a,n),a=lp(a,u.children),a.flags|=4096);return a}return m?(Ti(),j=u.fallback,m=a.mode,U=n.child,Q=U.sibling,u=ka(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Q!==null?j=ka(Q,j):(j=Eo(j,m,l,null),j.flags|=2),j.return=a,u.return=a,u.sibling=j,a.child=u,bu(null,u),u=a.child,j=n.child.memoizedState,j===null?j=ip(l):(m=j.cachePool,m!==null?(U=Gt._currentValue,m=m.parent!==U?{parent:U,pool:U}:m):m=b0(),j={baseLanes:j.baseLanes|l,cachePool:m}),u.memoizedState=j,u.childLanes=op(n,w,l),a.memoizedState=ap,bu(n.child,u)):(Ri(a),l=n.child,n=l.sibling,l=ka(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(w=a.deletions,w===null?(a.deletions=[n],a.flags|=16):w.push(n)),a.child=l,a.memoizedState=null,l)}function lp(n,a){return a=Ef({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Ef(n,a){return n=rr(22,n,null,a),n.lanes=0,n}function sp(n,a,l){return jo(a,n.child,null,l),n=lp(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function DS(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),Em(n.return,a,l)}function up(n,a,l,u,m,p){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:p}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=l,w.tailMode=m,w.treeForkCount=p)}function NS(n,a,l){var u=a.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var w=Ft.current,j=(w&2)!==0;if(j?(w=w&1|2,a.flags|=128):w&=1,ae(Ft,w),mn(n,a,u,l),u=et?ou:0,!j&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&DS(n,l,a);else if(n.tag===19)DS(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)n=l.alternate,n!==null&&ff(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),up(a,!1,m,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(n=m.alternate,n!==null&&ff(n)===null){a.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}up(a,!0,l,null,p,u);break;case"together":up(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Ha(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Mi|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Ml(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,l=ka(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=ka(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function cp(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&nf(n)))}function ZO(n,a,l){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),wi(a,Gt,n.memoizedState.cache),Co();break;case 27:case 5:Se(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:wi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,km(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ri(a),a.flags|=128,null):(l&a.child.childLanes)!==0?AS(n,a,l):(Ri(a),n=Ha(n,a,l),n!==null?n.sibling:null);Ri(a);break;case 19:var m=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Ml(n,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return NS(n,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ae(Ft,Ft.current),u)break;return null;case 22:return a.lanes=0,RS(n,a,l,a.pendingProps);case 24:wi(a,Gt,n.memoizedState.cache)}return Ha(n,a,l)}function zS(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)Qt=!0;else{if(!cp(n,l)&&(a.flags&128)===0)return Qt=!1,ZO(n,a,l);Qt=(n.flags&131072)!==0}else Qt=!1,et&&(a.flags&1048576)!==0&&d0(a,ou,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(n=Oo(a.elementType),a.type=n,typeof n=="function")pm(n)?(u=Do(n,u),a.tag=1,a=MS(null,a,n,u,l)):(a.tag=0,a=rp(null,a,n,u,l));else{if(n!=null){var m=n.$$typeof;if(m===A){a.tag=11,a=xS(null,a,n,u,l);break e}else if(m===O){a.tag=14,a=ES(null,a,n,u,l);break e}}throw a=ie(n)||n,Error(i(306,a,""))}}return a;case 0:return rp(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=Do(u,a.pendingProps),MS(n,a,u,m,l);case 3:e:{if(Ce(a,a.stateNode.containerInfo),n===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;m=p.element,jm(n,a),mu(a,u,null,l);var w=a.memoizedState;if(u=w.cache,wi(a,Gt,u),u!==p.cache&&Cm(a,[Gt],l,!0),hu(),u=w.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=jS(n,a,u,l);break e}else if(u!==m){m=Sr(Error(i(424)),a),lu(m),a=jS(n,a,u,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Et=Rr(n.firstChild),dn=a,et=!0,bi=null,Er=!0,l=R0(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Co(),u===m){a=Ha(n,a,l);break e}mn(n,a,u,l)}a=a.child}return a;case 26:return xf(n,a),n===null?(l=qw(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,n=a.pendingProps,u=Bf(xe.current).createElement(l),u[ve]=a,u[we]=n,pn(u,l,n),Ot(u),a.stateNode=u):a.memoizedState=qw(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Se(a),n===null&&et&&(u=a.stateNode=Iw(a.type,a.pendingProps,xe.current),dn=a,Er=!0,m=Et,zi(a.type)?(Fp=m,Et=Rr(u.firstChild)):Et=m),mn(n,a,a.pendingProps.children,l),xf(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&et&&((m=u=Et)&&(u=OM(u,a.type,a.pendingProps,Er),u!==null?(a.stateNode=u,dn=a,Et=Rr(u.firstChild),Er=!1,m=!0):m=!1),m||Si(a)),Se(a),m=a.type,p=a.pendingProps,w=n!==null?n.memoizedProps:null,u=p.children,Pp(m,p)?u=null:w!==null&&Pp(m,w)&&(a.flags|=32),a.memoizedState!==null&&(m=Um(n,a,FO,null,null,l),zu._currentValue=m),xf(n,a),mn(n,a,u,l),a.child;case 6:return n===null&&et&&((n=l=Et)&&(l=MM(l,a.pendingProps,Er),l!==null?(a.stateNode=l,dn=a,Et=null,n=!0):n=!1),n||Si(a)),null;case 13:return AS(n,a,l);case 4:return Ce(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=jo(a,null,u,l):mn(n,a,u,l),a.child;case 11:return xS(n,a,a.type,a.pendingProps,l);case 7:return mn(n,a,a.pendingProps,l),a.child;case 8:return mn(n,a,a.pendingProps.children,l),a.child;case 12:return mn(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,wi(a,a.type,u.value),mn(n,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,To(a),m=hn(m),u=u(m),a.flags|=1,mn(n,a,u,l),a.child;case 14:return ES(n,a,a.type,a.pendingProps,l);case 15:return CS(n,a,a.type,a.pendingProps,l);case 19:return NS(n,a,l);case 31:return KO(n,a,l);case 22:return RS(n,a,l,a.pendingProps);case 24:return To(a),u=hn(Gt),n===null?(m=_m(),m===null&&(m=gt,p=Rm(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:u,cache:m},Mm(a),wi(a,Gt,m)):((n.lanes&l)!==0&&(jm(n,a),mu(a,null,null,l),hu()),m=n.memoizedState,p=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),wi(a,Gt,u)):(u=p.cache,wi(a,Gt,u),u!==m.cache&&Cm(a,[Gt],l,!0))),mn(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ia(n){n.flags|=4}function fp(n,a,l,u,m){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(lw())n.flags|=8192;else throw Mo=lf,Om}else n.flags&=-16777217}function kS(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ww(a))if(lw())n.flags|=8192;else throw Mo=lf,Om}function Cf(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?$t():536870912,n.lanes|=a,Hl|=a)}function Su(n,a){if(!et)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ct(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function JO(n,a,l){var u=a.pendingProps;switch(bm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(a),null;case 1:return Ct(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Pa(Gt),Re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ol(a)?Ia(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,wm())),Ct(a),null;case 26:var m=a.type,p=a.memoizedState;return n===null?(Ia(a),p!==null?(Ct(a),kS(a,p)):(Ct(a),fp(a,m,null,u,l))):p?p!==n.memoizedState?(Ia(a),Ct(a),kS(a,p)):(Ct(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&Ia(a),Ct(a),fp(a,m,n,u,l)),null;case 27:if(st(a),l=xe.current,m=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Ia(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ct(a),null}n=fe.current,Ol(a)?m0(a):(n=Iw(m,u,l),a.stateNode=n,Ia(a))}return Ct(a),null;case 5:if(st(a),m=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Ia(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Ct(a),null}if(p=fe.current,Ol(a))m0(a);else{var w=Bf(xe.current);switch(p){case 1:p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=w.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}p[ve]=a,p[we]=u;e:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)p.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break e;for(;w.sibling===null;){if(w.return===null||w.return===a)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=p;e:switch(pn(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ia(a)}}return Ct(a),fp(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,l),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Ia(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(n=xe.current,Ol(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,m=dn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[ve]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Aw(n.nodeValue,l)),n||Si(a,!0)}else n=Bf(n).createTextNode(u),n[ve]=a,a.stateNode=n}return Ct(a),null;case 31:if(l=a.memoizedState,n===null||n.memoizedState!==null){if(u=Ol(a),l!==null){if(n===null){if(!u)throw Error(i(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[ve]=a}else Co(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ct(a),n=!1}else l=wm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return a.flags&256?(ir(a),a):(ir(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Ct(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Ol(a),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[ve]=a}else Co(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ct(a),m=!1}else m=wm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ir(a),a):(ir(a),null)}return ir(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),l!==n&&l&&(a.child.flags|=8192),Cf(a,a.updateQueue),Ct(a),null);case 4:return Re(),n===null&&Np(a.stateNode.containerInfo),Ct(a),null;case 10:return Pa(a.type),Ct(a),null;case 19:if(W(Ft),u=a.memoizedState,u===null)return Ct(a),null;if(m=(a.flags&128)!==0,p=u.rendering,p===null)if(m)Su(u,!1);else{if(Ut!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=ff(n),p!==null){for(a.flags|=128,Su(u,!1),n=p.updateQueue,a.updateQueue=n,Cf(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)u0(l,n),l=l.sibling;return ae(Ft,Ft.current&1|2),et&&La(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&vt()>Mf&&(a.flags|=128,m=!0,Su(u,!1),a.lanes=4194304)}else{if(!m)if(n=ff(p),n!==null){if(a.flags|=128,m=!0,n=n.updateQueue,a.updateQueue=n,Cf(a,n),Su(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!et)return Ct(a),null}else 2*vt()-u.renderingStartTime>Mf&&l!==536870912&&(a.flags|=128,m=!0,Su(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(n=u.last,n!==null?n.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=vt(),n.sibling=null,l=Ft.current,ae(Ft,m?l&1|2:l&1),et&&La(a,u.treeForkCount),n):(Ct(a),null);case 22:case 23:return ir(a),zm(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Ct(a),a.subtreeFlags&6&&(a.flags|=8192)):Ct(a),l=a.updateQueue,l!==null&&Cf(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&W(_o),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Pa(Gt),Ct(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function eM(n,a){switch(bm(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Pa(Gt),Re(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return st(a),null;case 31:if(a.memoizedState!==null){if(ir(a),a.alternate===null)throw Error(i(340));Co()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(ir(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Co()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return W(Ft),null;case 4:return Re(),null;case 10:return Pa(a.type),null;case 22:case 23:return ir(a),zm(),n!==null&&W(_o),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Pa(Gt),null;case 25:return null;default:return null}}function LS(n,a){switch(bm(a),a.tag){case 3:Pa(Gt),Re();break;case 26:case 27:case 5:st(a);break;case 4:Re();break;case 31:a.memoizedState!==null&&ir(a);break;case 13:ir(a);break;case 19:W(Ft);break;case 10:Pa(a.type);break;case 22:case 23:ir(a),zm(),n!==null&&W(_o);break;case 24:Pa(Gt)}}function wu(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&n)===n){u=void 0;var p=l.create,w=l.inst;u=p(),w.destroy=u}l=l.next}while(l!==m)}}catch(j){dt(a,a.return,j)}}function _i(n,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&n)===n){var w=u.inst,j=w.destroy;if(j!==void 0){w.destroy=void 0,m=a;var U=l,Q=j;try{Q()}catch(re){dt(m,U,re)}}}u=u.next}while(u!==p)}}catch(re){dt(a,a.return,re)}}function US(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{_0(a,l)}catch(u){dt(n,n.return,u)}}}function PS(n,a,l){l.props=Do(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){dt(n,a,u)}}function xu(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(m){dt(n,a,m)}}function fa(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){dt(n,a,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(n,a,m)}else l.current=null}function BS(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){dt(n,n.return,m)}}function dp(n,a,l){try{var u=n.stateNode;xM(u,n.type,l,a),u[we]=a}catch(m){dt(n,n.return,m)}}function $S(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zi(n.type)||n.tag===4}function hp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$S(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mp(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Na));else if(u!==4&&(u===27&&zi(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(mp(n,a,l),n=n.sibling;n!==null;)mp(n,a,l),n=n.sibling}function Rf(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&zi(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Rf(n,a,l),n=n.sibling;n!==null;)Rf(n,a,l),n=n.sibling}function HS(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);pn(a,u,l),a[ve]=n,a[we]=l}catch(p){dt(n,n.return,p)}}var Fa=!1,Wt=!1,pp=!1,IS=typeof WeakSet=="function"?WeakSet:Set,on=null;function tM(n,a){if(n=n.containerInfo,Lp=Yf,n=e0(n),sm(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var w=0,j=-1,U=-1,Q=0,re=0,le=n,Z=null;t:for(;;){for(var ee;le!==l||m!==0&&le.nodeType!==3||(j=w+m),le!==p||u!==0&&le.nodeType!==3||(U=w+u),le.nodeType===3&&(w+=le.nodeValue.length),(ee=le.firstChild)!==null;)Z=le,le=ee;for(;;){if(le===n)break t;if(Z===l&&++Q===m&&(j=w),Z===p&&++re===u&&(U=w),(ee=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=ee}l=j===-1||U===-1?null:{start:j,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Up={focusedElem:n,selectionRange:l},Yf=!1,on=a;on!==null;)if(a=on,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,on=n;else for(;on!==null;){switch(a=on,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)m=n[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var Oe=Do(l.type,m);n=u.getSnapshotBeforeUpdate(Oe,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(ke){dt(l,l.return,ke)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)$p(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":$p(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,on=n;break}on=a.return}}function FS(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:qa(n,l),u&4&&wu(5,l);break;case 1:if(qa(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(w){dt(l,l.return,w)}else{var m=Do(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(m,a,n.__reactInternalSnapshotBeforeUpdate)}catch(w){dt(l,l.return,w)}}u&64&&US(l),u&512&&xu(l,l.return);break;case 3:if(qa(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{_0(n,a)}catch(w){dt(l,l.return,w)}}break;case 27:a===null&&u&4&&HS(l);case 26:case 5:qa(n,l),a===null&&u&4&&BS(l),u&512&&xu(l,l.return);break;case 12:qa(n,l);break;case 31:qa(n,l),u&4&&YS(n,l);break;case 13:qa(n,l),u&4&&GS(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=cM.bind(null,l),jM(n,l))));break;case 22:if(u=l.memoizedState!==null||Fa,!u){a=a!==null&&a.memoizedState!==null||Wt,m=Fa;var p=Wt;Fa=u,(Wt=a)&&!p?Ya(n,l,(l.subtreeFlags&8772)!==0):qa(n,l),Fa=m,Wt=p}break;case 30:break;default:qa(n,l)}}function VS(n){var a=n.alternate;a!==null&&(n.alternate=null,VS(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&zt(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Mt=null,Fn=!1;function Va(n,a,l){for(l=l.child;l!==null;)qS(n,a,l),l=l.sibling}function qS(n,a,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ja,l)}catch{}switch(l.tag){case 26:Wt||fa(l,a),Va(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Wt||fa(l,a);var u=Mt,m=Fn;zi(l.type)&&(Mt=l.stateNode,Fn=!1),Va(n,a,l),Au(l.stateNode),Mt=u,Fn=m;break;case 5:Wt||fa(l,a);case 6:if(u=Mt,m=Fn,Mt=null,Va(n,a,l),Mt=u,Fn=m,Mt!==null)if(Fn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(l.stateNode)}catch(p){dt(l,a,p)}else try{Mt.removeChild(l.stateNode)}catch(p){dt(l,a,p)}break;case 18:Mt!==null&&(Fn?(n=Mt,Uw(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Ql(n)):Uw(Mt,l.stateNode));break;case 4:u=Mt,m=Fn,Mt=l.stateNode.containerInfo,Fn=!0,Va(n,a,l),Mt=u,Fn=m;break;case 0:case 11:case 14:case 15:_i(2,l,a),Wt||_i(4,l,a),Va(n,a,l);break;case 1:Wt||(fa(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&PS(l,a,u)),Va(n,a,l);break;case 21:Va(n,a,l);break;case 22:Wt=(u=Wt)||l.memoizedState!==null,Va(n,a,l),Wt=u;break;default:Va(n,a,l)}}function YS(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ql(n)}catch(l){dt(a,a.return,l)}}}function GS(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ql(n)}catch(l){dt(a,a.return,l)}}function nM(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new IS),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new IS),a;default:throw Error(i(435,n.tag))}}function Tf(n,a){var l=nM(n);a.forEach(function(u){if(!l.has(u)){l.add(u);var m=fM.bind(null,n,u);u.then(m,m)}})}function Vn(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=n,w=a,j=w;e:for(;j!==null;){switch(j.tag){case 27:if(zi(j.type)){Mt=j.stateNode,Fn=!1;break e}break;case 5:Mt=j.stateNode,Fn=!1;break e;case 3:case 4:Mt=j.stateNode.containerInfo,Fn=!0;break e}j=j.return}if(Mt===null)throw Error(i(160));qS(p,w,m),Mt=null,Fn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)XS(a,n),a=a.sibling}var Yr=null;function XS(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Vn(a,n),qn(n),u&4&&(_i(3,n,n.return),wu(3,n),_i(5,n,n.return));break;case 1:Vn(a,n),qn(n),u&512&&(Wt||l===null||fa(l,l.return)),u&64&&Fa&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Yr;if(Vn(a,n),qn(n),u&512&&(Wt||l===null||fa(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[At]||p[ve]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),pn(p,u,l),p[ve]=n,Ot(p),u=p;break e;case"link":var w=Xw("link","href",m).get(u+(l.href||""));if(w){for(var j=0;j<w.length;j++)if(p=w[j],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(j,1);break t}}p=m.createElement(u),pn(p,u,l),m.head.appendChild(p);break;case"meta":if(w=Xw("meta","content",m).get(u+(l.content||""))){for(j=0;j<w.length;j++)if(p=w[j],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(j,1);break t}}p=m.createElement(u),pn(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[ve]=n,Ot(p),u=p}n.stateNode=u}else Qw(m,n.type,n.stateNode);else n.stateNode=Gw(m,u,n.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Qw(m,n.type,n.stateNode):Gw(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&dp(n,n.memoizedProps,l.memoizedProps)}break;case 27:Vn(a,n),qn(n),u&512&&(Wt||l===null||fa(l,l.return)),l!==null&&u&4&&dp(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Vn(a,n),qn(n),u&512&&(Wt||l===null||fa(l,l.return)),n.flags&32){m=n.stateNode;try{yl(m,"")}catch(Oe){dt(n,n.return,Oe)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,dp(n,m,l!==null?l.memoizedProps:m)),u&1024&&(pp=!0);break;case 6:if(Vn(a,n),qn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(Oe){dt(n,n.return,Oe)}}break;case 3:if(If=null,m=Yr,Yr=$f(a.containerInfo),Vn(a,n),Yr=m,qn(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Ql(a.containerInfo)}catch(Oe){dt(n,n.return,Oe)}pp&&(pp=!1,QS(n));break;case 4:u=Yr,Yr=$f(n.stateNode.containerInfo),Vn(a,n),qn(n),Yr=u;break;case 12:Vn(a,n),qn(n);break;case 31:Vn(a,n),qn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Tf(n,u)));break;case 13:Vn(a,n),qn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Of=vt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Tf(n,u)));break;case 22:m=n.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,Q=Fa,re=Wt;if(Fa=Q||m,Wt=re||U,Vn(a,n),Wt=re,Fa=Q,qn(n),u&8192)e:for(a=n.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||U||Fa||Wt||No(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){U=l=a;try{if(p=U.stateNode,m)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{j=U.stateNode;var le=U.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;j.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Oe){dt(U,U.return,Oe)}}}else if(a.tag===6){if(l===null){U=a;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(Oe){dt(U,U.return,Oe)}}}else if(a.tag===18){if(l===null){U=a;try{var ee=U.stateNode;m?Pw(ee,!0):Pw(U.stateNode,!1)}catch(Oe){dt(U,U.return,Oe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Tf(n,l))));break;case 19:Vn(a,n),qn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Tf(n,u)));break;case 30:break;case 21:break;default:Vn(a,n),qn(n)}}function qn(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if($S(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=hp(n);Rf(n,p,m);break;case 5:var w=l.stateNode;l.flags&32&&(yl(w,""),l.flags&=-33);var j=hp(n);Rf(n,j,w);break;case 3:case 4:var U=l.stateNode.containerInfo,Q=hp(n);mp(n,Q,U);break;default:throw Error(i(161))}}catch(re){dt(n,n.return,re)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function QS(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;QS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function qa(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)FS(n,a.alternate,a),a=a.sibling}function No(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:_i(4,a,a.return),No(a);break;case 1:fa(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&PS(a,a.return,l),No(a);break;case 27:Au(a.stateNode);case 26:case 5:fa(a,a.return),No(a);break;case 22:a.memoizedState===null&&No(a);break;case 30:No(a);break;default:No(a)}n=n.sibling}}function Ya(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=n,p=a,w=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(m,p,l),wu(4,p);break;case 1:if(Ya(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){dt(u,u.return,Q)}if(u=p,m=u.updateQueue,m!==null){var j=u.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)T0(U[m],j)}catch(Q){dt(u,u.return,Q)}}l&&w&64&&US(p),xu(p,p.return);break;case 27:HS(p);case 26:case 5:Ya(m,p,l),l&&u===null&&w&4&&BS(p),xu(p,p.return);break;case 12:Ya(m,p,l);break;case 31:Ya(m,p,l),l&&w&4&&YS(m,p);break;case 13:Ya(m,p,l),l&&w&4&&GS(m,p);break;case 22:p.memoizedState===null&&Ya(m,p,l),xu(p,p.return);break;case 30:break;default:Ya(m,p,l)}a=a.sibling}}function gp(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&su(l))}function vp(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&su(n))}function Gr(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)WS(n,a,l,u),a=a.sibling}function WS(n,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Gr(n,a,l,u),m&2048&&wu(9,a);break;case 1:Gr(n,a,l,u);break;case 3:Gr(n,a,l,u),m&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&su(n)));break;case 12:if(m&2048){Gr(n,a,l,u),n=a.stateNode;try{var p=a.memoizedProps,w=p.id,j=p.onPostCommit;typeof j=="function"&&j(w,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){dt(a,a.return,U)}}else Gr(n,a,l,u);break;case 31:Gr(n,a,l,u);break;case 13:Gr(n,a,l,u);break;case 23:break;case 22:p=a.stateNode,w=a.alternate,a.memoizedState!==null?p._visibility&2?Gr(n,a,l,u):Eu(n,a):p._visibility&2?Gr(n,a,l,u):(p._visibility|=2,Pl(n,a,l,u,(a.subtreeFlags&10256)!==0||!1)),m&2048&&gp(w,a);break;case 24:Gr(n,a,l,u),m&2048&&vp(a.alternate,a);break;default:Gr(n,a,l,u)}}function Pl(n,a,l,u,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,w=a,j=l,U=u,Q=w.flags;switch(w.tag){case 0:case 11:case 15:Pl(p,w,j,U,m),wu(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?Pl(p,w,j,U,m):Eu(p,w):(re._visibility|=2,Pl(p,w,j,U,m)),m&&Q&2048&&gp(w.alternate,w);break;case 24:Pl(p,w,j,U,m),m&&Q&2048&&vp(w.alternate,w);break;default:Pl(p,w,j,U,m)}a=a.sibling}}function Eu(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,m=u.flags;switch(u.tag){case 22:Eu(l,u),m&2048&&gp(u.alternate,u);break;case 24:Eu(l,u),m&2048&&vp(u.alternate,u);break;default:Eu(l,u)}a=a.sibling}}var Cu=8192;function Bl(n,a,l){if(n.subtreeFlags&Cu)for(n=n.child;n!==null;)KS(n,a,l),n=n.sibling}function KS(n,a,l){switch(n.tag){case 26:Bl(n,a,l),n.flags&Cu&&n.memoizedState!==null&&IM(l,Yr,n.memoizedState,n.memoizedProps);break;case 5:Bl(n,a,l);break;case 3:case 4:var u=Yr;Yr=$f(n.stateNode.containerInfo),Bl(n,a,l),Yr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Cu,Cu=16777216,Bl(n,a,l),Cu=u):Bl(n,a,l));break;default:Bl(n,a,l)}}function ZS(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Ru(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];on=u,ew(u,n)}ZS(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)JS(n),n=n.sibling}function JS(n){switch(n.tag){case 0:case 11:case 15:Ru(n),n.flags&2048&&_i(9,n,n.return);break;case 3:Ru(n);break;case 12:Ru(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,_f(n)):Ru(n);break;default:Ru(n)}}function _f(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];on=u,ew(u,n)}ZS(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:_i(8,a,a.return),_f(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,_f(a));break;default:_f(a)}n=n.sibling}}function ew(n,a){for(;on!==null;){var l=on;switch(l.tag){case 0:case 11:case 15:_i(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:su(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,on=u;else e:for(l=n;on!==null;){u=on;var m=u.sibling,p=u.return;if(VS(u),u===l){on=null;break e}if(m!==null){m.return=p,on=m;break e}on=p}}}var rM={getCacheForType:function(n){var a=hn(Gt),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l},cacheSignal:function(){return hn(Gt).controller.signal}},aM=typeof WeakMap=="function"?WeakMap:Map,ot=0,gt=null,Ye=null,Qe=0,ft=0,or=null,Oi=!1,$l=!1,yp=!1,Ga=0,Ut=0,Mi=0,zo=0,bp=0,lr=0,Hl=0,Tu=null,Yn=null,Sp=!1,Of=0,tw=0,Mf=1/0,jf=null,ji=null,tn=0,Ai=null,Il=null,Xa=0,wp=0,xp=null,nw=null,_u=0,Ep=null;function sr(){return(ot&2)!==0&&Qe!==0?Qe&-Qe:B.T!==null?Mp():de()}function rw(){if(lr===0)if((Qe&536870912)===0||et){var n=Aa;Aa<<=1,(Aa&3932160)===0&&(Aa=262144),lr=n}else lr=536870912;return n=ar.current,n!==null&&(n.flags|=32),lr}function Gn(n,a,l){(n===gt&&(ft===2||ft===9)||n.cancelPendingCommit!==null)&&(Fl(n,0),Di(n,Qe,lr,!1)),jn(n,l),((ot&2)===0||n!==gt)&&(n===gt&&((ot&2)===0&&(zo|=l),Ut===4&&Di(n,Qe,lr,!1)),da(n))}function aw(n,a,l){if((ot&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&n.expiredLanes)===0||wn(n,a),m=u?lM(n,a):Rp(n,a,!0),p=u;do{if(m===0){$l&&!u&&Di(n,a,0,!1);break}else{if(l=n.current.alternate,p&&!iM(l)){m=Rp(n,a,!1),p=!1;continue}if(m===2){if(p=a,n.errorRecoveryDisabledLanes&p)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var j=n;m=Tu;var U=j.current.memoizedState.isDehydrated;if(U&&(Fl(j,w).flags|=256),w=Rp(j,w,!1),w!==2){if(yp&&!U){j.errorRecoveryDisabledLanes|=p,zo|=p,m=4;break e}p=Yn,Yn=m,p!==null&&(Yn===null?Yn=p:Yn.push.apply(Yn,p))}m=w}if(p=!1,m!==2)continue}}if(m===1){Fl(n,0),Di(n,a,0,!0);break}e:{switch(u=n,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Di(u,a,lr,!Oi);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Of+300-vt(),10<m)){if(Di(u,a,lr,!Oi),Bt(u,0,!0)!==0)break e;Xa=a,u.timeoutHandle=kw(iw.bind(null,u,l,Yn,jf,Sp,a,lr,zo,Hl,Oi,p,"Throttled",-0,0),m);break e}iw(u,l,Yn,jf,Sp,a,lr,zo,Hl,Oi,p,null,-0,0)}}break}while(!0);da(n)}function iw(n,a,l,u,m,p,w,j,U,Q,re,le,Z,ee){if(n.timeoutHandle=-1,le=a.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Na},KS(a,p,le);var Oe=(p&62914560)===p?Of-vt():(p&4194048)===p?tw-vt():0;if(Oe=FM(le,Oe),Oe!==null){Xa=p,n.cancelPendingCommit=Oe(hw.bind(null,n,a,p,l,u,m,w,j,U,re,le,null,Z,ee)),Di(n,p,w,!Q);return}}hw(n,a,p,l,u,m,w,j,U)}function iM(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!nr(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Di(n,a,l,u){a&=~bp,a&=~zo,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var m=a;0<m;){var p=31-Jt(m),w=1<<p;u[p]=-1,m&=~w}l!==0&&er(n,l,a)}function Af(){return(ot&6)===0?(Ou(0),!1):!0}function Cp(){if(Ye!==null){if(ft===0)var n=Ye.return;else n=Ye,Ua=Ro=null,$m(n),Nl=null,cu=0,n=Ye;for(;n!==null;)LS(n.alternate,n),n=n.return;Ye=null}}function Fl(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,RM(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Xa=0,Cp(),gt=n,Ye=l=ka(n.current,null),Qe=a,ft=0,or=null,Oi=!1,$l=wn(n,a),yp=!1,Hl=lr=bp=zo=Mi=Ut=0,Yn=Tu=null,Sp=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var m=31-Jt(u),p=1<<m;a|=n[m],u&=~p}return Ga=a,Kc(),l}function ow(n,a){$e=null,B.H=yu,a===Dl||a===of?(a=x0(),ft=3):a===Om?(a=x0(),ft=4):ft=a===np?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,or=a,Ye===null&&(Ut=1,Sf(n,Sr(a,n.current)))}function lw(){var n=ar.current;return n===null?!0:(Qe&4194048)===Qe?Cr===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?n===Cr:!1}function sw(){var n=B.H;return B.H=yu,n===null?yu:n}function uw(){var n=B.A;return B.A=rM,n}function Df(){Ut=4,Oi||(Qe&4194048)!==Qe&&ar.current!==null||($l=!0),(Mi&134217727)===0&&(zo&134217727)===0||gt===null||Di(gt,Qe,lr,!1)}function Rp(n,a,l){var u=ot;ot|=2;var m=sw(),p=uw();(gt!==n||Qe!==a)&&(jf=null,Fl(n,a)),a=!1;var w=Ut;e:do try{if(ft!==0&&Ye!==null){var j=Ye,U=or;switch(ft){case 8:Cp(),w=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(a=!0);var Q=ft;if(ft=0,or=null,Vl(n,j,U,Q),l&&$l){w=0;break e}break;default:Q=ft,ft=0,or=null,Vl(n,j,U,Q)}}oM(),w=Ut;break}catch(re){ow(n,re)}while(!0);return a&&n.shellSuspendCounter++,Ua=Ro=null,ot=u,B.H=m,B.A=p,Ye===null&&(gt=null,Qe=0,Kc()),w}function oM(){for(;Ye!==null;)cw(Ye)}function lM(n,a){var l=ot;ot|=2;var u=sw(),m=uw();gt!==n||Qe!==a?(jf=null,Mf=vt()+500,Fl(n,a)):$l=wn(n,a);e:do try{if(ft!==0&&Ye!==null){a=Ye;var p=or;t:switch(ft){case 1:ft=0,or=null,Vl(n,a,p,1);break;case 2:case 9:if(S0(p)){ft=0,or=null,fw(a);break}a=function(){ft!==2&&ft!==9||gt!==n||(ft=7),da(n)},p.then(a,a);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:S0(p)?(ft=0,or=null,fw(a)):(ft=0,or=null,Vl(n,a,p,7));break;case 5:var w=null;switch(Ye.tag){case 26:w=Ye.memoizedState;case 5:case 27:var j=Ye;if(w?Ww(w):j.stateNode.complete){ft=0,or=null;var U=j.sibling;if(U!==null)Ye=U;else{var Q=j.return;Q!==null?(Ye=Q,Nf(Q)):Ye=null}break t}}ft=0,or=null,Vl(n,a,p,5);break;case 6:ft=0,or=null,Vl(n,a,p,6);break;case 8:Cp(),Ut=6;break e;default:throw Error(i(462))}}sM();break}catch(re){ow(n,re)}while(!0);return Ua=Ro=null,B.H=u,B.A=m,ot=l,Ye!==null?0:(gt=null,Qe=0,Kc(),Ut)}function sM(){for(;Ye!==null&&!la();)cw(Ye)}function cw(n){var a=zS(n.alternate,n,Ga);n.memoizedProps=n.pendingProps,a===null?Nf(n):Ye=a}function fw(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=OS(l,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=OS(l,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:$m(a);default:LS(l,a),a=Ye=u0(a,Ga),a=zS(l,a,Ga)}n.memoizedProps=n.pendingProps,a===null?Nf(n):Ye=a}function Vl(n,a,l,u){Ua=Ro=null,$m(a),Nl=null,cu=0;var m=a.return;try{if(WO(n,m,a,l,Qe)){Ut=1,Sf(n,Sr(l,n.current)),Ye=null;return}}catch(p){if(m!==null)throw Ye=m,p;Ut=1,Sf(n,Sr(l,n.current)),Ye=null;return}a.flags&32768?(et||u===1?n=!0:$l||(Qe&536870912)!==0?n=!1:(Oi=n=!0,(u===2||u===9||u===3||u===6)&&(u=ar.current,u!==null&&u.tag===13&&(u.flags|=16384))),dw(a,n)):Nf(a)}function Nf(n){var a=n;do{if((a.flags&32768)!==0){dw(a,Oi);return}n=a.return;var l=JO(a.alternate,a,Ga);if(l!==null){Ye=l;return}if(a=a.sibling,a!==null){Ye=a;return}Ye=a=n}while(a!==null);Ut===0&&(Ut=5)}function dw(n,a){do{var l=eM(n.alternate,n);if(l!==null){l.flags&=32767,Ye=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Ye=n;return}Ye=n=l}while(n!==null);Ut=6,Ye=null}function hw(n,a,l,u,m,p,w,j,U){n.cancelPendingCommit=null;do zf();while(tn!==0);if((ot&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=hm,Ht(n,l,p,w,j,U),n===gt&&(Ye=gt=null,Qe=0),Il=a,Ai=n,Xa=l,wp=p,xp=m,nw=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,dM(_t,function(){return yw(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,m=X.p,X.p=2,w=ot,ot|=4;try{tM(n,a,l)}finally{ot=w,X.p=m,B.T=u}}tn=1,mw(),pw(),gw()}}function mw(){if(tn===1){tn=0;var n=Ai,a=Il,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var u=X.p;X.p=2;var m=ot;ot|=4;try{XS(a,n);var p=Up,w=e0(n.containerInfo),j=p.focusedElem,U=p.selectionRange;if(w!==j&&j&&j.ownerDocument&&Jb(j.ownerDocument.documentElement,j)){if(U!==null&&sm(j)){var Q=U.start,re=U.end;if(re===void 0&&(re=Q),"selectionStart"in j)j.selectionStart=Q,j.selectionEnd=Math.min(re,j.value.length);else{var le=j.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),Oe=j.textContent.length,ke=Math.min(U.start,Oe),pt=U.end===void 0?ke:Math.min(U.end,Oe);!ee.extend&&ke>pt&&(w=pt,pt=ke,ke=w);var V=Zb(j,ke),$=Zb(j,pt);if(V&&$&&(ee.rangeCount!==1||ee.anchorNode!==V.node||ee.anchorOffset!==V.offset||ee.focusNode!==$.node||ee.focusOffset!==$.offset)){var Y=le.createRange();Y.setStart(V.node,V.offset),ee.removeAllRanges(),ke>pt?(ee.addRange(Y),ee.extend($.node,$.offset)):(Y.setEnd($.node,$.offset),ee.addRange(Y))}}}}for(le=[],ee=j;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<le.length;j++){var oe=le[j];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Yf=!!Lp,Up=Lp=null}finally{ot=m,X.p=u,B.T=l}}n.current=a,tn=2}}function pw(){if(tn===2){tn=0;var n=Ai,a=Il,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var u=X.p;X.p=2;var m=ot;ot|=4;try{FS(n,a.alternate,a)}finally{ot=m,X.p=u,B.T=l}}tn=3}}function gw(){if(tn===4||tn===3){tn=0,pi();var n=Ai,a=Il,l=Xa,u=nw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?tn=5:(tn=0,Il=Ai=null,vw(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(ji=null),ue(l),a=a.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ja,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=B.T,m=X.p,X.p=2,B.T=null;try{for(var p=n.onRecoverableError,w=0;w<u.length;w++){var j=u[w];p(j.value,{componentStack:j.stack})}}finally{B.T=a,X.p=m}}(Xa&3)!==0&&zf(),da(n),m=n.pendingLanes,(l&261930)!==0&&(m&42)!==0?n===Ep?_u++:(_u=0,Ep=n):_u=0,Ou(0)}}function vw(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,su(a)))}function zf(){return mw(),pw(),gw(),yw()}function yw(){if(tn!==5)return!1;var n=Ai,a=wp;wp=0;var l=ue(Xa),u=B.T,m=X.p;try{X.p=32>l?32:l,B.T=null,l=xp,xp=null;var p=Ai,w=Xa;if(tn=0,Il=Ai=null,Xa=0,(ot&6)!==0)throw Error(i(331));var j=ot;if(ot|=4,JS(p.current),WS(p,p.current,w,l),ot=j,Ou(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ja,p)}catch{}return!0}finally{X.p=m,B.T=u,vw(n,a)}}function bw(n,a,l){a=Sr(l,a),a=tp(n.stateNode,a,2),n=Ci(n,a,2),n!==null&&(jn(n,2),da(n))}function dt(n,a,l){if(n.tag===3)bw(n,n,l);else for(;a!==null;){if(a.tag===3){bw(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ji===null||!ji.has(u))){n=Sr(l,n),l=SS(2),u=Ci(a,l,2),u!==null&&(wS(l,u,a,n),jn(u,2),da(u));break}}a=a.return}}function Tp(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new aM;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(yp=!0,m.add(l),n=uM.bind(null,n,a,l),a.then(n,n))}function uM(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,gt===n&&(Qe&l)===l&&(Ut===4||Ut===3&&(Qe&62914560)===Qe&&300>vt()-Of?(ot&2)===0&&Fl(n,0):bp|=l,Hl===Qe&&(Hl=0)),da(n)}function Sw(n,a){a===0&&(a=$t()),n=xo(n,a),n!==null&&(jn(n,a),da(n))}function cM(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),Sw(n,l)}function fM(n,a){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Sw(n,l)}function dM(n,a){return it(n,a)}var kf=null,ql=null,_p=!1,Lf=!1,Op=!1,Ni=0;function da(n){n!==ql&&n.next===null&&(ql===null?kf=ql=n:ql=ql.next=n),Lf=!0,_p||(_p=!0,mM())}function Ou(n,a){if(!Op&&Lf){Op=!0;do for(var l=!1,u=kf;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var w=u.suspendedLanes,j=u.pingedLanes;p=(1<<31-Jt(42|n)+1)-1,p&=m&~(w&~j),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Cw(u,p))}else p=Qe,p=Bt(u,u===gt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||wn(u,p)||(l=!0,Cw(u,p));u=u.next}while(l);Op=!1}}function hM(){ww()}function ww(){Lf=_p=!1;var n=0;Ni!==0&&CM()&&(n=Ni);for(var a=vt(),l=null,u=kf;u!==null;){var m=u.next,p=xw(u,a);p===0?(u.next=null,l===null?kf=m:l.next=m,m===null&&(ql=l)):(l=u,(n!==0||(p&3)!==0)&&(Lf=!0)),u=m}tn!==0&&tn!==5||Ou(n),Ni!==0&&(Ni=0)}function xw(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var w=31-Jt(p),j=1<<w,U=m[w];U===-1?((j&l)===0||(j&u)!==0)&&(m[w]=cn(j,a)):U<=a&&(n.expiredLanes|=j),p&=~j}if(a=gt,l=Qe,l=Bt(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(ft===2||ft===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&pr(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||wn(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&pr(u),ue(l)){case 2:case 8:l=Sn;break;case 32:l=_t;break;case 268435456:l=$r;break;default:l=_t}return u=Ew.bind(null,n),l=it(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&pr(u),n.callbackPriority=2,n.callbackNode=null,2}function Ew(n,a){if(tn!==0&&tn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(zf()&&n.callbackNode!==l)return null;var u=Qe;return u=Bt(n,n===gt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(aw(n,u,a),xw(n,vt()),n.callbackNode!=null&&n.callbackNode===l?Ew.bind(null,n):null)}function Cw(n,a){if(zf())return null;aw(n,a,!0)}function mM(){TM(function(){(ot&6)!==0?it(sa,hM):ww()})}function Mp(){if(Ni===0){var n=jl;n===0&&(n=Hr,Hr<<=1,(Hr&261888)===0&&(Hr=256)),Ni=n}return Ni}function Rw(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Fc(""+n)}function Tw(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function pM(n,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var p=Rw((m[we]||null).action),w=u.submitter;w&&(a=(a=w[we]||null)?Rw(a.formAction):w.getAttribute("formAction"),a!==null&&(p=a,w=null));var j=new Gc("action","action",null,u,m);n.push({event:j,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ni!==0){var U=w?Tw(m,w):new FormData(m);Qm(l,{pending:!0,data:U,method:m.method,action:p},null,U)}}else typeof p=="function"&&(j.preventDefault(),U=w?Tw(m,w):new FormData(m),Qm(l,{pending:!0,data:U,method:m.method,action:p},p,U))},currentTarget:m}]})}}for(var jp=0;jp<dm.length;jp++){var Ap=dm[jp],gM=Ap.toLowerCase(),vM=Ap[0].toUpperCase()+Ap.slice(1);qr(gM,"on"+vM)}qr(r0,"onAnimationEnd"),qr(a0,"onAnimationIteration"),qr(i0,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(NO,"onTransitionRun"),qr(zO,"onTransitionStart"),qr(kO,"onTransitionCancel"),qr(o0,"onTransitionEnd"),vr("onMouseEnter",["mouseout","mouseover"]),vr("onMouseLeave",["mouseout","mouseover"]),vr("onPointerEnter",["pointerout","pointerover"]),vr("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function _w(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],m=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var w=u.length-1;0<=w;w--){var j=u[w],U=j.instance,Q=j.currentTarget;if(j=j.listener,U!==p&&m.isPropagationStopped())break e;p=j,m.currentTarget=Q;try{p(m)}catch(re){Wc(re)}m.currentTarget=null,p=U}else for(w=0;w<u.length;w++){if(j=u[w],U=j.instance,Q=j.currentTarget,j=j.listener,U!==p&&m.isPropagationStopped())break e;p=j,m.currentTarget=Q;try{p(m)}catch(re){Wc(re)}m.currentTarget=null,p=U}}}}function Ge(n,a){var l=a[Le];l===void 0&&(l=a[Le]=new Set);var u=n+"__bubble";l.has(u)||(Ow(a,n,2,!1),l.add(u))}function Dp(n,a,l){var u=0;a&&(u|=4),Ow(l,n,u,a)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function Np(n){if(!n[Uf]){n[Uf]=!0,Ir.forEach(function(l){l!=="selectionchange"&&(yM.has(l)||Dp(l,!1,n),Dp(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Uf]||(a[Uf]=!0,Dp("selectionchange",!1,a))}}function Ow(n,a,l,u){switch(rx(a)){case 2:var m=YM;break;case 8:m=GM;break;default:m=Xp}l=m.bind(null,a,l,n),m=void 0,!Jh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(a,l,{capture:!0,passive:m}):n.addEventListener(a,l,!0):m!==void 0?n.addEventListener(a,l,{passive:m}):n.addEventListener(a,l,!1)}function zp(n,a,l,u,m){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var j=u.stateNode.containerInfo;if(j===m)break;if(w===4)for(w=u.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;j!==null;){if(w=kt(j),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){u=p=w;continue e}j=j.parentNode}}u=u.return}Nb(function(){var Q=p,re=Kh(l),le=[];e:{var Z=l0.get(n);if(Z!==void 0){var ee=Gc,Oe=n;switch(n){case"keypress":if(qc(l)===0)break e;case"keydown":case"keyup":ee=fO;break;case"focusin":Oe="focus",ee=rm;break;case"focusout":Oe="blur",ee=rm;break;case"beforeblur":case"afterblur":ee=rm;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Lb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=J_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=mO;break;case r0:case a0:case i0:ee=nO;break;case o0:ee=gO;break;case"scroll":case"scrollend":ee=K_;break;case"wheel":ee=yO;break;case"copy":case"cut":case"paste":ee=aO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Pb;break;case"toggle":case"beforetoggle":ee=SO}var ke=(a&4)!==0,pt=!ke&&(n==="scroll"||n==="scrollend"),V=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var $=Q,Y;$!==null;){var oe=$;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||V===null||(oe=Ks($,V),oe!=null&&ke.push(ju($,oe,Y))),pt)break;$=$.return}0<ke.length&&(Z=new ee(Z,Oe,null,l,re),le.push({event:Z,listeners:ke}))}}if((a&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",Z&&l!==Wh&&(Oe=l.relatedTarget||l.fromElement)&&(kt(Oe)||Oe[Me]))break e;if((ee||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(Oe=l.relatedTarget||l.toElement,ee=Q,Oe=Oe?kt(Oe):null,Oe!==null&&(pt=s(Oe),ke=Oe.tag,Oe!==pt||ke!==5&&ke!==27&&ke!==6)&&(Oe=null)):(ee=null,Oe=Q),ee!==Oe)){if(ke=Lb,oe="onMouseLeave",V="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(ke=Pb,oe="onPointerLeave",V="onPointerEnter",$="pointer"),pt=ee==null?Z:an(ee),Y=Oe==null?Z:an(Oe),Z=new ke(oe,$+"leave",ee,l,re),Z.target=pt,Z.relatedTarget=Y,oe=null,kt(re)===Q&&(ke=new ke(V,$+"enter",Oe,l,re),ke.target=Y,ke.relatedTarget=pt,oe=ke),pt=oe,ee&&Oe)t:{for(ke=bM,V=ee,$=Oe,Y=0,oe=V;oe;oe=ke(oe))Y++;oe=0;for(var Ne=$;Ne;Ne=ke(Ne))oe++;for(;0<Y-oe;)V=ke(V),Y--;for(;0<oe-Y;)$=ke($),oe--;for(;Y--;){if(V===$||$!==null&&V===$.alternate){ke=V;break t}V=ke(V),$=ke($)}ke=null}else ke=null;ee!==null&&Mw(le,Z,ee,ke,!1),Oe!==null&&pt!==null&&Mw(le,pt,Oe,ke,!0)}}e:{if(Z=Q?an(Q):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var rt=Yb;else if(Vb(Z))if(Gb)rt=jO;else{rt=OO;var je=_O}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Qh(Q.elementType)&&(rt=Yb):rt=MO;if(rt&&(rt=rt(n,Q))){qb(le,rt,l,re);break e}je&&je(n,Z,Q),n==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&Xh(Z,"number",Z.value)}switch(je=Q?an(Q):window,n){case"focusin":(Vb(je)||je.contentEditable==="true")&&(xl=je,um=Q,iu=null);break;case"focusout":iu=um=xl=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,t0(le,l,re);break;case"selectionchange":if(DO)break;case"keydown":case"keyup":t0(le,l,re)}var Ie;if(im)e:{switch(n){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else wl?Ib(n,l)&&(We="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(We="onCompositionStart");We&&(Bb&&l.locale!=="ko"&&(wl||We!=="onCompositionStart"?We==="onCompositionEnd"&&wl&&(Ie=zb()):(vi=re,em="value"in vi?vi.value:vi.textContent,wl=!0)),je=Pf(Q,We),0<je.length&&(We=new Ub(We,n,null,l,re),le.push({event:We,listeners:je}),Ie?We.data=Ie:(Ie=Fb(l),Ie!==null&&(We.data=Ie)))),(Ie=xO?EO(n,l):CO(n,l))&&(We=Pf(Q,"onBeforeInput"),0<We.length&&(je=new Ub("onBeforeInput","beforeinput",null,l,re),le.push({event:je,listeners:We}),je.data=Ie)),pM(le,n,Q,l,re)}_w(le,a)})}function ju(n,a,l){return{instance:n,listener:a,currentTarget:l}}function Pf(n,a){for(var l=a+"Capture",u=[];n!==null;){var m=n,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Ks(n,l),m!=null&&u.unshift(ju(n,m,p)),m=Ks(n,a),m!=null&&u.push(ju(n,m,p))),n.tag===3)return u;n=n.return}return[]}function bM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Mw(n,a,l,u,m){for(var p=a._reactName,w=[];l!==null&&l!==u;){var j=l,U=j.alternate,Q=j.stateNode;if(j=j.tag,U!==null&&U===u)break;j!==5&&j!==26&&j!==27||Q===null||(U=Q,m?(Q=Ks(l,p),Q!=null&&w.unshift(ju(l,Q,U))):m||(Q=Ks(l,p),Q!=null&&w.push(ju(l,Q,U)))),l=l.return}w.length!==0&&n.push({event:a,listeners:w})}var SM=/\r\n?/g,wM=/\u0000|\uFFFD/g;function jw(n){return(typeof n=="string"?n:""+n).replace(SM,`
`).replace(wM,"")}function Aw(n,a){return a=jw(a),jw(n)===a}function mt(n,a,l,u,m,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||yl(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&yl(n,""+u);break;case"className":Vr(n,"class",u);break;case"tabIndex":Vr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(n,l,u);break;case"style":Ab(n,u,p);break;case"data":if(a!=="object"){Vr(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Fc(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&mt(n,a,"name",m.name,m,null),mt(n,a,"formEncType",m.formEncType,m,null),mt(n,a,"formMethod",m.formMethod,m,null),mt(n,a,"formTarget",m.formTarget,m,null)):(mt(n,a,"encType",m.encType,m,null),mt(n,a,"method",m.method,m,null),mt(n,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Fc(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Na);break;case"onScroll":u!=null&&Ge("scroll",n);break;case"onScrollEnd":u!=null&&Ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Fc(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Ge("beforetoggle",n),Ge("toggle",n),It(n,"popover",u);break;case"xlinkActuate":fn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":fn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":fn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":fn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":fn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":fn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":fn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":fn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":fn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":It(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Q_.get(l)||l,It(n,l,u))}}function kp(n,a,l,u,m,p){switch(l){case"style":Ab(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?yl(n,u):(typeof u=="number"||typeof u=="bigint")&&yl(n,""+u);break;case"onScroll":u!=null&&Ge("scroll",n);break;case"onScrollEnd":u!=null&&Ge("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=n[we]||null,p=p!=null?p[l]:null,typeof p=="function"&&n.removeEventListener(a,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,m);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):It(n,l,u)}}}function pn(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",n),Ge("load",n);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var w=l[p];if(w!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:mt(n,a,p,w,l,null)}}m&&mt(n,a,"srcSet",l.srcSet,l,null),u&&mt(n,a,"src",l.src,l,null);return;case"input":Ge("invalid",n);var j=p=w=m=null,U=null,Q=null;for(u in l)if(l.hasOwnProperty(u)){var re=l[u];if(re!=null)switch(u){case"name":m=re;break;case"type":w=re;break;case"checked":U=re;break;case"defaultChecked":Q=re;break;case"value":p=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:mt(n,a,u,re,l,null)}}_b(n,p,j,U,Q,w,m,!1);return;case"select":Ge("invalid",n),u=w=p=null;for(m in l)if(l.hasOwnProperty(m)&&(j=l[m],j!=null))switch(m){case"value":p=j;break;case"defaultValue":w=j;break;case"multiple":u=j;default:mt(n,a,m,j,l,null)}a=p,l=w,n.multiple=!!u,a!=null?vl(n,!!u,a,!1):l!=null&&vl(n,!!u,l,!0);return;case"textarea":Ge("invalid",n),p=m=u=null;for(w in l)if(l.hasOwnProperty(w)&&(j=l[w],j!=null))switch(w){case"value":u=j;break;case"defaultValue":m=j;break;case"children":p=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:mt(n,a,w,j,l,null)}Mb(n,u,m,p);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(u=l[U],u!=null))switch(U){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(n,a,U,u,l,null)}return;case"dialog":Ge("beforetoggle",n),Ge("toggle",n),Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":Ge("load",n);break;case"video":case"audio":for(u=0;u<Mu.length;u++)Ge(Mu[u],n);break;case"image":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"embed":case"source":case"link":Ge("error",n),Ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(u=l[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:mt(n,a,Q,u,l,null)}return;default:if(Qh(a)){for(re in l)l.hasOwnProperty(re)&&(u=l[re],u!==void 0&&kp(n,a,re,u,l,void 0));return}}for(j in l)l.hasOwnProperty(j)&&(u=l[j],u!=null&&mt(n,a,j,u,l,null))}function xM(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,w=null,j=null,U=null,Q=null,re=null;for(ee in l){var le=l[ee];if(l.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":U=le;default:u.hasOwnProperty(ee)||mt(n,a,ee,null,u,le)}}for(var Z in u){var ee=u[Z];if(le=l[Z],u.hasOwnProperty(Z)&&(ee!=null||le!=null))switch(Z){case"type":p=ee;break;case"name":m=ee;break;case"checked":Q=ee;break;case"defaultChecked":re=ee;break;case"value":w=ee;break;case"defaultValue":j=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:ee!==le&&mt(n,a,Z,ee,u,le)}}Gh(n,w,j,U,Q,re,p,m);return;case"select":ee=w=j=Z=null;for(p in l)if(U=l[p],l.hasOwnProperty(p)&&U!=null)switch(p){case"value":break;case"multiple":ee=U;default:u.hasOwnProperty(p)||mt(n,a,p,null,u,U)}for(m in u)if(p=u[m],U=l[m],u.hasOwnProperty(m)&&(p!=null||U!=null))switch(m){case"value":Z=p;break;case"defaultValue":j=p;break;case"multiple":w=p;default:p!==U&&mt(n,a,m,p,u,U)}a=j,l=w,u=ee,Z!=null?vl(n,!!l,Z,!1):!!u!=!!l&&(a!=null?vl(n,!!l,a,!0):vl(n,!!l,l?[]:"",!1));return;case"textarea":ee=Z=null;for(j in l)if(m=l[j],l.hasOwnProperty(j)&&m!=null&&!u.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:mt(n,a,j,null,u,m)}for(w in u)if(m=u[w],p=l[w],u.hasOwnProperty(w)&&(m!=null||p!=null))switch(w){case"value":Z=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&mt(n,a,w,m,u,p)}Ob(n,Z,ee);return;case"option":for(var Oe in l)if(Z=l[Oe],l.hasOwnProperty(Oe)&&Z!=null&&!u.hasOwnProperty(Oe))switch(Oe){case"selected":n.selected=!1;break;default:mt(n,a,Oe,null,u,Z)}for(U in u)if(Z=u[U],ee=l[U],u.hasOwnProperty(U)&&Z!==ee&&(Z!=null||ee!=null))switch(U){case"selected":n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:mt(n,a,U,Z,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)Z=l[ke],l.hasOwnProperty(ke)&&Z!=null&&!u.hasOwnProperty(ke)&&mt(n,a,ke,null,u,Z);for(Q in u)if(Z=u[Q],ee=l[Q],u.hasOwnProperty(Q)&&Z!==ee&&(Z!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:mt(n,a,Q,Z,u,ee)}return;default:if(Qh(a)){for(var pt in l)Z=l[pt],l.hasOwnProperty(pt)&&Z!==void 0&&!u.hasOwnProperty(pt)&&kp(n,a,pt,void 0,u,Z);for(re in u)Z=u[re],ee=l[re],!u.hasOwnProperty(re)||Z===ee||Z===void 0&&ee===void 0||kp(n,a,re,Z,u,ee);return}}for(var V in l)Z=l[V],l.hasOwnProperty(V)&&Z!=null&&!u.hasOwnProperty(V)&&mt(n,a,V,null,u,Z);for(le in u)Z=u[le],ee=l[le],!u.hasOwnProperty(le)||Z===ee||Z==null&&ee==null||mt(n,a,le,Z,u,ee)}function Dw(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],p=m.transferSize,w=m.initiatorType,j=m.duration;if(p&&j&&Dw(w)){for(w=0,j=m.responseEnd,u+=1;u<l.length;u++){var U=l[u],Q=U.startTime;if(Q>j)break;var re=U.transferSize,le=U.initiatorType;re&&Dw(le)&&(U=U.responseEnd,w+=re*(U<j?1:(j-Q)/(U-Q)))}if(--u,a+=8*(p+w)/(m.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Lp=null,Up=null;function Bf(n){return n.nodeType===9?n:n.ownerDocument}function Nw(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zw(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Pp(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bp=null;function CM(){var n=window.event;return n&&n.type==="popstate"?n===Bp?!1:(Bp=n,!0):(Bp=null,!1)}var kw=typeof setTimeout=="function"?setTimeout:void 0,RM=typeof clearTimeout=="function"?clearTimeout:void 0,Lw=typeof Promise=="function"?Promise:void 0,TM=typeof queueMicrotask=="function"?queueMicrotask:typeof Lw<"u"?function(n){return Lw.resolve(null).then(n).catch(_M)}:kw;function _M(n){setTimeout(function(){throw n})}function zi(n){return n==="head"}function Uw(n,a){var l=a,u=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(m),Ql(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Au(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Au(l);for(var p=l.firstChild;p;){var w=p.nextSibling,j=p.nodeName;p[At]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=w}}else l==="body"&&Au(n.ownerDocument.body);l=m}while(l);Ql(a)}function Pw(n,a){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function $p(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$p(l),zt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function OM(n,a,l,u){for(;n.nodeType===1;){var m=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[At])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Rr(n.nextSibling),n===null)break}return null}function MM(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Rr(n.nextSibling),n===null))return null;return n}function Bw(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Rr(n.nextSibling),n===null))return null;return n}function Hp(n){return n.data==="$?"||n.data==="$~"}function Ip(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function jM(n,a){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Rr(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Fp=null;function $w(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(a===0)return Rr(n.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}n=n.nextSibling}return null}function Hw(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return n;a--}else l!=="/$"&&l!=="/&"||a++}n=n.previousSibling}return null}function Iw(n,a,l){switch(a=Bf(l),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Au(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);zt(n)}var Tr=new Map,Fw=new Set;function $f(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qa=X.d;X.d={f:AM,r:DM,D:NM,C:zM,L:kM,m:LM,X:PM,S:UM,M:BM};function AM(){var n=Qa.f(),a=Af();return n||a}function DM(n){var a=Ke(n);a!==null&&a.tag===5&&a.type==="form"?oS(a):Qa.r(n)}var Yl=typeof document>"u"?null:document;function Vw(n,a,l){var u=Yl;if(u&&typeof a=="string"&&a){var m=yr(a);m='link[rel="'+n+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Fw.has(m)||(Fw.add(m),n={rel:n,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),pn(a,"link",n),Ot(a),u.head.appendChild(a)))}}function NM(n){Qa.D(n),Vw("dns-prefetch",n,null)}function zM(n,a){Qa.C(n,a),Vw("preconnect",n,a)}function kM(n,a,l){Qa.L(n,a,l);var u=Yl;if(u&&n&&a){var m='link[rel="preload"][as="'+yr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+yr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+yr(l.imageSizes)+'"]')):m+='[href="'+yr(n)+'"]';var p=m;switch(a){case"style":p=Gl(n);break;case"script":p=Xl(n)}Tr.has(p)||(n=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),Tr.set(p,n),u.querySelector(m)!==null||a==="style"&&u.querySelector(Du(p))||a==="script"&&u.querySelector(Nu(p))||(a=u.createElement("link"),pn(a,"link",n),Ot(a),u.head.appendChild(a)))}}function LM(n,a){Qa.m(n,a);var l=Yl;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+yr(u)+'"][href="'+yr(n)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Xl(n)}if(!Tr.has(p)&&(n=g({rel:"modulepreload",href:n},a),Tr.set(p,n),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Nu(p)))return}u=l.createElement("link"),pn(u,"link",n),Ot(u),l.head.appendChild(u)}}}function UM(n,a,l){Qa.S(n,a,l);var u=Yl;if(u&&n){var m=Hn(u).hoistableStyles,p=Gl(n);a=a||"default";var w=m.get(p);if(!w){var j={loading:0,preload:null};if(w=u.querySelector(Du(p)))j.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":a},l),(l=Tr.get(p))&&Vp(n,l);var U=w=u.createElement("link");Ot(U),pn(U,"link",n),U._p=new Promise(function(Q,re){U.onload=Q,U.onerror=re}),U.addEventListener("load",function(){j.loading|=1}),U.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Hf(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:j},m.set(p,w)}}}function PM(n,a){Qa.X(n,a);var l=Yl;if(l&&n){var u=Hn(l).hoistableScripts,m=Xl(n),p=u.get(m);p||(p=l.querySelector(Nu(m)),p||(n=g({src:n,async:!0},a),(a=Tr.get(m))&&qp(n,a),p=l.createElement("script"),Ot(p),pn(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function BM(n,a){Qa.M(n,a);var l=Yl;if(l&&n){var u=Hn(l).hoistableScripts,m=Xl(n),p=u.get(m);p||(p=l.querySelector(Nu(m)),p||(n=g({src:n,async:!0,type:"module"},a),(a=Tr.get(m))&&qp(n,a),p=l.createElement("script"),Ot(p),pn(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function qw(n,a,l,u){var m=(m=xe.current)?$f(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Gl(l.href),l=Hn(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Gl(l.href);var p=Hn(m).hoistableStyles,w=p.get(n);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,w),(p=m.querySelector(Du(n)))&&!p._p&&(w.instance=p,w.state.loading=5),Tr.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tr.set(n,l),p||$M(m,n,l,w.state))),a&&u===null)throw Error(i(528,""));return w}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xl(l),l=Hn(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Gl(n){return'href="'+yr(n)+'"'}function Du(n){return'link[rel="stylesheet"]['+n+"]"}function Yw(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function $M(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),pn(a,"link",l),Ot(a),n.head.appendChild(a))}function Xl(n){return'[src="'+yr(n)+'"]'}function Nu(n){return"script[async]"+n}function Gw(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+yr(l.href)+'"]');if(u)return a.instance=u,Ot(u),u;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ot(u),pn(u,"style",m),Hf(u,l.precedence,n),a.instance=u;case"stylesheet":m=Gl(l.href);var p=n.querySelector(Du(m));if(p)return a.state.loading|=4,a.instance=p,Ot(p),p;u=Yw(l),(m=Tr.get(m))&&Vp(u,m),p=(n.ownerDocument||n).createElement("link"),Ot(p);var w=p;return w._p=new Promise(function(j,U){w.onload=j,w.onerror=U}),pn(p,"link",u),a.state.loading|=4,Hf(p,l.precedence,n),a.instance=p;case"script":return p=Xl(l.src),(m=n.querySelector(Nu(p)))?(a.instance=m,Ot(m),m):(u=l,(m=Tr.get(p))&&(u=g({},l),qp(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),Ot(m),pn(m,"link",u),n.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Hf(u,l.precedence,n));return a.instance}function Hf(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,w=0;w<u.length;w++){var j=u[w];if(j.dataset.precedence===a)p=j;else if(p!==m)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function Vp(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function qp(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var If=null;function Xw(n,a,l){if(If===null){var u=new Map,m=If=new Map;m.set(l,u)}else m=If,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),m=0;m<l.length;m++){var p=l[m];if(!(p[At]||p[ve]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(a)||"";w=n+w;var j=u.get(w);j?j.push(p):u.set(w,[p])}}return u}function Qw(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function HM(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ww(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function IM(n,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Gl(u.href),p=a.querySelector(Du(m));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=Ff.bind(n),a.then(n,n)),l.state.loading|=4,l.instance=p,Ot(p);return}p=a.ownerDocument||a,u=Yw(u),(m=Tr.get(m))&&Vp(u,m),p=p.createElement("link"),Ot(p);var w=p;w._p=new Promise(function(j,U){w.onload=j,w.onerror=U}),pn(p,"link",u),l.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Ff.bind(n),a.addEventListener("load",l),a.addEventListener("error",l))}}var Yp=0;function FM(n,a){return n.stylesheets&&n.count===0&&qf(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&qf(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&Yp===0&&(Yp=62500*EM());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&qf(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Yp?50:800)+a);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Vf=null;function qf(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Vf=new Map,a.forEach(VM,n),Vf=null,Ff.call(n))}function VM(n,a){if(!(a.state.loading&4)){var l=Vf.get(n);if(l)var u=l.get(null);else{l=new Map,Vf.set(n,l);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var w=m[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}m=a.instance,w=m.getAttribute("data-precedence"),p=l.get(w)||u,p===u&&l.set(null,m),l.set(w,m),this.count++,u=Ff.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),a.state.loading|=4}}var zu={$$typeof:M,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function qM(n,a,l,u,m,p,w,j,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Kw(n,a,l,u,m,p,w,j,U,Q,re,le){return n=new qM(n,a,l,w,U,Q,re,le,j),a=1,p===!0&&(a|=24),p=rr(3,null,null,a),n.current=p,p.stateNode=n,a=Rm(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Mm(p),n}function Zw(n){return n?(n=Rl,n):Rl}function Jw(n,a,l,u,m,p){m=Zw(m),u.context===null?u.context=m:u.pendingContext=m,u=Ei(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Ci(n,u,a),l!==null&&(Gn(l,n,a),du(l,n,a))}function ex(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function Gp(n,a){ex(n,a),(n=n.alternate)&&ex(n,a)}function tx(n){if(n.tag===13||n.tag===31){var a=xo(n,67108864);a!==null&&Gn(a,n,67108864),Gp(n,67108864)}}function nx(n){if(n.tag===13||n.tag===31){var a=sr();a=K(a);var l=xo(n,a);l!==null&&Gn(l,n,a),Gp(n,a)}}var Yf=!0;function YM(n,a,l,u){var m=B.T;B.T=null;var p=X.p;try{X.p=2,Xp(n,a,l,u)}finally{X.p=p,B.T=m}}function GM(n,a,l,u){var m=B.T;B.T=null;var p=X.p;try{X.p=8,Xp(n,a,l,u)}finally{X.p=p,B.T=m}}function Xp(n,a,l,u){if(Yf){var m=Qp(u);if(m===null)zp(n,a,u,Gf,l),ax(n,u);else if(QM(m,n,a,l,u))u.stopPropagation();else if(ax(n,u),a&4&&-1<XM.indexOf(n)){for(;m!==null;){var p=Ke(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=jt(p.pendingLanes);if(w!==0){var j=p;for(j.pendingLanes|=2,j.entangledLanes|=2;w;){var U=1<<31-Jt(w);j.entanglements[1]|=U,w&=~U}da(p),(ot&6)===0&&(Mf=vt()+500,Ou(0))}}break;case 31:case 13:j=xo(p,2),j!==null&&Gn(j,p,2),Af(),Gp(p,2)}if(p=Qp(u),p===null&&zp(n,a,u,Gf,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else zp(n,a,u,null,l)}}function Qp(n){return n=Kh(n),Wp(n)}var Gf=null;function Wp(n){if(Gf=null,n=kt(n),n!==null){var a=s(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=c(a),n!==null)return n;n=null}else if(l===31){if(n=f(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Gf=n,null}function rx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gr()){case sa:return 2;case Sn:return 8;case _t:case Yt:return 32;case $r:return 268435456;default:return 32}default:return 32}}var Kp=!1,ki=null,Li=null,Ui=null,ku=new Map,Lu=new Map,Pi=[],XM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ax(n,a){switch(n){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ku.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(a.pointerId)}}function Uu(n,a,l,u,m,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},a!==null&&(a=Ke(a),a!==null&&tx(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),n)}function QM(n,a,l,u,m){switch(a){case"focusin":return ki=Uu(ki,n,a,l,u,m),!0;case"dragenter":return Li=Uu(Li,n,a,l,u,m),!0;case"mouseover":return Ui=Uu(Ui,n,a,l,u,m),!0;case"pointerover":var p=m.pointerId;return ku.set(p,Uu(ku.get(p)||null,n,a,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,Lu.set(p,Uu(Lu.get(p)||null,n,a,l,u,m)),!0}return!1}function ix(n){var a=kt(n.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){n.blockedOn=a,_e(n.priority,function(){nx(l)});return}}else if(a===31){if(a=f(l),a!==null){n.blockedOn=a,_e(n.priority,function(){nx(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xf(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Qp(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Wh=u,l.target.dispatchEvent(u),Wh=null}else return a=Ke(l),a!==null&&tx(a),n.blockedOn=l,!1;a.shift()}return!0}function ox(n,a,l){Xf(n)&&l.delete(a)}function WM(){Kp=!1,ki!==null&&Xf(ki)&&(ki=null),Li!==null&&Xf(Li)&&(Li=null),Ui!==null&&Xf(Ui)&&(Ui=null),ku.forEach(ox),Lu.forEach(ox)}function Qf(n,a){n.blockedOn===a&&(n.blockedOn=null,Kp||(Kp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WM)))}var Wf=null;function lx(n){Wf!==n&&(Wf=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wf===n&&(Wf=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],m=n[a+2];if(typeof u!="function"){if(Wp(u||l)===null)continue;break}var p=Ke(l);p!==null&&(n.splice(a,3),a-=3,Qm(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Ql(n){function a(U){return Qf(U,n)}ki!==null&&Qf(ki,n),Li!==null&&Qf(Li,n),Ui!==null&&Qf(Ui,n),ku.forEach(a),Lu.forEach(a);for(var l=0;l<Pi.length;l++){var u=Pi[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Pi.length&&(l=Pi[0],l.blockedOn===null);)ix(l),l.blockedOn===null&&Pi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],w=m[we]||null;if(typeof p=="function")w||lx(l);else if(w){var j=null;if(p&&p.hasAttribute("formAction")){if(m=p,w=p[we]||null)j=w.formAction;else if(Wp(m)!==null)continue}else j=w.action;typeof j=="function"?l[u+1]=j:(l.splice(u,3),u-=3),lx(l)}}}function sx(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Zp(n){this._internalRoot=n}Kf.prototype.render=Zp.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=sr();Jw(l,u,n,a,null,null)},Kf.prototype.unmount=Zp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Jw(n.current,2,null,n,null,null),Af(),a[Me]=null}};function Kf(n){this._internalRoot=n}Kf.prototype.unstable_scheduleHydration=function(n){if(n){var a=de();n={blockedOn:null,target:n,priority:a};for(var l=0;l<Pi.length&&a!==0&&a<Pi[l].priority;l++);Pi.splice(l,0,n),l===0&&ix(n)}};var ux=t.version;if(ux!=="19.2.3")throw Error(i(527,ux,"19.2.3"));X.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(a),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var KM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{ja=Zf.inject(KM),wt=Zf}catch{}}return Fu.createRoot=function(n,a){if(!o(n))throw Error(i(299));var l=!1,u="",m=gS,p=vS,w=yS;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Kw(n,1,!1,null,null,l,u,null,m,p,w,sx),n[Me]=a.current,Np(n),new Zp(a)},Fu.hydrateRoot=function(n,a,l){if(!o(n))throw Error(i(299));var u=!1,m="",p=gS,w=vS,j=yS,U=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.formState!==void 0&&(U=l.formState)),a=Kw(n,1,!0,a,l??null,u,m,U,p,w,j,sx),a.context=Zw(null),l=a.current,u=sr(),u=K(u),m=Ei(u),m.callback=null,Ci(l,m,u),l=u,a.current.lanes=l,jn(a,l),da(a),n[Me]=a.current,Np(n),new Kf(a)},Fu.version="19.2.3",Fu}var X1;function w5(){if(X1)return Ng.exports;X1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ng.exports=S5(),Ng.exports}var x5=w5();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VT=e=>{throw TypeError(e)},E5=(e,t,r)=>t.has(e)||VT("Cannot "+r),Lg=(e,t,r)=>(E5(e,t,"read from private field"),r?r.call(e):t.get(e)),C5=(e,t,r)=>t.has(e)?VT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Q1="popstate";function R5(e={}){function t(i,o){let{pathname:s,search:c,hash:f}=i.location;return fc("",{pathname:s,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Ta(o)}return _5(t,r,null,e)}function Ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T5(){return Math.random().toString(36).substring(2,10)}function W1(e,t){return{usr:e.state,key:e.key,idx:t}}function fc(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?po(t):t,state:r,key:t&&t.key||i||T5()}}function Ta({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function po(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function _5(e,t,r,i={}){let{window:o=document.defaultView,v5Compat:s=!1}=i,c=o.history,f="POP",d=null,h=v();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function v(){return(c.state||{idx:null}).idx}function g(){f="POP";let R=v(),T=R==null?null:R-h;h=R,d&&d({action:f,location:E.location,delta:T})}function b(R,T){f="PUSH";let _=fc(E.location,R,T);h=v()+1;let M=W1(_,h),A=E.createHref(_);try{c.pushState(M,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(A)}s&&d&&d({action:f,location:E.location,delta:1})}function S(R,T){f="REPLACE";let _=fc(E.location,R,T);h=v();let M=W1(_,h),A=E.createHref(_);c.replaceState(M,"",A),s&&d&&d({action:f,location:E.location,delta:0})}function C(R){return qT(R)}let E={get action(){return f},get location(){return e(o,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Q1,g),d=R,()=>{o.removeEventListener(Q1,g),d=null}},createHref(R){return t(o,R)},createURL:C,encodeLocation(R){let T=C(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:S,go(R){return c.go(R)}};return E}function qT(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Ta(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}var Zu,K1=class{constructor(e){if(C5(this,Zu,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Lg(this,Zu).has(e))return Lg(this,Zu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Lg(this,Zu).set(e,t)}};Zu=new WeakMap;var O5=new Set(["lazy","caseSensitive","path","id","index","children"]);function M5(e){return O5.has(e)}var j5=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function A5(e){return j5.has(e)}function D5(e){return e.index===!0}function dc(e,t,r=[],i={},o=!1){return e.map((s,c)=>{let f=[...r,String(c)],d=typeof s.id=="string"?s.id:f.join("-");if(Ve(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ve(o||!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),D5(s)){let h={...s,id:d};return i[d]=Z1(h,t(h)),h}else{let h={...s,id:d,children:void 0};return i[d]=Z1(h,t(h)),s.children&&(h.children=dc(s.children,t,f,i,o)),h}})}function Z1(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Xi(e,t,r="/"){return Ju(e,t,r,!1)}function Ju(e,t,r,i){let o=typeof t=="string"?po(t):t,s=zr(o.pathname||"/",r);if(s==null)return null;let c=YT(e);z5(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let h=q5(s);f=F5(c[d],h,i)}return f}function N5(e,t){let{route:r,pathname:i,params:o}=e;return{id:r.id,pathname:i,params:o,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function YT(e,t=[],r=[],i="",o=!1){let s=(c,f,d=o,h)=>{let v={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&d)return;Ve(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let g=Ea([i,v.relativePath]),b=r.concat(v);c.children&&c.children.length>0&&(Ve(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),YT(c.children,t,b,g,d)),!(c.path==null&&!c.index)&&t.push({path:g,score:H5(g,c.index),routesMeta:b})};return e.forEach((c,f)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))s(c,f);else for(let h of GT(c.path))s(c,f,!0,h)}),t}function GT(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(i.length===0)return o?[s,""]:[s];let c=GT(i.join("/")),f=[];return f.push(...c.map(d=>d===""?s:[s,d].join("/"))),o&&f.push(...c),f.map(d=>e.startsWith("/")&&d===""?"/":d)}function z5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:I5(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var k5=/^:[\w-]+$/,L5=3,U5=2,P5=1,B5=10,$5=-2,J1=e=>e==="*";function H5(e,t){let r=e.split("/"),i=r.length;return r.some(J1)&&(i+=$5),t&&(i+=U5),r.filter(o=>!J1(o)).reduce((o,s)=>o+(k5.test(s)?L5:s===""?P5:B5),i)}function I5(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function F5(e,t,r=!1){let{routesMeta:i}=e,o={},s="/",c=[];for(let f=0;f<i.length;++f){let d=i[f],h=f===i.length-1,v=s==="/"?t:t.slice(s.length)||"/",g=Yd({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},v),b=d.route;if(!g&&h&&r&&!i[i.length-1].route.index&&(g=Yd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!g)return null;Object.assign(o,g.params),c.push({params:o,pathname:Ea([s,g.pathname]),pathnameBase:X5(Ea([s,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(s=Ea([s,g.pathnameBase]))}return c}function Yd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=V5(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let s=o[0],c=s.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((h,{paramName:v,isOptional:g},b)=>{if(v==="*"){let C=f[b]||"";c=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const S=f[b];return g&&!S?h[v]=void 0:h[v]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:e}}function V5(e,t=!1,r=!0){Dt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function q5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function Y5({basename:e,pathname:t}){return t==="/"?e:Ea([e,t])}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bh=e=>XT.test(e);function G5(e,t="/"){let{pathname:r,search:i="",hash:o=""}=typeof e=="string"?po(e):e,s;if(r)if(Bh(r))s=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Dt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?s=eE(r.substring(1),"/"):s=eE(r,t)}else s=t;return{pathname:s,search:Q5(i),hash:W5(o)}}function eE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ug(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $h(e){let t=QT(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function Hh(e,t,r,i=!1){let o;typeof e=="string"?o=po(e):(o={...e},Ve(!o.pathname||!o.pathname.includes("?"),Ug("?","pathname","search",o)),Ve(!o.pathname||!o.pathname.includes("#"),Ug("#","pathname","hash",o)),Ve(!o.search||!o.search.includes("#"),Ug("#","search","hash",o)));let s=e===""||o.pathname==="",c=s?"/":o.pathname,f;if(c==null)f=r;else{let g=t.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;o.pathname=b.join("/")}f=g>=0?t[g]:"/"}let d=G5(o,f),h=c&&c!=="/"&&c.endsWith("/"),v=(s||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||v)&&(d.pathname+="/"),d}var Ea=e=>e.join("/").replace(/\/\/+/g,"/"),X5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Nc=class{constructor(e,t,r,i=!1){this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function hc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function zc(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KT(e,t){let r=e;if(typeof r!="string"||!XT.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,o=!1;if(WT)try{let s=new URL(window.location.href),c=r.startsWith("//")?new URL(s.protocol+r):new URL(r),f=zr(c.pathname,t);c.origin===s.origin&&f!=null?r=f+c.search+c.hash:o=!0}catch{Dt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:r}}var lo=Symbol("Uninstrumented");function K5(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(o=>o({id:t.id,index:t.index,path:t.path,instrument(s){let c=Object.keys(r);for(let f of c)s[f]&&r[f].push(s[f])}}));let i={};if(typeof t.lazy=="function"&&r.lazy.length>0){let o=os(r.lazy,t.lazy,()=>{});o&&(i.lazy=o)}if(typeof t.lazy=="object"){let o=t.lazy;["middleware","loader","action"].forEach(s=>{let c=o[s],f=r[`lazy.${s}`];if(typeof c=="function"&&f.length>0){let d=os(f,c,()=>{});d&&(i.lazy=Object.assign(i.lazy||{},{[s]:d}))}})}return["loader","action"].forEach(o=>{let s=t[o];if(typeof s=="function"&&r[o].length>0){let c=s[lo]??s,f=os(r[o],c,(...d)=>tE(d[0]));f&&(o==="loader"&&c.hydrate===!0&&(f.hydrate=!0),f[lo]=c,i[o]=f)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(i.middleware=t.middleware.map(o=>{let s=o[lo]??o,c=os(r.middleware,s,(...f)=>tE(f[0]));return c?(c[lo]=s,c):o})),i}function Z5(e,t){let r={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(o){let s=Object.keys(o);for(let c of s)o[c]&&r[c].push(o[c])}})),r.navigate.length>0){let i=e.navigate[lo]??e.navigate,o=os(r.navigate,i,(...s)=>{let[c,f]=s;return{to:typeof c=="number"||typeof c=="string"?c:c?Ta(c):".",...nE(e,f??{})}});o&&(o[lo]=i,e.navigate=o)}if(r.fetch.length>0){let i=e.fetch[lo]??e.fetch,o=os(r.fetch,i,(...s)=>{let[c,,f,d]=s;return{href:f??".",fetcherKey:c,...nE(e,d??{})}});o&&(o[lo]=i,e.fetch=o)}return e}function os(e,t,r){return e.length===0?null:async(...i)=>{let o=await ZT(e,r(...i),()=>t(...i),e.length-1);if(o.type==="error")throw o.value;return o.value}}async function ZT(e,t,r,i){let o=e[i],s;if(o){let c,f=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=ZT(e,t,r,i-1),s=await c,Ve(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await o(f,t)}catch(d){console.error("An instrumentation function threw an error:",d)}c||await f(),await c}else try{s={type:"success",value:await r()}}catch(c){s={type:"error",value:c}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function tE(e){let{request:t,context:r,params:i,unstable_pattern:o}=e;return{request:J5(t),params:{...i},unstable_pattern:o,context:eP(r)}}function nE(e,t){return{currentUrl:Ta(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function J5(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function eP(e){if(nP(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var tP=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nP(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===tP}var JT=["POST","PUT","PATCH","DELETE"],rP=new Set(JT),aP=["GET",...JT],iP=new Set(aP),e_=new Set([301,302,303,307,308]),oP=new Set([307,308]),Pg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sP=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),t_="remix-router-transitions",n_=Symbol("ResetLoaderData");function uP(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Ve(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],o=e.mapRouteProperties||sP,s=o;if(e.unstable_instrumentations){let k=e.unstable_instrumentations;s=H=>({...o(H),...K5(k.map(K=>K.route).filter(Boolean),H)})}let c={},f=dc(e.routes,s,void 0,c),d,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let v=e.dataStrategy||mP,g={...e.future},b=null,S=new Set,C=null,E=null,R=null,T=e.hydrationData!=null,_=Xi(f,e.history.location,h),M=!1,A=null,D;if(_==null&&!e.patchRoutesOnNavigation){let k=Or(404,{pathname:e.history.location.pathname}),{matches:H,route:K}=dd(f);D=!0,_=H,A={[K.id]:k}}else if(_&&!e.hydrationData&&$t(_,f,e.history.location.pathname).active&&(_=null),_)if(_.some(k=>k.route.lazy))D=!1;else if(!_.some(k=>lb(k.route)))D=!0;else{let k=e.hydrationData?e.hydrationData.loaderData:null,H=e.hydrationData?e.hydrationData.errors:null;if(H){let K=_.findIndex(ue=>H[ue.route.id]!==void 0);D=_.slice(0,K+1).every(ue=>!kv(ue.route,k,H))}else D=_.every(K=>!kv(K.route,k,H))}else{D=!1,_=[];let k=$t(null,f,e.history.location.pathname);k.active&&k.matches&&(M=!0,_=k.matches)}let N,O={historyAction:e.history.action,location:e.history.location,matches:_,initialized:D,navigation:Pg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},z="POP",F=null,I=!1,G,J=!1,ce=new Map,ie=null,pe=!1,B=!1,X=new Set,te=new Map,he=0,me=-1,L=new Map,W=new Set,ae=new Map,fe=new Map,ge=new Set,xe=new Map,se,Ce=null;function Re(){if(b=e.history.listen(({action:k,location:H,delta:K})=>{if(se){se(),se=void 0;return}Dt(xe.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=Aa({currentLocation:O.location,nextLocation:H,historyAction:k});if(ue&&K!=null){let de=new Promise(_e=>{se=_e});e.history.go(K*-1),Hr(ue,{state:"blocked",location:H,proceed(){Hr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),de.then(()=>e.history.go(K))},reset(){let _e=new Map(O.blockers);_e.set(ue,Vu),He({blockers:_e})}}),F==null||F.resolve(),F=null;return}return Nt(k,H)}),r){DP(t,ce);let k=()=>NP(t,ce);t.addEventListener("pagehide",k),ie=()=>t.removeEventListener("pagehide",k)}return O.initialized||Nt("POP",O.location,{initialHydration:!0}),N}function Se(){b&&b(),ie&&ie(),S.clear(),G&&G.abort(),O.fetchers.forEach((k,H)=>gi(H)),O.blockers.forEach((k,H)=>gl(H))}function st(k){return S.add(k),()=>S.delete(k)}function He(k,H={}){k.matches&&(k.matches=k.matches.map(de=>{let _e=c[de.route.id],Te=de.route;return Te.element!==_e.element||Te.errorElement!==_e.errorElement||Te.hydrateFallbackElement!==_e.hydrateFallbackElement?{...de,route:_e}:de})),O={...O,...k};let K=[],ue=[];O.fetchers.forEach((de,_e)=>{de.state==="idle"&&(ge.has(_e)?K.push(_e):ue.push(_e))}),ge.forEach(de=>{!O.fetchers.has(de)&&!te.has(de)&&K.push(de)}),[...S].forEach(de=>de(O,{deletedFetchers:K,newErrors:k.errors??null,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),K.forEach(de=>gi(de)),ue.forEach(de=>O.fetchers.delete(de))}function nt(k,H,{flushSync:K}={}){var Le,Ae;let ue=O.actionData!=null&&O.navigation.formMethod!=null&&En(O.navigation.formMethod)&&O.navigation.state==="loading"&&((Le=k.state)==null?void 0:Le._isRedirect)!==!0,de;H.actionData?Object.keys(H.actionData).length>0?de=H.actionData:de=null:ue?de=O.actionData:de=null;let _e=H.loaderData?dE(O.loaderData,H.loaderData,H.matches||[],H.errors):O.loaderData,Te=O.blockers;Te.size>0&&(Te=new Map(Te),Te.forEach((Be,qe)=>Te.set(qe,Vu)));let ve=pe?!1:cn(k,H.matches||O.matches),we=I===!0||O.navigation.formMethod!=null&&En(O.navigation.formMethod)&&((Ae=k.state)==null?void 0:Ae._isRedirect)!==!0;d&&(f=d,d=void 0),pe||z==="POP"||(z==="PUSH"?e.history.push(k,k.state):z==="REPLACE"&&e.history.replace(k,k.state));let Me;if(z==="POP"){let Be=ce.get(O.location.pathname);Be&&Be.has(k.pathname)?Me={currentLocation:O.location,nextLocation:k}:ce.has(k.pathname)&&(Me={currentLocation:k,nextLocation:O.location})}else if(J){let Be=ce.get(O.location.pathname);Be?Be.add(k.pathname):(Be=new Set([k.pathname]),ce.set(O.location.pathname,Be)),Me={currentLocation:O.location,nextLocation:k}}He({...H,actionData:de,loaderData:_e,historyAction:z,location:k,initialized:!0,navigation:Pg,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:we,blockers:Te},{viewTransitionOpts:Me,flushSync:K===!0}),z="POP",I=!1,J=!1,pe=!1,B=!1,F==null||F.resolve(),F=null,Ce==null||Ce.resolve(),Ce=null}async function ct(k,H){if(F==null||F.resolve(),F=null,typeof k=="number"){F||(F=gE());let qe=F.promise;return e.history.go(k),qe}let K=zv(O.location,O.matches,h,k,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:ue,submission:de,error:_e}=rE(!1,K,H),Te=O.location,ve=fc(O.location,ue,H&&H.state);ve={...ve,...e.history.encodeLocation(ve)};let we=H&&H.replace!=null?H.replace:void 0,Me="PUSH";we===!0?Me="REPLACE":we===!1||de!=null&&En(de.formMethod)&&de.formAction===O.location.pathname+O.location.search&&(Me="REPLACE");let Le=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Ae=(H&&H.flushSync)===!0,Be=Aa({currentLocation:Te,nextLocation:ve,historyAction:Me});if(Be){Hr(Be,{state:"blocked",location:ve,proceed(){Hr(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),ct(k,H)},reset(){let qe=new Map(O.blockers);qe.set(Be,Vu),He({blockers:qe})}});return}await Nt(Me,ve,{submission:de,pendingError:_e,preventScrollReset:Le,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Ae,callSiteDefaultShouldRevalidate:H&&H.unstable_defaultShouldRevalidate})}function bn(){Ce||(Ce=gE()),Sn(),He({revalidation:"loading"});let k=Ce.promise;return O.navigation.state==="submitting"?k:O.navigation.state==="idle"?(Nt(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),k):(Nt(z||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:J===!0}),k)}async function Nt(k,H,K){G&&G.abort(),G=null,z=k,pe=(K&&K.startUninterruptedRevalidation)===!0,wn(O.location,O.matches),I=(K&&K.preventScrollReset)===!0,J=(K&&K.enableViewTransition)===!0;let ue=d||f,de=K&&K.overrideNavigation,_e=K!=null&&K.initialHydration&&O.matches&&O.matches.length>0&&!M?O.matches:Xi(ue,H,h),Te=(K&&K.flushSync)===!0;if(_e&&O.initialized&&!B&&xP(O.location,H)&&!(K&&K.submission&&En(K.submission.formMethod))){nt(H,{matches:_e},{flushSync:Te});return}let ve=$t(_e,ue,H.pathname);if(ve.active&&ve.matches&&(_e=ve.matches),!_e){let{error:zt,notFoundMatches:kt,route:Ke}=xt(H.pathname);nt(H,{matches:kt,loaderData:{},errors:{[Ke.id]:zt}},{flushSync:Te});return}G=new AbortController;let we=is(e.history,H,G.signal,K&&K.submission),Me=e.getContext?await e.getContext():new K1,Le;if(K&&K.pendingError)Le=[Qi(_e).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&En(K.submission.formMethod)){let zt=await oa(we,H,K.submission,_e,Me,ve.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:Te});if(zt.shortCircuited)return;if(zt.pendingActionResult){let[kt,Ke]=zt.pendingActionResult;if(cr(Ke)&&hc(Ke.error)&&Ke.error.status===404){G=null,nt(H,{matches:zt.matches,loaderData:{},errors:{[kt]:Ke.error}});return}}_e=zt.matches||_e,Le=zt.pendingActionResult,de=Bg(H,K.submission),Te=!1,ve.active=!1,we=is(e.history,we.url,we.signal)}let{shortCircuited:Ae,matches:Be,loaderData:qe,errors:At}=await Br(we,H,_e,Me,ve.active,de,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Te,Le,K&&K.callSiteDefaultShouldRevalidate);Ae||(G=null,nt(H,{matches:Be||_e,...hE(Le),loaderData:qe,errors:At}))}async function oa(k,H,K,ue,de,_e,Te,ve={}){Sn();let we=jP(H,K);if(He({navigation:we},{flushSync:ve.flushSync===!0}),_e){let Ae=await en(ue,H.pathname,k.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){if(Ae.partialMatches.length===0){let{matches:qe,route:At}=dd(f);return{matches:qe,pendingActionResult:[At.id,{type:"error",error:Ae.error}]}}let Be=Qi(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[Be,{type:"error",error:Ae.error}]}}else if(Ae.matches)ue=Ae.matches;else{let{notFoundMatches:Be,error:qe,route:At}=xt(H.pathname);return{matches:Be,pendingActionResult:[At.id,{type:"error",error:qe}]}}}let Me,Le=Od(ue,H);if(!Le.route.action&&!Le.route.lazy)Me={type:"error",error:Or(405,{method:k.method,pathname:H.pathname,routeId:Le.route.id})};else{let Ae=fs(s,c,k,ue,Le,Te?[]:i,de),Be=await gr(k,Ae,de,null);if(Me=Be[Le.route.id],!Me){for(let qe of ue)if(Be[qe.route.id]){Me=Be[qe.route.id];break}}if(k.signal.aborted)return{shortCircuited:!0}}if(Ho(Me)){let Ae;return ve&&ve.replace!=null?Ae=ve.replace:Ae=uE(Me.response.headers.get("Location"),new URL(k.url),h,e.history)===O.location.pathname+O.location.search,await vt(k,Me,!0,{submission:K,replace:Ae}),{shortCircuited:!0}}if(cr(Me)){let Ae=Qi(ue,Le.route.id);return(ve&&ve.replace)!==!0&&(z="PUSH"),{matches:ue,pendingActionResult:[Ae.route.id,Me,Le.route.id]}}return{matches:ue,pendingActionResult:[Le.route.id,Me]}}async function Br(k,H,K,ue,de,_e,Te,ve,we,Me,Le,Ae,Be){let qe=_e||Bg(H,Te),At=Te||ve||pE(qe),zt=!pe&&!Me;if(de){if(zt){let It=On(Ae);He({navigation:qe,...It!==void 0?{actionData:It}:{}},{flushSync:Le})}let Ze=await en(K,H.pathname,k.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){if(Ze.partialMatches.length===0){let{matches:Vr,route:fn}=dd(f);return{matches:Vr,loaderData:{},errors:{[fn.id]:Ze.error}}}let It=Qi(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[It]:Ze.error}}}else if(Ze.matches)K=Ze.matches;else{let{error:It,notFoundMatches:Vr,route:fn}=xt(H.pathname);return{matches:Vr,loaderData:{},errors:{[fn.id]:It}}}}let kt=d||f,{dsMatches:Ke,revalidatingFetchers:an}=aE(k,ue,s,c,e.history,O,K,At,H,Me?[]:i,Me===!0,B,X,ge,ae,W,kt,h,e.patchRoutesOnNavigation!=null,Ae,Be);if(me=++he,!e.dataStrategy&&!Ke.some(Ze=>Ze.shouldLoad)&&!Ke.some(Ze=>Ze.route.middleware&&Ze.route.middleware.length>0)&&an.length===0){let Ze=Jt();return nt(H,{matches:K,loaderData:{},errors:Ae&&cr(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...hE(Ae),...Ze?{fetchers:new Map(O.fetchers)}:{}},{flushSync:Le}),{shortCircuited:!0}}if(zt){let Ze={};if(!de){Ze.navigation=qe;let It=On(Ae);It!==void 0&&(Ze.actionData=It)}an.length>0&&(Ze.fetchers=it(an)),He(Ze,{flushSync:Le})}an.forEach(Ze=>{wt(Ze.key),Ze.controller&&te.set(Ze.key,Ze.controller)});let Hn=()=>an.forEach(Ze=>wt(Ze.key));G&&G.signal.addEventListener("abort",Hn);let{loaderResults:Ot,fetcherResults:Ir}=await sa(Ke,an,k,ue);if(k.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",Hn),an.forEach(Ze=>te.delete(Ze.key));let tr=hd(Ot);if(tr)return await vt(k,tr.result,!0,{replace:we}),{shortCircuited:!0};if(tr=hd(Ir),tr)return W.add(tr.key),await vt(k,tr.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Fr,errors:vr}=fE(O,K,Ot,Ae,an,Ir);Me&&O.errors&&(vr={...O.errors,...vr});let Da=Jt(),go=ml(me),vo=Da||go||an.length>0;return{matches:K,loaderData:Fr,errors:vr,...vo?{fetchers:new Map(O.fetchers)}:{}}}function On(k){if(k&&!cr(k[1]))return{[k[0]]:k[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function it(k){return k.forEach(H=>{let K=O.fetchers.get(H.key),ue=qu(void 0,K?K.data:void 0);O.fetchers.set(H.key,ue)}),new Map(O.fetchers)}async function pr(k,H,K,ue){wt(k);let de=(ue&&ue.flushSync)===!0,_e=d||f,Te=zv(O.location,O.matches,h,K,H,ue==null?void 0:ue.relative),ve=Xi(_e,Te,h),we=$t(ve,_e,Te);if(we.active&&we.matches&&(ve=we.matches),!ve){Yt(k,H,Or(404,{pathname:Te}),{flushSync:de});return}let{path:Me,submission:Le,error:Ae}=rE(!0,Te,ue);if(Ae){Yt(k,H,Ae,{flushSync:de});return}let Be=e.getContext?await e.getContext():new K1,qe=(ue&&ue.preventScrollReset)===!0;if(Le&&En(Le.formMethod)){await la(k,H,Me,ve,Be,we.active,de,qe,Le,ue&&ue.unstable_defaultShouldRevalidate);return}ae.set(k,{routeId:H,path:Me}),await pi(k,H,Me,ve,Be,we.active,de,qe,Le)}async function la(k,H,K,ue,de,_e,Te,ve,we,Me){Sn(),ae.delete(k);let Le=O.fetchers.get(k);_t(k,AP(we,Le),{flushSync:Te});let Ae=new AbortController,Be=is(e.history,K,Ae.signal,we);if(_e){let Je=await en(ue,new URL(Be.url).pathname,Be.signal,k);if(Je.type==="aborted")return;if(Je.type==="error"){Yt(k,H,Je.error,{flushSync:Te});return}else if(Je.matches)ue=Je.matches;else{Yt(k,H,Or(404,{pathname:K}),{flushSync:Te});return}}let qe=Od(ue,K);if(!qe.route.action&&!qe.route.lazy){let Je=Or(405,{method:we.formMethod,pathname:K,routeId:H});Yt(k,H,Je,{flushSync:Te});return}te.set(k,Ae);let At=he,zt=fs(s,c,Be,ue,qe,i,de),kt=await gr(Be,zt,de,k),Ke=kt[qe.route.id];if(!Ke){for(let Je of zt)if(kt[Je.route.id]){Ke=kt[Je.route.id];break}}if(Be.signal.aborted){te.get(k)===Ae&&te.delete(k);return}if(ge.has(k)){if(Ho(Ke)||cr(Ke)){_t(k,Ka(void 0));return}}else{if(Ho(Ke))if(te.delete(k),me>At){_t(k,Ka(void 0));return}else return W.add(k),_t(k,qu(we)),vt(Be,Ke,!1,{fetcherSubmission:we,preventScrollReset:ve});if(cr(Ke)){Yt(k,H,Ke.error);return}}let an=O.navigation.location||O.location,Hn=is(e.history,an,Ae.signal),Ot=d||f,Ir=O.navigation.state!=="idle"?Xi(Ot,O.navigation.location,h):O.matches;Ve(Ir,"Didn't find any matches after fetcher action");let tr=++he;L.set(k,tr);let Fr=qu(we,Ke.data);O.fetchers.set(k,Fr);let{dsMatches:vr,revalidatingFetchers:Da}=aE(Hn,de,s,c,e.history,O,Ir,we,an,i,!1,B,X,ge,ae,W,Ot,h,e.patchRoutesOnNavigation!=null,[qe.route.id,Ke],Me);Da.filter(Je=>Je.key!==k).forEach(Je=>{let yo=Je.key,Hc=O.fetchers.get(yo),Ws=qu(void 0,Hc?Hc.data:void 0);O.fetchers.set(yo,Ws),wt(yo),Je.controller&&te.set(yo,Je.controller)}),He({fetchers:new Map(O.fetchers)});let go=()=>Da.forEach(Je=>wt(Je.key));Ae.signal.addEventListener("abort",go);let{loaderResults:vo,fetcherResults:Ze}=await sa(vr,Da,Hn,de);if(Ae.signal.aborted)return;if(Ae.signal.removeEventListener("abort",go),L.delete(k),te.delete(k),Da.forEach(Je=>te.delete(Je.key)),O.fetchers.has(k)){let Je=Ka(Ke.data);O.fetchers.set(k,Je)}let It=hd(vo);if(It)return vt(Hn,It.result,!1,{preventScrollReset:ve});if(It=hd(Ze),It)return W.add(It.key),vt(Hn,It.result,!1,{preventScrollReset:ve});let{loaderData:Vr,errors:fn}=fE(O,Ir,vo,void 0,Da,Ze);ml(tr),O.navigation.state==="loading"&&tr>me?(Ve(z,"Expected pending action"),G&&G.abort(),nt(O.navigation.location,{matches:Ir,loaderData:Vr,errors:fn,fetchers:new Map(O.fetchers)})):(He({errors:fn,loaderData:dE(O.loaderData,Vr,Ir,fn),fetchers:new Map(O.fetchers)}),B=!1)}async function pi(k,H,K,ue,de,_e,Te,ve,we){let Me=O.fetchers.get(k);_t(k,qu(we,Me?Me.data:void 0),{flushSync:Te});let Le=new AbortController,Ae=is(e.history,K,Le.signal);if(_e){let Ke=await en(ue,new URL(Ae.url).pathname,Ae.signal,k);if(Ke.type==="aborted")return;if(Ke.type==="error"){Yt(k,H,Ke.error,{flushSync:Te});return}else if(Ke.matches)ue=Ke.matches;else{Yt(k,H,Or(404,{pathname:K}),{flushSync:Te});return}}let Be=Od(ue,K);te.set(k,Le);let qe=he,At=fs(s,c,Ae,ue,Be,i,de),kt=(await gr(Ae,At,de,k))[Be.route.id];if(te.get(k)===Le&&te.delete(k),!Ae.signal.aborted){if(ge.has(k)){_t(k,Ka(void 0));return}if(Ho(kt))if(me>qe){_t(k,Ka(void 0));return}else{W.add(k),await vt(Ae,kt,!1,{preventScrollReset:ve});return}if(cr(kt)){Yt(k,H,kt.error);return}_t(k,Ka(kt.data))}}async function vt(k,H,K,{submission:ue,fetcherSubmission:de,preventScrollReset:_e,replace:Te}={}){K||(F==null||F.resolve(),F=null),H.response.headers.has("X-Remix-Revalidate")&&(B=!0);let ve=H.response.headers.get("Location");Ve(ve,"Expected a Location header on the redirect Response"),ve=uE(ve,new URL(k.url),h,e.history);let we=fc(O.location,ve,{_isRedirect:!0});if(r){let At=!1;if(H.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(Bh(ve)){const zt=qT(ve,!0);At=zt.origin!==t.location.origin||zr(zt.pathname,h)==null}if(At){Te?t.location.replace(ve):t.location.assign(ve);return}}G=null;let Me=Te===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:Ae,formEncType:Be}=O.navigation;!ue&&!de&&Le&&Ae&&Be&&(ue=pE(O.navigation));let qe=ue||de;if(oP.has(H.response.status)&&qe&&En(qe.formMethod))await Nt(Me,we,{submission:{...qe,formAction:ve},preventScrollReset:_e||I,enableViewTransition:K?J:void 0});else{let At=Bg(we,ue);await Nt(Me,we,{overrideNavigation:At,fetcherSubmission:de,preventScrollReset:_e||I,enableViewTransition:K?J:void 0})}}async function gr(k,H,K,ue){var Te;let de,_e={};try{de=await gP(v,k,H,ue,K,!1)}catch(ve){return H.filter(we=>we.shouldLoad).forEach(we=>{_e[we.route.id]={type:"error",error:ve}}),_e}if(k.signal.aborted)return _e;if(!En(k.method))for(let ve of H){if(((Te=de[ve.route.id])==null?void 0:Te.type)==="error")break;!de.hasOwnProperty(ve.route.id)&&!O.loaderData.hasOwnProperty(ve.route.id)&&(!O.errors||!O.errors.hasOwnProperty(ve.route.id))&&ve.shouldCallHandler()&&(de[ve.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ve.route.id}`)})}for(let[ve,we]of Object.entries(de))if(TP(we)){let Me=we.result;_e[ve]={type:"redirect",response:SP(Me,k,ve,H,h)}}else _e[ve]=await bP(we);return _e}async function sa(k,H,K,ue){let de=gr(K,k,ue,null),_e=Promise.all(H.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Le=(await gr(we.request,we.matches,ue,we.key))[we.match.route.id];return{[we.key]:Le}}else return Promise.resolve({[we.key]:{type:"error",error:Or(404,{pathname:we.path})}})})),Te=await de,ve=(await _e).reduce((we,Me)=>Object.assign(we,Me),{});return{loaderResults:Te,fetcherResults:ve}}function Sn(){B=!0,ae.forEach((k,H)=>{te.has(H)&&X.add(H),wt(H)})}function _t(k,H,K={}){O.fetchers.set(k,H),He({fetchers:new Map(O.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Yt(k,H,K,ue={}){let de=Qi(O.matches,H);gi(k),He({errors:{[de.route.id]:K},fetchers:new Map(O.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function $r(k){return fe.set(k,(fe.get(k)||0)+1),ge.has(k)&&ge.delete(k),O.fetchers.get(k)||lP}function yt(k,H){wt(k,H==null?void 0:H.reason),_t(k,Ka(null))}function gi(k){let H=O.fetchers.get(k);te.has(k)&&!(H&&H.state==="loading"&&L.has(k))&&wt(k),ae.delete(k),L.delete(k),W.delete(k),ge.delete(k),X.delete(k),O.fetchers.delete(k)}function ja(k){let H=(fe.get(k)||0)-1;H<=0?(fe.delete(k),ge.add(k)):fe.set(k,H),He({fetchers:new Map(O.fetchers)})}function wt(k,H){let K=te.get(k);K&&(K.abort(H),te.delete(k))}function Mn(k){for(let H of k){let K=$r(H),ue=Ka(K.data);O.fetchers.set(H,ue)}}function Jt(){let k=[],H=!1;for(let K of W){let ue=O.fetchers.get(K);Ve(ue,`Expected fetcher: ${K}`),ue.state==="loading"&&(W.delete(K),k.push(K),H=!0)}return Mn(k),H}function ml(k){let H=[];for(let[K,ue]of L)if(ue<k){let de=O.fetchers.get(K);Ve(de,`Expected fetcher: ${K}`),de.state==="loading"&&(wt(K),L.delete(K),H.push(K))}return Mn(H),H.length>0}function pl(k,H){let K=O.blockers.get(k)||Vu;return xe.get(k)!==H&&xe.set(k,H),K}function gl(k){O.blockers.delete(k),xe.delete(k)}function Hr(k,H){let K=O.blockers.get(k)||Vu;Ve(K.state==="unblocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="proceeding"||K.state==="blocked"&&H.state==="unblocked"||K.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${H.state}`);let ue=new Map(O.blockers);ue.set(k,H),He({blockers:ue})}function Aa({currentLocation:k,nextLocation:H,historyAction:K}){if(xe.size===0)return;xe.size>1&&Dt(!1,"A router only supports one blocker at a time");let ue=Array.from(xe.entries()),[de,_e]=ue[ue.length-1],Te=O.blockers.get(de);if(!(Te&&Te.state==="proceeding")&&_e({currentLocation:k,nextLocation:H,historyAction:K}))return de}function xt(k){let H=Or(404,{pathname:k}),K=d||f,{matches:ue,route:de}=dd(K);return{notFoundMatches:ue,route:de,error:H}}function jt(k,H,K){if(C=k,R=H,E=K||null,!T&&O.navigation===Pg){T=!0;let ue=cn(O.location,O.matches);ue!=null&&He({restoreScrollPosition:ue})}return()=>{C=null,R=null,E=null}}function Bt(k,H){return E&&E(k,H.map(ue=>N5(ue,O.loaderData)))||k.key}function wn(k,H){if(C&&R){let K=Bt(k,H);C[K]=R()}}function cn(k,H){if(C){let K=Bt(k,H),ue=C[K];if(typeof ue=="number")return ue}return null}function $t(k,H,K){if(e.patchRoutesOnNavigation)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:Ju(H,K,h,!0)}}else return{active:!0,matches:Ju(H,K,h,!0)||[]};return{active:!1,matches:null}}async function en(k,H,K,ue){if(!e.patchRoutesOnNavigation)return{type:"success",matches:k};let de=k;for(;;){let _e=d==null,Te=d||f,ve=c;try{await e.patchRoutesOnNavigation({signal:K,path:H,matches:de,fetcherKey:ue,patch:(Le,Ae)=>{K.aborted||iE(Le,Ae,Te,ve,s,!1)}})}catch(Le){return{type:"error",error:Le,partialMatches:de}}finally{_e&&!K.aborted&&(f=[...f])}if(K.aborted)return{type:"aborted"};let we=Xi(Te,H,h),Me=null;if(we){if(Object.keys(we[0].params).length===0)return{type:"success",matches:we};if(Me=Ju(Te,H,h,!0),!(Me&&de.length<Me.length&&jn(de,Me.slice(0,de.length))))return{type:"success",matches:we}}if(Me||(Me=Ju(Te,H,h,!0)),!Me||jn(de,Me))return{type:"success",matches:null};de=Me}}function jn(k,H){return k.length===H.length&&k.every((K,ue)=>K.route.id===H[ue].route.id)}function Ht(k){c={},d=dc(k,s,void 0,c)}function er(k,H,K=!1){let ue=d==null;iE(k,H,d||f,c,s,K),ue&&(f=[...f],He({}))}return N={get basename(){return h},get future(){return g},get state(){return O},get routes(){return f},get window(){return t},initialize:Re,subscribe:st,enableScrollRestoration:jt,navigate:ct,fetch:pr,revalidate:bn,createHref:k=>e.history.createHref(k),encodeLocation:k=>e.history.encodeLocation(k),getFetcher:$r,resetFetcher:yt,deleteFetcher:ja,dispose:Se,getBlocker:pl,deleteBlocker:gl,patchRoutes:er,_internalFetchControllers:te,_internalSetRoutes:Ht,_internalSetStateDoNotUseOrYouWillBreakYourApp(k){He(k)}},e.unstable_instrumentations&&(N=Z5(N,e.unstable_instrumentations.map(k=>k.router).filter(Boolean))),N}function cP(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function zv(e,t,r,i,o,s){let c,f;if(o){c=[];for(let h of t)if(c.push(h),h.route.id===o){f=h;break}}else c=t,f=t[t.length-1];let d=Hh(i||".",$h(c),zr(e.pathname,r)||e.pathname,s==="path");if(i==null&&(d.search=e.search,d.hash=e.hash),(i==null||i===""||i===".")&&f){let h=ub(d.search);if(f.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&h){let v=new URLSearchParams(d.search),g=v.getAll("index");v.delete("index"),g.filter(S=>S).forEach(S=>v.append("index",S));let b=v.toString();d.search=b?`?${b}`:""}}return r!=="/"&&(d.pathname=Y5({basename:r,pathname:d.pathname})),Ta(d)}function rE(e,t,r){if(!r||!cP(r))return{path:t};if(r.formMethod&&!MP(r.formMethod))return{path:t,error:Or(405,{method:r.formMethod})};let i=()=>({path:t,error:Or(400,{type:"invalid-body"})}),s=(r.formMethod||"get").toUpperCase(),c=s_(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!En(s))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,[S,C])=>`${b}${S}=${C}
`,""):String(r.body);return{path:t,submission:{formMethod:s,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!En(s))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:s,formAction:c,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let f,d;if(r.formData)f=Uv(r.formData),d=r.formData;else if(r.body instanceof FormData)f=Uv(r.body),d=r.body;else if(r.body instanceof URLSearchParams)f=r.body,d=cE(f);else if(r.body==null)f=new URLSearchParams,d=new FormData;else try{f=new URLSearchParams(r.body),d=cE(f)}catch{return i()}let h={formMethod:s,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(En(h.formMethod))return{path:t,submission:h};let v=po(t);return e&&v.search&&ub(v.search)&&f.append("index",""),v.search=`?${f}`,{path:Ta(v),submission:h}}function aE(e,t,r,i,o,s,c,f,d,h,v,g,b,S,C,E,R,T,_,M,A){var pe;let D=M?cr(M[1])?M[1].error:M[1].data:void 0,N=o.createURL(s.location),O=o.createURL(d),z;if(v&&s.errors){let B=Object.keys(s.errors)[0];z=c.findIndex(X=>X.route.id===B)}else if(M&&cr(M[1])){let B=M[0];z=c.findIndex(X=>X.route.id===B)-1}let F=M?M[1].statusCode:void 0,I=F&&F>=400,G={currentUrl:N,currentParams:((pe=s.matches[0])==null?void 0:pe.params)||{},nextUrl:O,nextParams:c[0].params,...f,actionResult:D,actionStatus:F},J=zc(c),ce=c.map((B,X)=>{let{route:te}=B,he=null;if(z!=null&&X>z?he=!1:te.lazy?he=!0:lb(te)?v?he=kv(te,s.loaderData,s.errors):fP(s.loaderData,s.matches[X],B)&&(he=!0):he=!1,he!==null)return Lv(r,i,e,J,B,h,t,he);let me=!1;typeof A=="boolean"?me=A:I?me=!1:(g||N.pathname+N.search===O.pathname+O.search||N.search!==O.search||dP(s.matches[X],B))&&(me=!0);let L={...G,defaultShouldRevalidate:me},W=nc(B,L);return Lv(r,i,e,J,B,h,t,W,L,A)}),ie=[];return C.forEach((B,X)=>{if(v||!c.some(ge=>ge.route.id===B.routeId)||S.has(X))return;let te=s.fetchers.get(X),he=te&&te.state!=="idle"&&te.data===void 0,me=Xi(R,B.path,T);if(!me){if(_&&he)return;ie.push({key:X,routeId:B.routeId,path:B.path,matches:null,match:null,request:null,controller:null});return}if(E.has(X))return;let L=Od(me,B.path),W=new AbortController,ae=is(o,B.path,W.signal),fe=null;if(b.has(X))b.delete(X),fe=fs(r,i,ae,me,L,h,t);else if(he)g&&(fe=fs(r,i,ae,me,L,h,t));else{let ge;typeof A=="boolean"?ge=A:I?ge=!1:ge=g;let xe={...G,defaultShouldRevalidate:ge};nc(L,xe)&&(fe=fs(r,i,ae,me,L,h,t,xe))}fe&&ie.push({key:X,routeId:B.routeId,path:B.path,matches:fe,match:L,request:ae,controller:W})}),{dsMatches:ce,revalidatingFetchers:ie}}function lb(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function kv(e,t,r){if(e.lazy)return!0;if(!lb(e))return!1;let i=t!=null&&e.id in t,o=r!=null&&r[e.id]!==void 0;return!i&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!o}function fP(e,t,r){let i=!t||r.route.id!==t.route.id,o=!e.hasOwnProperty(r.route.id);return i||o}function dP(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function nc(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function iE(e,t,r,i,o,s){let c;if(e){let h=i[e];Ve(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),c=h.children}else c=r;let f=[],d=[];if(t.forEach(h=>{let v=c.find(g=>r_(h,g));v?d.push({existingRoute:v,newRoute:h}):f.push(h)}),f.length>0){let h=dc(f,o,[e||"_","patch",String((c==null?void 0:c.length)||"0")],i);c.push(...h)}if(s&&d.length>0)for(let h=0;h<d.length;h++){let{existingRoute:v,newRoute:g}=d[h],b=v,[S]=dc([g],o,[],{},!0);Object.assign(b,{element:S.element?S.element:b.element,errorElement:S.errorElement?S.errorElement:b.errorElement,hydrateFallbackElement:S.hydrateFallbackElement?S.hydrateFallbackElement:b.hydrateFallbackElement})}}function r_(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,i)=>{var o;return(o=t.children)==null?void 0:o.some(s=>r_(r,s))}):!1}var oE=new WeakMap,a_=({key:e,route:t,manifest:r,mapRouteProperties:i})=>{let o=r[t.id];if(Ve(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let s=o.lazy[e];if(!s)return;let c=oE.get(o);c||(c={},oE.set(o,c));let f=c[e];if(f)return f;let d=(async()=>{let h=M5(e),g=o[e]!==void 0&&e!=="hasErrorBoundary";if(h)Dt(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),c[e]=Promise.resolve();else if(g)Dt(!1,`Route "${o.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=await s();b!=null&&(Object.assign(o,{[e]:b}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[e]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return c[e]=d,d},lE=new WeakMap;function hP(e,t,r,i,o){let s=r[e.id];if(Ve(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let v=lE.get(s);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let g=(async()=>{Ve(typeof e.lazy=="function","No lazy route function found");let b=await e.lazy(),S={};for(let C in b){let E=b[C];if(E===void 0)continue;let R=A5(C),_=s[C]!==void 0&&C!=="hasErrorBoundary";R?Dt(!R,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):_?Dt(!_,`Route "${s.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):S[C]=E}Object.assign(s,S),Object.assign(s,{...i(s),lazy:void 0})})();return lE.set(s,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let c=Object.keys(e.lazy),f=[],d;for(let v of c){if(o&&o.includes(v))continue;let g=a_({key:v,route:e,manifest:r,mapRouteProperties:i});g&&(f.push(g),v===t&&(d=g))}let h=f.length>0?Promise.all(f).then(()=>{}):void 0;return h==null||h.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function sE(e){let t=e.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(t.map(o=>o.resolve()))).forEach((o,s)=>{r[t[s].route.id]=o}),r}async function mP(e){return e.matches.some(t=>t.route.middleware)?i_(e,()=>sE(e)):sE(e)}function i_(e,t){return pP(e,t,i=>{if(OP(i))throw i;return i},CP,r);function r(i,o,s){if(s)return Promise.resolve(Object.assign(s.value,{[o]:{type:"error",result:i}}));{let{matches:c}=e,f=Math.min(Math.max(c.findIndex(h=>h.route.id===o),0),Math.max(c.findIndex(h=>h.shouldCallHandler()),0)),d=Qi(c,c[f].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:i}})}}}async function pP(e,t,r,i,o){let{matches:s,request:c,params:f,context:d,unstable_pattern:h}=e,v=s.flatMap(b=>b.route.middleware?b.route.middleware.map(S=>[b.route.id,S]):[]);return await o_({request:c,params:f,context:d,unstable_pattern:h},v,t,r,i,o)}async function o_(e,t,r,i,o,s,c=0){let{request:f}=e;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let d=t[c];if(!d)return await r();let[h,v]=d,g,b=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await o_(e,t,r,i,o,s,c+1)},g.value}catch(S){return g={value:await s(S,h,g)},g.value}};try{let S=await v(e,b),C=S!=null?i(S):void 0;return o(C)?C:g?C??g.value:(g={value:await b()},g.value)}catch(S){return await s(S,h,g)}}function l_(e,t,r,i,o){let s=a_({key:"middleware",route:i.route,manifest:t,mapRouteProperties:e}),c=hP(i.route,En(r.method)?"action":"loader",t,e,o);return{middleware:s,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Lv(e,t,r,i,o,s,c,f,d=null,h){let v=!1,g=l_(e,t,r,o,s);return{...o,_lazyPromises:g,shouldLoad:f,shouldRevalidateArgs:d,shouldCallHandler(b){return v=!0,d?typeof h=="boolean"?nc(o,{...d,defaultShouldRevalidate:h}):typeof b=="boolean"?nc(o,{...d,defaultShouldRevalidate:b}):nc(o,d):f},resolve(b){let{lazy:S,loader:C,middleware:E}=o.route,R=v||f||b&&!En(r.method)&&(S||C),T=E&&E.length>0&&!C&&!S;return R&&(En(r.method)||!T)?vP({request:r,unstable_pattern:i,match:o,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:b,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function fs(e,t,r,i,o,s,c,f=null){return i.map(d=>d.route.id!==o.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:f,shouldCallHandler:()=>!1,_lazyPromises:l_(e,t,r,d,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Lv(e,t,r,zc(i),d,s,c,!0,f))}async function gP(e,t,r,i,o,s){r.some(h=>{var v;return(v=h._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(r.map(h=>{var v;return(v=h._lazyPromises)==null?void 0:v.middleware}));let c={request:t,unstable_pattern:zc(r),params:r[0].params,context:o,matches:r},d=await e({...c,fetcherKey:i,runClientMiddleware:h=>{let v=c;return i_(v,()=>h({...v,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(h=>{var v,g;return[(v=h._lazyPromises)==null?void 0:v.handler,(g=h._lazyPromises)==null?void 0:g.route]}))}catch{}return d}async function vP({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:i,lazyRoutePromise:o,handlerOverride:s,scopedContext:c}){let f,d,h=En(e.method),v=h?"action":"loader",g=b=>{let S,C=new Promise((T,_)=>S=_);d=()=>S(),e.signal.addEventListener("abort",d);let E=T=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${r.route.id}]`)):b({request:e,unstable_pattern:t,params:r.params,context:c},...T!==void 0?[T]:[]),R=(async()=>{try{return{type:"data",result:await(s?s(_=>E(_)):E())}}catch(T){return{type:"error",result:T}}})();return Promise.race([R,C])};try{let b=h?r.route.action:r.route.loader;if(i||o)if(b){let S,[C]=await Promise.all([g(b).catch(E=>{S=E}),i,o]);if(S!==void 0)throw S;f=C}else{await i;let S=h?r.route.action:r.route.loader;if(S)[f]=await Promise.all([g(S),o]);else if(v==="action"){let C=new URL(e.url),E=C.pathname+C.search;throw Or(405,{method:e.method,pathname:E,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(b)f=await g(b);else{let S=new URL(e.url),C=S.pathname+S.search;throw Or(404,{pathname:C})}}catch(b){return{type:"error",result:b}}finally{d&&e.signal.removeEventListener("abort",d)}return f}async function yP(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function bP(e){var i,o,s,c,f;let{result:t,type:r}=e;if(sb(t)){let d;try{d=await yP(t)}catch(h){return{type:"error",error:h}}return r==="error"?{type:"error",error:new Nc(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:"data",data:d,statusCode:t.status,headers:t.headers}}return r==="error"?mE(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:EP(t),statusCode:hc(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:hc(t)?t.status:void 0}:mE(t)?{type:"data",data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function SP(e,t,r,i,o){let s=e.headers.get("Location");if(Ve(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bh(s)){let c=i.slice(0,i.findIndex(f=>f.route.id===r)+1);s=zv(new URL(t.url),c,o,s),e.headers.set("Location",s)}return e}function uE(e,t,r,i){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Bh(e)){let s=e,c=s.startsWith("//")?new URL(t.protocol+s):new URL(s);if(o.includes(c.protocol))throw new Error("Invalid redirect location");let f=zr(c.pathname,r)!=null;if(c.origin===t.origin&&f)return c.pathname+c.search+c.hash}try{let s=i.createURL(e);if(o.includes(s.protocol))throw new Error("Invalid redirect location")}catch{}return e}function is(e,t,r,i){let o=e.createURL(s_(t)).toString(),s={signal:r};if(i&&En(i.formMethod)){let{formMethod:c,formEncType:f}=i;s.method=c.toUpperCase(),f==="application/json"?(s.headers=new Headers({"Content-Type":f}),s.body=JSON.stringify(i.json)):f==="text/plain"?s.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?s.body=Uv(i.formData):s.body=i.formData}return new Request(o,s)}function Uv(e){let t=new URLSearchParams;for(let[r,i]of e.entries())t.append(r,typeof i=="string"?i:i.name);return t}function cE(e){let t=new FormData;for(let[r,i]of e.entries())t.append(r,i);return t}function wP(e,t,r,i=!1,o=!1){let s={},c=null,f,d=!1,h={},v=r&&cr(r[1])?r[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let b=g.route.id,S=t[b];if(Ve(!Ho(S),"Cannot handle redirect results in processLoaderData"),cr(S)){let C=S.error;if(v!==void 0&&(C=v,v=void 0),c=c||{},o)c[b]=C;else{let E=Qi(e,b);c[E.route.id]==null&&(c[E.route.id]=C)}i||(s[b]=n_),d||(d=!0,f=hc(S.error)?S.error.status:500),S.headers&&(h[b]=S.headers)}else s[b]=S.data,S.statusCode&&S.statusCode!==200&&!d&&(f=S.statusCode),S.headers&&(h[b]=S.headers)}),v!==void 0&&r&&(c={[r[0]]:v},r[2]&&(s[r[2]]=void 0)),{loaderData:s,errors:c,statusCode:f||200,loaderHeaders:h}}function fE(e,t,r,i,o,s){let{loaderData:c,errors:f}=wP(t,r,i);return o.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:v,controller:g}=d;if(g&&g.signal.aborted)return;let b=s[h];if(Ve(b,"Did not find corresponding fetcher result"),cr(b)){let S=Qi(e.matches,v==null?void 0:v.route.id);f&&f[S.route.id]||(f={...f,[S.route.id]:b.error}),e.fetchers.delete(h)}else if(Ho(b))Ve(!1,"Unhandled fetcher revalidation redirect");else{let S=Ka(b.data);e.fetchers.set(h,S)}}),{loaderData:c,errors:f}}function dE(e,t,r,i){let o=Object.entries(t).filter(([,s])=>s!==n_).reduce((s,[c,f])=>(s[c]=f,s),{});for(let s of r){let c=s.route.id;if(!t.hasOwnProperty(c)&&e.hasOwnProperty(c)&&s.route.loader&&(o[c]=e[c]),i&&i.hasOwnProperty(c))break}return o}function hE(e){return e?cr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Qi(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function dd(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Or(e,{pathname:t,routeId:r,method:i,type:o,message:s}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(c="Bad Request",i&&t&&r?f=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):e===403?(c="Forbidden",f=`Route "${r}" does not match URL "${t}"`):e===404?(c="Not Found",f=`No route matches URL "${t}"`):e===405&&(c="Method Not Allowed",i&&t&&r?f=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:i&&(f=`Invalid request method "${i.toUpperCase()}"`)),new Nc(e||500,c,new Error(f),!0)}function hd(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[i,o]=t[r];if(Ho(o))return{key:i,result:o}}}function s_(e){let t=typeof e=="string"?po(e):e;return Ta({...t,hash:""})}function xP(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function EP(e){var t,r;return new Nc(((t=e.init)==null?void 0:t.status)??500,((r=e.init)==null?void 0:r.statusText)??"Internal Server Error",e.data)}function CP(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&RP(r))}function RP(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function TP(e){return sb(e.result)&&e_.has(e.result.status)}function cr(e){return e.type==="error"}function Ho(e){return(e&&e.type)==="redirect"}function mE(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function sb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function _P(e){return e_.has(e)}function OP(e){return sb(e)&&_P(e.status)&&e.headers.has("Location")}function MP(e){return iP.has(e.toUpperCase())}function En(e){return rP.has(e.toUpperCase())}function ub(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Od(e,t){let r=typeof t=="string"?po(t).search:t.search;if(e[e.length-1].route.index&&ub(r||""))return e[e.length-1];let i=QT(e);return i[i.length-1]}function pE(e){let{formMethod:t,formAction:r,formEncType:i,text:o,formData:s,json:c}=e;if(!(!t||!r||!i)){if(o!=null)return{formMethod:t,formAction:r,formEncType:i,formData:void 0,json:void 0,text:o};if(s!=null)return{formMethod:t,formAction:r,formEncType:i,formData:s,json:void 0,text:void 0};if(c!==void 0)return{formMethod:t,formAction:r,formEncType:i,formData:void 0,json:c,text:void 0}}}function Bg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jP(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function qu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function AP(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ka(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function DP(e,t){try{let r=e.sessionStorage.getItem(t_);if(r){let i=JSON.parse(r);for(let[o,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(o,new Set(s||[]))}}catch{}}function NP(e,t){if(t.size>0){let r={};for(let[i,o]of t)r[i]=[...o];try{e.sessionStorage.setItem(t_,JSON.stringify(r))}catch(i){Dt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function gE(){let e,t,r=new Promise((i,o)=>{e=async s=>{i(s);try{await r}catch{}},t=async s=>{o(s);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var dl=y.createContext(null);dl.displayName="DataRouter";var kc=y.createContext(null);kc.displayName="DataRouterState";var u_=y.createContext(!1);function zP(){return y.useContext(u_)}var cb=y.createContext({isTransitioning:!1});cb.displayName="ViewTransition";var c_=y.createContext(new Map);c_.displayName="Fetchers";var kP=y.createContext(null);kP.displayName="Await";var mr=y.createContext(null);mr.displayName="Navigation";var Ih=y.createContext(null);Ih.displayName="Location";var Pr=y.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var fb=y.createContext(null);fb.displayName="RouteError";var f_="REACT_ROUTER_ERROR",LP="REDIRECT",UP="ROUTE_ERROR_RESPONSE";function PP(e){if(e.startsWith(`${f_}:${LP}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function BP(e){if(e.startsWith(`${f_}:${UP}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Nc(t.status,t.statusText,t.data)}catch{}}function $P(e,{relative:t}={}){Ve(Ys(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=y.useContext(mr),{hash:o,pathname:s,search:c}=Lc(e,{relative:t}),f=s;return r!=="/"&&(f=s==="/"?r:Ea([r,s])),i.createHref({pathname:f,search:c,hash:o})}function Ys(){return y.useContext(Ih)!=null}function Ma(){return Ve(Ys(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ih).location}var d_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h_(e){y.useContext(mr).static||y.useLayoutEffect(e)}function db(){let{isDataRoute:e}=y.useContext(Pr);return e?n6():HP()}function HP(){Ve(Ys(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(dl),{basename:t,navigator:r}=y.useContext(mr),{matches:i}=y.useContext(Pr),{pathname:o}=Ma(),s=JSON.stringify($h(i)),c=y.useRef(!1);return h_(()=>{c.current=!0}),y.useCallback((d,h={})=>{if(Dt(c.current,d_),!c.current)return;if(typeof d=="number"){r.go(d);return}let v=Hh(d,JSON.parse(s),o,h.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ea([t,v.pathname])),(h.replace?r.replace:r.push)(v,h.state,h)},[t,r,s,o,e])}var IP=y.createContext(null);function FP(e){let t=y.useContext(Pr).outlet;return y.useMemo(()=>t&&y.createElement(IP.Provider,{value:e},t),[t,e])}function VP(){let{matches:e}=y.useContext(Pr),t=e[e.length-1];return t?t.params:{}}function Lc(e,{relative:t}={}){let{matches:r}=y.useContext(Pr),{pathname:i}=Ma(),o=JSON.stringify($h(r));return y.useMemo(()=>Hh(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function qP(e,t,r,i,o){Ve(Ys(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(mr),{matches:c}=y.useContext(Pr),f=c[c.length-1],d=f?f.params:{},h=f?f.pathname:"/",v=f?f.pathnameBase:"/",g=f&&f.route;{let _=g&&g.path||"";p_(h,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let b=Ma(),S;S=b;let C=S.pathname||"/",E=C;if(v!=="/"){let _=v.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(_.length).join("/")}let R=Xi(e,{pathname:E});return Dt(g||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Dt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),WP(R&&R.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:Ea([v,s.encodeLocation?s.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?v:Ea([v,s.encodeLocation?s.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),c,r,i,o)}function YP(){let e=t6(),t=hc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:o},r):null,c)}var GP=y.createElement(YP,null),m_=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=BP(e.digest);r&&(e=r)}let t=e!==void 0?y.createElement(Pr.Provider,{value:this.props.routeContext},y.createElement(fb.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?y.createElement(XP,{error:e},t):t}};m_.contextType=u_;var $g=new WeakMap;function XP({children:e,error:t}){let{basename:r}=y.useContext(mr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=PP(t.digest);if(i){let o=$g.get(t);if(o)throw o;let s=KT(i.location,r);if(WT&&!$g.get(t))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw $g.set(t,c),c}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function QP({routeContext:e,match:t,children:r}){let i=y.useContext(dl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Pr.Provider,{value:e},r)}function WP(e,t=[],r=null,i=null,o=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r==null?void 0:r.errors;if(c!=null){let v=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Ve(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,v+1))}let f=!1,d=-1;if(r)for(let v=0;v<s.length;v++){let g=s[v];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=v),g.route.id){let{loaderData:b,errors:S}=r,C=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||C){f=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let h=r&&i?(v,g)=>{var b,S;i(v,{location:r.location,params:((S=(b=r.matches)==null?void 0:b[0])==null?void 0:S.params)??{},unstable_pattern:zc(r.matches),errorInfo:g})}:void 0;return s.reduceRight((v,g,b)=>{let S,C=!1,E=null,R=null;r&&(S=c&&g.route.id?c[g.route.id]:void 0,E=g.route.errorElement||GP,f&&(d<0&&b===0?(p_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):d===b&&(C=!0,R=g.route.hydrateFallbackElement||null)));let T=t.concat(s.slice(0,b+1)),_=()=>{let M;return S?M=E:C?M=R:g.route.Component?M=y.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=v,y.createElement(QP,{match:g,routeContext:{outlet:v,matches:T,isDataRoute:r!=null},children:M})};return r&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?y.createElement(m_,{location:r.location,revalidation:r.revalidation,component:E,error:S,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:h}):_()},null)}function hb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KP(e){let t=y.useContext(dl);return Ve(t,hb(e)),t}function ZP(e){let t=y.useContext(kc);return Ve(t,hb(e)),t}function JP(e){let t=y.useContext(Pr);return Ve(t,hb(e)),t}function mb(e){let t=JP(e),r=t.matches[t.matches.length-1];return Ve(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function e6(){return mb("useRouteId")}function t6(){var i;let e=y.useContext(fb),t=ZP("useRouteError"),r=mb("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[r]}function n6(){let{router:e}=KP("useNavigate"),t=mb("useNavigate"),r=y.useRef(!1);return h_(()=>{r.current=!0}),y.useCallback(async(o,s={})=>{Dt(r.current,d_),r.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...s}))},[e,t])}var vE={};function p_(e,t,r){!t&&!vE[e]&&(vE[e]=!0,Dt(!1,r))}var yE={};function bE(e,t){!e&&!yE[t]&&(yE[t]=!0,console.warn(t))}var r6="useOptimistic",SE=aC[r6],a6=()=>{};function i6(e){return SE?SE(e):[e,a6]}function o6(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Dt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:y.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Dt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:y.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Dt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:y.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var l6=["HydrateFallback","hydrateFallbackElement"],s6=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function u6({router:e,flushSync:t,onError:r,unstable_useTransitions:i}){i=zP()||i;let[s,c]=y.useState(e.state),[f,d]=i6(s),[h,v]=y.useState(),[g,b]=y.useState({isTransitioning:!1}),[S,C]=y.useState(),[E,R]=y.useState(),[T,_]=y.useState(),M=y.useRef(new Map),A=y.useCallback((z,{deletedFetchers:F,newErrors:I,flushSync:G,viewTransitionOpts:J})=>{I&&r&&Object.values(I).forEach(ie=>{var pe;return r(ie,{location:z.location,params:((pe=z.matches[0])==null?void 0:pe.params)??{},unstable_pattern:zc(z.matches)})}),z.fetchers.forEach((ie,pe)=>{ie.data!==void 0&&M.current.set(pe,ie.data)}),F.forEach(ie=>M.current.delete(ie)),bE(G===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ce=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(bE(J==null||ce,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!J||!ce){t&&G?t(()=>c(z)):i===!1?c(z):y.startTransition(()=>{i===!0&&d(ie=>wE(ie,z)),c(z)});return}if(t&&G){t(()=>{E&&(S==null||S.resolve(),E.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let ie=e.window.document.startViewTransition(()=>{t(()=>c(z))});ie.finished.finally(()=>{t(()=>{C(void 0),R(void 0),v(void 0),b({isTransitioning:!1})})}),t(()=>R(ie));return}E?(S==null||S.resolve(),E.skipTransition(),_({state:z,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(v(z),b({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[e.window,t,E,S,i,d,r]);y.useLayoutEffect(()=>e.subscribe(A),[e,A]),y.useEffect(()=>{g.isTransitioning&&!g.flushSync&&C(new s6)},[g]),y.useEffect(()=>{if(S&&h&&e.window){let z=h,F=S.promise,I=e.window.document.startViewTransition(async()=>{i===!1?c(z):y.startTransition(()=>{i===!0&&d(G=>wE(G,z)),c(z)}),await F});I.finished.finally(()=>{C(void 0),R(void 0),v(void 0),b({isTransitioning:!1})}),R(I)}},[h,S,e.window,i,d]),y.useEffect(()=>{S&&h&&f.location.key===h.location.key&&S.resolve()},[S,E,f.location,h]),y.useEffect(()=>{!g.isTransitioning&&T&&(v(T.state),b({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),_(void 0))},[g.isTransitioning,T]);let D=y.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:z=>e.navigate(z),push:(z,F,I)=>e.navigate(z,{state:F,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(z,F,I)=>e.navigate(z,{replace:!0,state:F,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[e]),N=e.basename||"/",O=y.useMemo(()=>({router:e,navigator:D,static:!1,basename:N,onError:r}),[e,D,N,r]);return y.createElement(y.Fragment,null,y.createElement(dl.Provider,{value:O},y.createElement(kc.Provider,{value:f},y.createElement(c_.Provider,{value:M.current},y.createElement(cb.Provider,{value:g},y.createElement(h6,{basename:N,location:f.location,navigationType:f.historyAction,navigator:D,unstable_useTransitions:i},y.createElement(c6,{routes:e.routes,future:e.future,state:f,onError:r})))))),null)}function wE(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var c6=y.memo(f6);function f6({routes:e,future:t,state:r,onError:i}){return qP(e,void 0,r,i,t)}function g_({to:e,replace:t,state:r,relative:i}){Ve(Ys(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=y.useContext(mr);Dt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=y.useContext(Pr),{pathname:c}=Ma(),f=db(),d=Hh(e,$h(s),c,i==="path"),h=JSON.stringify(d);return y.useEffect(()=>{f(JSON.parse(h),{replace:t,state:r,relative:i})},[f,h,i,t,r]),null}function d6(e){return FP(e.context)}function h6({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:o,static:s=!1,unstable_useTransitions:c}){Ve(!Ys(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:f,navigator:o,static:s,unstable_useTransitions:c,future:{}}),[f,o,s,c]);typeof r=="string"&&(r=po(r));let{pathname:h="/",search:v="",hash:g="",state:b=null,key:S="default"}=r,C=y.useMemo(()=>{let E=zr(h,f);return E==null?null:{location:{pathname:E,search:v,hash:g,state:b,key:S},navigationType:i}},[f,h,v,g,b,S,i]);return Dt(C!=null,`<Router basename="${f}"> is not able to match the URL "${h}${v}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:y.createElement(mr.Provider,{value:d},y.createElement(Ih.Provider,{children:t,value:C}))}var Md="get",jd="application/x-www-form-urlencoded";function Fh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function m6(e){return Fh(e)&&e.tagName.toLowerCase()==="button"}function p6(e){return Fh(e)&&e.tagName.toLowerCase()==="form"}function g6(e){return Fh(e)&&e.tagName.toLowerCase()==="input"}function v6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y6(e,t){return e.button===0&&(!t||t==="_self")&&!v6(e)}function Pv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let i=e[r];return t.concat(Array.isArray(i)?i.map(o=>[r,o]):[[r,i]])},[]))}function b6(e,t){let r=Pv(e);return t&&t.forEach((i,o)=>{r.has(o)||t.getAll(o).forEach(s=>{r.append(o,s)})}),r}var md=null;function S6(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var w6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hg(e){return e!=null&&!w6.has(e)?(Dt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jd}"`),null):e}function x6(e,t){let r,i,o,s,c;if(p6(e)){let f=e.getAttribute("action");i=f?zr(f,t):null,r=e.getAttribute("method")||Md,o=Hg(e.getAttribute("enctype"))||jd,s=new FormData(e)}else if(m6(e)||g6(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||f.getAttribute("action");if(i=d?zr(d,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||Md,o=Hg(e.getAttribute("formenctype"))||Hg(f.getAttribute("enctype"))||jd,s=new FormData(f,e),!S6()){let{name:h,type:v,value:g}=e;if(v==="image"){let b=h?`${h}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else h&&s.append(h,g)}}else{if(Fh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Md,i=null,o=jd,c=e}return s&&o==="text/plain"&&(c=s,s=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function E6(e,t,r,i){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:t&&zr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function C6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function T6(e,t,r){let i=await Promise.all(e.map(async o=>{let s=t.routes[o.route.id];if(s){let c=await C6(s,r);return c.links?c.links():[]}return[]}));return j6(i.flat(1).filter(R6).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xE(e,t,r,i,o,s){let c=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,f=(d,h)=>{var v;return r[h].pathname!==d.pathname||((v=r[h].route.path)==null?void 0:v.endsWith("*"))&&r[h].params["*"]!==d.params["*"]};return s==="assets"?t.filter((d,h)=>c(d,h)||f(d,h)):s==="data"?t.filter((d,h)=>{var g;let v=i.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,h)||f(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _6(e,t,{includeHydrateFallback:r}={}){return O6(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function O6(e){return[...new Set(e)]}function M6(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function j6(e,t){let r=new Set;return new Set(t),e.reduce((i,o)=>{let s=JSON.stringify(M6(o));return r.has(s)||(r.add(s),i.push({key:s,link:o})),i},[])}function v_(){let e=y.useContext(dl);return pb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function A6(){let e=y.useContext(kc);return pb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gb=y.createContext(void 0);gb.displayName="FrameworkContext";function y_(){let e=y.useContext(gb);return pb(e,"You must render this element inside a <HydratedRouter> element"),e}function D6(e,t){let r=y.useContext(gb),[i,o]=y.useState(!1),[s,c]=y.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:h,onMouseLeave:v,onTouchStart:g}=t,b=y.useRef(null);y.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let E=T=>{T.forEach(_=>{c(_.isIntersecting)})},R=new IntersectionObserver(E,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[e]),y.useEffect(()=>{if(i){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[i]);let S=()=>{o(!0)},C=()=>{o(!1),c(!1)};return r?e!=="intent"?[s,b,{}]:[s,b,{onFocus:Yu(f,S),onBlur:Yu(d,C),onMouseEnter:Yu(h,S),onMouseLeave:Yu(v,C),onTouchStart:Yu(g,S)}]:[!1,b,{}]}function Yu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function N6({page:e,...t}){let{router:r}=v_(),i=y.useMemo(()=>Xi(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?y.createElement(k6,{page:e,matches:i,...t}):null}function z6(e){let{manifest:t,routeModules:r}=y_(),[i,o]=y.useState([]);return y.useEffect(()=>{let s=!1;return T6(e,t,r).then(c=>{s||o(c)}),()=>{s=!0}},[e,t,r]),i}function k6({page:e,matches:t,...r}){let i=Ma(),{future:o,manifest:s,routeModules:c}=y_(),{basename:f}=v_(),{loaderData:d,matches:h}=A6(),v=y.useMemo(()=>xE(e,t,h,s,i,"data"),[e,t,h,s,i]),g=y.useMemo(()=>xE(e,t,h,s,i,"assets"),[e,t,h,s,i]),b=y.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,R=!1;if(t.forEach(_=>{var A;let M=s.routes[_.route.id];!M||!M.hasLoader||(!v.some(D=>D.route.id===_.route.id)&&_.route.id in d&&((A=c[_.route.id])!=null&&A.shouldRevalidate)||M.hasClientLoader?R=!0:E.add(_.route.id))}),E.size===0)return[];let T=E6(e,f,o.unstable_trailingSlashAwareDataRequests,"data");return R&&E.size>0&&T.searchParams.set("_routes",t.filter(_=>E.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[f,o.unstable_trailingSlashAwareDataRequests,d,i,s,v,t,e,c]),S=y.useMemo(()=>_6(g,s),[g,s]),C=z6(g);return y.createElement(y.Fragment,null,b.map(E=>y.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),S.map(E=>y.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),C.map(({key:E,link:R})=>y.createElement("link",{key:E,nonce:r.nonce,...R})))}function L6(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var U6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U6&&(window.__reactRouterVersion="7.12.0")}catch{}function P6(e,t){return uP({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:R5({window:t==null?void 0:t.window}),hydrationData:B6(),routes:e,mapRouteProperties:o6,hydrationRouteProperties:l6,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function B6(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:$6(e.errors)}),e}function $6(e){if(!e)return null;let t=Object.entries(e),r={};for(let[i,o]of t)if(o&&o.__type==="RouteErrorResponse")r[i]=new Nc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let s=window[o.__subType];if(typeof s=="function")try{let c=new s(o.message);c.stack="",r[i]=c}catch{}}if(r[i]==null){let s=new Error(o.message);s.stack="",r[i]=s}}else r[i]=o;return r}var b_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ca=y.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:o,reloadDocument:s,replace:c,state:f,target:d,to:h,preventScrollReset:v,viewTransition:g,unstable_defaultShouldRevalidate:b,...S},C){let{basename:E,unstable_useTransitions:R}=y.useContext(mr),T=typeof h=="string"&&b_.test(h),_=KT(h,E);h=_.to;let M=$P(h,{relative:o}),[A,D,N]=D6(i,S),O=V6(h,{replace:c,state:f,target:d,preventScrollReset:v,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:b,unstable_useTransitions:R});function z(I){t&&t(I),I.defaultPrevented||O(I)}let F=y.createElement("a",{...S,...N,href:_.absoluteURL||M,onClick:_.isExternal||s?t:z,ref:L6(C,D),target:d,"data-discover":!T&&r==="render"?"true":void 0});return A&&!T?y.createElement(y.Fragment,null,F,y.createElement(N6,{page:M})):F});Ca.displayName="Link";var H6=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:o=!1,style:s,to:c,viewTransition:f,children:d,...h},v){let g=Lc(c,{relative:h.relative}),b=Ma(),S=y.useContext(kc),{navigator:C,basename:E}=y.useContext(mr),R=S!=null&&Q6(g)&&f===!0,T=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,_=b.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(_=_.toLowerCase(),M=M?M.toLowerCase():null,T=T.toLowerCase()),M&&E&&(M=zr(M,E)||M);const A=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=_===T||!o&&_.startsWith(T)&&_.charAt(A)==="/",N=M!=null&&(M===T||!o&&M.startsWith(T)&&M.charAt(T.length)==="/"),O={isActive:D,isPending:N,isTransitioning:R},z=D?t:void 0,F;typeof i=="function"?F=i(O):F=[i,D?"active":null,N?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(O):s;return y.createElement(Ca,{...h,"aria-current":z,className:F,ref:v,style:I,to:c,viewTransition:f},typeof d=="function"?d(O):d)});H6.displayName="NavLink";var I6=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:o,state:s,method:c=Md,action:f,onSubmit:d,relative:h,preventScrollReset:v,viewTransition:g,unstable_defaultShouldRevalidate:b,...S},C)=>{let{unstable_useTransitions:E}=y.useContext(mr),R=G6(),T=X6(f,{relative:h}),_=c.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&b_.test(f),A=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let N=D.nativeEvent.submitter,O=(N==null?void 0:N.getAttribute("formmethod"))||c,z=()=>R(N||D.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:o,state:s,relative:h,preventScrollReset:v,viewTransition:g,unstable_defaultShouldRevalidate:b});E&&r!==!1?y.startTransition(()=>z()):z()};return y.createElement("form",{ref:C,method:_,action:T,onSubmit:i?d:A,...S,"data-discover":!M&&e==="render"?"true":void 0})});I6.displayName="Form";function F6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(e){let t=y.useContext(dl);return Ve(t,F6(e)),t}function V6(e,{target:t,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:d}={}){let h=db(),v=Ma(),g=Lc(e,{relative:s});return y.useCallback(b=>{if(y6(b,t)){b.preventDefault();let S=r!==void 0?r:Ta(v)===Ta(g),C=()=>h(e,{replace:S,state:i,preventScrollReset:o,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f});d?y.startTransition(()=>C()):C()}},[v,h,g,r,i,t,e,o,s,c,f,d])}function w_(e){Dt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(Pv(e)),r=y.useRef(!1),i=Ma(),o=y.useMemo(()=>b6(i.search,r.current?null:t.current),[i.search]),s=db(),c=y.useCallback((f,d)=>{const h=Pv(typeof f=="function"?f(new URLSearchParams(o)):f);r.current=!0,s("?"+h,d)},[s,o]);return[o,c]}var q6=0,Y6=()=>`__${String(++q6)}__`;function G6(){let{router:e}=S_("useSubmit"),{basename:t}=y.useContext(mr),r=e6(),i=e.fetch,o=e.navigate;return y.useCallback(async(s,c={})=>{let{action:f,method:d,encType:h,formData:v,body:g}=x6(s,t);if(c.navigate===!1){let b=c.fetcherKey||Y6();await i(b,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:g,formMethod:c.method||d,formEncType:c.encType||h,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:g,formMethod:c.method||d,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,o,t,r])}function X6(e,{relative:t}={}){let{basename:r}=y.useContext(mr),i=y.useContext(Pr);Ve(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s={...Lc(e||".",{relative:t})},c=Ma();if(e==null){s.search=c.search;let f=new URLSearchParams(s.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(g=>g).forEach(g=>f.append("index",g));let v=f.toString();s.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ea([r,s.pathname])),Ta(s)}function Q6(e,{relative:t}={}){let r=y.useContext(cb);Ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=S_("useViewTransitionState"),o=Lc(e,{relative:t});if(!r.isTransitioning)return!1;let s=zr(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=zr(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Yd(o.pathname,c)!=null||Yd(o.pathname,s)!=null}const W6="http://localhost:3001/api";class K6{constructor(){ha(this,"token",null)}setToken(t){this.token=t}async fetch(t,r={}){var h;const{params:i,...o}=r;let s=`${W6}${t}`;if(i){const v=new URLSearchParams(i);s+=`?${v.toString()}`}const c=new Headers(o.headers);c.set("Content-Type","application/json"),this.token&&c.set("Authorization",`Bearer ${this.token}`);const f=await fetch(s,{...o,headers:c}),d=await f.json();if(!f.ok)throw new x_(((h=d.error)==null?void 0:h.message)||"Request failed",f.status,d.error);return d.data}get(t,r){return this.fetch(t,{method:"GET",params:r})}post(t,r){return this.fetch(t,{method:"POST",body:JSON.stringify(r)})}patch(t,r){return this.fetch(t,{method:"PATCH",body:JSON.stringify(r)})}delete(t){return this.fetch(t,{method:"DELETE"})}}class x_ extends Error{constructor(t,r,i){super(t),this.status=r,this.data=i,this.name="ApiError"}}const kr=new K6;function Z6({children:e}){const{isLoaded:t,isSignedIn:r,getToken:i}=Zv(),[o,s]=y.useState(!1);return y.useEffect(()=>{t&&(r?i().then(c=>{kr.setToken(c),s(!0)}):(kr.setToken(null),s(!0)))},[t,r,i]),!t||!o?null:x.jsx(x.Fragment,{children:e})}const J6=new i5({defaultOptions:{queries:{staleTime:1e3*60,retry:(e,t)=>t instanceof x_&&t.status===401?!1:e<3},mutations:{onError:e=>{console.error("Mutation error:",e)}}}}),e8=[{label:"Dashboard",path:"/dashboard"},{label:"Projects",path:"/projects"},{label:"Settings",path:"/settings"}];function t8(){const[e,{toggle:t}]=GC(),r=Ma(),i=$n();return x.jsxs(Ar,{header:{height:60},navbar:{width:250,breakpoint:"sm",collapsed:{mobile:!e}},padding:"md",children:[x.jsx(Ar.Header,{children:x.jsxs(Rn,{h:"100%",px:"md",justify:"space-between",children:[x.jsxs(Rn,{children:[x.jsx(Py,{opened:e,onClick:t,hiddenFrom:"sm",size:"sm"}),x.jsx(Xe,{fw:700,size:"lg",c:i.primaryColor,children:"Nexa Task"})]}),x.jsxs(Rn,{children:[x.jsx(cA,{}),x.jsx(oA,{afterSignOutUrl:"/sign-in"})]})]})}),x.jsx(Ar.Navbar,{p:"md",children:e8.map(o=>x.jsx(Wy,{component:Ca,to:o.path,label:o.label,active:r.pathname.startsWith(o.path),mb:"xs"},o.path))}),x.jsx(Ar.Main,{children:x.jsx(d6,{})})]})}const n8={created:"",updated:"",deleted:"",completed:"",commented:"",assigned:""};function r8(e){const t=new Date(e),i=Math.floor((new Date().getTime()-t.getTime())/1e3);return i<60?"just now":i<3600?`${Math.floor(i/60)}m ago`:i<86400?`${Math.floor(i/3600)}h ago`:`${Math.floor(i/86400)}d ago`}function a8(){const{data:e,isLoading:t}=qs({queryKey:["activity-feed"],queryFn:()=>kr.get("/activity")});return t?x.jsxs(Kn,{p:"md",radius:"md",withBorder:!0,children:[x.jsx(Xe,{fw:600,mb:"md",children:"Recent Activity"}),x.jsx(Zn,{gap:"sm",children:[1,2,3,4,5].map(r=>x.jsx(Dr,{height:50,radius:"sm"},r))})]}):x.jsxs(Kn,{p:"md",radius:"md",withBorder:!0,children:[x.jsx(Xe,{fw:600,mb:"md",children:"Recent Activity"}),x.jsxs(Zn,{gap:"sm",children:[(e==null?void 0:e.length)===0&&x.jsx(Xe,{c:"dimmed",size:"sm",children:"No recent activity"}),e==null?void 0:e.slice(0,10).map(r=>x.jsxs(Rn,{gap:"sm",wrap:"nowrap",children:[x.jsx(sl,{src:r.user.avatarUrl,size:"sm",radius:"xl",children:r.user.name[0]}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs(Xe,{size:"sm",children:[x.jsx(Xe,{span:!0,fw:500,children:r.user.name})," ",r.action," ",x.jsx(Xe,{span:!0,fw:500,children:r.targetTitle})]}),x.jsx(Xe,{size:"xs",c:"dimmed",children:r8(r.createdAt)})]}),x.jsx(ni,{size:"sm",variant:"light",color:"gray",children:n8[r.action]??""})]},r.id))]})]})}function vb(e,t){return qs({queryKey:["tasks",e,t],queryFn:()=>kr.get(`/projects/${e}/tasks`,t),enabled:!!e})}function i8(e){const t=Vs();return Ph({mutationFn:r=>kr.post(`/projects/${e}/tasks`,r),onSuccess:()=>{t.invalidateQueries({queryKey:["tasks",e]})}})}function o8(){const e=Vs();return Ph({mutationFn:({id:t,statusId:r,order:i})=>kr.post(`/tasks/${t}/move`,{statusId:r,order:i}),onMutate:async()=>(await e.cancelQueries({queryKey:["tasks"]}),{previous:e.getQueryData(["tasks"])}),onError:(t,r,i)=>{i!=null&&i.previous&&e.setQueryData(["tasks"],i.previous)},onSettled:()=>{e.invalidateQueries({queryKey:["tasks"]})}})}function l8(){return qs({queryKey:["recent-tasks"],queryFn:()=>kr.get("/tasks/recent")})}const s8={low:"gray",medium:"blue",high:"orange",urgent:"red"};function u8(){const{data:e,isLoading:t}=l8();return t?x.jsxs(Kn,{p:"md",radius:"md",withBorder:!0,children:[x.jsx(Xe,{fw:600,mb:"md",children:"Recent Tasks"}),x.jsx(Zn,{gap:"sm",children:[1,2,3,4,5].map(r=>x.jsx(Dr,{height:60,radius:"sm"},r))})]}):x.jsxs(Kn,{p:"md",radius:"md",withBorder:!0,children:[x.jsx(Xe,{fw:600,mb:"md",children:"Recent Tasks"}),x.jsxs(Zn,{gap:"sm",children:[(e==null?void 0:e.length)===0&&x.jsx(Xe,{c:"dimmed",size:"sm",children:"No recent tasks"}),e==null?void 0:e.slice(0,5).map(r=>x.jsx(Kn,{p:"sm",radius:"sm",withBorder:!0,component:Ca,to:`/tasks/${r.id}`,className:"hover:bg-gray-50 transition-colors",children:x.jsxs(Rn,{justify:"space-between",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx(Xe,{size:"sm",fw:500,truncate:!0,children:r.title}),x.jsx(oi,{size:"xs",color:s8[r.priority]??"gray",mt:4,children:r.priority})]}),r.assignee&&x.jsx(sl,{src:r.assignee.avatarUrl,size:"sm",radius:"xl",children:r.assignee.name[0]})]})},r.id))]})]})}function c8({stats:e}){return x.jsx(uc,{cols:{base:1,sm:2,md:4},spacing:"lg",children:e.map(t=>x.jsx(Kn,{p:"md",radius:"md",withBorder:!0,children:x.jsxs(Rn,{justify:"space-between",children:[x.jsxs("div",{children:[x.jsx(Xe,{size:"xs",c:"dimmed",tt:"uppercase",fw:700,children:t.label}),x.jsx(Xe,{size:"xl",fw:700,children:t.value})]}),x.jsx(ni,{size:"xl",radius:"md",color:t.color,variant:"light",children:t.icon})]})},t.label))})}function f8(){return qs({queryKey:["dashboard-stats"],queryFn:()=>kr.get("/dashboard/stats")})}/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var d8={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=(e,t,r,i)=>{const o=y.forwardRef(({color:s="currentColor",size:c=24,stroke:f=2,title:d,className:h,children:v,...g},b)=>y.createElement("svg",{ref:b,...d8[e],width:c,height:c,className:["tabler-icon",`tabler-icon-${t}`,h].join(" "),strokeWidth:f,stroke:s,...g},[d&&y.createElement("title",{key:"svg-title"},d),...i.map(([S,C])=>y.createElement(S,C)),...Array.isArray(v)?v:[v]]));return o.displayName=`${r}`,o};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M9 11l3 3l8 -8",key:"svg-0"}],["path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9",key:"svg-1"}]],m8=hl("outline","checkbox","Checkbox",h8);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M9.615 20h-2.615a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8",key:"svg-0"}],["path",{d:"M14 19l2 2l4 -4",key:"svg-1"}],["path",{d:"M9 8h4",key:"svg-2"}],["path",{d:"M9 12h2",key:"svg-3"}]],g8=hl("outline","checklist","Checklist",p8);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M11 19a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M11 5a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],y8=hl("outline","dots-vertical","DotsVertical",v8);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]],S8=hl("outline","folder-plus","FolderPlus",b8);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]],x8=hl("outline","folder","Folder",w8);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],EE=hl("outline","plus","Plus",E8);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M5 7a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]],R8=hl("outline","users","Users",C8);function T8(){const{data:e,isLoading:t}=f8();return t?x.jsx(so,{size:"lg",children:x.jsxs(Zn,{gap:"lg",children:[x.jsxs("div",{children:[x.jsx(nl,{order:2,children:"Dashboard"}),x.jsx(Xe,{c:"dimmed",size:"sm",children:"Welcome to Nexa Task"})]}),x.jsx(Dr,{height:100}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsx(Dr,{height:300}),x.jsx(Dr,{height:300})]})]})}):x.jsx(so,{size:"lg",children:x.jsxs(Zn,{gap:"lg",children:[x.jsxs("div",{children:[x.jsx(nl,{order:2,children:"Dashboard"}),x.jsx(Xe,{c:"dimmed",size:"sm",children:"Welcome to Nexa Task"})]}),x.jsx(c8,{stats:[{label:"Open Tasks",value:(e==null?void 0:e.openTasks)??0,icon:x.jsx(ni,{size:"lg",variant:"light",color:"blue",children:x.jsx(g8,{size:20})}),color:"blue"},{label:"Completed",value:(e==null?void 0:e.completedTasks)??0,icon:x.jsx(ni,{size:"lg",variant:"light",color:"green",children:x.jsx(m8,{size:20})}),color:"green"},{label:"Projects",value:(e==null?void 0:e.projects)??0,icon:x.jsx(ni,{size:"lg",variant:"light",color:"violet",children:x.jsx(x8,{size:20})}),color:"violet"},{label:"Team Members",value:(e==null?void 0:e.members)??0,icon:x.jsx(ni,{size:"lg",variant:"light",color:"orange",children:x.jsx(R8,{size:20})}),color:"orange"}]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsx(u8,{}),x.jsx(a8,{})]})]})})}const Ig={low:"gray",medium:"blue",high:"orange",urgent:"red"};function _8(){const e=new Date,t=e.getFullYear(),r=e.getMonth(),i=new Date(t,r,1),o=new Date(t,r+1,0),s=[],c=new Date(i);c.setDate(c.getDate()-c.getDay());const f=new Date(o);f.setDate(f.getDate()+(6-f.getDay()));for(let d=new Date(c);d<=f;d.setDate(d.getDate()+1))s.push(new Date(d));return s}function O8(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function M8({projectId:e}){const{data:t,isLoading:r}=vb(e),i=_8(),o=new Date,s=o.getMonth();if(r)return x.jsx(Dr,{height:500,radius:"md"});const c=(t??[]).reduce((d,h)=>{if(h.dueDate){const v=new Date(h.dueDate).toDateString();d[v]=d[v]??[],d[v].push(h)}return d},{}),f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return x.jsxs(Kn,{p:"md",radius:"md",withBorder:!0,children:[x.jsx(Xe,{fw:600,mb:"md",ta:"center",children:o.toLocaleString("default",{month:"long",year:"numeric"})}),x.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:f.map(d=>x.jsx(Xe,{size:"xs",fw:600,ta:"center",c:"dimmed",children:d},d))}),x.jsx("div",{className:"grid grid-cols-7 gap-1",children:i.map(d=>{const h=d.getMonth()===s,v=O8(d,o),g=c[d.toDateString()]??[];return x.jsxs("div",{className:`min-h-[80px] p-1 rounded border ${h?"bg-white":"bg-gray-50"} ${v?"border-blue-500 border-2":"border-gray-200"}`,children:[x.jsx(Xe,{size:"xs",fw:v?700:400,c:h?"dark":"dimmed",mb:4,children:d.getDate()}),x.jsxs("div",{className:"space-y-1",children:[g.slice(0,2).map(b=>x.jsxs(Rn,{gap:4,wrap:"nowrap",children:[x.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:Ig[b.priority]==="gray"?"#868e96":Ig[b.priority]==="blue"?"#228be6":Ig[b.priority]==="orange"?"#fd7e14":"#fa5252"}}),x.jsx(Xe,{size:"xs",truncate:!0,className:"flex-1",children:b.title})]},b.id)),g.length>2&&x.jsxs(oi,{size:"xs",variant:"light",children:["+",g.length-2," more"]})]})]},d.toISOString())})})]})}function j8(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.useMemo(()=>i=>{t.forEach(o=>o(i))},t)}const Vh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function yb(e){return"nodeType"in e}function Jn(e){var t,r;return e?Gs(e)?e:yb(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function bb(e){const{Document:t}=Jn(e);return e instanceof t}function Uc(e){return Gs(e)?!1:e instanceof Jn(e).HTMLElement}function E_(e){return e instanceof Jn(e).SVGElement}function Xs(e){return e?Gs(e)?e.document:yb(e)?bb(e)?e:Uc(e)||E_(e)?e.ownerDocument:document:document:document}const _a=Vh?y.useLayoutEffect:y.useEffect;function Sb(e){const t=y.useRef(e);return _a(()=>{t.current=e}),y.useCallback(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.current==null?void 0:t.current(...i)},[])}function A8(){const e=y.useRef(null),t=y.useCallback((i,o)=>{e.current=setInterval(i,o)},[]),r=y.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function mc(e,t){t===void 0&&(t=[e]);const r=y.useRef(e);return _a(()=>{r.current!==e&&(r.current=e)},t),r}function Pc(e,t){const r=y.useRef();return y.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...t])}function Gd(e){const t=Sb(e),r=y.useRef(null),i=y.useCallback(o=>{o!==r.current&&(t==null||t(o,r.current)),r.current=o},[]);return[r,i]}function Bv(e){const t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}let Fg={};function Bc(e,t){return y.useMemo(()=>{if(t)return t;const r=Fg[e]==null?0:Fg[e]+1;return Fg[e]=r,e+"-"+r},[e,t])}function C_(e){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,c)=>{const f=Object.entries(c);for(const[d,h]of f){const v=s[d];v!=null&&(s[d]=v+e*h)}return s},{...t})}}const ds=C_(1),Xd=C_(-1);function D8(e){return"clientX"in e&&"clientY"in e}function wb(e){if(!e)return!1;const{KeyboardEvent:t}=Jn(e.target);return t&&e instanceof t}function N8(e){if(!e)return!1;const{TouchEvent:t}=Jn(e.target);return t&&e instanceof t}function $v(e){if(N8(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return D8(e)?{x:e.clientX,y:e.clientY}:null}const pc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[pc.Translate.toString(e),pc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:i}=e;return t+" "+r+"ms "+i}}}),CE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function z8(e){return e.matches(CE)?e:e.querySelector(CE)}const k8={display:"none"};function L8(e){let{id:t,value:r}=e;return q.createElement("div",{id:t,style:k8},r)}function U8(e){let{id:t,announcement:r,ariaLiveType:i="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return q.createElement("div",{id:t,style:o,role:"status","aria-live":i,"aria-atomic":!0},r)}function P8(){const[e,t]=y.useState("");return{announce:y.useCallback(i=>{i!=null&&t(i)},[]),announcement:e}}const R_=y.createContext(null);function B8(e){const t=y.useContext(R_);y.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function $8(){const[e]=y.useState(()=>new Set),t=y.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[y.useCallback(i=>{let{type:o,event:s}=i;e.forEach(c=>{var f;return(f=c[o])==null?void 0:f.call(c,s)})},[e]),t]}const H8={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},I8={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function F8(e){let{announcements:t=I8,container:r,hiddenTextDescribedById:i,screenReaderInstructions:o=H8}=e;const{announce:s,announcement:c}=P8(),f=Bc("DndLiveRegion"),[d,h]=y.useState(!1);if(y.useEffect(()=>{h(!0)},[]),B8(y.useMemo(()=>({onDragStart(g){let{active:b}=g;s(t.onDragStart({active:b}))},onDragMove(g){let{active:b,over:S}=g;t.onDragMove&&s(t.onDragMove({active:b,over:S}))},onDragOver(g){let{active:b,over:S}=g;s(t.onDragOver({active:b,over:S}))},onDragEnd(g){let{active:b,over:S}=g;s(t.onDragEnd({active:b,over:S}))},onDragCancel(g){let{active:b,over:S}=g;s(t.onDragCancel({active:b,over:S}))}}),[s,t])),!d)return null;const v=q.createElement(q.Fragment,null,q.createElement(L8,{id:i,value:o.draggable}),q.createElement(U8,{id:f,announcement:c}));return r?Sa.createPortal(v,r):v}var nn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(nn||(nn={}));function Qd(){}function V8(e,t){return y.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function q8(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const aa=Object.freeze({x:0,y:0});function Y8(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function G8(e,t){let{data:{value:r}}=e,{data:{value:i}}=t;return r-i}function X8(e,t){let{data:{value:r}}=e,{data:{value:i}}=t;return i-r}function Q8(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function RE(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const W8=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:i}=e;const o=RE(t,t.left,t.top),s=[];for(const c of i){const{id:f}=c,d=r.get(f);if(d){const h=Y8(RE(d),o);s.push({id:f,data:{droppableContainer:c,value:h}})}}return s.sort(G8)};function K8(e,t){const r=Math.max(t.top,e.top),i=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),c=o-i,f=s-r;if(i<o&&r<s){const d=t.width*t.height,h=e.width*e.height,v=c*f,g=v/(d+h-v);return Number(g.toFixed(4))}return 0}const Z8=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:i}=e;const o=[];for(const s of i){const{id:c}=s,f=r.get(c);if(f){const d=K8(f,t);d>0&&o.push({id:c,data:{droppableContainer:s,value:d}})}}return o.sort(X8)};function J8(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function T_(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:aa}function e9(e){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return o.reduce((c,f)=>({...c,top:c.top+e*f.y,bottom:c.bottom+e*f.y,left:c.left+e*f.x,right:c.right+e*f.x}),{...r})}}const t9=e9(1);function n9(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function r9(e,t,r){const i=n9(t);if(!i)return e;const{scaleX:o,scaleY:s,x:c,y:f}=i,d=e.left-c-(1-o)*parseFloat(r),h=e.top-f-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),v=o?e.width/o:e.width,g=s?e.height/s:e.height;return{width:v,height:g,top:h,right:d+v,bottom:h+g,left:d}}const a9={ignoreTransform:!1};function Qs(e,t){t===void 0&&(t=a9);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:v}=Jn(e).getComputedStyle(e);h&&(r=r9(r,h,v))}const{top:i,left:o,width:s,height:c,bottom:f,right:d}=r;return{top:i,left:o,width:s,height:c,bottom:f,right:d}}function TE(e){return Qs(e,{ignoreTransform:!0})}function i9(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function o9(e,t){return t===void 0&&(t=Jn(e).getComputedStyle(e)),t.position==="fixed"}function l9(e,t){t===void 0&&(t=Jn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?r.test(s):!1})}function xb(e,t){const r=[];function i(o){if(t!=null&&r.length>=t||!o)return r;if(bb(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!Uc(o)||E_(o)||r.includes(o))return r;const s=Jn(e).getComputedStyle(o);return o!==e&&l9(o,s)&&r.push(o),o9(o,s)?r:i(o.parentNode)}return e?i(e):r}function __(e){const[t]=xb(e,1);return t??null}function Vg(e){return!Vh||!e?null:Gs(e)?e:yb(e)?bb(e)||e===Xs(e).scrollingElement?window:Uc(e)?e:null:null}function O_(e){return Gs(e)?e.scrollX:e.scrollLeft}function M_(e){return Gs(e)?e.scrollY:e.scrollTop}function Hv(e){return{x:O_(e),y:M_(e)}}var sn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(sn||(sn={}));function j_(e){return!Vh||!e?!1:e===document.scrollingElement}function A_(e){const t={x:0,y:0},r=j_(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,c=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:o,isLeft:s,isBottom:c,isRight:f,maxScroll:i,minScroll:t}}const s9={x:.2,y:.2};function u9(e,t,r,i,o){let{top:s,left:c,right:f,bottom:d}=r;i===void 0&&(i=10),o===void 0&&(o=s9);const{isTop:h,isBottom:v,isLeft:g,isRight:b}=A_(e),S={x:0,y:0},C={x:0,y:0},E={height:t.height*o.y,width:t.width*o.x};return!h&&s<=t.top+E.height?(S.y=sn.Backward,C.y=i*Math.abs((t.top+E.height-s)/E.height)):!v&&d>=t.bottom-E.height&&(S.y=sn.Forward,C.y=i*Math.abs((t.bottom-E.height-d)/E.height)),!b&&f>=t.right-E.width?(S.x=sn.Forward,C.x=i*Math.abs((t.right-E.width-f)/E.width)):!g&&c<=t.left+E.width&&(S.x=sn.Backward,C.x=i*Math.abs((t.left+E.width-c)/E.width)),{direction:S,speed:C}}function c9(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:c}=window;return{top:0,left:0,right:s,bottom:c,width:s,height:c}}const{top:t,left:r,right:i,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:i,bottom:o,width:e.clientWidth,height:e.clientHeight}}function D_(e){return e.reduce((t,r)=>ds(t,Hv(r)),aa)}function f9(e){return e.reduce((t,r)=>t+O_(r),0)}function d9(e){return e.reduce((t,r)=>t+M_(r),0)}function h9(e,t){if(t===void 0&&(t=Qs),!e)return;const{top:r,left:i,bottom:o,right:s}=t(e);__(e)&&(o<=0||s<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const m9=[["x",["left","right"],f9],["y",["top","bottom"],d9]];class Eb{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=xb(r),o=D_(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,c,f]of m9)for(const d of c)Object.defineProperty(this,d,{get:()=>{const h=f(i),v=o[s]-h;return this.rect[d]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class rc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=t}add(t,r,i){var o;(o=this.target)==null||o.addEventListener(t,r,i),this.listeners.push([t,r,i])}}function p9(e){const{EventTarget:t}=Jn(e);return e instanceof t?e:Xs(e)}function qg(e,t){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+i**2)>t:"x"in t&&"y"in t?r>t.x&&i>t.y:"x"in t?r>t.x:"y"in t?i>t.y:!1}var jr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(jr||(jr={}));function _E(e){e.preventDefault()}function g9(e){e.stopPropagation()}var lt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(lt||(lt={}));const N_={start:[lt.Space,lt.Enter],cancel:[lt.Esc],end:[lt.Space,lt.Enter,lt.Tab]},v9=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case lt.Right:return{...r,x:r.x+25};case lt.Left:return{...r,x:r.x-25};case lt.Down:return{...r,y:r.y+25};case lt.Up:return{...r,y:r.y-25}}};class z_{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new rc(Xs(r)),this.windowListeners=new rc(Jn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jr.Resize,this.handleCancel),this.windowListeners.add(jr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,i=t.node.current;i&&h9(i),r(aa)}handleKeyDown(t){if(wb(t)){const{active:r,context:i,options:o}=this.props,{keyboardCodes:s=N_,coordinateGetter:c=v9,scrollBehavior:f="smooth"}=o,{code:d}=t;if(s.end.includes(d)){this.handleEnd(t);return}if(s.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:h}=i.current,v=h?{x:h.left,y:h.top}:aa;this.referenceCoordinates||(this.referenceCoordinates=v);const g=c(t,{active:r,context:i.current,currentCoordinates:v});if(g){const b=Xd(g,v),S={x:0,y:0},{scrollableAncestors:C}=i.current;for(const E of C){const R=t.code,{isTop:T,isRight:_,isLeft:M,isBottom:A,maxScroll:D,minScroll:N}=A_(E),O=c9(E),z={x:Math.min(R===lt.Right?O.right-O.width/2:O.right,Math.max(R===lt.Right?O.left:O.left+O.width/2,g.x)),y:Math.min(R===lt.Down?O.bottom-O.height/2:O.bottom,Math.max(R===lt.Down?O.top:O.top+O.height/2,g.y))},F=R===lt.Right&&!_||R===lt.Left&&!M,I=R===lt.Down&&!A||R===lt.Up&&!T;if(F&&z.x!==g.x){const G=E.scrollLeft+b.x,J=R===lt.Right&&G<=D.x||R===lt.Left&&G>=N.x;if(J&&!b.y){E.scrollTo({left:G,behavior:f});return}J?S.x=E.scrollLeft-G:S.x=R===lt.Right?E.scrollLeft-D.x:E.scrollLeft-N.x,S.x&&E.scrollBy({left:-S.x,behavior:f});break}else if(I&&z.y!==g.y){const G=E.scrollTop+b.y,J=R===lt.Down&&G<=D.y||R===lt.Up&&G>=N.y;if(J&&!b.x){E.scrollTo({top:G,behavior:f});return}J?S.y=E.scrollTop-G:S.y=R===lt.Down?E.scrollTop-D.y:E.scrollTop-N.y,S.y&&E.scrollBy({top:-S.y,behavior:f});break}}this.handleMove(t,ds(Xd(g,this.referenceCoordinates),S))}}}handleMove(t,r){const{onMove:i}=this.props;t.preventDefault(),i(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}z_.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:i=N_,onActivation:o}=t,{active:s}=r;const{code:c}=e.nativeEvent;if(i.start.includes(c)){const f=s.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function OE(e){return!!(e&&"distance"in e)}function ME(e){return!!(e&&"delay"in e)}class Cb{constructor(t,r,i){var o;i===void 0&&(i=p9(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:s}=t,{target:c}=s;this.props=t,this.events=r,this.document=Xs(c),this.documentListeners=new rc(this.document),this.listeners=new rc(i),this.windowListeners=new rc(Jn(c)),this.initialCoordinates=(o=$v(s))!=null?o:aa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(jr.Resize,this.handleCancel),this.windowListeners.add(jr.DragStart,_E),this.windowListeners.add(jr.VisibilityChange,this.handleCancel),this.windowListeners.add(jr.ContextMenu,_E),this.documentListeners.add(jr.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ME(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(OE(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:i,onPending:o}=this.props;o(i,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(jr.Click,g9,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:i,initialCoordinates:o,props:s}=this,{onMove:c,options:{activationConstraint:f}}=s;if(!o)return;const d=(r=$v(t))!=null?r:aa,h=Xd(o,d);if(!i&&f){if(OE(f)){if(f.tolerance!=null&&qg(h,f.tolerance))return this.handleCancel();if(qg(h,f.distance))return this.handleStart()}if(ME(f)&&qg(h,f.tolerance))return this.handleCancel();this.handlePending(f,h);return}t.cancelable&&t.preventDefault(),c(d)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===lt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const y9={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Rb extends Cb{constructor(t){const{event:r}=t,i=Xs(r.target);super(t,y9,i)}}Rb.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:i}=t;return!r.isPrimary||r.button!==0?!1:(i==null||i({event:r}),!0)}}];const b9={move:{name:"mousemove"},end:{name:"mouseup"}};var Iv;(function(e){e[e.RightClick=2]="RightClick"})(Iv||(Iv={}));class S9 extends Cb{constructor(t){super(t,b9,Xs(t.event.target))}}S9.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:i}=t;return r.button===Iv.RightClick?!1:(i==null||i({event:r}),!0)}}];const Yg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class w9 extends Cb{constructor(t){super(t,Yg)}static setup(){return window.addEventListener(Yg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Yg.move.name,t)};function t(){}}}w9.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:i}=t;const{touches:o}=r;return o.length>1?!1:(i==null||i({event:r}),!0)}}];var ac;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ac||(ac={}));var Wd;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Wd||(Wd={}));function x9(e){let{acceleration:t,activator:r=ac.Pointer,canScroll:i,draggingRect:o,enabled:s,interval:c=5,order:f=Wd.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:v,delta:g,threshold:b}=e;const S=C9({delta:g,disabled:!s}),[C,E]=A8(),R=y.useRef({x:0,y:0}),T=y.useRef({x:0,y:0}),_=y.useMemo(()=>{switch(r){case ac.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case ac.DraggableRect:return o}},[r,o,d]),M=y.useRef(null),A=y.useCallback(()=>{const N=M.current;if(!N)return;const O=R.current.x*T.current.x,z=R.current.y*T.current.y;N.scrollBy(O,z)},[]),D=y.useMemo(()=>f===Wd.TreeOrder?[...h].reverse():h,[f,h]);y.useEffect(()=>{if(!s||!h.length||!_){E();return}for(const N of D){if((i==null?void 0:i(N))===!1)continue;const O=h.indexOf(N),z=v[O];if(!z)continue;const{direction:F,speed:I}=u9(N,z,_,t,b);for(const G of["x","y"])S[G][F[G]]||(I[G]=0,F[G]=0);if(I.x>0||I.y>0){E(),M.current=N,C(A,c),R.current=I,T.current=F;return}}R.current={x:0,y:0},T.current={x:0,y:0},E()},[t,A,i,E,s,c,JSON.stringify(_),JSON.stringify(S),C,h,D,v,JSON.stringify(b)])}const E9={x:{[sn.Backward]:!1,[sn.Forward]:!1},y:{[sn.Backward]:!1,[sn.Forward]:!1}};function C9(e){let{delta:t,disabled:r}=e;const i=Bv(t);return Pc(o=>{if(r||!i||!o)return E9;const s={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[sn.Backward]:o.x[sn.Backward]||s.x===-1,[sn.Forward]:o.x[sn.Forward]||s.x===1},y:{[sn.Backward]:o.y[sn.Backward]||s.y===-1,[sn.Forward]:o.y[sn.Forward]||s.y===1}}},[r,t,i])}function R9(e,t){const r=t!=null?e.get(t):void 0,i=r?r.node.current:null;return Pc(o=>{var s;return t==null?null:(s=i??o)!=null?s:null},[i,t])}function T9(e,t){return y.useMemo(()=>e.reduce((r,i)=>{const{sensor:o}=i,s=o.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,i)}));return[...r,...s]},[]),[e,t])}var gc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(gc||(gc={}));var Fv;(function(e){e.Optimized="optimized"})(Fv||(Fv={}));const jE=new Map;function _9(e,t){let{dragging:r,dependencies:i,config:o}=t;const[s,c]=y.useState(null),{frequency:f,measure:d,strategy:h}=o,v=y.useRef(e),g=R(),b=mc(g),S=y.useCallback(function(T){T===void 0&&(T=[]),!b.current&&c(_=>_===null?T:_.concat(T.filter(M=>!_.includes(M))))},[b]),C=y.useRef(null),E=Pc(T=>{if(g&&!r)return jE;if(!T||T===jE||v.current!==e||s!=null){const _=new Map;for(let M of e){if(!M)continue;if(s&&s.length>0&&!s.includes(M.id)&&M.rect.current){_.set(M.id,M.rect.current);continue}const A=M.node.current,D=A?new Eb(d(A),A):null;M.rect.current=D,D&&_.set(M.id,D)}return _}return T},[e,s,r,g,d]);return y.useEffect(()=>{v.current=e},[e]),y.useEffect(()=>{g||S()},[r,g]),y.useEffect(()=>{s&&s.length>0&&c(null)},[JSON.stringify(s)]),y.useEffect(()=>{g||typeof f!="number"||C.current!==null||(C.current=setTimeout(()=>{S(),C.current=null},f))},[f,g,S,...i]),{droppableRects:E,measureDroppableContainers:S,measuringScheduled:s!=null};function R(){switch(h){case gc.Always:return!1;case gc.BeforeDragging:return r;default:return!r}}}function k_(e,t){return Pc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function O9(e,t){return k_(e,t)}function M9(e){let{callback:t,disabled:r}=e;const i=Sb(t),o=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,r]);return y.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function qh(e){let{callback:t,disabled:r}=e;const i=Sb(t),o=y.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[r]);return y.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function j9(e){return new Eb(Qs(e),e)}function AE(e,t,r){t===void 0&&(t=j9);const[i,o]=y.useState(null);function s(){o(d=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=d??r)!=null?h:null}const v=t(e);return JSON.stringify(d)===JSON.stringify(v)?d:v})}const c=M9({callback(d){if(e)for(const h of d){const{type:v,target:g}=h;if(v==="childList"&&g instanceof HTMLElement&&g.contains(e)){s();break}}}}),f=qh({callback:s});return _a(()=>{s(),e?(f==null||f.observe(e),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),c==null||c.disconnect())},[e]),i}function A9(e){const t=k_(e);return T_(e,t)}const DE=[];function D9(e){const t=y.useRef(e),r=Pc(i=>e?i&&i!==DE&&e&&t.current&&e.parentNode===t.current.parentNode?i:xb(e):DE,[e]);return y.useEffect(()=>{t.current=e},[e]),r}function N9(e){const[t,r]=y.useState(null),i=y.useRef(e),o=y.useCallback(s=>{const c=Vg(s.target);c&&r(f=>f?(f.set(c,Hv(c)),new Map(f)):null)},[]);return y.useEffect(()=>{const s=i.current;if(e!==s){c(s);const f=e.map(d=>{const h=Vg(d);return h?(h.addEventListener("scroll",o,{passive:!0}),[h,Hv(h)]):null}).filter(d=>d!=null);r(f.length?new Map(f):null),i.current=e}return()=>{c(e),c(s)};function c(f){f.forEach(d=>{const h=Vg(d);h==null||h.removeEventListener("scroll",o)})}},[o,e]),y.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,c)=>ds(s,c),aa):D_(e):aa,[e,t])}function NE(e,t){t===void 0&&(t=[]);const r=y.useRef(null);return y.useEffect(()=>{r.current=null},t),y.useEffect(()=>{const i=e!==aa;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?Xd(e,r.current):aa}function z9(e){y.useEffect(()=>{if(!Vh)return;const t=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function k9(e,t){return y.useMemo(()=>e.reduce((r,i)=>{let{eventName:o,handler:s}=i;return r[o]=c=>{s(c,t)},r},{}),[e,t])}function L_(e){return y.useMemo(()=>e?i9(e):null,[e])}const zE=[];function L9(e,t){t===void 0&&(t=Qs);const[r]=e,i=L_(r?Jn(r):null),[o,s]=y.useState(zE);function c(){s(()=>e.length?e.map(d=>j_(d)?i:new Eb(t(d),d)):zE)}const f=qh({callback:c});return _a(()=>{f==null||f.disconnect(),c(),e.forEach(d=>f==null?void 0:f.observe(d))},[e]),o}function U9(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Uc(t)?t:e}function P9(e){let{measure:t}=e;const[r,i]=y.useState(null),o=y.useCallback(h=>{for(const{target:v}of h)if(Uc(v)){i(g=>{const b=t(v);return g?{...g,width:b.width,height:b.height}:b});break}},[t]),s=qh({callback:o}),c=y.useCallback(h=>{const v=U9(h);s==null||s.disconnect(),v&&(s==null||s.observe(v)),i(v?t(v):null)},[t,s]),[f,d]=Gd(c);return y.useMemo(()=>({nodeRef:f,rect:r,setRef:d}),[r,f,d])}const B9=[{sensor:Rb,options:{}},{sensor:z_,options:{}}],$9={current:{}},Ad={draggable:{measure:TE},droppable:{measure:TE,strategy:gc.WhileDragging,frequency:Fv.Optimized},dragOverlay:{measure:Qs}};class ic extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,i;return(r=(i=this.get(t))==null?void 0:i.node.current)!=null?r:void 0}}const H9={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ic,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ad,measureDroppableContainers:Qd,windowRect:null,measuringScheduled:!1},I9={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qd,draggableNodes:new Map,over:null,measureDroppableContainers:Qd},Yh=y.createContext(I9),U_=y.createContext(H9);function F9(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ic}}}function V9(e,t){switch(t.type){case nn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case nn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case nn.DragEnd:case nn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case nn.RegisterDroppable:{const{element:r}=t,{id:i}=r,o=new ic(e.droppable.containers);return o.set(i,r),{...e,droppable:{...e.droppable,containers:o}}}case nn.SetDroppableDisabled:{const{id:r,key:i,disabled:o}=t,s=e.droppable.containers.get(r);if(!s||i!==s.key)return e;const c=new ic(e.droppable.containers);return c.set(r,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case nn.UnregisterDroppable:{const{id:r,key:i}=t,o=e.droppable.containers.get(r);if(!o||i!==o.key)return e;const s=new ic(e.droppable.containers);return s.delete(r),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function q9(e){let{disabled:t}=e;const{active:r,activatorEvent:i,draggableNodes:o}=y.useContext(Yh),s=Bv(i),c=Bv(r==null?void 0:r.id);return y.useEffect(()=>{if(!t&&!i&&s&&c!=null){if(!wb(s)||document.activeElement===s.target)return;const f=o.get(c);if(!f)return;const{activatorNode:d,node:h}=f;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const v of[d.current,h.current]){if(!v)continue;const g=z8(v);if(g){g.focus();break}}})}},[i,t,o,c,s]),null}function Y9(e,t){let{transform:r,...i}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...i}),r):r}function G9(e){return y.useMemo(()=>({draggable:{...Ad.draggable,...e==null?void 0:e.draggable},droppable:{...Ad.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ad.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function X9(e){let{activeNode:t,measure:r,initialRect:i,config:o=!0}=e;const s=y.useRef(!1),{x:c,y:f}=typeof o=="boolean"?{x:o,y:o}:o;_a(()=>{if(!c&&!f||!t){s.current=!1;return}if(s.current||!i)return;const h=t==null?void 0:t.node.current;if(!h||h.isConnected===!1)return;const v=r(h),g=T_(v,i);if(c||(g.x=0),f||(g.y=0),s.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const b=__(h);b&&b.scrollBy({top:g.y,left:g.x})}},[t,c,f,i,r])}const P_=y.createContext({...aa,scaleX:1,scaleY:1});var qi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(qi||(qi={}));const Q9=y.memo(function(t){var r,i,o,s;let{id:c,accessibility:f,autoScroll:d=!0,children:h,sensors:v=B9,collisionDetection:g=Z8,measuring:b,modifiers:S,...C}=t;const E=y.useReducer(V9,void 0,F9),[R,T]=E,[_,M]=$8(),[A,D]=y.useState(qi.Uninitialized),N=A===qi.Initialized,{draggable:{active:O,nodes:z,translate:F},droppable:{containers:I}}=R,G=O!=null?z.get(O):null,J=y.useRef({initial:null,translated:null}),ce=y.useMemo(()=>{var xt;return O!=null?{id:O,data:(xt=G==null?void 0:G.data)!=null?xt:$9,rect:J}:null},[O,G]),ie=y.useRef(null),[pe,B]=y.useState(null),[X,te]=y.useState(null),he=mc(C,Object.values(C)),me=Bc("DndDescribedBy",c),L=y.useMemo(()=>I.getEnabled(),[I]),W=G9(b),{droppableRects:ae,measureDroppableContainers:fe,measuringScheduled:ge}=_9(L,{dragging:N,dependencies:[F.x,F.y],config:W.droppable}),xe=R9(z,O),se=y.useMemo(()=>X?$v(X):null,[X]),Ce=Aa(),Re=O9(xe,W.draggable.measure);X9({activeNode:O!=null?z.get(O):null,config:Ce.layoutShiftCompensation,initialRect:Re,measure:W.draggable.measure});const Se=AE(xe,W.draggable.measure,Re),st=AE(xe?xe.parentElement:null),He=y.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),nt=I.getNodeFor((r=He.current.over)==null?void 0:r.id),ct=P9({measure:W.dragOverlay.measure}),bn=(i=ct.nodeRef.current)!=null?i:xe,Nt=N?(o=ct.rect)!=null?o:Se:null,oa=!!(ct.nodeRef.current&&ct.rect),Br=A9(oa?null:Se),On=L_(bn?Jn(bn):null),it=D9(N?nt??xe:null),pr=L9(it),la=Y9(S,{transform:{x:F.x-Br.x,y:F.y-Br.y,scaleX:1,scaleY:1},activatorEvent:X,active:ce,activeNodeRect:Se,containerNodeRect:st,draggingNodeRect:Nt,over:He.current.over,overlayNodeRect:ct.rect,scrollableAncestors:it,scrollableAncestorRects:pr,windowRect:On}),pi=se?ds(se,F):null,vt=N9(it),gr=NE(vt),sa=NE(vt,[Se]),Sn=ds(la,gr),_t=Nt?t9(Nt,la):null,Yt=ce&&_t?g({active:ce,collisionRect:_t,droppableRects:ae,droppableContainers:L,pointerCoordinates:pi}):null,$r=Q8(Yt,"id"),[yt,gi]=y.useState(null),ja=oa?la:ds(la,sa),wt=J8(ja,(s=yt==null?void 0:yt.rect)!=null?s:null,Se),Mn=y.useRef(null),Jt=y.useCallback((xt,jt)=>{let{sensor:Bt,options:wn}=jt;if(ie.current==null)return;const cn=z.get(ie.current);if(!cn)return;const $t=xt.nativeEvent,en=new Bt({active:ie.current,activeNode:cn,event:$t,options:wn,context:He,onAbort(Ht){if(!z.get(Ht))return;const{onDragAbort:k}=he.current,H={id:Ht};k==null||k(H),_({type:"onDragAbort",event:H})},onPending(Ht,er,k,H){if(!z.get(Ht))return;const{onDragPending:ue}=he.current,de={id:Ht,constraint:er,initialCoordinates:k,offset:H};ue==null||ue(de),_({type:"onDragPending",event:de})},onStart(Ht){const er=ie.current;if(er==null)return;const k=z.get(er);if(!k)return;const{onDragStart:H}=he.current,K={activatorEvent:$t,active:{id:er,data:k.data,rect:J}};Sa.unstable_batchedUpdates(()=>{H==null||H(K),D(qi.Initializing),T({type:nn.DragStart,initialCoordinates:Ht,active:er}),_({type:"onDragStart",event:K}),B(Mn.current),te($t)})},onMove(Ht){T({type:nn.DragMove,coordinates:Ht})},onEnd:jn(nn.DragEnd),onCancel:jn(nn.DragCancel)});Mn.current=en;function jn(Ht){return async function(){const{active:k,collisions:H,over:K,scrollAdjustedTranslate:ue}=He.current;let de=null;if(k&&ue){const{cancelDrop:_e}=he.current;de={activatorEvent:$t,active:k,collisions:H,delta:ue,over:K},Ht===nn.DragEnd&&typeof _e=="function"&&await Promise.resolve(_e(de))&&(Ht=nn.DragCancel)}ie.current=null,Sa.unstable_batchedUpdates(()=>{T({type:Ht}),D(qi.Uninitialized),gi(null),B(null),te(null),Mn.current=null;const _e=Ht===nn.DragEnd?"onDragEnd":"onDragCancel";if(de){const Te=he.current[_e];Te==null||Te(de),_({type:_e,event:de})}})}}},[z]),ml=y.useCallback((xt,jt)=>(Bt,wn)=>{const cn=Bt.nativeEvent,$t=z.get(wn);if(ie.current!==null||!$t||cn.dndKit||cn.defaultPrevented)return;const en={active:$t};xt(Bt,jt.options,en)===!0&&(cn.dndKit={capturedBy:jt.sensor},ie.current=wn,Jt(Bt,jt))},[z,Jt]),pl=T9(v,ml);z9(v),_a(()=>{Se&&A===qi.Initializing&&D(qi.Initialized)},[Se,A]),y.useEffect(()=>{const{onDragMove:xt}=he.current,{active:jt,activatorEvent:Bt,collisions:wn,over:cn}=He.current;if(!jt||!Bt)return;const $t={active:jt,activatorEvent:Bt,collisions:wn,delta:{x:Sn.x,y:Sn.y},over:cn};Sa.unstable_batchedUpdates(()=>{xt==null||xt($t),_({type:"onDragMove",event:$t})})},[Sn.x,Sn.y]),y.useEffect(()=>{const{active:xt,activatorEvent:jt,collisions:Bt,droppableContainers:wn,scrollAdjustedTranslate:cn}=He.current;if(!xt||ie.current==null||!jt||!cn)return;const{onDragOver:$t}=he.current,en=wn.get($r),jn=en&&en.rect.current?{id:en.id,rect:en.rect.current,data:en.data,disabled:en.disabled}:null,Ht={active:xt,activatorEvent:jt,collisions:Bt,delta:{x:cn.x,y:cn.y},over:jn};Sa.unstable_batchedUpdates(()=>{gi(jn),$t==null||$t(Ht),_({type:"onDragOver",event:Ht})})},[$r]),_a(()=>{He.current={activatorEvent:X,active:ce,activeNode:xe,collisionRect:_t,collisions:Yt,droppableRects:ae,draggableNodes:z,draggingNode:bn,draggingNodeRect:Nt,droppableContainers:I,over:yt,scrollableAncestors:it,scrollAdjustedTranslate:Sn},J.current={initial:Nt,translated:_t}},[ce,xe,Yt,_t,z,bn,Nt,ae,I,yt,it,Sn]),x9({...Ce,delta:F,draggingRect:_t,pointerCoordinates:pi,scrollableAncestors:it,scrollableAncestorRects:pr});const gl=y.useMemo(()=>({active:ce,activeNode:xe,activeNodeRect:Se,activatorEvent:X,collisions:Yt,containerNodeRect:st,dragOverlay:ct,draggableNodes:z,droppableContainers:I,droppableRects:ae,over:yt,measureDroppableContainers:fe,scrollableAncestors:it,scrollableAncestorRects:pr,measuringConfiguration:W,measuringScheduled:ge,windowRect:On}),[ce,xe,Se,X,Yt,st,ct,z,I,ae,yt,fe,it,pr,W,ge,On]),Hr=y.useMemo(()=>({activatorEvent:X,activators:pl,active:ce,activeNodeRect:Se,ariaDescribedById:{draggable:me},dispatch:T,draggableNodes:z,over:yt,measureDroppableContainers:fe}),[X,pl,ce,Se,T,me,z,yt,fe]);return q.createElement(R_.Provider,{value:M},q.createElement(Yh.Provider,{value:Hr},q.createElement(U_.Provider,{value:gl},q.createElement(P_.Provider,{value:wt},h)),q.createElement(q9,{disabled:(f==null?void 0:f.restoreFocus)===!1})),q.createElement(F8,{...f,hiddenTextDescribedById:me}));function Aa(){const xt=(pe==null?void 0:pe.autoScrollEnabled)===!1,jt=typeof d=="object"?d.enabled===!1:d===!1,Bt=N&&!xt&&!jt;return typeof d=="object"?{...d,enabled:Bt}:{enabled:Bt}}}),W9=y.createContext(null),kE="button",K9="Draggable";function Z9(e){let{id:t,data:r,disabled:i=!1,attributes:o}=e;const s=Bc(K9),{activators:c,activatorEvent:f,active:d,activeNodeRect:h,ariaDescribedById:v,draggableNodes:g,over:b}=y.useContext(Yh),{role:S=kE,roleDescription:C="draggable",tabIndex:E=0}=o??{},R=(d==null?void 0:d.id)===t,T=y.useContext(R?P_:W9),[_,M]=Gd(),[A,D]=Gd(),N=k9(c,t),O=mc(r);_a(()=>(g.set(t,{id:t,key:s,node:_,activatorNode:A,data:O}),()=>{const F=g.get(t);F&&F.key===s&&g.delete(t)}),[g,t]);const z=y.useMemo(()=>({role:S,tabIndex:E,"aria-disabled":i,"aria-pressed":R&&S===kE?!0:void 0,"aria-roledescription":C,"aria-describedby":v.draggable}),[i,S,E,R,C,v.draggable]);return{active:d,activatorEvent:f,activeNodeRect:h,attributes:z,isDragging:R,listeners:i?void 0:N,node:_,over:b,setNodeRef:M,setActivatorNodeRef:D,transform:T}}function J9(){return y.useContext(U_)}const eB="Droppable",tB={timeout:25};function B_(e){let{data:t,disabled:r=!1,id:i,resizeObserverConfig:o}=e;const s=Bc(eB),{active:c,dispatch:f,over:d,measureDroppableContainers:h}=y.useContext(Yh),v=y.useRef({disabled:r}),g=y.useRef(!1),b=y.useRef(null),S=y.useRef(null),{disabled:C,updateMeasurementsFor:E,timeout:R}={...tB,...o},T=mc(E??i),_=y.useCallback(()=>{if(!g.current){g.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{h(Array.isArray(T.current)?T.current:[T.current]),S.current=null},R)},[R]),M=qh({callback:_,disabled:C||!c}),A=y.useCallback((z,F)=>{M&&(F&&(M.unobserve(F),g.current=!1),z&&M.observe(z))},[M]),[D,N]=Gd(A),O=mc(t);return y.useEffect(()=>{!M||!D.current||(M.disconnect(),g.current=!1,M.observe(D.current))},[D,M]),y.useEffect(()=>(f({type:nn.RegisterDroppable,element:{id:i,key:s,disabled:r,node:D,rect:b,data:O}}),()=>f({type:nn.UnregisterDroppable,key:s,id:i})),[i]),y.useEffect(()=>{r!==v.current.disabled&&(f({type:nn.SetDroppableDisabled,id:i,key:s,disabled:r}),v.current.disabled=r)},[i,s,r,f]),{active:c,rect:b,isOver:(d==null?void 0:d.id)===i,node:D,over:d,setNodeRef:N}}function $_(e,t,r){const i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(t,1)[0]),i}function nB(e,t){return e.reduce((r,i,o)=>{const s=t.get(i);return s&&(r[o]=s),r},Array(e.length))}function pd(e){return e!==null&&e>=0}function rB(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function aB(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const H_=e=>{let{rects:t,activeIndex:r,overIndex:i,index:o}=e;const s=$_(t,i,r),c=t[o],f=s[o];return!f||!c?null:{x:f.left-c.left,y:f.top-c.top,scaleX:f.width/c.width,scaleY:f.height/c.height}},gd={scaleX:1,scaleY:1},iB=e=>{var t;let{activeIndex:r,activeNodeRect:i,index:o,rects:s,overIndex:c}=e;const f=(t=s[r])!=null?t:i;if(!f)return null;if(o===r){const h=s[c];return h?{x:0,y:r<c?h.top+h.height-(f.top+f.height):h.top-f.top,...gd}:null}const d=oB(s,o,r);return o>r&&o<=c?{x:0,y:-f.height-d,...gd}:o<r&&o>=c?{x:0,y:f.height+d,...gd}:{x:0,y:0,...gd}};function oB(e,t,r){const i=e[t],o=e[t-1],s=e[t+1];return i?r<t?o?i.top-(o.top+o.height):s?s.top-(i.top+i.height):0:s?s.top-(i.top+i.height):o?i.top-(o.top+o.height):0:0}const I_="Sortable",F_=q.createContext({activeIndex:-1,containerId:I_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:H_,disabled:{draggable:!1,droppable:!1}});function lB(e){let{children:t,id:r,items:i,strategy:o=H_,disabled:s=!1}=e;const{active:c,dragOverlay:f,droppableRects:d,over:h,measureDroppableContainers:v}=J9(),g=Bc(I_,r),b=f.rect!==null,S=y.useMemo(()=>i.map(N=>typeof N=="object"&&"id"in N?N.id:N),[i]),C=c!=null,E=c?S.indexOf(c.id):-1,R=h?S.indexOf(h.id):-1,T=y.useRef(S),_=!rB(S,T.current),M=R!==-1&&E===-1||_,A=aB(s);_a(()=>{_&&C&&v(S)},[_,S,C,v]),y.useEffect(()=>{T.current=S},[S]);const D=y.useMemo(()=>({activeIndex:E,containerId:g,disabled:A,disableTransforms:M,items:S,overIndex:R,useDragOverlay:b,sortedRects:nB(S,d),strategy:o}),[E,g,A.draggable,A.droppable,M,S,R,d,b,o]);return q.createElement(F_.Provider,{value:D},t)}const sB=e=>{let{id:t,items:r,activeIndex:i,overIndex:o}=e;return $_(r,i,o).indexOf(t)},uB=e=>{let{containerId:t,isSorting:r,wasDragging:i,index:o,items:s,newIndex:c,previousItems:f,previousContainerId:d,transition:h}=e;return!h||!i||f!==s&&o===c?!1:r?!0:c!==o&&t===d},cB={duration:200,easing:"ease"},V_="transform",fB=pc.Transition.toString({property:V_,duration:0,easing:"linear"}),dB={roleDescription:"sortable"};function hB(e){let{disabled:t,index:r,node:i,rect:o}=e;const[s,c]=y.useState(null),f=y.useRef(r);return _a(()=>{if(!t&&r!==f.current&&i.current){const d=o.current;if(d){const h=Qs(i.current,{ignoreTransform:!0}),v={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(v.x||v.y)&&c(v)}}r!==f.current&&(f.current=r)},[t,r,i,o]),y.useEffect(()=>{s&&c(null)},[s]),s}function mB(e){let{animateLayoutChanges:t=uB,attributes:r,disabled:i,data:o,getNewIndex:s=sB,id:c,strategy:f,resizeObserverConfig:d,transition:h=cB}=e;const{items:v,containerId:g,activeIndex:b,disabled:S,disableTransforms:C,sortedRects:E,overIndex:R,useDragOverlay:T,strategy:_}=y.useContext(F_),M=pB(i,S),A=v.indexOf(c),D=y.useMemo(()=>({sortable:{containerId:g,index:A,items:v},...o}),[g,o,A,v]),N=y.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:O,node:z,isOver:F,setNodeRef:I}=B_({id:c,data:D,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...d}}),{active:G,activatorEvent:J,activeNodeRect:ce,attributes:ie,setNodeRef:pe,listeners:B,isDragging:X,over:te,setActivatorNodeRef:he,transform:me}=Z9({id:c,data:D,attributes:{...dB,...r},disabled:M.draggable}),L=j8(I,pe),W=!!G,ae=W&&!C&&pd(b)&&pd(R),fe=!T&&X,ge=fe&&ae?me:null,se=ae?ge??(f??_)({rects:E,activeNodeRect:ce,activeIndex:b,overIndex:R,index:A}):null,Ce=pd(b)&&pd(R)?s({id:c,items:v,activeIndex:b,overIndex:R}):A,Re=G==null?void 0:G.id,Se=y.useRef({activeId:Re,items:v,newIndex:Ce,containerId:g}),st=v!==Se.current.items,He=t({active:G,containerId:g,isDragging:X,isSorting:W,id:c,index:A,items:v,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:h,wasDragging:Se.current.activeId!=null}),nt=hB({disabled:!He,index:A,node:z,rect:O});return y.useEffect(()=>{W&&Se.current.newIndex!==Ce&&(Se.current.newIndex=Ce),g!==Se.current.containerId&&(Se.current.containerId=g),v!==Se.current.items&&(Se.current.items=v)},[W,Ce,g,v]),y.useEffect(()=>{if(Re===Se.current.activeId)return;if(Re!=null&&Se.current.activeId==null){Se.current.activeId=Re;return}const bn=setTimeout(()=>{Se.current.activeId=Re},50);return()=>clearTimeout(bn)},[Re]),{active:G,activeIndex:b,attributes:ie,data:D,rect:O,index:A,newIndex:Ce,items:v,isOver:F,isSorting:W,isDragging:X,listeners:B,node:z,overIndex:R,over:te,setNodeRef:L,setActivatorNodeRef:he,setDroppableNodeRef:I,setDraggableNodeRef:pe,transform:nt??se,transition:ct()};function ct(){if(nt||st&&Se.current.newIndex===A)return fB;if(!(fe&&!wb(J)||!h)&&(W||He))return pc.Transition.toString({...h,property:V_})}}function pB(e,t){var r,i;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(i=e==null?void 0:e.droppable)!=null?i:t.droppable}}lt.Down,lt.Right,lt.Up,lt.Left;function gB({projectId:e,statusId:t}){const[r,i]=y.useState(!1),[o,s]=y.useState(""),c=i8(e),f=async h=>{h.preventDefault(),o.trim()&&(await c.mutateAsync({title:o.trim(),statusId:t}),s(""),i(!1))},d=h=>{h.key==="Escape"&&(s(""),i(!1))};return r?x.jsx("form",{onSubmit:f,className:"mt-2",children:x.jsx(Uh,{value:o,onChange:h=>s(h.target.value),placeholder:"Task title...",autoFocus:!0,onKeyDown:d,onBlur:()=>{o.trim()||i(!1)},rightSection:x.jsx(ll,{type:"submit",variant:"light",size:"sm",loading:c.isPending,children:x.jsx(EE,{size:14})})})}):x.jsxs(Rn,{gap:"xs",className:"mt-2 p-2 rounded cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>i(!0),children:[x.jsx(EE,{size:16}),x.jsx("span",{className:"text-sm text-gray-600",children:"Add task"})]})}const vB={low:"gray",medium:"blue",high:"orange",urgent:"red"};function yB({task:e}){const{attributes:t,listeners:r,setNodeRef:i,transform:o,transition:s,isDragging:c}=mB({id:e.id}),f={transform:pc.Transform.toString(o),transition:s,opacity:c?.5:1};return x.jsxs(Kn,{ref:i,style:f,...t,...r,p:"sm",radius:"sm",withBorder:!0,className:"cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow",children:[x.jsx(Xe,{size:"sm",fw:500,component:Ca,to:`/tasks/${e.id}`,className:"line-clamp-2",children:e.title}),x.jsxs(Rn,{mt:"xs",justify:"space-between",children:[x.jsx(oi,{size:"xs",color:vB[e.priority],children:e.priority}),e.assignee&&x.jsx(sl,{src:e.assignee.avatarUrl,size:"sm",radius:"xl",children:e.assignee.name[0]})]})]})}function bB({status:e,tasks:t,projectId:r}){const{setNodeRef:i,isOver:o}=B_({id:e.id});return x.jsxs(Kn,{ref:i,className:`min-w-[280px] max-w-[280px] flex flex-col ${o?"ring-2 ring-blue-400":""}`,p:"sm",radius:"md",withBorder:!0,children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),x.jsx(Xe,{fw:600,children:e.name})]}),x.jsx(oi,{variant:"light",size:"sm",children:t.length})]}),x.jsx(lB,{items:t.map(s=>s.id),strategy:iB,children:x.jsx(Zn,{gap:"xs",className:"flex-1 min-h-[200px]",children:t.map(s=>x.jsx(yB,{task:s},s.id))})}),x.jsx(gB,{projectId:r,statusId:e.id})]})}function SB({projectId:e,statuses:t}){const{data:r=[]}=vb(e),i=o8(),o=q8(V8(Rb,{activationConstraint:{distance:8}})),s=f=>{const{active:d,over:h}=f;if(!h||d.id===h.id)return;const v=d.id,g=h.id,b=t.find(R=>r.filter(T=>T.statusId===R.id).some(T=>T.id===g))||t.find(R=>R.id===g);if(!b)return;const S=r.filter(R=>R.statusId===b.id),C=S.findIndex(R=>R.id===g),E=C>=0?C:S.length;i.mutate({id:v,statusId:b.id,order:E})},c=t.reduce((f,d)=>(f[d.id]=r.filter(h=>h.statusId===d.id),f),{});return x.jsx(Q9,{sensors:o,collisionDetection:W8,onDragEnd:s,children:x.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:t.map(f=>x.jsx(bB,{status:f,tasks:c[f.id]??[],projectId:e},f.id))})})}const wB={low:"gray",medium:"blue",high:"orange",urgent:"red"};function xB({projectId:e}){const{data:t,isLoading:r}=vb(e);return r?x.jsx("div",{children:[1,2,3,4,5].map(i=>x.jsx(Dr,{height:50,mb:"sm",radius:"sm"},i))}):t!=null&&t.length?x.jsxs(bt,{striped:!0,highlightOnHover:!0,children:[x.jsx(bt.Thead,{children:x.jsxs(bt.Tr,{children:[x.jsx(bt.Th,{children:"Title"}),x.jsx(bt.Th,{children:"Priority"}),x.jsx(bt.Th,{children:"Assignee"}),x.jsx(bt.Th,{children:"Due Date"}),x.jsx(bt.Th,{})]})}),x.jsx(bt.Tbody,{children:t.map(i=>x.jsxs(bt.Tr,{children:[x.jsx(bt.Td,{children:x.jsx(Xe,{component:Ca,to:`/tasks/${i.id}`,fw:500,children:i.title})}),x.jsx(bt.Td,{children:x.jsx(oi,{color:wB[i.priority],size:"sm",children:i.priority})}),x.jsx(bt.Td,{children:i.assignee?x.jsxs(Rn,{gap:"xs",children:[x.jsx(sl,{src:i.assignee.avatarUrl,size:"sm",radius:"xl",children:i.assignee.name[0]}),x.jsx(Xe,{size:"sm",children:i.assignee.name})]}):x.jsx(Xe,{c:"dimmed",size:"sm",children:"Unassigned"})}),x.jsx(bt.Td,{children:i.dueDate?x.jsx(Xe,{size:"sm",children:new Date(i.dueDate).toLocaleDateString()}):x.jsx(Xe,{c:"dimmed",size:"sm",children:"No due date"})}),x.jsx(bt.Td,{children:x.jsxs(Kt,{children:[x.jsx(Kt.Target,{children:x.jsx(ll,{variant:"subtle",size:"sm",children:x.jsx(y8,{size:16})})}),x.jsxs(Kt.Dropdown,{children:[x.jsx(Kt.Item,{component:Ca,to:`/tasks/${i.id}`,children:"View Details"}),x.jsx(Kt.Item,{component:Ca,to:`/tasks/${i.id}/edit`,children:"Edit"})]})]})})]},i.id))})]}):x.jsx(Xe,{c:"dimmed",ta:"center",py:"xl",children:"No tasks yet. Create your first task to get started."})}function EB(){const[e,t]=w_(),r=e.get("view")??"kanban";return x.jsx(Zy,{value:r,onChange:i=>t({view:i}),data:[{label:"Kanban",value:"kanban"},{label:"List",value:"list"},{label:"Calendar",value:"calendar"}]})}function CB(){return qs({queryKey:["projects"],queryFn:()=>kr.get("/projects")})}function RB(e){return qs({queryKey:["project",e],queryFn:()=>kr.get(`/projects/${e}`),enabled:!!e})}function TB(){const e=Vs();return Ph({mutationFn:t=>kr.post("/projects",t),onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}function _B(){const e=Vs();return Ph({mutationFn:t=>kr.delete(`/projects/${t}`),onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}const OB=[{id:"backlog",name:"Backlog",color:"#868e96"},{id:"todo",name:"To Do",color:"#228be6"},{id:"in-progress",name:"In Progress",color:"#fab005"},{id:"review",name:"Review",color:"#be4bdb"},{id:"done",name:"Done",color:"#40c057"}];function MB(){var c;const{id:e}=VP(),[t]=w_(),r=t.get("view")??"kanban",{data:i,isLoading:o}=RB(e);if(o)return x.jsxs(so,{size:"lg",children:[x.jsx(Dr,{height:40,mb:"xl"}),x.jsx(Dr,{height:400})]});if(!i)return x.jsx(so,{size:"lg",children:x.jsx(Xe,{c:"dimmed",children:"Project not found"})});const s=(c=i.workflowStatuses)!=null&&c.length?i.workflowStatuses:OB;return x.jsx(so,{size:"lg",className:"h-full",children:x.jsxs(Zn,{gap:"lg",className:"h-full",children:[x.jsxs(Rn,{justify:"space-between",children:[x.jsxs("div",{children:[x.jsx(nl,{order:2,children:i.name}),i.description&&x.jsx(Xe,{c:"dimmed",size:"sm",children:i.description})]}),x.jsx(EB,{})]}),r==="kanban"&&e&&x.jsx(SB,{projectId:e,statuses:s}),r==="list"&&e&&x.jsx(xB,{projectId:e}),r==="calendar"&&e&&x.jsx(M8,{projectId:e})]})})}function jB(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const AB=typeof window<"u"?y.useLayoutEffect:y.useEffect;function gn(e,t){AB(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function DB(e,t){e&&jB(e),gn(`mantine-form:${e}:set-field-value`,r=>t.setFieldValue(r.detail.path,r.detail.value)),gn(`mantine-form:${e}:set-values`,r=>t.setValues(r.detail)),gn(`mantine-form:${e}:set-initial-values`,r=>t.setInitialValues(r.detail)),gn(`mantine-form:${e}:set-errors`,r=>t.setErrors(r.detail)),gn(`mantine-form:${e}:set-field-error`,r=>t.setFieldError(r.detail.path,r.detail.error)),gn(`mantine-form:${e}:clear-field-error`,r=>t.clearFieldError(r.detail)),gn(`mantine-form:${e}:clear-errors`,t.clearErrors),gn(`mantine-form:${e}:reset`,t.reset),gn(`mantine-form:${e}:validate`,t.validate),gn(`mantine-form:${e}:validate-field`,r=>t.validateField(r.detail)),gn(`mantine-form:${e}:reorder-list-item`,r=>t.reorderListItem(r.detail.path,r.detail.payload)),gn(`mantine-form:${e}:remove-list-item`,r=>t.removeListItem(r.detail.path,r.detail.index)),gn(`mantine-form:${e}:insert-list-item`,r=>t.insertListItem(r.detail.path,r.detail.item,r.detail.index)),gn(`mantine-form:${e}:set-dirty`,r=>t.setDirty(r.detail)),gn(`mantine-form:${e}:set-touched`,r=>t.setTouched(r.detail)),gn(`mantine-form:${e}:reset-dirty`,r=>t.resetDirty(r.detail)),gn(`mantine-form:${e}:reset-touched`,t.resetTouched)}function NB(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:r}=t;r instanceof HTMLInputElement?r.type==="checkbox"?e(r.checked):e(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&e(r.value)}else e(t)}}function Vv(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,r)=>{const i=e[r];return i!=null&&i!==!1&&(t[r]=i),t},{})}function zB(e){const[t,r]=y.useState(Vv(e)),i=y.useRef(t),o=y.useCallback(d=>{r(h=>{const v=Vv(typeof d=="function"?d(h):d);return i.current=v,v})},[]),s=y.useCallback(()=>o({}),[]),c=y.useCallback(d=>{i.current[d]!==void 0&&o(h=>{const v={...h};return delete v[d],v})},[t]),f=y.useCallback((d,h)=>{h==null||h===!1?c(d):i.current[d]!==h&&o(v=>({...v,[d]:h}))},[t]);return{errorsState:t,setErrors:o,clearErrors:s,setFieldError:f,clearFieldError:c}}function qv(e,t){if(t===null||typeof t!="object")return{};const r={...t};return Object.keys(t).forEach(i=>{i.includes(`${String(e)}.`)&&delete r[i]}),r}function LE(e,t){const r=e.substring(t.length+1).split(".")[0];return parseInt(r,10)}function UE(e,t,r,i){if(t===void 0)return r;const o=`${String(e)}`;let s=r;i===-1&&(s=qv(`${o}.${t}`,s));const c={...s},f=new Set;return Object.entries(s).filter(([d])=>{if(!d.startsWith(`${o}.`))return!1;const h=LE(d,o);return Number.isNaN(h)?!1:h>=t}).forEach(([d,h])=>{const v=LE(d,o),g=d.replace(`${o}.${v}`,`${o}.${v+i}`);c[g]=h,f.add(g),f.has(d)||delete c[d]}),c}function kB(e,{from:t,to:r},i){const o=`${e}.${t}`,s=`${e}.${r}`,c={...i},f=new Set;return Object.keys(i).forEach(d=>{if(f.has(d))return;let h,v;if(d.startsWith(o)?(h=d,v=d.replace(o,s)):d.startsWith(s)&&(h=d.replace(s,o),v=d),h&&v){const g=c[h],b=c[v];b===void 0?delete c[h]:c[h]=b,g===void 0?delete c[v]:c[v]=g,f.add(h),f.add(v)}}),c}function PE(e,t,r){typeof r.value=="object"&&(r.value=ls(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function ls(e){if(typeof e!="object")return e;var t=0,r,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(c){o.add(ls(c))})):s==="[object Map]"?(o=new Map,e.forEach(function(c,f){o.set(ls(f),ls(c))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(ls(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)PE(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,r=i[t])&&o[r]===e[r]||PE(o,r,Object.getOwnPropertyDescriptor(e,r))}return o||e}function q_(e){return typeof e!="string"?[]:e.split(".")}function Zt(e,t){const r=q_(e);if(r.length===0||typeof t!="object"||t===null)return;let i=t[r[0]];for(let o=1;o<r.length&&i!=null;o+=1)i=i[r[o]];return i}function $c(e,t,r){const i=q_(e);if(i.length===0)return r;const o=ls(r);if(i.length===1)return o[i[0]]=t,o;let s=o[i[0]];for(let c=1;c<i.length-1;c+=1){if(s===void 0)return o;s=s[i[c]]}return s[i[i.length-1]]=t,o}function LB(e,{from:t,to:r},i){const o=Zt(e,i);if(!Array.isArray(o))return i;const s=[...o],c=o[t];return s.splice(t,1),s.splice(r,0,c),$c(e,s,i)}function UB(e,t,r,i){const o=Zt(e,i);if(!Array.isArray(o))return i;const s=[...o];return s.splice(typeof r=="number"?r:s.length,0,t),$c(e,s,i)}function PB(e,t,r){const i=Zt(e,r);return Array.isArray(i)?$c(e,i.filter((o,s)=>s!==t),r):r}function BB(e,t,r,i){const o=Zt(e,i);if(!Array.isArray(o)||o.length<=r)return i;const s=[...o];return s[r]=t,$c(e,s,i)}function $B({$values:e,$errors:t,$status:r}){const i=y.useCallback((f,d)=>{r.clearFieldDirty(f),t.setErrors(h=>kB(f,d,h)),e.setValues({values:LB(f,d,e.refValues.current),updateState:!0})},[]),o=y.useCallback((f,d)=>{r.clearFieldDirty(f),t.setErrors(h=>UE(f,d,h,-1)),e.setValues({values:PB(f,d,e.refValues.current),updateState:!0})},[]),s=y.useCallback((f,d,h)=>{r.clearFieldDirty(f),t.setErrors(v=>UE(f,h,v,1)),e.setValues({values:UB(f,d,h,e.refValues.current),updateState:!0})},[]),c=y.useCallback((f,d,h)=>{r.clearFieldDirty(f),e.setValues({values:BB(f,h,d,e.refValues.current),updateState:!0})},[]);return{reorderListItem:i,removeListItem:o,insertListItem:s,replaceListItem:c}}var Gg,BE;function HB(){return BE||(BE=1,Gg=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var i,o,s;if(Array.isArray(t)){if(i=t.length,i!=r.length)return!1;for(o=i;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),i=s.length,i!==Object.keys(r).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=i;o--!==0;){var c=s[o];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),Gg}var IB=HB();const vd=Qv(IB);function Gu(e,t){const r=Object.keys(e);if(typeof t=="string"){const i=r.filter(o=>o.startsWith(`${t}.`));return e[t]||i.some(o=>e[o])||!1}return r.some(i=>e[i])}function FB({initialDirty:e,initialTouched:t,mode:r,$values:i}){const[o,s]=y.useState(t),[c,f]=y.useState(e),d=y.useRef(t),h=y.useRef(e),v=y.useCallback(N=>{const O=typeof N=="function"?N(d.current):N;d.current=O,r==="controlled"&&s(O)},[]),g=y.useCallback((N,O=!1)=>{const z=typeof N=="function"?N(h.current):N;h.current=z,(r==="controlled"||O)&&f(z)},[]),b=y.useCallback(()=>v({}),[]),S=y.useCallback(N=>{const O=N?{...i.refValues.current,...N}:i.refValues.current;i.setValuesSnapshot(O),g({})},[]),C=y.useCallback((N,O)=>{v(z=>Gu(z,N)===O?z:{...z,[N]:O})},[]),E=y.useCallback((N,O,z)=>{g(F=>Gu(F,N)===O?F:{...F,[N]:O},z)},[]),R=y.useCallback((N,O)=>{const z=Gu(h.current,N),F=!vd(Zt(N,i.getValuesSnapshot()),O),I=qv(N,h.current);I[N]=F,g(I,z!==F)},[]),T=y.useCallback(N=>Gu(d.current,N),[]),_=y.useCallback(N=>g(O=>{if(typeof N!="string")return O;const z=qv(N,O);return delete z[N],vd(z,O)?O:z}),[]),M=y.useCallback(N=>{if(N){const z=Zt(N,h.current);if(typeof z=="boolean")return z;const F=Zt(N,i.refValues.current),I=Zt(N,i.valuesSnapshot.current);return!vd(F,I)}return Object.keys(h.current).length>0?Gu(h.current):!vd(i.refValues.current,i.valuesSnapshot.current)},[]),A=y.useCallback(()=>h.current,[]),D=y.useCallback(()=>d.current,[]);return{touchedState:o,dirtyState:c,touchedRef:d,dirtyRef:h,setTouched:v,setDirty:g,resetDirty:S,resetTouched:b,isTouched:T,setFieldTouched:C,setFieldDirty:E,setTouchedState:s,setDirtyState:f,clearFieldDirty:_,isDirty:M,getDirty:A,getTouched:D,setCalculatedFieldDirty:R}}function VB({initialValues:e,onValuesChange:t,mode:r}){const i=y.useRef(!1),[o,s]=y.useState(e||{}),c=y.useRef(o),f=y.useRef(o),d=y.useCallback(({values:R,subscribers:T,updateState:_=!0,mergeWithPreviousValues:M=!0})=>{const A=c.current,D=R instanceof Function?R(c.current):R,N=M?{...A,...D}:D;c.current=N,_&&(s(N),r==="uncontrolled"&&(c.current=N)),t==null||t(N,A),T==null||T.filter(Boolean).forEach(O=>O({updatedValues:N,previousValues:A}))},[t]),h=y.useCallback(R=>{var M;const T=Zt(R.path,c.current),_=R.value instanceof Function?R.value(T):R.value;if(T!==_){const A=c.current,D=$c(R.path,_,c.current);d({values:D,updateState:R.updateState}),(M=R.subscribers)==null||M.filter(Boolean).forEach(N=>N({path:R.path,updatedValues:D,previousValues:A}))}},[d]),v=y.useCallback(R=>{f.current=R},[]),g=y.useCallback((R,T)=>{i.current||(i.current=!0,d({values:R,updateState:r==="controlled"}),v(R),T())},[d]),b=y.useCallback(()=>{d({values:f.current,updateState:!0,mergeWithPreviousValues:!1})},[d]),S=y.useCallback(()=>c.current,[]),C=y.useCallback(()=>f.current,[]),E=y.useCallback((R,T)=>{const _=Zt(R,f.current);typeof _>"u"||h({path:R,value:_,updateState:r==="controlled",subscribers:T})},[h,r]);return{initialized:i,stateValues:o,refValues:c,valuesSnapshot:f,setValues:d,setFieldValue:h,resetValues:b,setValuesSnapshot:v,initialize:g,getValues:S,getValuesSnapshot:C,resetField:E}}function qB({$status:e,cascadeUpdates:t}){const r=y.useRef({}),i=y.useCallback((s,c)=>{y.useEffect(()=>(r.current[s]=r.current[s]||[],r.current[s].push(c),()=>{r.current[s]=r.current[s].filter(f=>f!==c)}),[c])},[]),o=y.useCallback(s=>{var f;const c=((f=r.current[s])==null?void 0:f.map(d=>h=>d({previousValue:Zt(s,h.previousValues),value:Zt(s,h.updatedValues),touched:e.isTouched(s),dirty:e.isDirty(s)})))??[];if(t)for(const d in r.current)(d.startsWith(`${s}.`)||s.startsWith(`${d}.`))&&c.push(...r.current[d].map(h=>v=>h({previousValue:Zt(d,v.previousValues),value:Zt(d,v.updatedValues),touched:e.isTouched(d),dirty:e.isDirty(d)})));return c},[]);return{subscribers:r,watch:i,getFieldSubscribers:o}}function $E(e,t){return e?`${e}-${t.toString()}`:t.toString()}const yd=Symbol("root-rule");function HE(e){const t=Vv(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function Yv(e,t,r="",i={}){return typeof e!="object"||e===null?i:Object.keys(e).reduce((o,s)=>{const c=e[s],f=`${r===""?"":`${r}.`}${s}`,d=Zt(f,t);let h=!1;return typeof c=="function"&&(o[f]=c(d,t,f)),typeof c=="object"&&Array.isArray(d)&&(h=!0,d.forEach((v,g)=>Yv(c,t,`${f}.${g}`,o)),yd in c&&(o[f]=c[yd](d,t,f))),typeof c=="object"&&typeof d=="object"&&d!==null&&(h||Yv(c,t,f,o),yd in c&&(o[f]=c[yd](d,t,f))),o},i)}function Gv(e,t){return HE(typeof e=="function"?e(t):Yv(e,t))}function bd(e,t,r){if(typeof e!="string")return{hasError:!1,error:null};const i=Gv(t,r),o=Object.keys(i.errors).find(s=>e.split(".").every((c,f)=>c===s.split(".")[f]));return{hasError:!!o,error:o?i.errors[o]:null}}const YB="__MANTINE_FORM_INDEX__";function IE(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${YB}`)):!1:!1}function GB({name:e,mode:t="controlled",initialValues:r,initialErrors:i={},initialDirty:o={},initialTouched:s={},clearInputErrorOnChange:c=!0,validateInputOnChange:f=!1,validateInputOnBlur:d=!1,onValuesChange:h,transformValues:v=(R=>R),enhanceGetInputProps:g,validate:b,onSubmitPreventDefault:S="always",touchTrigger:C="change",cascadeUpdates:E=!1}={}){const R=zB(i),T=VB({initialValues:r,onValuesChange:h,mode:t}),_=FB({initialDirty:o,initialTouched:s,$values:T,mode:t}),M=$B({$values:T,$errors:R,$status:_}),A=qB({$status:_,cascadeUpdates:E}),[D,N]=y.useState(0),[O,z]=y.useState({}),[F,I]=y.useState(!1),G=y.useCallback(()=>{T.resetValues(),R.clearErrors(),_.resetDirty(),_.resetTouched(),t==="uncontrolled"&&N(se=>se+1)},[]),J=y.useCallback(se=>{c&&R.clearErrors(),t==="uncontrolled"&&N(Ce=>Ce+1),Object.keys(A.subscribers.current).forEach(Ce=>{const Re=Zt(Ce,T.refValues.current),Se=Zt(Ce,se);Re!==Se&&A.getFieldSubscribers(Ce).forEach(st=>st({previousValues:se,updatedValues:T.refValues.current}))})},[c]),ce=y.useCallback(se=>{const Ce=T.refValues.current;T.initialize(se,()=>t==="uncontrolled"&&N(Re=>Re+1)),J(Ce)},[J]),ie=y.useCallback((se,Ce,Re)=>{const Se=IE(se,f),st=Ce instanceof Function?Ce(Zt(se,T.refValues.current)):Ce;_.setCalculatedFieldDirty(se,st),C==="change"&&_.setFieldTouched(se,!0),!Se&&c&&R.clearFieldError(se),T.setFieldValue({path:se,value:Ce,updateState:t==="controlled",subscribers:[...A.getFieldSubscribers(se),Se?He=>{const nt=bd(se,b,He.updatedValues);nt.hasError?R.setFieldError(se,nt.error):R.clearFieldError(se)}:null,(Re==null?void 0:Re.forceUpdate)!==!1&&t!=="controlled"?()=>z(He=>({...He,[se]:(He[se]||0)+1})):null]})},[h,b]),pe=y.useCallback(se=>{const Ce=T.refValues.current;T.setValues({values:se,updateState:t==="controlled"}),J(Ce)},[h,J]),B=y.useCallback(()=>{const se=Gv(b,T.refValues.current);return R.setErrors(se.errors),se},[b]),X=y.useCallback(se=>{const Ce=bd(se,b,T.refValues.current);return Ce.hasError?R.setFieldError(se,Ce.error):R.clearFieldError(se),Ce},[b]),te=(se,{type:Ce="input",withError:Re=!0,withFocus:Se=!0,...st}={})=>{const nt={onChange:NB(ct=>ie(se,ct,{forceUpdate:!1})),"data-path":$E(e,se)};return Re&&(nt.error=R.errorsState[se]),Ce==="checkbox"?nt[t==="controlled"?"checked":"defaultChecked"]=Zt(se,T.refValues.current):nt[t==="controlled"?"value":"defaultValue"]=Zt(se,T.refValues.current),Se&&(nt.onFocus=()=>_.setFieldTouched(se,!0),nt.onBlur=()=>{if(IE(se,d)){const ct=bd(se,b,T.refValues.current);ct.hasError?R.setFieldError(se,ct.error):R.clearFieldError(se)}}),Object.assign(nt,g==null?void 0:g({inputProps:nt,field:se,options:{type:Ce,withError:Re,withFocus:Se,...st},form:xe}))},he=(se,Ce)=>Re=>{S==="always"&&(Re==null||Re.preventDefault());const Se=B();if(Se.hasErrors)S==="validation-failed"&&(Re==null||Re.preventDefault()),Ce==null||Ce(Se.errors,T.refValues.current,Re);else{const st=se==null?void 0:se(v(T.refValues.current),Re);st instanceof Promise&&(I(!0),st.finally(()=>I(!1)))}},me=se=>v(se||T.refValues.current),L=y.useCallback(se=>{se.preventDefault(),G()},[]),W=y.useCallback(se=>se?!bd(se,b,T.refValues.current).hasError:!Gv(b,T.refValues.current).hasErrors,[b]),ae=se=>`${D}-${String(se)}-${O[String(se)]||0}`,fe=y.useCallback(se=>document.querySelector(`[data-path="${$E(e,se)}"]`),[]),ge=y.useCallback(se=>{T.resetField(se,[t!=="controlled"?()=>z(Ce=>({...Ce,[se]:(Ce[se]||0)+1})):null])},[T.resetField,t,z]),xe={watch:A.watch,initialized:T.initialized.current,values:t==="uncontrolled"?T.refValues.current:T.stateValues,getValues:T.getValues,getInitialValues:T.getValuesSnapshot,setInitialValues:T.setValuesSnapshot,resetField:ge,initialize:ce,setValues:pe,setFieldValue:ie,submitting:F,setSubmitting:I,errors:R.errorsState,setErrors:R.setErrors,setFieldError:R.setFieldError,clearFieldError:R.clearFieldError,clearErrors:R.clearErrors,resetDirty:_.resetDirty,setTouched:_.setTouched,setDirty:_.setDirty,isTouched:_.isTouched,resetTouched:_.resetTouched,isDirty:_.isDirty,getTouched:_.getTouched,getDirty:_.getDirty,reorderListItem:M.reorderListItem,insertListItem:M.insertListItem,removeListItem:M.removeListItem,replaceListItem:M.replaceListItem,reset:G,validate:B,validateField:X,getInputProps:te,onSubmit:he,onReset:L,isValid:W,getTransformedValues:me,key:ae,getInputNode:fe};return DB(e,xe),xe}function XB({opened:e,onClose:t}){const r=TB(),i=GB({initialValues:{name:"",description:""},validate:{name:s=>s.length<1?"Name is required":null}}),o=i.onSubmit(async s=>{try{await r.mutateAsync(s),fo.show({message:"Project created!",color:"green"}),i.reset(),t()}catch{fo.show({message:"Failed to create project",color:"red"})}});return x.jsx(ia,{opened:e,onClose:t,title:"Create Project",children:x.jsx("form",{onSubmit:o,children:x.jsxs(Zn,{children:[x.jsx(Uh,{label:"Project Name",placeholder:"My Project",required:!0,...i.getInputProps("name")}),x.jsx(qy,{label:"Description",placeholder:"Optional description...",...i.getInputProps("description")}),x.jsx(ul,{type:"submit",loading:r.isPending,children:"Create Project"})]})})})}function QB({project:e}){const t=_B();return x.jsxs(Mh,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[x.jsxs(Rn,{justify:"space-between",mb:"xs",children:[x.jsx(Xe,{fw:500,component:Ca,to:`/projects/${e.id}`,children:e.name}),x.jsxs(Kt,{children:[x.jsx(Kt.Target,{children:x.jsx(ll,{variant:"subtle",children:""})}),x.jsxs(Kt.Dropdown,{children:[x.jsx(Kt.Item,{component:Ca,to:`/projects/${e.id}/settings`,children:"Settings"}),x.jsx(Kt.Item,{color:"red",onClick:()=>t.mutate(e.id),children:"Archive"})]})]})]}),x.jsx(Xe,{size:"sm",c:"dimmed",lineClamp:2,children:e.description||"No description"}),x.jsxs(Rn,{mt:"md",gap:"xs",children:[x.jsx(oi,{color:e.status==="active"?"green":"gray",children:e.status}),e.taskCount!==void 0&&x.jsxs(oi,{variant:"outline",children:[e.taskCount," tasks"]})]})]})}function WB({onCreate:e}){const{data:t,isLoading:r}=CB();return r?x.jsx(uc,{cols:{base:1,sm:2,lg:3},spacing:"lg",children:[1,2,3].map(i=>x.jsx(Dr,{height:150,radius:"md"},i))}):t!=null&&t.length?x.jsx(uc,{cols:{base:1,sm:2,lg:3},spacing:"lg",children:t==null?void 0:t.map(i=>x.jsx(QB,{project:i},i.id))}):x.jsx(Iy,{py:"xl",children:x.jsxs(Zn,{align:"center",gap:"md",children:[x.jsx(ni,{size:64,radius:"xl",variant:"light",color:"gray",children:x.jsx(S8,{size:32})}),x.jsx(Xe,{c:"dimmed",ta:"center",children:'No projects yet. Click "New Project" to get started.'}),x.jsx(ul,{onClick:e,variant:"light",children:"New Project"})]})})}function KB(){const[e,{open:t,close:r}]=GC(!1);return x.jsx(so,{size:"lg",children:x.jsxs(Zn,{gap:"lg",children:[x.jsxs(Rn,{justify:"space-between",children:[x.jsxs("div",{children:[x.jsx(nl,{order:2,children:"Projects"}),x.jsx(Xe,{c:"dimmed",size:"sm",children:"Manage your projects"})]}),x.jsx(ul,{onClick:t,children:"New Project"})]}),x.jsx(WB,{onCreate:t}),x.jsx(XB,{opened:e,onClose:r})]})})}function ZB(){return x.jsxs(Zn,{gap:"lg",children:[x.jsx(nl,{order:2,children:"Settings"}),x.jsx(Kn,{p:"md",radius:"md",withBorder:!0,children:x.jsx(Xe,{c:"dimmed",children:"Settings page coming soon."})})]})}function JB({children:e}){return x.jsxs(x.Fragment,{children:[x.jsx(q2,{children:e}),x.jsx(Y2,{children:x.jsx(g_,{to:"/sign-in",replace:!0})})]})}const e7=P6([{path:"/sign-in/*",element:x.jsx("div",{className:"flex min-h-screen items-center justify-center",children:x.jsx(tA,{routing:"path",path:"/sign-in"})})},{path:"/sign-up/*",element:x.jsx("div",{className:"flex min-h-screen items-center justify-center",children:x.jsx(nA,{routing:"path",path:"/sign-up"})})},{path:"/",element:x.jsx(JB,{children:x.jsx(t8,{})}),children:[{index:!0,element:x.jsx(g_,{to:"/dashboard",replace:!0})},{path:"dashboard",element:x.jsx(T8,{})},{path:"projects",element:x.jsx(KB,{})},{path:"projects/:id",element:x.jsx(MB,{})},{path:"settings",element:x.jsx(ZB,{})}]}]),t7="pk_test_d2lyZWQtbGlvbmZpc2gtNi5jbGVyay5hY2NvdW50cy5kZXYk",n7={fontFamily:"Inter, system-ui, sans-serif",primaryColor:"blue"},Y_=document.getElementById("root");if(!Y_)throw new Error("Root element not found");x5.createRoot(Y_).render(x.jsx(y.StrictMode,{children:x.jsx(AC,{publishableKey:t7,children:x.jsx(Z6,{children:x.jsx(o5,{client:J6,children:x.jsxs(nR,{theme:n7,children:[x.jsx(mi,{}),x.jsx(u6,{router:e7})]})})})})}));
</file>

<file path="apps/web/dist/index.html">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nexa Task</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <script type="module" crossorigin src="/assets/index-z2RtNmAn.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-BtM2bbUj.css">
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
</file>

<file path="apps/web/src/components/comments/activity-timeline.tsx">
import { api } from '@/lib/api'
import { Avatar, Skeleton, Text, Timeline } from '@mantine/core'
import { useQuery } from '@tanstack/react-query'
import { formatDistanceToNow } from 'date-fns'

const ACTION_LABELS: Record<string, string> = {
  created: 'created this task',
  updated: 'updated this task',
  assigned: 'changed assignee',
  status_changed: 'changed status',
  commented: 'commented',
  moved: 'moved this task',
  deleted: 'deleted this task',
}

type Activity = {
  id: string
  action: string
  createdAt: string
  user?: {
    id: string
    name: string
    avatarUrl?: string
  }
  changes?: Record<string, { old: unknown; new: unknown }>
}

type Props = {
  taskId: string
}

export function ActivityTimeline({ taskId }: Props) {
  const { data: activities = [], isLoading } = useQuery<Activity[]>({
    queryKey: ['task-activity', taskId],
    queryFn: () => api.get(`/tasks/${taskId}/activity`),
  })

  if (isLoading) {
    return <Skeleton height={100} />
  }

  if (activities.length === 0) {
    return (
      <Text size="sm" c="dimmed">
        No activity yet
      </Text>
    )
  }

  return (
    <Timeline bulletSize={24} lineWidth={2}>
      {activities.map((activity) => (
        <Timeline.Item
          key={activity.id}
          bullet={
            <Avatar src={activity.user?.avatarUrl} size={24} radius="xl">
              {activity.user?.name?.[0]}
            </Avatar>
          }
        >
          <Text size="sm">
            <Text span fw={500}>
              {activity.user?.name}
            </Text>{' '}
            {ACTION_LABELS[activity.action] || activity.action}
          </Text>
          <Text size="xs" c="dimmed">
            {formatDistanceToNow(new Date(activity.createdAt), {
              addSuffix: true,
            })}
          </Text>
        </Timeline.Item>
      ))}
    </Timeline>
  )
}
</file>

<file path="apps/web/src/components/comments/comment-editor.tsx">
import { useCreateComment, useUpdateComment } from '@/hooks/use-comments'
import { Button, Group, Paper, Textarea } from '@mantine/core'
import { useEffect, useState } from 'react'

type EditingComment = {
  id: string
  content: string
} | null

type Props = {
  taskId: string
  editingComment: EditingComment
  onCancelEdit: () => void
}

export function CommentEditor({ taskId, editingComment, onCancelEdit }: Props) {
  const [content, setContent] = useState('')
  const createComment = useCreateComment(taskId)
  const updateComment = useUpdateComment()

  useEffect(() => {
    if (editingComment) {
      setContent(editingComment.content)
    } else {
      setContent('')
    }
  }, [editingComment])

  const handleSubmit = () => {
    if (!content.trim()) return

    if (editingComment) {
      updateComment.mutate(
        { id: editingComment.id, content },
        {
          onSuccess: () => {
            setContent('')
            onCancelEdit()
          },
        },
      )
    } else {
      createComment.mutate(content, {
        onSuccess: () => {
          setContent('')
        },
      })
    }
  }

  const handleCancel = () => {
    setContent('')
    onCancelEdit()
  }

  return (
    <Paper p="sm" withBorder>
      <Textarea
        value={content}
        onChange={(e) => setContent(e.target.value)}
        placeholder="Write a comment..."
        minRows={2}
        autosize
        mb="sm"
      />
      <Group justify="flex-end" gap="xs">
        {editingComment && (
          <Button variant="subtle" size="xs" onClick={handleCancel}>
            Cancel
          </Button>
        )}
        <Button
          size="xs"
          onClick={handleSubmit}
          loading={createComment.isPending || updateComment.isPending}
          disabled={!content.trim()}
        >
          {editingComment ? 'Update' : 'Comment'}
        </Button>
      </Group>
    </Paper>
  )
}
</file>

<file path="apps/web/src/components/comments/comment-item.tsx">
import type { Comment } from '@/hooks/use-comments'
import { useDeleteComment } from '@/hooks/use-comments'
import { ActionIcon, Avatar, Group, Menu, Paper, Text } from '@mantine/core'
import { IconDots, IconEdit, IconTrash } from '@tabler/icons-react'
import { formatDistanceToNow } from 'date-fns'

type Props = {
  comment: Comment
  taskId: string
  currentUserId?: string
  onEdit: (comment: Comment) => void
}

export function CommentItem({ comment, taskId, currentUserId, onEdit }: Props) {
  const deleteComment = useDeleteComment(taskId)
  const isOwner = currentUserId === comment.user.id

  return (
    <Paper p="sm" withBorder>
      <Group justify="space-between" mb="xs">
        <Group gap="xs">
          <Avatar src={comment.user.avatarUrl} size="sm" radius="xl">
            {comment.user.name[0]}
          </Avatar>
          <div>
            <Text size="sm" fw={500}>
              {comment.user.name}
            </Text>
            <Text size="xs" c="dimmed">
              {formatDistanceToNow(new Date(comment.createdAt), {
                addSuffix: true,
              })}
            </Text>
          </div>
        </Group>

        {isOwner && (
          <Menu position="bottom-end">
            <Menu.Target>
              <ActionIcon variant="subtle" size="sm">
                <IconDots size={14} />
              </ActionIcon>
            </Menu.Target>
            <Menu.Dropdown>
              <Menu.Item
                leftSection={<IconEdit size={14} />}
                onClick={() => onEdit(comment)}
              >
                Edit
              </Menu.Item>
              <Menu.Item
                color="red"
                leftSection={<IconTrash size={14} />}
                onClick={() => deleteComment.mutate(comment.id)}
              >
                Delete
              </Menu.Item>
            </Menu.Dropdown>
          </Menu>
        )}
      </Group>

      <Text size="sm" className="whitespace-pre-wrap">
        {comment.content}
      </Text>
    </Paper>
  )
}
</file>

<file path="apps/web/src/components/comments/comments-section.tsx">
import type { Comment } from '@/hooks/use-comments'
import { useComments } from '@/hooks/use-comments'
import { Skeleton, Stack, Text } from '@mantine/core'
import { useState } from 'react'
import { CommentEditor } from './comment-editor'
import { CommentItem } from './comment-item'

type Props = {
  taskId: string
  currentUserId?: string
}

export function CommentsSection({ taskId, currentUserId }: Props) {
  const { data: comments, isLoading } = useComments(taskId)
  const [editingComment, setEditingComment] = useState<Comment | null>(null)

  if (isLoading) {
    return (
      <Stack gap="sm">
        <Skeleton height={80} />
        <Skeleton height={80} />
      </Stack>
    )
  }

  return (
    <Stack gap="md">
      <Text size="sm" fw={600}>
        Comments ({comments?.length || 0})
      </Text>

      <CommentEditor
        taskId={taskId}
        editingComment={editingComment}
        onCancelEdit={() => setEditingComment(null)}
      />

      <Stack gap="sm">
        {comments?.map((comment) => (
          <CommentItem
            key={comment.id}
            comment={comment}
            taskId={taskId}
            currentUserId={currentUserId}
            onEdit={setEditingComment}
          />
        ))}
      </Stack>
    </Stack>
  )
}
</file>

<file path="apps/web/src/components/dashboard/activity-feed.tsx">
import { api } from '@/lib/api'
import {
  Avatar,
  Group,
  Paper,
  Skeleton,
  Stack,
  Text,
  ThemeIcon,
} from '@mantine/core'
import { useQuery } from '@tanstack/react-query'

type Activity = {
  id: string
  action: string
  targetType: string
  targetTitle: string
  user: { name: string; avatarUrl?: string }
  createdAt: string
}

const actionIcons: Record<string, string> = {
  created: '',
  updated: '',
  deleted: '',
  completed: '',
  commented: '',
  assigned: '',
}

function formatTimeAgo(dateString: string) {
  const date = new Date(dateString)
  const now = new Date()
  const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000)

  if (diffInSeconds < 60) return 'just now'
  if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`
  if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`
  return `${Math.floor(diffInSeconds / 86400)}d ago`
}

export function ActivityFeed() {
  const { data: activities, isLoading } = useQuery<Activity[]>({
    queryKey: ['activity-feed'],
    queryFn: () => api.get('/activity'),
  })

  if (isLoading) {
    return (
      <Paper p="md" radius="md" withBorder>
        <Text fw={600} mb="md">
          Recent Activity
        </Text>
        <Stack gap="sm">
          {[1, 2, 3, 4, 5].map((i) => (
            <Skeleton key={i} height={50} radius="sm" />
          ))}
        </Stack>
      </Paper>
    )
  }

  return (
    <Paper p="md" radius="md" withBorder>
      <Text fw={600} mb="md">
        Recent Activity
      </Text>
      <Stack gap="sm">
        {activities?.length === 0 && (
          <Text c="dimmed" size="sm">
            No recent activity
          </Text>
        )}
        {activities?.slice(0, 10).map((activity) => (
          <Group key={activity.id} gap="sm" wrap="nowrap">
            <Avatar src={activity.user.avatarUrl} size="sm" radius="xl">
              {activity.user.name[0]}
            </Avatar>
            <div className="flex-1 min-w-0">
              <Text size="sm">
                <Text span fw={500}>
                  {activity.user.name}
                </Text>{' '}
                {activity.action}{' '}
                <Text span fw={500}>
                  {activity.targetTitle}
                </Text>
              </Text>
              <Text size="xs" c="dimmed">
                {formatTimeAgo(activity.createdAt)}
              </Text>
            </div>
            <ThemeIcon size="sm" variant="light" color="gray">
              {actionIcons[activity.action] ?? ''}
            </ThemeIcon>
          </Group>
        ))}
      </Stack>
    </Paper>
  )
}
</file>

<file path="apps/web/src/components/dashboard/recent-tasks.tsx">
import { useRecentTasks } from '@/hooks/use-tasks'
import {
  Avatar,
  Badge,
  Group,
  Paper,
  Skeleton,
  Stack,
  Text,
} from '@mantine/core'
import { Link } from 'react-router'

const priorityColors: Record<string, string> = {
  low: 'gray',
  medium: 'blue',
  high: 'orange',
  urgent: 'red',
}

export function RecentTasks() {
  const { data: tasks, isLoading } = useRecentTasks()

  if (isLoading) {
    return (
      <Paper p="md" radius="md" withBorder>
        <Text fw={600} mb="md">
          Recent Tasks
        </Text>
        <Stack gap="sm">
          {[1, 2, 3, 4, 5].map((i) => (
            <Skeleton key={i} height={60} radius="sm" />
          ))}
        </Stack>
      </Paper>
    )
  }

  return (
    <Paper p="md" radius="md" withBorder>
      <Text fw={600} mb="md">
        Recent Tasks
      </Text>
      <Stack gap="sm">
        {tasks?.length === 0 && (
          <Text c="dimmed" size="sm">
            No recent tasks
          </Text>
        )}
        {tasks?.slice(0, 5).map((task) => (
          <Paper
            key={task.id}
            p="sm"
            radius="sm"
            withBorder
            component={Link}
            to={`/tasks/${task.id}`}
            className="hover:bg-gray-50 transition-colors"
          >
            <Group justify="space-between">
              <div className="flex-1 min-w-0">
                <Text size="sm" fw={500} truncate>
                  {task.title}
                </Text>
                <Badge
                  size="xs"
                  color={priorityColors[task.priority] ?? 'gray'}
                  mt={4}
                >
                  {task.priority}
                </Badge>
              </div>
              {task.assignee && (
                <Avatar src={task.assignee.avatarUrl} size="sm" radius="xl">
                  {task.assignee.name[0]}
                </Avatar>
              )}
            </Group>
          </Paper>
        ))}
      </Stack>
    </Paper>
  )
}
</file>

<file path="apps/web/src/components/dashboard/stats-cards.tsx">
import { Group, Paper, SimpleGrid, Text, ThemeIcon } from '@mantine/core'
import type { ReactNode } from 'react'

type Stat = {
  label: string
  value: number
  icon: ReactNode
  color: string
}

export function StatsCards({ stats }: { stats: Stat[] }) {
  return (
    <SimpleGrid cols={{ base: 1, sm: 2, md: 4 }} spacing="lg">
      {stats.map((stat) => (
        <Paper key={stat.label} p="md" radius="md" withBorder>
          <Group justify="space-between">
            <div>
              <Text size="xs" c="dimmed" tt="uppercase" fw={700}>
                {stat.label}
              </Text>
              <Text size="xl" fw={700}>
                {stat.value}
              </Text>
            </div>
            <ThemeIcon size="xl" radius="md" color={stat.color} variant="light">
              {stat.icon}
            </ThemeIcon>
          </Group>
        </Paper>
      ))}
    </SimpleGrid>
  )
}
</file>

<file path="apps/web/src/components/layouts/app-shell.tsx">
import { OrganizationSwitcher, UserButton } from '@clerk/clerk-react'
import {
  AppShell,
  Burger,
  Group,
  NavLink,
  Text,
  useMantineTheme,
} from '@mantine/core'
import { useDisclosure } from '@mantine/hooks'
import { Link, Outlet, useLocation } from 'react-router'

const navItems = [
  { label: 'Dashboard', path: '/dashboard' },
  { label: 'Projects', path: '/projects' },
  { label: 'Settings', path: '/settings' },
]

export function AppShellLayout() {
  const [opened, { toggle }] = useDisclosure()
  const location = useLocation()
  const theme = useMantineTheme()

  return (
    <AppShell
      header={{ height: 60 }}
      navbar={{
        width: 250,
        breakpoint: 'sm',
        collapsed: { mobile: !opened },
      }}
      padding="md"
    >
      <AppShell.Header>
        <Group h="100%" px="md" justify="space-between">
          <Group>
            <Burger
              opened={opened}
              onClick={toggle}
              hiddenFrom="sm"
              size="sm"
            />
            <Text fw={700} size="lg" c={theme.primaryColor}>
              Nexa Task
            </Text>
          </Group>
          <Group>
            <OrganizationSwitcher />
            <UserButton afterSignOutUrl="/sign-in" />
          </Group>
        </Group>
      </AppShell.Header>

      <AppShell.Navbar p="md">
        {navItems.map((item) => (
          <NavLink
            key={item.path}
            component={Link}
            to={item.path}
            label={item.label}
            active={location.pathname.startsWith(item.path)}
            mb="xs"
          />
        ))}
      </AppShell.Navbar>

      <AppShell.Main>
        <Outlet />
      </AppShell.Main>
    </AppShell>
  )
}
</file>

<file path="apps/web/src/components/project-views/calendar/calendar-view.tsx">
import { type Task, type TaskPriority, useTasks } from '@/hooks/use-tasks'
import { Badge, Group, Paper, Skeleton, Text } from '@mantine/core'

const priorityColors: Record<TaskPriority, string> = {
  low: 'gray',
  medium: 'blue',
  high: 'orange',
  urgent: 'red',
}

type Props = {
  projectId: string
}

// Generate calendar days for current month
function getCalendarDays() {
  const now = new Date()
  const year = now.getFullYear()
  const month = now.getMonth()
  const firstDay = new Date(year, month, 1)
  const lastDay = new Date(year, month + 1, 0)
  const days: Date[] = []

  // Start from the Sunday before the first day
  const startDate = new Date(firstDay)
  startDate.setDate(startDate.getDate() - startDate.getDay())

  // End after the Saturday after the last day
  const endDate = new Date(lastDay)
  endDate.setDate(endDate.getDate() + (6 - endDate.getDay()))

  for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {
    days.push(new Date(d))
  }

  return days
}

function isSameDay(date1: Date, date2: Date) {
  return (
    date1.getFullYear() === date2.getFullYear() &&
    date1.getMonth() === date2.getMonth() &&
    date1.getDate() === date2.getDate()
  )
}

export function CalendarView({ projectId }: Props) {
  const { data: tasks, isLoading } = useTasks(projectId)
  const days = getCalendarDays()
  const now = new Date()
  const currentMonth = now.getMonth()

  if (isLoading) {
    return <Skeleton height={500} radius="md" />
  }

  // Group tasks by due date
  const tasksByDate = (tasks ?? []).reduce(
    (acc, task) => {
      if (task.dueDate) {
        const dateKey = new Date(task.dueDate).toDateString()
        acc[dateKey] = acc[dateKey] ?? []
        acc[dateKey].push(task)
      }
      return acc
    },
    {} as Record<string, Task[]>,
  )

  const weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']

  return (
    <Paper p="md" radius="md" withBorder>
      <Text fw={600} mb="md" ta="center">
        {now.toLocaleString('default', { month: 'long', year: 'numeric' })}
      </Text>

      {/* Week day headers */}
      <div className="grid grid-cols-7 gap-1 mb-2">
        {weekDays.map((day) => (
          <Text key={day} size="xs" fw={600} ta="center" c="dimmed">
            {day}
          </Text>
        ))}
      </div>

      {/* Calendar grid */}
      <div className="grid grid-cols-7 gap-1">
        {days.map((day) => {
          const isCurrentMonth = day.getMonth() === currentMonth
          const isToday = isSameDay(day, now)
          const dayTasks = tasksByDate[day.toDateString()] ?? []

          return (
            <div
              key={day.toISOString()}
              className={`min-h-[80px] p-1 rounded border ${
                isCurrentMonth ? 'bg-white' : 'bg-gray-50'
              } ${isToday ? 'border-blue-500 border-2' : 'border-gray-200'}`}
            >
              <Text
                size="xs"
                fw={isToday ? 700 : 400}
                c={isCurrentMonth ? 'dark' : 'dimmed'}
                mb={4}
              >
                {day.getDate()}
              </Text>
              <div className="space-y-1">
                {dayTasks.slice(0, 2).map((task) => (
                  <Group key={task.id} gap={4} wrap="nowrap">
                    <div
                      className="w-2 h-2 rounded-full flex-shrink-0"
                      style={{
                        backgroundColor:
                          priorityColors[task.priority] === 'gray'
                            ? '#868e96'
                            : priorityColors[task.priority] === 'blue'
                              ? '#228be6'
                              : priorityColors[task.priority] === 'orange'
                                ? '#fd7e14'
                                : '#fa5252',
                      }}
                    />
                    <Text size="xs" truncate className="flex-1">
                      {task.title}
                    </Text>
                  </Group>
                ))}
                {dayTasks.length > 2 && (
                  <Badge size="xs" variant="light">
                    +{dayTasks.length - 2} more
                  </Badge>
                )}
              </div>
            </div>
          )
        })}
      </div>
    </Paper>
  )
}
</file>

<file path="apps/web/src/components/project-views/kanban/add-task-inline.tsx">
import { useCreateTask } from '@/hooks/use-tasks'
import { ActionIcon, Group, TextInput } from '@mantine/core'
import { IconPlus } from '@tabler/icons-react'
import { useState } from 'react'

type Props = {
  projectId: string
  statusId: string
}

export function AddTaskInline({ projectId, statusId }: Props) {
  const [isAdding, setIsAdding] = useState(false)
  const [title, setTitle] = useState('')
  const createTask = useCreateTask(projectId)

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    if (!title.trim()) return

    await createTask.mutateAsync({ title: title.trim(), statusId })
    setTitle('')
    setIsAdding(false)
  }

  const handleKeyDown = (e: React.KeyboardEvent) => {
    if (e.key === 'Escape') {
      setTitle('')
      setIsAdding(false)
    }
  }

  if (!isAdding) {
    return (
      <Group
        gap="xs"
        className="mt-2 p-2 rounded cursor-pointer hover:bg-gray-100 transition-colors"
        onClick={() => setIsAdding(true)}
      >
        <IconPlus size={16} />
        <span className="text-sm text-gray-600">Add task</span>
      </Group>
    )
  }

  return (
    <form onSubmit={handleSubmit} className="mt-2">
      <TextInput
        value={title}
        onChange={(e) => setTitle(e.target.value)}
        placeholder="Task title..."
        autoFocus
        onKeyDown={handleKeyDown}
        onBlur={() => {
          if (!title.trim()) setIsAdding(false)
        }}
        rightSection={
          <ActionIcon
            type="submit"
            variant="light"
            size="sm"
            loading={createTask.isPending}
          >
            <IconPlus size={14} />
          </ActionIcon>
        }
      />
    </form>
  )
}
</file>

<file path="apps/web/src/components/project-views/kanban/kanban-board.tsx">
import { useMoveTask, useTasks } from '@/hooks/use-tasks'
import {
  DndContext,
  type DragEndEvent,
  PointerSensor,
  closestCenter,
  useSensor,
  useSensors,
} from '@dnd-kit/core'
import { KanbanColumn } from './kanban-column'

type Status = { id: string; name: string; color: string }

type Props = {
  projectId: string
  statuses: Status[]
}

export function KanbanBoard({ projectId, statuses }: Props) {
  const { data: tasks = [] } = useTasks(projectId)
  const moveTask = useMoveTask()

  const sensors = useSensors(
    useSensor(PointerSensor, {
      activationConstraint: { distance: 8 },
    }),
  )

  const handleDragEnd = (event: DragEndEvent) => {
    const { active, over } = event
    if (!over || active.id === over.id) return

    const taskId = active.id as string
    const overId = over.id as string

    // Determine target status and position
    const targetStatus =
      statuses.find((s) =>
        tasks.filter((t) => t.statusId === s.id).some((t) => t.id === overId),
      ) || statuses.find((s) => s.id === overId)

    if (!targetStatus) return

    const columnTasks = tasks.filter((t) => t.statusId === targetStatus.id)
    const overIndex = columnTasks.findIndex((t) => t.id === overId)
    const newOrder = overIndex >= 0 ? overIndex : columnTasks.length

    moveTask.mutate({
      id: taskId,
      statusId: targetStatus.id,
      order: newOrder,
    })
  }

  // Group tasks by status
  const tasksByStatus = statuses.reduce(
    (acc, status) => {
      acc[status.id] = tasks.filter((t) => t.statusId === status.id)
      return acc
    },
    {} as Record<string, typeof tasks>,
  )

  return (
    <DndContext
      sensors={sensors}
      collisionDetection={closestCenter}
      onDragEnd={handleDragEnd}
    >
      <div className="flex gap-4 overflow-x-auto pb-4">
        {statuses.map((status) => (
          <KanbanColumn
            key={status.id}
            status={status}
            tasks={tasksByStatus[status.id] ?? []}
            projectId={projectId}
          />
        ))}
      </div>
    </DndContext>
  )
}
</file>

<file path="apps/web/src/components/project-views/kanban/kanban-column.tsx">
import type { Task } from '@/hooks/use-tasks'
import { useDroppable } from '@dnd-kit/core'
import { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable'
import { Badge, Paper, Stack, Text } from '@mantine/core'
import { AddTaskInline } from './add-task-inline'
import { TaskCard } from './task-card'

type Props = {
  status: { id: string; name: string; color: string }
  tasks: Task[]
  projectId: string
}

export function KanbanColumn({ status, tasks, projectId }: Props) {
  const { setNodeRef, isOver } = useDroppable({ id: status.id })

  return (
    <Paper
      ref={setNodeRef}
      className={`min-w-[280px] max-w-[280px] flex flex-col ${isOver ? 'ring-2 ring-blue-400' : ''}`}
      p="sm"
      radius="md"
      withBorder
    >
      <div className="flex items-center justify-between mb-3">
        <div className="flex items-center gap-2">
          <div
            className="w-3 h-3 rounded-full"
            style={{ backgroundColor: status.color }}
          />
          <Text fw={600}>{status.name}</Text>
        </div>
        <Badge variant="light" size="sm">
          {tasks.length}
        </Badge>
      </div>

      <SortableContext
        items={tasks.map((t) => t.id)}
        strategy={verticalListSortingStrategy}
      >
        <Stack gap="xs" className="flex-1 min-h-[200px]">
          {tasks.map((task) => (
            <TaskCard key={task.id} task={task} />
          ))}
        </Stack>
      </SortableContext>

      <AddTaskInline projectId={projectId} statusId={status.id} />
    </Paper>
  )
}
</file>

<file path="apps/web/src/components/project-views/kanban/task-card.tsx">
import type { Task, TaskPriority } from '@/hooks/use-tasks'
import { useSortable } from '@dnd-kit/sortable'
import { CSS } from '@dnd-kit/utilities'
import { Avatar, Badge, Group, Paper, Text } from '@mantine/core'
import { Link } from 'react-router'

const priorityColors: Record<TaskPriority, string> = {
  low: 'gray',
  medium: 'blue',
  high: 'orange',
  urgent: 'red',
}

type Props = {
  task: Task
}

export function TaskCard({ task }: Props) {
  const {
    attributes,
    listeners,
    setNodeRef,
    transform,
    transition,
    isDragging,
  } = useSortable({
    id: task.id,
  })

  const style = {
    transform: CSS.Transform.toString(transform),
    transition,
    opacity: isDragging ? 0.5 : 1,
  }

  return (
    <Paper
      ref={setNodeRef}
      style={style}
      {...attributes}
      {...listeners}
      p="sm"
      radius="sm"
      withBorder
      className="cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow"
    >
      <Text
        size="sm"
        fw={500}
        component={Link}
        to={`/tasks/${task.id}`}
        className="line-clamp-2"
      >
        {task.title}
      </Text>

      <Group mt="xs" justify="space-between">
        <Badge size="xs" color={priorityColors[task.priority]}>
          {task.priority}
        </Badge>
        {task.assignee && (
          <Avatar src={task.assignee.avatarUrl} size="sm" radius="xl">
            {task.assignee.name[0]}
          </Avatar>
        )}
      </Group>
    </Paper>
  )
}
</file>

<file path="apps/web/src/components/project-views/list/task-table.tsx">
import { type Task, type TaskPriority, useTasks } from '@/hooks/use-tasks'
import {
  ActionIcon,
  Avatar,
  Badge,
  Group,
  Menu,
  Skeleton,
  Table,
  Text,
} from '@mantine/core'
import { IconDotsVertical } from '@tabler/icons-react'
import { Link } from 'react-router'

const priorityColors: Record<TaskPriority, string> = {
  low: 'gray',
  medium: 'blue',
  high: 'orange',
  urgent: 'red',
}

type Props = {
  projectId: string
}

export function TaskTable({ projectId }: Props) {
  const { data: tasks, isLoading } = useTasks(projectId)

  if (isLoading) {
    return (
      <div>
        {[1, 2, 3, 4, 5].map((i) => (
          <Skeleton key={i} height={50} mb="sm" radius="sm" />
        ))}
      </div>
    )
  }

  if (!tasks?.length) {
    return (
      <Text c="dimmed" ta="center" py="xl">
        No tasks yet. Create your first task to get started.
      </Text>
    )
  }

  return (
    <Table striped highlightOnHover>
      <Table.Thead>
        <Table.Tr>
          <Table.Th>Title</Table.Th>
          <Table.Th>Priority</Table.Th>
          <Table.Th>Assignee</Table.Th>
          <Table.Th>Due Date</Table.Th>
          <Table.Th />
        </Table.Tr>
      </Table.Thead>
      <Table.Tbody>
        {tasks.map((task: Task) => (
          <Table.Tr key={task.id}>
            <Table.Td>
              <Text component={Link} to={`/tasks/${task.id}`} fw={500}>
                {task.title}
              </Text>
            </Table.Td>
            <Table.Td>
              <Badge color={priorityColors[task.priority]} size="sm">
                {task.priority}
              </Badge>
            </Table.Td>
            <Table.Td>
              {task.assignee ? (
                <Group gap="xs">
                  <Avatar src={task.assignee.avatarUrl} size="sm" radius="xl">
                    {task.assignee.name[0]}
                  </Avatar>
                  <Text size="sm">{task.assignee.name}</Text>
                </Group>
              ) : (
                <Text c="dimmed" size="sm">
                  Unassigned
                </Text>
              )}
            </Table.Td>
            <Table.Td>
              {task.dueDate ? (
                <Text size="sm">
                  {new Date(task.dueDate).toLocaleDateString()}
                </Text>
              ) : (
                <Text c="dimmed" size="sm">
                  No due date
                </Text>
              )}
            </Table.Td>
            <Table.Td>
              <Menu>
                <Menu.Target>
                  <ActionIcon variant="subtle" size="sm">
                    <IconDotsVertical size={16} />
                  </ActionIcon>
                </Menu.Target>
                <Menu.Dropdown>
                  <Menu.Item component={Link} to={`/tasks/${task.id}`}>
                    View Details
                  </Menu.Item>
                  <Menu.Item component={Link} to={`/tasks/${task.id}/edit`}>
                    Edit
                  </Menu.Item>
                </Menu.Dropdown>
              </Menu>
            </Table.Td>
          </Table.Tr>
        ))}
      </Table.Tbody>
    </Table>
  )
}
</file>

<file path="apps/web/src/components/project-views/view-switcher.tsx">
import { SegmentedControl } from '@mantine/core'
import { useSearchParams } from 'react-router'

export function ViewSwitcher() {
  const [searchParams, setSearchParams] = useSearchParams()
  const view = searchParams.get('view') ?? 'kanban'

  return (
    <SegmentedControl
      value={view}
      onChange={(value) => setSearchParams({ view: value })}
      data={[
        { label: 'Kanban', value: 'kanban' },
        { label: 'List', value: 'list' },
        { label: 'Calendar', value: 'calendar' },
      ]}
    />
  )
}
</file>

<file path="apps/web/src/components/projects/create-project-modal.tsx">
import { useCreateProject } from '@/hooks/use-projects'
import { Button, Modal, Stack, TextInput, Textarea } from '@mantine/core'
import { useForm } from '@mantine/form'
import { notifications } from '@mantine/notifications'

type Props = {
  opened: boolean
  onClose: () => void
}

export function CreateProjectModal({ opened, onClose }: Props) {
  const createProject = useCreateProject()

  const form = useForm({
    initialValues: {
      name: '',
      description: '',
    },
    validate: {
      name: (v: string) => (v.length < 1 ? 'Name is required' : null),
    },
  })

  const handleSubmit = form.onSubmit(
    async (values: { name: string; description: string }) => {
      try {
        await createProject.mutateAsync(values)
        notifications.show({ message: 'Project created!', color: 'green' })
        form.reset()
        onClose()
      } catch {
        notifications.show({
          message: 'Failed to create project',
          color: 'red',
        })
      }
    },
  )

  return (
    <Modal opened={opened} onClose={onClose} title="Create Project">
      <form onSubmit={handleSubmit}>
        <Stack>
          <TextInput
            label="Project Name"
            placeholder="My Project"
            required
            {...form.getInputProps('name')}
          />
          <Textarea
            label="Description"
            placeholder="Optional description..."
            {...form.getInputProps('description')}
          />
          <Button type="submit" loading={createProject.isPending}>
            Create Project
          </Button>
        </Stack>
      </form>
    </Modal>
  )
}
</file>

<file path="apps/web/src/components/projects/project-card.tsx">
import { type Project, useDeleteProject } from '@/hooks/use-projects'
import { ActionIcon, Badge, Card, Group, Menu, Text } from '@mantine/core'
import { Link } from 'react-router'

export function ProjectCard({ project }: { project: Project }) {
  const deleteProject = useDeleteProject()

  return (
    <Card shadow="sm" padding="lg" radius="md" withBorder>
      <Group justify="space-between" mb="xs">
        <Text fw={500} component={Link} to={`/projects/${project.id}`}>
          {project.name}
        </Text>
        <Menu>
          <Menu.Target>
            <ActionIcon variant="subtle"></ActionIcon>
          </Menu.Target>
          <Menu.Dropdown>
            <Menu.Item component={Link} to={`/projects/${project.id}/settings`}>
              Settings
            </Menu.Item>
            <Menu.Item
              color="red"
              onClick={() => deleteProject.mutate(project.id)}
            >
              Archive
            </Menu.Item>
          </Menu.Dropdown>
        </Menu>
      </Group>

      <Text size="sm" c="dimmed" lineClamp={2}>
        {project.description || 'No description'}
      </Text>

      <Group mt="md" gap="xs">
        <Badge color={project.status === 'active' ? 'green' : 'gray'}>
          {project.status}
        </Badge>
        {project.taskCount !== undefined && (
          <Badge variant="outline">{project.taskCount} tasks</Badge>
        )}
      </Group>
    </Card>
  )
}
</file>

<file path="apps/web/src/components/projects/project-list.tsx">
import { type Project, useProjects } from "@/hooks/use-projects";
import {
  Button,
  Center,
  SimpleGrid,
  Skeleton,
  Stack,
  Text,
  ThemeIcon,
} from "@mantine/core";
import { IconFolderPlus } from "@tabler/icons-react";
import { ProjectCard } from "./project-card";

export function ProjectList({ onCreate }: { onCreate: () => void }) {
  const { data: projects, isLoading } = useProjects();

  if (isLoading) {
    return (
      <SimpleGrid cols={{ base: 1, sm: 2, lg: 3 }} spacing="lg">
        {[1, 2, 3].map((i) => (
          <Skeleton key={i} height={150} radius="md" />
        ))}
      </SimpleGrid>
    );
  }

  if (!projects?.length) {
    return (
      <Center py="xl">
        <Stack align="center" gap="md">
          <ThemeIcon size={64} radius="xl" variant="light" color="gray">
            <IconFolderPlus size={32} />
          </ThemeIcon>
          <Text c="dimmed" ta="center">
            No projects yet. Click "New Project" to get started.
          </Text>
          <Button onClick={onCreate} variant="light">
            New Project
          </Button>
        </Stack>
      </Center>
    );
  }

  return (
    <SimpleGrid cols={{ base: 1, sm: 2, lg: 3 }} spacing="lg">
      {projects?.map((project: Project) => (
        <ProjectCard key={project.id} project={project} />
      ))}
    </SimpleGrid>
  );
}
</file>

<file path="apps/web/src/components/task-detail/task-attachments.tsx">
import { api } from '@/lib/api'
import { ActionIcon, Group, Paper, Skeleton, Stack, Text } from '@mantine/core'
import { IconFile, IconTrash } from '@tabler/icons-react'
import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'

type Attachment = {
  id: string
  fileName: string
  fileUrl: string
  fileSize: number
  mimeType: string
  uploadedBy?: {
    name: string
  }
}

type Props = {
  taskId: string
}

function formatFileSize(bytes: number): string {
  if (bytes < 1024) return `${bytes} B`
  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`
  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`
}

export function TaskAttachments({ taskId }: Props) {
  const queryClient = useQueryClient()

  const { data: attachments = [], isLoading } = useQuery<Attachment[]>({
    queryKey: ['task-attachments', taskId],
    queryFn: () => api.get(`/tasks/${taskId}/attachments`),
  })

  const deleteAttachment = useMutation({
    mutationFn: (attachmentId: string) =>
      api.delete(`/attachments/${attachmentId}`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['task-attachments', taskId] })
    },
  })

  if (isLoading) {
    return <Skeleton height={60} />
  }

  return (
    <Stack gap="xs">
      <Text size="sm" fw={600}>
        Attachments ({attachments.length})
      </Text>

      {attachments.length === 0 ? (
        <Text size="sm" c="dimmed">
          No attachments
        </Text>
      ) : (
        attachments.map((attachment) => (
          <Paper key={attachment.id} p="xs" withBorder>
            <Group justify="space-between">
              <Group gap="xs">
                <IconFile size={16} />
                <div>
                  <Text
                    size="sm"
                    component="a"
                    href={attachment.fileUrl}
                    target="_blank"
                    className="hover:underline"
                  >
                    {attachment.fileName}
                  </Text>
                  <Text size="xs" c="dimmed">
                    {formatFileSize(attachment.fileSize)}
                  </Text>
                </div>
              </Group>
              <ActionIcon
                size="sm"
                variant="subtle"
                color="red"
                onClick={() => deleteAttachment.mutate(attachment.id)}
                loading={deleteAttachment.isPending}
              >
                <IconTrash size={14} />
              </ActionIcon>
            </Group>
          </Paper>
        ))
      )}
    </Stack>
  )
}
</file>

<file path="apps/web/src/components/task-detail/task-dependencies.tsx">
import { api } from '@/lib/api'
import { ActionIcon, Group, Paper, Skeleton, Stack, Text } from '@mantine/core'
import { IconTrash } from '@tabler/icons-react'
import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'
import { Link } from 'react-router'

type Dependency = {
  id: string
  dependsOnId: string
  dependsOn: {
    id: string
    title: string
  }
}

type Props = {
  taskId: string
}

export function TaskDependencies({ taskId }: Props) {
  const queryClient = useQueryClient()

  const { data: dependencies = [], isLoading } = useQuery<Dependency[]>({
    queryKey: ['task-dependencies', taskId],
    queryFn: () => api.get(`/tasks/${taskId}/dependencies`),
  })

  const removeDependency = useMutation({
    mutationFn: (depId: string) =>
      api.delete(`/tasks/${taskId}/dependencies/${depId}`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['task-dependencies', taskId] })
    },
  })

  if (isLoading) {
    return <Skeleton height={60} />
  }

  return (
    <Stack gap="xs">
      <Text size="sm" fw={600}>
        Blocked By
      </Text>

      {dependencies.length === 0 ? (
        <Text size="sm" c="dimmed">
          No blockers
        </Text>
      ) : (
        dependencies.map((dep) => (
          <Paper key={dep.id} p="xs" withBorder>
            <Group justify="space-between">
              <Text
                size="sm"
                component={Link}
                to={`/tasks/${dep.dependsOn.id}`}
                className="hover:underline"
              >
                {dep.dependsOn.title}
              </Text>
              <ActionIcon
                size="sm"
                variant="subtle"
                color="red"
                onClick={() => removeDependency.mutate(dep.dependsOnId)}
                loading={removeDependency.isPending}
              >
                <IconTrash size={14} />
              </ActionIcon>
            </Group>
          </Paper>
        ))
      )}
    </Stack>
  )
}
</file>

<file path="apps/web/src/components/task-detail/task-detail-panel.tsx">
import { useDebouncedCallback } from '@/hooks/use-debounce'
import type { TaskPriority } from '@/hooks/use-tasks'
import { useTask, useUpdateTask } from '@/hooks/use-tasks'
import { Divider, Drawer, Skeleton, Stack, TextInput } from '@mantine/core'
import { useEffect, useState } from 'react'
import { TaskAttachments } from './task-attachments'
import { TaskDependencies } from './task-dependencies'
import { TaskEditor } from './task-editor'
import { TaskSidebar } from './task-sidebar'

type Status = {
  id: string
  name: string
  color: string
}

type Member = {
  id: string
  name: string
  avatarUrl?: string
}

type Props = {
  taskId: string | null
  onClose: () => void
  statuses: Status[]
  members: Member[]
}

export function TaskDetailPanel({ taskId, onClose, statuses, members }: Props) {
  const { data: task, isLoading } = useTask(taskId || undefined)
  const updateTask = useUpdateTask()

  const [title, setTitle] = useState('')

  useEffect(() => {
    if (task) setTitle(task.title)
  }, [task])

  const debouncedUpdateTitle = useDebouncedCallback((value: string) => {
    if (taskId && value !== task?.title) {
      updateTask.mutate({ id: taskId, data: { title: value } })
    }
  }, 1000)

  const handleTitleChange = (value: string) => {
    setTitle(value)
    debouncedUpdateTitle(value)
  }

  const handleDescriptionChange = (html: string) => {
    if (taskId) {
      updateTask.mutate({ id: taskId, data: { description: html } })
    }
  }

  return (
    <Drawer
      opened={!!taskId}
      onClose={onClose}
      position="right"
      size="xl"
      title={null}
      padding="lg"
    >
      {isLoading && (
        <Stack gap="md">
          <Skeleton height={40} />
          <Skeleton height={200} />
          <Skeleton height={100} />
        </Stack>
      )}

      {task && (
        <div className="flex gap-6">
          {/* Main content */}
          <Stack className="flex-1" gap="lg">
            <TextInput
              value={title}
              onChange={(e) => handleTitleChange(e.target.value)}
              variant="unstyled"
              size="xl"
              className="font-bold"
              placeholder="Task title"
              styles={{
                input: { fontSize: '1.5rem', fontWeight: 700 },
              }}
            />

            <TaskEditor
              content={task.description || ''}
              onChange={handleDescriptionChange}
            />

            <Divider />

            <TaskDependencies taskId={task.id} />

            <Divider />

            <TaskAttachments taskId={task.id} />
          </Stack>

          {/* Sidebar */}
          <TaskSidebar
            task={{
              id: task.id,
              statusId: task.statusId,
              priority: task.priority as TaskPriority,
              assigneeId: task.assignee?.id,
              dueDate: task.dueDate,
            }}
            statuses={statuses}
            members={members}
          />
        </div>
      )}
    </Drawer>
  )
}
</file>

<file path="apps/web/src/components/task-detail/task-editor.tsx">
import { useDebouncedCallback } from '@/hooks/use-debounce'
import { ActionIcon, Group, Paper } from '@mantine/core'
import {
  IconBold,
  IconItalic,
  IconList,
  IconListCheck,
} from '@tabler/icons-react'
import Link from '@tiptap/extension-link'
import Placeholder from '@tiptap/extension-placeholder'
import TaskItem from '@tiptap/extension-task-item'
import TaskList from '@tiptap/extension-task-list'
import { EditorContent, useEditor } from '@tiptap/react'
import StarterKit from '@tiptap/starter-kit'

type Props = {
  content: string
  onChange: (html: string) => void
  placeholder?: string
}

export function TaskEditor({ content, onChange, placeholder }: Props) {
  const debouncedOnChange = useDebouncedCallback(onChange, 1000)

  const editor = useEditor({
    extensions: [
      StarterKit,
      TaskList,
      TaskItem.configure({ nested: true }),
      Link.configure({ openOnClick: false }),
      Placeholder.configure({
        placeholder: placeholder || 'Add description...',
      }),
    ],
    content,
    onUpdate: ({ editor }) => {
      debouncedOnChange(editor.getHTML())
    },
  })

  if (!editor) return null

  return (
    <Paper className="border rounded-md">
      {/* Toolbar */}
      <Group gap="xs" p="xs" className="border-b">
        <ActionIcon
          variant={editor.isActive('bold') ? 'filled' : 'subtle'}
          onClick={() => editor.chain().focus().toggleBold().run()}
          size="sm"
        >
          <IconBold size={16} />
        </ActionIcon>
        <ActionIcon
          variant={editor.isActive('italic') ? 'filled' : 'subtle'}
          onClick={() => editor.chain().focus().toggleItalic().run()}
          size="sm"
        >
          <IconItalic size={16} />
        </ActionIcon>
        <ActionIcon
          variant={editor.isActive('bulletList') ? 'filled' : 'subtle'}
          onClick={() => editor.chain().focus().toggleBulletList().run()}
          size="sm"
        >
          <IconList size={16} />
        </ActionIcon>
        <ActionIcon
          variant={editor.isActive('taskList') ? 'filled' : 'subtle'}
          onClick={() => editor.chain().focus().toggleTaskList().run()}
          size="sm"
        >
          <IconListCheck size={16} />
        </ActionIcon>
      </Group>

      {/* Editor */}
      <EditorContent
        editor={editor}
        className="prose prose-sm max-w-none p-4 min-h-[200px] focus:outline-none"
      />
    </Paper>
  )
}
</file>

<file path="apps/web/src/components/task-detail/task-sidebar.tsx">
import type { TaskPriority } from '@/hooks/use-tasks'
import { useUpdateTask } from '@/hooks/use-tasks'
import { Select, Stack, Text } from '@mantine/core'
import { DatePickerInput } from '@mantine/dates'

type TaskData = {
  id: string
  statusId: string | null
  priority: TaskPriority
  assigneeId?: string | null
  dueDate?: string | null
}

type Status = {
  id: string
  name: string
  color: string
}

type Member = {
  id: string
  name: string
  avatarUrl?: string
}

type Props = {
  task: TaskData
  statuses: Status[]
  members: Member[]
}

export function TaskSidebar({ task, statuses, members }: Props) {
  const updateTask = useUpdateTask()

  const handleUpdate = (field: string, value: unknown) => {
    updateTask.mutate({ id: task.id, data: { [field]: value } })
  }

  return (
    <Stack gap="md" className="w-64">
      {/* Status */}
      <div>
        <Text size="xs" c="dimmed" mb={4}>
          Status
        </Text>
        <Select
          value={task.statusId}
          onChange={(v) => handleUpdate('statusId', v)}
          data={statuses.map((s) => ({
            value: s.id,
            label: s.name,
          }))}
        />
      </div>

      {/* Priority */}
      <div>
        <Text size="xs" c="dimmed" mb={4}>
          Priority
        </Text>
        <Select
          value={task.priority}
          onChange={(v) => handleUpdate('priority', v)}
          data={[
            { value: 'low', label: 'Low' },
            { value: 'medium', label: 'Medium' },
            { value: 'high', label: 'High' },
            { value: 'urgent', label: 'Urgent' },
          ]}
        />
      </div>

      {/* Assignee */}
      <div>
        <Text size="xs" c="dimmed" mb={4}>
          Assignee
        </Text>
        <Select
          value={task.assigneeId ?? undefined}
          onChange={(v) => handleUpdate('assigneeId', v)}
          data={members.map((m) => ({
            value: m.id,
            label: m.name,
          }))}
          clearable
          placeholder="Unassigned"
        />
      </div>

      {/* Due Date */}
      <div>
        <Text size="xs" c="dimmed" mb={4}>
          Due Date
        </Text>
        <DatePickerInput
          value={task.dueDate ? new Date(task.dueDate) : null}
          onChange={(v) => {
            const isoDate = v ? new Date(v).toISOString() : null
            handleUpdate('dueDate', isoDate)
          }}
          clearable
          placeholder="No due date"
        />
      </div>
    </Stack>
  )
}
</file>

<file path="apps/web/src/hooks/use-auth.ts">
import { api } from '@/lib/api'
import {
  useAuth as useClerkAuth,
  useOrganization,
  useUser,
} from '@clerk/clerk-react'
import { useEffect } from 'react'

export function useAuth() {
  const { isLoaded, isSignedIn, getToken, signOut } = useClerkAuth()
  const { user } = useUser()
  const { organization } = useOrganization()

  // Sync token to API client
  useEffect(() => {
    if (isSignedIn) {
      getToken().then((token) => api.setToken(token))
    } else {
      api.setToken(null)
    }
  }, [isSignedIn, getToken])

  return {
    isLoaded,
    isSignedIn,
    user,
    organization,
    signOut,
    getToken,
  }
}
</file>

<file path="apps/web/src/hooks/use-comments.ts">
import { api } from '@/lib/api'
import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'

export type Comment = {
  id: string
  content: string
  createdAt: string
  updatedAt: string
  user: {
    id: string
    name: string
    avatarUrl?: string
  }
}

export function useComments(taskId: string) {
  return useQuery<Comment[]>({
    queryKey: ['comments', taskId],
    queryFn: () => api.get(`/tasks/${taskId}/comments`),
    enabled: !!taskId,
  })
}

export function useCreateComment(taskId: string) {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (content: string) =>
      api.post(`/tasks/${taskId}/comments`, { content }),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['comments', taskId] })
    },
  })
}

export function useUpdateComment() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, content }: { id: string; content: string }) =>
      api.patch(`/comments/${id}`, { content }),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['comments'] })
    },
  })
}

export function useDeleteComment(taskId: string) {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (commentId: string) => api.delete(`/comments/${commentId}`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['comments', taskId] })
    },
  })
}
</file>

<file path="apps/web/src/hooks/use-debounce.ts">
import { useCallback, useEffect, useRef } from 'react'

// biome-ignore lint/suspicious/noExplicitAny: Required for generic callback type
export function useDebouncedCallback<T extends (...args: any[]) => any>(
  callback: T,
  delay: number,
) {
  const timeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null)

  const debouncedCallback = useCallback(
    (...args: Parameters<T>) => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current)
      }
      timeoutRef.current = setTimeout(() => {
        callback(...args)
      }, delay)
    },
    [callback, delay],
  )

  useEffect(() => {
    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current)
      }
    }
  }, [])

  return debouncedCallback
}

export function useDebounce<T>(value: T, delay: number): T {
  const ref = useRef<T>(value)
  const timeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null)

  useEffect(() => {
    timeoutRef.current = setTimeout(() => {
      ref.current = value
    }, delay)

    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current)
      }
    }
  }, [value, delay])

  return ref.current
}
</file>

<file path="apps/web/src/hooks/use-projects.ts">
import { api } from '@/lib/api'
import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'

export type Project = {
  id: string
  name: string
  description?: string
  status: 'active' | 'archived'
  taskCount?: number
  workflowStatuses?: Array<{ id: string; name: string; color: string }>
}

export function useProjects() {
  return useQuery<Project[]>({
    queryKey: ['projects'],
    queryFn: () => api.get('/projects'),
  })
}

export function useProject(projectId?: string) {
  return useQuery<Project>({
    queryKey: ['project', projectId],
    queryFn: () => api.get(`/projects/${projectId}`),
    enabled: !!projectId,
  })
}

export function useCreateProject() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (data: { name: string; description?: string }) =>
      api.post('/projects', data),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['projects'] })
    },
  })
}

export function useUpdateProject() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, data }: { id: string; data: Partial<Project> }) =>
      api.patch(`/projects/${id}`, data),
    onSuccess: (_, { id }) => {
      queryClient.invalidateQueries({ queryKey: ['project', id] })
      queryClient.invalidateQueries({ queryKey: ['projects'] })
    },
  })
}

export function useDeleteProject() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (id: string) => api.delete(`/projects/${id}`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['projects'] })
    },
  })
}
</file>

<file path="apps/web/src/hooks/use-tasks.ts">
import { api } from '@/lib/api'
import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'

export type TaskPriority = 'low' | 'medium' | 'high' | 'urgent'

export type Task = {
  id: string
  title: string
  description?: string
  priority: TaskPriority
  statusId: string
  order: number
  dueDate?: string
  assignee?: { id: string; name: string; avatarUrl?: string }
  projectId: string
}

export function useTasks(projectId: string, filters?: Record<string, string>) {
  return useQuery<Task[]>({
    queryKey: ['tasks', projectId, filters],
    queryFn: () => api.get(`/projects/${projectId}/tasks`, filters),
    enabled: !!projectId,
  })
}

export function useTask(taskId?: string) {
  return useQuery<Task>({
    queryKey: ['task', taskId],
    queryFn: () => api.get(`/tasks/${taskId}`),
    enabled: !!taskId,
  })
}

export function useCreateTask(projectId: string) {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (data: {
      title: string
      statusId?: string
      priority?: TaskPriority
    }) => api.post(`/projects/${projectId}/tasks`, data),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['tasks', projectId] })
    },
  })
}

export function useUpdateTask() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, data }: { id: string; data: Partial<Task> }) =>
      api.patch(`/tasks/${id}`, data),
    onSuccess: (_, { id }) => {
      queryClient.invalidateQueries({ queryKey: ['task', id] })
      queryClient.invalidateQueries({ queryKey: ['tasks'] })
    },
  })
}

export function useMoveTask() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({
      id,
      statusId,
      order,
    }: { id: string; statusId: string; order: number }) =>
      api.post(`/tasks/${id}/move`, { statusId, order }),
    onMutate: async () => {
      await queryClient.cancelQueries({ queryKey: ['tasks'] })
      const previous = queryClient.getQueryData(['tasks'])
      return { previous }
    },
    onError: (_, __, context) => {
      if (context?.previous) {
        queryClient.setQueryData(['tasks'], context.previous)
      }
    },
    onSettled: () => {
      queryClient.invalidateQueries({ queryKey: ['tasks'] })
    },
  })
}

export function useRecentTasks() {
  return useQuery<Task[]>({
    queryKey: ['recent-tasks'],
    queryFn: () => api.get('/tasks/recent'),
  })
}
</file>

<file path="apps/web/src/hooks/use-workspace.ts">
import { api } from '@/lib/api'
import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'

export function useWorkspace(workspaceId?: string) {
  return useQuery({
    queryKey: ['workspace', workspaceId],
    queryFn: () => api.get(`/workspaces/${workspaceId}`),
    enabled: !!workspaceId,
  })
}

export function useWorkspaces() {
  return useQuery({
    queryKey: ['workspaces'],
    queryFn: () => api.get('/workspaces'),
  })
}

export function useUpdateWorkspace() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, data }: { id: string; data: Record<string, unknown> }) =>
      api.patch(`/workspaces/${id}`, data),
    onSuccess: (_, { id }) => {
      queryClient.invalidateQueries({ queryKey: ['workspace', id] })
    },
  })
}

export type DashboardStats = {
  openTasks: number
  completedTasks: number
  projects: number
  members: number
}

export function useDashboardStats() {
  return useQuery<DashboardStats>({
    queryKey: ['dashboard-stats'],
    queryFn: () => api.get('/dashboard/stats'),
  })
}
</file>

<file path="apps/web/src/lib/api.ts">
const API_BASE = import.meta.env.VITE_API_URL || '/api'

type FetchOptions = RequestInit & {
  params?: Record<string, string>
}

class ApiClient {
  private token: string | null = null

  setToken(token: string | null) {
    this.token = token
  }

  async fetch<T>(endpoint: string, options: FetchOptions = {}): Promise<T> {
    const { params, ...init } = options
    let url = `${API_BASE}${endpoint}`

    if (params) {
      const searchParams = new URLSearchParams(params)
      url += `?${searchParams.toString()}`
    }

    const headers = new Headers(init.headers)
    headers.set('Content-Type', 'application/json')

    if (this.token) {
      headers.set('Authorization', `Bearer ${this.token}`)
    }

    const response = await fetch(url, { ...init, headers })
    const data = await response.json()

    if (!response.ok) {
      throw new ApiError(
        data.error?.message || 'Request failed',
        response.status,
        data.error,
      )
    }

    return data.data
  }

  get<T>(endpoint: string, params?: Record<string, string>) {
    return this.fetch<T>(endpoint, { method: 'GET', params })
  }

  post<T>(endpoint: string, body?: unknown) {
    return this.fetch<T>(endpoint, {
      method: 'POST',
      body: JSON.stringify(body),
    })
  }

  patch<T>(endpoint: string, body?: unknown) {
    return this.fetch<T>(endpoint, {
      method: 'PATCH',
      body: JSON.stringify(body),
    })
  }

  delete<T>(endpoint: string) {
    return this.fetch<T>(endpoint, { method: 'DELETE' })
  }
}

export class ApiError extends Error {
  constructor(
    message: string,
    public status: number,
    public data?: unknown,
  ) {
    super(message)
    this.name = 'ApiError'
  }
}

export const api = new ApiClient()
</file>

<file path="apps/web/src/lib/auth-sync.tsx">
import { useAuth } from '@clerk/clerk-react'
import { useEffect, useState, type ReactNode } from 'react'
import { api } from './api'

export function AuthSync({ children }: { children: ReactNode }) {
  const { isLoaded, isSignedIn, getToken } = useAuth()
  const [tokenReady, setTokenReady] = useState(false)

  useEffect(() => {
    if (!isLoaded) return

    if (isSignedIn) {
      getToken().then((token) => {
        api.setToken(token)
        setTokenReady(true)
      })
    } else {
      api.setToken(null)
      setTokenReady(true)
    }
  }, [isLoaded, isSignedIn, getToken])

  // Wait for auth to load and token to sync before rendering children
  if (!isLoaded || !tokenReady) {
    return null
  }

  return <>{children}</>
}
</file>

<file path="apps/web/src/lib/query-client.ts">
import { QueryClient } from '@tanstack/react-query'
import { ApiError } from './api'

export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60, // 1 minute
      retry: (failureCount, error) => {
        if (error instanceof ApiError && error.status === 401) return false
        return failureCount < 3
      },
    },
    mutations: {
      onError: (error) => {
        console.error('Mutation error:', error)
      },
    },
  },
})
</file>

<file path="apps/web/src/routes/dashboard.tsx">
import { ActivityFeed } from '@/components/dashboard/activity-feed'
import { RecentTasks } from '@/components/dashboard/recent-tasks'
import { StatsCards } from '@/components/dashboard/stats-cards'
import { useDashboardStats } from '@/hooks/use-workspace'
import {
  Container,
  Skeleton,
  Stack,
  Text,
  ThemeIcon,
  Title,
} from '@mantine/core'
import {
  IconCheckbox,
  IconChecklist,
  IconFolder,
  IconUsers,
} from '@tabler/icons-react'

export default function Dashboard() {
  const { data: stats, isLoading } = useDashboardStats()

  if (isLoading) {
    return (
      <Container size="lg">
        <Stack gap="lg">
          <div>
            <Title order={2}>Dashboard</Title>
            <Text c="dimmed" size="sm">
              Welcome to Nexa Task
            </Text>
          </div>
          <Skeleton height={100} />
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <Skeleton height={300} />
            <Skeleton height={300} />
          </div>
        </Stack>
      </Container>
    )
  }

  return (
    <Container size="lg">
      <Stack gap="lg">
        <div>
          <Title order={2}>Dashboard</Title>
          <Text c="dimmed" size="sm">
            Welcome to Nexa Task
          </Text>
        </div>

        <StatsCards
          stats={[
            {
              label: 'Open Tasks',
              value: stats?.openTasks ?? 0,
              icon: (
                <ThemeIcon size="lg" variant="light" color="blue">
                  <IconChecklist size={20} />
                </ThemeIcon>
              ),
              color: 'blue',
            },
            {
              label: 'Completed',
              value: stats?.completedTasks ?? 0,
              icon: (
                <ThemeIcon size="lg" variant="light" color="green">
                  <IconCheckbox size={20} />
                </ThemeIcon>
              ),
              color: 'green',
            },
            {
              label: 'Projects',
              value: stats?.projects ?? 0,
              icon: (
                <ThemeIcon size="lg" variant="light" color="violet">
                  <IconFolder size={20} />
                </ThemeIcon>
              ),
              color: 'violet',
            },
            {
              label: 'Team Members',
              value: stats?.members ?? 0,
              icon: (
                <ThemeIcon size="lg" variant="light" color="orange">
                  <IconUsers size={20} />
                </ThemeIcon>
              ),
              color: 'orange',
            },
          ]}
        />

        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <RecentTasks />
          <ActivityFeed />
        </div>
      </Stack>
    </Container>
  )
}
</file>

<file path="apps/web/src/routes/index.tsx">
import { AppShellLayout } from '@/components/layouts/app-shell'
import { SignIn, SignUp, SignedIn, SignedOut } from '@clerk/clerk-react'
import { Navigate, createBrowserRouter } from 'react-router'
import Dashboard from './dashboard'
import ProjectDetail from './project-detail'
import Projects from './projects'
import Settings from './settings'

function ProtectedRoute({ children }: { children: React.ReactNode }) {
  return (
    <>
      <SignedIn>{children}</SignedIn>
      <SignedOut>
        <Navigate to="/sign-in" replace />
      </SignedOut>
    </>
  )
}

export const router = createBrowserRouter([
  {
    path: '/sign-in/*',
    element: (
      <div className="flex min-h-screen items-center justify-center">
        <SignIn routing="path" path="/sign-in" />
      </div>
    ),
  },
  {
    path: '/sign-up/*',
    element: (
      <div className="flex min-h-screen items-center justify-center">
        <SignUp routing="path" path="/sign-up" />
      </div>
    ),
  },
  {
    path: '/',
    element: (
      <ProtectedRoute>
        <AppShellLayout />
      </ProtectedRoute>
    ),
    children: [
      { index: true, element: <Navigate to="/dashboard" replace /> },
      { path: 'dashboard', element: <Dashboard /> },
      { path: 'projects', element: <Projects /> },
      { path: 'projects/:id', element: <ProjectDetail /> },
      { path: 'settings', element: <Settings /> },
    ],
  },
])
</file>

<file path="apps/web/src/routes/project-detail.tsx">
import { CalendarView } from '@/components/project-views/calendar/calendar-view'
import { KanbanBoard } from '@/components/project-views/kanban/kanban-board'
import { TaskTable } from '@/components/project-views/list/task-table'
import { ViewSwitcher } from '@/components/project-views/view-switcher'
import { useProject } from '@/hooks/use-projects'
import { Container, Group, Skeleton, Stack, Text, Title } from '@mantine/core'
import { useParams, useSearchParams } from 'react-router'

// Default workflow statuses if project doesn't have them yet
const defaultStatuses = [
  { id: 'backlog', name: 'Backlog', color: '#868e96' },
  { id: 'todo', name: 'To Do', color: '#228be6' },
  { id: 'in-progress', name: 'In Progress', color: '#fab005' },
  { id: 'review', name: 'Review', color: '#be4bdb' },
  { id: 'done', name: 'Done', color: '#40c057' },
]

export default function ProjectDetail() {
  const { id } = useParams()
  const [searchParams] = useSearchParams()
  const view = searchParams.get('view') ?? 'kanban'
  const { data: project, isLoading } = useProject(id)

  if (isLoading) {
    return (
      <Container size="lg">
        <Skeleton height={40} mb="xl" />
        <Skeleton height={400} />
      </Container>
    )
  }

  if (!project) {
    return (
      <Container size="lg">
        <Text c="dimmed">Project not found</Text>
      </Container>
    )
  }

  const statuses = project.workflowStatuses?.length
    ? project.workflowStatuses
    : defaultStatuses

  return (
    <Container size="lg" className="h-full">
      <Stack gap="lg" className="h-full">
        <Group justify="space-between">
          <div>
            <Title order={2}>{project.name}</Title>
            {project.description && (
              <Text c="dimmed" size="sm">
                {project.description}
              </Text>
            )}
          </div>
          <ViewSwitcher />
        </Group>

        {view === 'kanban' && id && (
          <KanbanBoard projectId={id} statuses={statuses} />
        )}
        {view === 'list' && id && <TaskTable projectId={id} />}
        {view === 'calendar' && id && <CalendarView projectId={id} />}
      </Stack>
    </Container>
  )
}
</file>

<file path="apps/web/src/routes/projects.tsx">
import { CreateProjectModal } from "@/components/projects/create-project-modal";
import { ProjectList } from "@/components/projects/project-list";
import { Button, Container, Group, Stack, Text, Title } from "@mantine/core";
import { useDisclosure } from "@mantine/hooks";

export default function Projects() {
  const [opened, { open, close }] = useDisclosure(false);

  return (
    <Container size="lg">
      <Stack gap="lg">
        <Group justify="space-between">
          <div>
            <Title order={2}>Projects</Title>
            <Text c="dimmed" size="sm">
              Manage your projects
            </Text>
          </div>
          <Button onClick={open}>New Project</Button>
        </Group>

        <ProjectList onCreate={open} />

        <CreateProjectModal opened={opened} onClose={close} />
      </Stack>
    </Container>
  );
}
</file>

<file path="apps/web/src/routes/settings.tsx">
import { Paper, Stack, Text, Title } from '@mantine/core'

export default function Settings() {
  return (
    <Stack gap="lg">
      <Title order={2}>Settings</Title>
      <Paper p="md" radius="md" withBorder>
        <Text c="dimmed">Settings page coming soon.</Text>
      </Paper>
    </Stack>
  )
}
</file>

<file path="apps/web/src/index.css">
@layer theme, base, mantine, components, utilities;

@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/preflight.css" layer(base);
@import "@mantine/core/styles.layer.css" layer(mantine);
@import "tailwindcss/utilities.css" layer(utilities);

:root {
  --font-family: "Inter", system-ui, sans-serif;
}

body {
  font-family: var(--font-family);
}
</file>

<file path="apps/web/src/main.tsx">
import { ClerkProvider } from '@clerk/clerk-react'
import { MantineProvider, createTheme } from '@mantine/core'
import { Notifications } from '@mantine/notifications'
import { QueryClientProvider } from '@tanstack/react-query'
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import { RouterProvider } from 'react-router'
import { AuthSync } from './lib/auth-sync'
import { queryClient } from './lib/query-client'
import { router } from './routes'
import '@mantine/core/styles.layer.css'
import '@mantine/notifications/styles.css'
import './index.css'

const CLERK_KEY = import.meta.env.VITE_CLERK_PUBLISHABLE_KEY

if (!CLERK_KEY) {
  throw new Error('VITE_CLERK_PUBLISHABLE_KEY is required')
}

const theme = createTheme({
  fontFamily: 'Inter, system-ui, sans-serif',
  primaryColor: 'blue',
})

const rootElement = document.getElementById('root')
if (!rootElement) throw new Error('Root element not found')

createRoot(rootElement).render(
  <StrictMode>
    <ClerkProvider publishableKey={CLERK_KEY}>
      <AuthSync>
        <QueryClientProvider client={queryClient}>
          <MantineProvider theme={theme}>
            <Notifications />
            <RouterProvider router={router} />
          </MantineProvider>
        </QueryClientProvider>
      </AuthSync>
    </ClerkProvider>
  </StrictMode>,
)
</file>

<file path="apps/web/tests/e2e/auth.spec.ts">
import { expect, test } from '@playwright/test'

test.describe('Authentication', () => {
  test('redirects unauthenticated users to sign-in', async ({ page }) => {
    // Navigate to protected route
    await page.goto('/dashboard')

    // Should redirect to Clerk sign-in
    await expect(page).toHaveURL(/sign-in/)
  })

  test('landing page loads correctly', async ({ page }) => {
    await page.goto('/')

    // Verify page loads without errors
    await expect(page).not.toHaveURL(/error/)
  })

  test('sign-in page is accessible', async ({ page }) => {
    await page.goto('/sign-in')

    // Clerk sign-in component should be present
    await expect(page.locator('body')).toBeVisible()
  })
})
</file>

<file path="apps/web/tests/e2e/tasks.spec.ts">
import { expect, test } from '@playwright/test'

// Note: These tests require a logged-in user session
// In CI, you would use Clerk's test mode or session tokens
test.describe('Task Management', () => {
  test.skip('creates a new task in kanban board', async ({ page }) => {
    // This test requires authentication
    // Implement with Clerk test mode in production

    await page.goto('/projects/test-project')

    // Click add task button
    await page.getByRole('button', { name: /add task/i }).click()

    // Fill in task title
    await page.getByPlaceholder(/task title/i).fill('E2E Test Task')
    await page.keyboard.press('Enter')

    // Verify task appears in the column
    await expect(page.getByText('E2E Test Task')).toBeVisible()
  })

  test.skip('drags task between columns', async ({ page }) => {
    // This test requires authentication and existing data
    await page.goto('/projects/test-project')

    // Get the task card
    const taskCard = page.getByText('E2E Test Task')

    // Get the target column
    const doneColumn = page.locator('[data-status="done"]')

    // Perform drag and drop
    await taskCard.dragTo(doneColumn)

    // Verify task moved
    await expect(doneColumn.getByText('E2E Test Task')).toBeVisible()
  })

  test.skip('opens task detail drawer', async ({ page }) => {
    await page.goto('/projects/test-project')

    // Click on a task
    await page.getByText('E2E Test Task').click()

    // Verify drawer opens
    await expect(page.getByRole('dialog')).toBeVisible()

    // Verify task title is shown
    await expect(
      page.getByRole('heading', { name: 'E2E Test Task' }),
    ).toBeVisible()
  })

  test.skip('updates task priority', async ({ page }) => {
    await page.goto('/projects/test-project')

    // Open task detail
    await page.getByText('E2E Test Task').click()

    // Change priority
    await page.getByLabel('Priority').click()
    await page.getByRole('option', { name: 'High' }).click()

    // Verify priority changed
    await expect(page.getByLabel('Priority')).toHaveValue('high')
  })

  test.skip('adds a comment to task', async ({ page }) => {
    await page.goto('/projects/test-project')

    // Open task detail
    await page.getByText('E2E Test Task').click()

    // Navigate to comments
    await page.getByRole('tab', { name: 'Comments' }).click()

    // Add comment
    await page
      .getByPlaceholder(/write a comment/i)
      .fill('This is an E2E test comment')
    await page.getByRole('button', { name: /submit|send/i }).click()

    // Verify comment appears
    await expect(page.getByText('This is an E2E test comment')).toBeVisible()
  })

  test.skip('deletes a task', async ({ page }) => {
    await page.goto('/projects/test-project')

    // Open task detail
    await page.getByText('E2E Test Task').click()

    // Click delete button
    await page.getByRole('button', { name: /delete/i }).click()

    // Confirm deletion
    await page.getByRole('button', { name: /confirm|yes/i }).click()

    // Verify task is removed
    await expect(page.getByText('E2E Test Task')).not.toBeVisible()
  })
})
</file>

<file path="apps/web/index.html">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nexa Task</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
</file>

<file path="apps/web/package.json">
{
  "name": "@repo/web",
  "version": "0.0.0",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "preview": "vite preview",
    "test": "vitest",
    "test:e2e": "playwright test",
    "test:e2e:ui": "playwright test --ui",
    "typecheck": "tsc --noEmit"
  },
  "dependencies": {
    "@clerk/clerk-react": "^5.20.0",
    "@dnd-kit/core": "^6.3.1",
    "@dnd-kit/sortable": "^10.0.0",
    "@dnd-kit/utilities": "^3.2.2",
    "@mantine/core": "^7.16.0",
    "@mantine/dates": "^8.3.12",
    "@mantine/form": "^8.3.12",
    "@mantine/hooks": "^7.16.0",
    "@mantine/notifications": "^8.3.12",
    "@repo/shared": "workspace:*",
    "@repo/ui": "workspace:*",
    "@tabler/icons-react": "^3.36.1",
    "@tanstack/react-query": "^5.64.0",
    "@tiptap/extension-link": "^3.15.3",
    "@tiptap/extension-placeholder": "^3.15.3",
    "@tiptap/extension-task-item": "^3.15.3",
    "@tiptap/extension-task-list": "^3.15.3",
    "@tiptap/react": "^3.15.3",
    "@tiptap/starter-kit": "^3.15.3",
    "date-fns": "^4.1.0",
    "gsap": "^3.12.0",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "react-router": "^7.1.0",
    "zustand": "^5.0.10"
  },
  "devDependencies": {
    "@playwright/test": "^1.57.0",
    "@repo/typescript-config": "workspace:*",
    "@tailwindcss/postcss": "^4.1.18",
    "@tailwindcss/vite": "^4.0.0",
    "@types/react": "^19.0.0",
    "@types/react-dom": "^19.0.0",
    "@vitejs/plugin-react": "^4.3.0",
    "postcss": "^8.5.0",
    "postcss-preset-mantine": "^1.17.0",
    "tailwindcss": "^4.0.0",
    "typescript": "^5.7.0",
    "vite": "^6.0.0",
    "vitest": "^3.0.0"
  }
}
</file>

<file path="apps/web/playwright.config.ts">
import { defineConfig, devices } from '@playwright/test'

export default defineConfig({
  testDir: './tests/e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: process.env.CI ? 'github' : 'html',

  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
    screenshot: 'only-on-failure',
  },

  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
  ],

  webServer: {
    command: 'bun dev',
    url: 'http://localhost:3000',
    reuseExistingServer: !process.env.CI,
    timeout: 120 * 1000,
  },
})
</file>

<file path="apps/web/postcss.config.cjs">
module.exports = {
  plugins: {
    'postcss-preset-mantine': {},
    '@tailwindcss/postcss': {},
  },
}
</file>

<file path="apps/web/tsconfig.json">
{
  "extends": "@repo/typescript-config/react.json",
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
</file>

<file path="apps/web/tsconfig.tsbuildinfo">
{"root":["./src/main.tsx","./src/components/comments/activity-timeline.tsx","./src/components/comments/comment-editor.tsx","./src/components/comments/comment-item.tsx","./src/components/comments/comments-section.tsx","./src/components/dashboard/activity-feed.tsx","./src/components/dashboard/recent-tasks.tsx","./src/components/dashboard/stats-cards.tsx","./src/components/layouts/app-shell.tsx","./src/components/project-views/view-switcher.tsx","./src/components/project-views/calendar/calendar-view.tsx","./src/components/project-views/kanban/add-task-inline.tsx","./src/components/project-views/kanban/kanban-board.tsx","./src/components/project-views/kanban/kanban-column.tsx","./src/components/project-views/kanban/task-card.tsx","./src/components/project-views/list/task-table.tsx","./src/components/projects/create-project-modal.tsx","./src/components/projects/project-card.tsx","./src/components/projects/project-list.tsx","./src/components/task-detail/task-attachments.tsx","./src/components/task-detail/task-dependencies.tsx","./src/components/task-detail/task-detail-panel.tsx","./src/components/task-detail/task-editor.tsx","./src/components/task-detail/task-sidebar.tsx","./src/hooks/use-auth.ts","./src/hooks/use-comments.ts","./src/hooks/use-debounce.ts","./src/hooks/use-projects.ts","./src/hooks/use-tasks.ts","./src/hooks/use-workspace.ts","./src/lib/api.ts","./src/lib/auth-sync.tsx","./src/lib/query-client.ts","./src/routes/dashboard.tsx","./src/routes/index.tsx","./src/routes/project-detail.tsx","./src/routes/projects.tsx","./src/routes/settings.tsx"],"version":"5.9.3"}
</file>

<file path="apps/web/vite.config.ts">
import path from 'node:path'
import tailwindcss from '@tailwindcss/vite'
import react from '@vitejs/plugin-react'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [react(), tailwindcss()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  server: {
    port: 5173,
    proxy: {
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
      },
    },
  },
})
</file>

<file path="docker/api.Dockerfile">
# Stage 1: Base
FROM oven/bun:1.2-alpine AS base
WORKDIR /app

# Stage 2: Prune dependencies with turbo
FROM base AS pruner
RUN bun add -g turbo
COPY . .
RUN turbo prune @repo/api --docker

# Stage 3: Install dependencies
FROM base AS installer
COPY --from=pruner /app/out/json/ .
COPY --from=pruner /app/out/bun.lock ./bun.lock
RUN bun install --frozen-lockfile --production

# Stage 4: Build application
FROM base AS builder
COPY --from=installer /app/ .
COPY --from=pruner /app/out/full/ .
RUN bun run build --filter=@repo/api

# Stage 5: Production runner
FROM oven/bun:1.2-alpine AS runner
WORKDIR /app

# Security: Create non-root user
RUN addgroup --system --gid 1001 app && \
    adduser --system --uid 1001 app

USER app

# Copy production dependencies and built code
COPY --from=installer --chown=app:app /app/node_modules ./node_modules
COPY --from=builder --chown=app:app /app/apps/api/dist ./dist
COPY --from=builder --chown=app:app /app/packages/db ./packages/db
COPY --from=builder --chown=app:app /app/packages/shared ./packages/shared

ENV NODE_ENV=production
ENV PORT=3001

EXPOSE 3001

HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD wget --no-verbose --tries=1 --spider http://localhost:3001/health || exit 1

CMD ["bun", "run", "dist/index.js"]
</file>

<file path="docker/docker-compose.dev.yml">
# Development-only services (PostgreSQL + Redis)
# Usage: docker compose -f docker/docker-compose.dev.yml up -d

services:
  postgres:
    image: postgres:16-alpine
    container_name: nexa-task-postgres
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: nexa_task
    ports:
      - '5433:5432'
    volumes:
      - postgres_dev_data:/var/lib/postgresql/data
    healthcheck:
      test: ['CMD-SHELL', 'pg_isready -U postgres']
      interval: 5s
      timeout: 5s
      retries: 5

  redis:
    image: redis:7-alpine
    container_name: nexa-task-redis
    ports:
      - '6380:6379'
    volumes:
      - redis_dev_data:/data
    healthcheck:
      test: ['CMD', 'redis-cli', 'ping']
      interval: 5s
      timeout: 5s
      retries: 5

volumes:
  postgres_dev_data:
  redis_dev_data:
</file>

<file path="docker/docker-compose.prod.yml">
services:
  postgres:
    image: postgres:16-alpine
    environment:
      POSTGRES_USER: ${POSTGRES_USER}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_DB: ${POSTGRES_DB}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ['CMD-SHELL', 'pg_isready -U ${POSTGRES_USER}']
      interval: 10s
      timeout: 5s
      retries: 5
    restart: always
    deploy:
      resources:
        limits:
          memory: 512M

  redis:
    image: redis:7-alpine
    command: redis-server --appendonly yes --requirepass ${REDIS_PASSWORD}
    volumes:
      - redis_data:/data
    healthcheck:
      test: ['CMD', 'redis-cli', '-a', '${REDIS_PASSWORD}', 'ping']
      interval: 10s
      timeout: 5s
      retries: 5
    restart: always
    deploy:
      resources:
        limits:
          memory: 128M

  api:
    image: ${REGISTRY}/${IMAGE_NAME}-api:${TAG}
    environment:
      DATABASE_URL: postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?sslmode=disable
      REDIS_URL: redis://:${REDIS_PASSWORD}@redis:6379
      CLERK_SECRET_KEY: ${CLERK_SECRET_KEY}
      CLERK_WEBHOOK_SECRET: ${CLERK_WEBHOOK_SECRET}
      NODE_ENV: production
      PORT: 3001
      CORS_ORIGIN: ${CORS_ORIGIN}
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy
    restart: always
    deploy:
      resources:
        limits:
          memory: 512M
    healthcheck:
      test: ['CMD', 'wget', '--no-verbose', '--tries=1', '--spider', 'http://localhost:3001/health']
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

  web:
    image: ${REGISTRY}/${IMAGE_NAME}-web:${TAG}
    ports:
      - '80:80'
      - '443:443'
    depends_on:
      - api
    restart: always
    deploy:
      resources:
        limits:
          memory: 128M
    healthcheck:
      test: ['CMD', 'wget', '--no-verbose', '--tries=1', '--spider', 'http://localhost/health']
      interval: 30s
      timeout: 10s
      retries: 3

volumes:
  postgres_data:
  redis_data:
</file>

<file path="docker/nginx.conf">
server {
    listen 80;
    server_name _;
    root /usr/share/nginx/html;
    index index.html;

    # Gzip compression
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_proxied expired no-cache no-store private auth;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript image/svg+xml;

    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header Referrer-Policy "strict-origin-when-cross-origin" always;

    # SPA routing - fallback to index.html for client-side routing
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Cache static assets aggressively (immutable assets from Vite)
    location ~* \.(?:css|js)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        access_log off;
    }

    # Cache images and fonts
    location ~* \.(?:png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        access_log off;
    }

    # API proxy - forward to API service
    location /api {
        proxy_pass http://api:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # WebSocket proxy
    location /ws {
        proxy_pass http://api:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_read_timeout 86400;
    }

    # Health check endpoint
    location /health {
        access_log off;
        return 200 "OK";
        add_header Content-Type text/plain;
    }

    # Deny access to hidden files
    location ~ /\. {
        deny all;
        access_log off;
        log_not_found off;
    }
}
</file>

<file path="docker/web.Dockerfile">
# Stage 1: Base
FROM oven/bun:1.2-alpine AS base
WORKDIR /app

# Stage 2: Prune dependencies with turbo
FROM base AS pruner
RUN bun add -g turbo
COPY . .
RUN turbo prune @repo/web --docker

# Stage 3: Install dependencies
FROM base AS installer
COPY --from=pruner /app/out/json/ .
COPY --from=pruner /app/out/bun.lock ./bun.lock
RUN bun install --frozen-lockfile

# Stage 4: Build application
FROM base AS builder
COPY --from=installer /app/ .
COPY --from=pruner /app/out/full/ .

# Build-time arguments for Vite env vars
ARG VITE_API_URL
ARG VITE_CLERK_PUBLISHABLE_KEY
ARG VITE_WS_URL

ENV VITE_API_URL=$VITE_API_URL
ENV VITE_CLERK_PUBLISHABLE_KEY=$VITE_CLERK_PUBLISHABLE_KEY
ENV VITE_WS_URL=$VITE_WS_URL

RUN bun run build --filter=@repo/web

# Stage 5: Nginx for static hosting
FROM nginx:alpine AS runner

# Copy built static files
COPY --from=builder /app/apps/web/dist /usr/share/nginx/html

# Copy nginx configuration
COPY docker/nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD wget --no-verbose --tries=1 --spider http://localhost:80/ || exit 1

CMD ["nginx", "-g", "daemon off;"]
</file>

<file path="docs/tech-stack.md">
# Nexa Task - Tech Stack

## Overview
Internal task management platform for development and product teams.

## Stack Summary

| Layer | Technology | Purpose |
|-------|------------|---------|
| Runtime | Bun | Fast JS/TS runtime |
| Backend | Hono | Lightweight web framework |
| Frontend | React (Vite) | SPA framework |
| UI Library | Mantine v7 | Component library |
| Styling | Tailwind CSS v4 | Utility-first CSS |
| Animation | GSAP | UI animations |
| Database | PostgreSQL | Relational data store |
| ORM | Drizzle | Type-safe SQL |
| Cache | Redis | Session/cache store |
| Auth | Clerk | Authentication + RBAC |
| State | TanStack Query | Server state management |
| Routing | React Router v7 | Client-side routing |
| Monorepo | Turborepo | Build orchestration |
| Container | Docker | Deployment |

## Architecture

```
nexa-task/
 apps/
    web/          # React frontend
    api/          # Hono backend
 packages/
    db/           # Drizzle schema + migrations
    shared/       # Shared types + utils
    ui/           # Shared UI components
 docker/
 turbo.json
```

## Key Decisions

### Why Bun + Hono?
- Single runtime for frontend build + backend
- Hono's edge-ready design, fast routing
- Native WebSocket support for real-time

### Why Drizzle over Prisma?
- Better Bun compatibility
- SQL-first approach, lighter bundle
- Type-safe without code generation overhead

### Why Clerk for Auth?
- Built-in RBAC, organizations
- SSO support (Google, Azure AD)
- Invitation system included
- React + backend SDKs

### Why Mantine + Tailwind?
- Mantine: Rich components (DataGrid, RichText, DatePicker)
- Tailwind v4: Custom styling, animations
- Compatible via CSS layers

## Real-Time Strategy
- Hono WebSocket for task updates
- Redis pub/sub for multi-instance sync
- Optimistic UI updates with TanStack Query
</file>

<file path="packages/db/src/schema/activity-logs.ts">
import {
  index,
  jsonb,
  pgEnum,
  pgTable,
  timestamp,
  uuid,
} from 'drizzle-orm/pg-core'
import { users } from './users'

export const entityTypeEnum = pgEnum('entity_type', [
  'workspace',
  'project',
  'task',
  'comment',
])

export const actionTypeEnum = pgEnum('action_type', [
  'created',
  'updated',
  'deleted',
  'assigned',
  'commented',
  'status_changed',
  'moved',
])

export type ActivityChanges = Record<string, { old: unknown; new: unknown }>

export const activityLogs = pgTable(
  'activity_logs',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    workspaceId: uuid('workspace_id').notNull(),
    entityType: entityTypeEnum('entity_type').notNull(),
    entityId: uuid('entity_id').notNull(),
    userId: uuid('user_id')
      .notNull()
      .references(() => users.id),
    action: actionTypeEnum('action').notNull(),
    changes: jsonb('changes').$type<ActivityChanges>(),
    metadata: jsonb('metadata'),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('activity_logs_workspace_idx').on(t.workspaceId),
    index('activity_logs_entity_idx').on(t.entityType, t.entityId),
    index('activity_logs_user_idx').on(t.userId),
    index('activity_logs_created_idx').on(t.createdAt),
  ],
)
</file>

<file path="packages/db/src/schema/attachments.ts">
import {
  index,
  integer,
  pgTable,
  text,
  timestamp,
  uuid,
} from 'drizzle-orm/pg-core'
import { tasks } from './tasks'
import { users } from './users'

export const attachments = pgTable(
  'attachments',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    taskId: uuid('task_id')
      .notNull()
      .references(() => tasks.id, { onDelete: 'cascade' }),
    uploadedById: uuid('uploaded_by_id')
      .notNull()
      .references(() => users.id),
    fileName: text('file_name').notNull(),
    fileUrl: text('file_url').notNull(),
    fileSize: integer('file_size').notNull(),
    mimeType: text('mime_type').notNull(),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [index('attachments_task_idx').on(t.taskId)],
)
</file>

<file path="packages/db/src/schema/comments.ts">
import { index, pgTable, text, timestamp, uuid } from 'drizzle-orm/pg-core'
import { tasks } from './tasks'
import { users } from './users'

export const comments = pgTable(
  'comments',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    taskId: uuid('task_id')
      .notNull()
      .references(() => tasks.id, { onDelete: 'cascade' }),
    userId: uuid('user_id')
      .notNull()
      .references(() => users.id),
    content: text('content').notNull(),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
    updatedAt: timestamp('updated_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('comments_task_idx').on(t.taskId),
    index('comments_user_idx').on(t.userId),
    index('comments_task_created_idx').on(t.taskId, t.createdAt),
  ],
)
</file>

<file path="packages/db/src/schema/index.ts">
export * from './users'
export * from './workspaces'
export * from './projects'
export * from './workflow-statuses'
export * from './tasks'
export * from './task-dependencies'
export * from './task-watchers'
export * from './comments'
export * from './attachments'
export * from './activity-logs'
export * from './relations'
</file>

<file path="packages/db/src/schema/projects.ts">
import {
  index,
  pgEnum,
  pgTable,
  text,
  timestamp,
  uuid,
} from 'drizzle-orm/pg-core'
import { users } from './users'
import { workspaces } from './workspaces'

export const projectStatusEnum = pgEnum('project_status', [
  'active',
  'archived',
  'deleted',
])

export const projects = pgTable(
  'projects',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    workspaceId: uuid('workspace_id')
      .notNull()
      .references(() => workspaces.id, { onDelete: 'cascade' }),
    name: text('name').notNull(),
    description: text('description'),
    status: projectStatusEnum('status').notNull().default('active'),
    createdById: uuid('created_by_id')
      .notNull()
      .references(() => users.id),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
    updatedAt: timestamp('updated_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('projects_workspace_idx').on(t.workspaceId),
    index('projects_status_idx').on(t.status),
    index('projects_workspace_status_idx').on(t.workspaceId, t.status),
  ],
)
</file>

<file path="packages/db/src/schema/relations.ts">
import { relations } from 'drizzle-orm'
import { activityLogs } from './activity-logs'
import { attachments } from './attachments'
import { comments } from './comments'
import { projects } from './projects'
import { taskDependencies } from './task-dependencies'
import { taskWatchers } from './task-watchers'
import { tasks } from './tasks'
import { users } from './users'
import { workflowStatuses } from './workflow-statuses'
import { workspaceMembers, workspaces } from './workspaces'

export const usersRelations = relations(users, ({ many }) => ({
  ownedWorkspaces: many(workspaces),
  workspaceMemberships: many(workspaceMembers),
  createdProjects: many(projects),
  assignedTasks: many(tasks, { relationName: 'assignedTasks' }),
  createdTasks: many(tasks, { relationName: 'createdTasks' }),
  comments: many(comments),
  activityLogs: many(activityLogs),
}))

export const workspacesRelations = relations(workspaces, ({ one, many }) => ({
  owner: one(users, { fields: [workspaces.ownerId], references: [users.id] }),
  members: many(workspaceMembers),
  projects: many(projects),
}))

export const workspaceMembersRelations = relations(
  workspaceMembers,
  ({ one }) => ({
    workspace: one(workspaces, {
      fields: [workspaceMembers.workspaceId],
      references: [workspaces.id],
    }),
    user: one(users, {
      fields: [workspaceMembers.userId],
      references: [users.id],
    }),
  }),
)

export const projectsRelations = relations(projects, ({ one, many }) => ({
  workspace: one(workspaces, {
    fields: [projects.workspaceId],
    references: [workspaces.id],
  }),
  createdBy: one(users, {
    fields: [projects.createdById],
    references: [users.id],
  }),
  tasks: many(tasks),
  workflowStatuses: many(workflowStatuses),
}))

export const workflowStatusesRelations = relations(
  workflowStatuses,
  ({ one, many }) => ({
    project: one(projects, {
      fields: [workflowStatuses.projectId],
      references: [projects.id],
    }),
    tasks: many(tasks),
  }),
)

export const tasksRelations = relations(tasks, ({ one, many }) => ({
  project: one(projects, {
    fields: [tasks.projectId],
    references: [projects.id],
  }),
  status: one(workflowStatuses, {
    fields: [tasks.statusId],
    references: [workflowStatuses.id],
  }),
  assignee: one(users, {
    fields: [tasks.assigneeId],
    references: [users.id],
    relationName: 'assignedTasks',
  }),
  createdBy: one(users, {
    fields: [tasks.createdById],
    references: [users.id],
    relationName: 'createdTasks',
  }),
  comments: many(comments),
  attachments: many(attachments),
  watchers: many(taskWatchers),
  dependencies: many(taskDependencies, { relationName: 'taskDependencies' }),
  dependents: many(taskDependencies, { relationName: 'taskDependents' }),
}))

export const taskDependenciesRelations = relations(
  taskDependencies,
  ({ one }) => ({
    task: one(tasks, {
      fields: [taskDependencies.taskId],
      references: [tasks.id],
      relationName: 'taskDependencies',
    }),
    dependsOn: one(tasks, {
      fields: [taskDependencies.dependsOnId],
      references: [tasks.id],
      relationName: 'taskDependents',
    }),
  }),
)

export const taskWatchersRelations = relations(taskWatchers, ({ one }) => ({
  task: one(tasks, {
    fields: [taskWatchers.taskId],
    references: [tasks.id],
  }),
  user: one(users, {
    fields: [taskWatchers.userId],
    references: [users.id],
  }),
}))

export const commentsRelations = relations(comments, ({ one }) => ({
  task: one(tasks, {
    fields: [comments.taskId],
    references: [tasks.id],
  }),
  user: one(users, {
    fields: [comments.userId],
    references: [users.id],
  }),
}))

export const attachmentsRelations = relations(attachments, ({ one }) => ({
  task: one(tasks, {
    fields: [attachments.taskId],
    references: [tasks.id],
  }),
  uploadedBy: one(users, {
    fields: [attachments.uploadedById],
    references: [users.id],
  }),
}))

export const activityLogsRelations = relations(activityLogs, ({ one }) => ({
  user: one(users, {
    fields: [activityLogs.userId],
    references: [users.id],
  }),
}))
</file>

<file path="packages/db/src/schema/task-dependencies.ts">
import { index, pgTable, timestamp, unique, uuid } from 'drizzle-orm/pg-core'
import { tasks } from './tasks'

export const taskDependencies = pgTable(
  'task_dependencies',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    taskId: uuid('task_id')
      .notNull()
      .references(() => tasks.id, { onDelete: 'cascade' }),
    dependsOnId: uuid('depends_on_id')
      .notNull()
      .references(() => tasks.id, { onDelete: 'cascade' }),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('task_deps_task_idx').on(t.taskId),
    index('task_deps_depends_idx').on(t.dependsOnId),
    unique('task_deps_unique').on(t.taskId, t.dependsOnId),
  ],
)
</file>

<file path="packages/db/src/schema/task-watchers.ts">
import { index, pgTable, timestamp, unique, uuid } from 'drizzle-orm/pg-core'
import { tasks } from './tasks'
import { users } from './users'

export const taskWatchers = pgTable(
  'task_watchers',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    taskId: uuid('task_id')
      .notNull()
      .references(() => tasks.id, { onDelete: 'cascade' }),
    userId: uuid('user_id')
      .notNull()
      .references(() => users.id, { onDelete: 'cascade' }),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('task_watchers_task_idx').on(t.taskId),
    index('task_watchers_user_idx').on(t.userId),
    unique('task_watchers_unique').on(t.taskId, t.userId),
  ],
)
</file>

<file path="packages/db/src/schema/tasks.ts">
import {
  index,
  integer,
  pgEnum,
  pgTable,
  text,
  timestamp,
  uuid,
} from 'drizzle-orm/pg-core'
import { projects } from './projects'
import { users } from './users'
import { workflowStatuses } from './workflow-statuses'

export const taskPriorityEnum = pgEnum('task_priority', [
  'low',
  'medium',
  'high',
  'urgent',
])

export const tasks = pgTable(
  'tasks',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    projectId: uuid('project_id')
      .notNull()
      .references(() => projects.id, { onDelete: 'cascade' }),
    title: text('title').notNull(),
    description: text('description'),
    statusId: uuid('status_id').references(() => workflowStatuses.id, {
      onDelete: 'set null',
    }),
    priority: taskPriorityEnum('priority').notNull().default('medium'),
    assigneeId: uuid('assignee_id').references(() => users.id, {
      onDelete: 'set null',
    }),
    createdById: uuid('created_by_id')
      .notNull()
      .references(() => users.id),
    order: integer('order').notNull().default(0),
    dueDate: timestamp('due_date', { withTimezone: true }),
    completedAt: timestamp('completed_at', { withTimezone: true }),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
    updatedAt: timestamp('updated_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('tasks_project_idx').on(t.projectId),
    index('tasks_status_idx').on(t.statusId),
    index('tasks_assignee_idx').on(t.assigneeId),
    index('tasks_project_status_idx').on(t.projectId, t.statusId),
    index('tasks_due_date_idx').on(t.dueDate),
    index('tasks_project_order_idx').on(t.projectId, t.order),
  ],
)
</file>

<file path="packages/db/src/schema/users.ts">
import { index, pgTable, text, timestamp, uuid } from 'drizzle-orm/pg-core'

export const users = pgTable(
  'users',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    clerkId: text('clerk_id').notNull().unique(),
    email: text('email').notNull().unique(),
    name: text('name').notNull(),
    avatarUrl: text('avatar_url'),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
    updatedAt: timestamp('updated_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('users_clerk_id_idx').on(t.clerkId),
    index('users_email_idx').on(t.email),
  ],
)
</file>

<file path="packages/db/src/schema/workflow-statuses.ts">
import {
  boolean,
  index,
  integer,
  pgTable,
  text,
  timestamp,
  uuid,
} from 'drizzle-orm/pg-core'
import { projects } from './projects'

export const workflowStatuses = pgTable(
  'workflow_statuses',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    projectId: uuid('project_id')
      .notNull()
      .references(() => projects.id, { onDelete: 'cascade' }),
    name: text('name').notNull(),
    color: text('color').notNull().default('#6366f1'),
    order: integer('order').notNull(),
    isDefault: boolean('is_default').default(false),
    isFinal: boolean('is_final').default(false),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('workflow_statuses_project_idx').on(t.projectId),
    index('workflow_statuses_project_order_idx').on(t.projectId, t.order),
  ],
)
</file>

<file path="packages/db/src/schema/workspaces.ts">
import {
  index,
  jsonb,
  pgEnum,
  pgTable,
  text,
  timestamp,
  uuid,
} from 'drizzle-orm/pg-core'
import { users } from './users'

export const workspaceRoleEnum = pgEnum('workspace_role', [
  'super_admin',
  'pm',
  'member',
  'guest',
])

export type WorkspaceSettings = {
  defaultProjectView?: 'kanban' | 'list' | 'calendar'
  allowGuestInvites?: boolean
}

export const workspaces = pgTable(
  'workspaces',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    clerkOrgId: text('clerk_org_id').notNull().unique(),
    name: text('name').notNull(),
    slug: text('slug').notNull().unique(),
    ownerId: uuid('owner_id')
      .notNull()
      .references(() => users.id),
    settings: jsonb('settings').$type<WorkspaceSettings>().default({}),
    createdAt: timestamp('created_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
    updatedAt: timestamp('updated_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('workspaces_clerk_org_idx').on(t.clerkOrgId),
    index('workspaces_slug_idx').on(t.slug),
    index('workspaces_owner_idx').on(t.ownerId),
  ],
)

export const workspaceMembers = pgTable(
  'workspace_members',
  {
    id: uuid('id').defaultRandom().primaryKey(),
    workspaceId: uuid('workspace_id')
      .notNull()
      .references(() => workspaces.id, { onDelete: 'cascade' }),
    userId: uuid('user_id')
      .notNull()
      .references(() => users.id, { onDelete: 'cascade' }),
    role: workspaceRoleEnum('role').notNull().default('member'),
    joinedAt: timestamp('joined_at', { withTimezone: true })
      .defaultNow()
      .notNull(),
  },
  (t) => [
    index('workspace_members_workspace_idx').on(t.workspaceId),
    index('workspace_members_user_idx').on(t.userId),
  ],
)
</file>

<file path="packages/db/src/client.ts">
import { drizzle } from 'drizzle-orm/postgres-js'
import postgres from 'postgres'

const connectionString = process.env.DATABASE_URL ?? ''

const client = postgres(connectionString)
export const db = drizzle(client)
</file>

<file path="packages/db/src/index.ts">
import { drizzle } from 'drizzle-orm/postgres-js'
import postgres from 'postgres'
import * as schema from './schema'

const connectionString = process.env.DATABASE_URL ?? ''
const client = postgres(connectionString)

export const db = drizzle(client, { schema })
export type Database = typeof db

export * from './schema'
</file>

<file path="packages/db/drizzle.config.ts">
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  schema: './src/schema/index.ts',
  out: './drizzle',
  dialect: 'postgresql',
  dbCredentials: {
    url: process.env.DATABASE_URL ?? '',
  },
})
</file>

<file path="packages/db/package.json">
{
  "name": "@repo/db",
  "version": "0.0.0",
  "private": true,
  "main": "./src/index.ts",
  "types": "./src/index.ts",
  "exports": {
    ".": "./src/index.ts",
    "./schema": "./src/schema/index.ts"
  },
  "scripts": {
    "db:push": "drizzle-kit push",
    "db:generate": "drizzle-kit generate",
    "db:migrate": "drizzle-kit migrate",
    "db:studio": "drizzle-kit studio"
  },
  "dependencies": {
    "drizzle-orm": "^0.38.0",
    "postgres": "^3.4.0"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "drizzle-kit": "^0.30.0",
    "typescript": "^5.7.0"
  }
}
</file>

<file path="packages/db/tsconfig.json">
{
  "extends": "@repo/typescript-config/base.json",
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
</file>

<file path="packages/shared/src/types/auth.ts">
export type Role = 'super_admin' | 'pm' | 'member' | 'guest'

export type Permission =
  | 'workspace:read'
  | 'workspace:update'
  | 'workspace:delete'
  | 'workspace:invite'
  | 'project:create'
  | 'project:read'
  | 'project:update'
  | 'project:delete'
  | 'task:create'
  | 'task:read'
  | 'task:update'
  | 'task:delete'
  | 'task:assign'
  | 'comment:create'
  | 'comment:read'
  | 'comment:update'
  | 'comment:delete'

export const ROLE_PERMISSIONS: Record<Role, Permission[]> = {
  super_admin: [
    'workspace:read',
    'workspace:update',
    'workspace:delete',
    'workspace:invite',
    'project:create',
    'project:read',
    'project:update',
    'project:delete',
    'task:create',
    'task:read',
    'task:update',
    'task:delete',
    'task:assign',
    'comment:create',
    'comment:read',
    'comment:update',
    'comment:delete',
  ],
  pm: [
    'workspace:read',
    'workspace:invite',
    'project:create',
    'project:read',
    'project:update',
    'task:create',
    'task:read',
    'task:update',
    'task:assign',
    'comment:create',
    'comment:read',
    'comment:update',
    'comment:delete',
  ],
  member: [
    'workspace:read',
    'project:read',
    'task:create',
    'task:read',
    'task:update',
    'comment:create',
    'comment:read',
    'comment:update',
  ],
  guest: ['workspace:read', 'project:read', 'task:read', 'comment:read'],
}

export function hasPermission(role: Role, permission: Permission): boolean {
  return ROLE_PERMISSIONS[role]?.includes(permission) ?? false
}

export function hasAnyPermission(
  role: Role,
  permissions: Permission[],
): boolean {
  return permissions.some((p) => hasPermission(role, p))
}

export function hasAllPermissions(
  role: Role,
  permissions: Permission[],
): boolean {
  return permissions.every((p) => hasPermission(role, p))
}
</file>

<file path="packages/shared/src/types/index.ts">
export * from './auth'

// User roles for RBAC
export type UserRole = 'super_admin' | 'project_manager' | 'member' | 'guest'

// Task priority levels
export type TaskPriority = 'urgent' | 'high' | 'medium' | 'low'

// Task status (customizable per project)
export type TaskStatus =
  | 'backlog'
  | 'todo'
  | 'in_progress'
  | 'in_review'
  | 'done'

// API response wrapper
export interface ApiResponse<T> {
  success: boolean
  data?: T
  error?: {
    code: string
    message: string
  }
}

// Pagination
export interface PaginatedResponse<T> extends ApiResponse<T[]> {
  pagination: {
    page: number
    limit: number
    total: number
    totalPages: number
  }
}

// User
export interface User {
  id: string
  email: string
  name: string
  avatarUrl?: string
  role: UserRole
  createdAt: Date
}

// Workspace
export interface Workspace {
  id: string
  name: string
  slug: string
  ownerId: string
  createdAt: Date
}

// Project
export interface Project {
  id: string
  workspaceId: string
  name: string
  description?: string
  status: 'active' | 'archived'
  createdAt: Date
}

// Task
export interface Task {
  id: string
  projectId: string
  title: string
  description?: string
  status: TaskStatus
  priority: TaskPriority
  assigneeId?: string
  creatorId: string
  dueDate?: Date
  createdAt: Date
  updatedAt: Date
}

// Comment
export interface Comment {
  id: string
  taskId: string
  authorId: string
  content: string
  createdAt: Date
}
</file>

<file path="packages/shared/src/validators/index.ts">
export * from './workspace'
export * from './project'
export * from './task'
</file>

<file path="packages/shared/src/validators/project.ts">
import { z } from 'zod'

export const createProjectSchema = z.object({
  name: z.string().min(1).max(200),
  description: z.string().max(2000).optional(),
})

export const updateProjectSchema = z.object({
  name: z.string().min(1).max(200).optional(),
  description: z.string().max(2000).optional().nullable(),
  status: z.enum(['active', 'archived', 'deleted']).optional(),
})

export const createWorkflowStatusSchema = z.object({
  name: z.string().min(1).max(50),
  color: z
    .string()
    .regex(/^#[0-9A-Fa-f]{6}$/)
    .default('#6366f1'),
  isDefault: z.boolean().optional(),
  isFinal: z.boolean().optional(),
})

export const updateWorkflowStatusSchema = createWorkflowStatusSchema.partial()

export const reorderStatusesSchema = z.object({
  orderedIds: z.array(z.string().uuid()),
})

export type CreateProjectInput = z.infer<typeof createProjectSchema>
export type UpdateProjectInput = z.infer<typeof updateProjectSchema>
export type CreateWorkflowStatusInput = z.infer<
  typeof createWorkflowStatusSchema
>
</file>

<file path="packages/shared/src/validators/task.ts">
import { z } from 'zod'

export const taskFilterSchema = z.object({
  statusId: z.string().uuid().optional(),
  assigneeId: z.string().uuid().optional(),
  priority: z.enum(['low', 'medium', 'high', 'urgent']).optional(),
  search: z.string().optional(),
  dueBefore: z.string().datetime().optional(),
  dueAfter: z.string().datetime().optional(),
  page: z.coerce.number().min(1).default(1),
  limit: z.coerce.number().min(1).max(100).default(50),
})

export const createTaskSchema = z.object({
  title: z.string().min(1).max(500),
  description: z.string().max(50000).optional(), // Rich text HTML
  priority: z.enum(['low', 'medium', 'high', 'urgent']).default('medium'),
  statusId: z.string().uuid().optional(),
  assigneeId: z.string().uuid().optional().nullable(),
  dueDate: z
    .string()
    .datetime()
    .optional()
    .nullable()
    .transform((val) => (val ? new Date(val) : null)),
})

export const updateTaskSchema = z.object({
  title: z.string().min(1).max(500).optional(),
  description: z.string().max(50000).optional().nullable(),
  priority: z.enum(['low', 'medium', 'high', 'urgent']).optional(),
  statusId: z.string().uuid().optional(),
  assigneeId: z.string().uuid().optional().nullable(),
  dueDate: z
    .string()
    .datetime()
    .optional()
    .nullable()
    .transform((val) => (val ? new Date(val) : null)),
})

export const moveTaskSchema = z.object({
  statusId: z.string().uuid(),
  order: z.number().int().min(0),
})

export const addDependencySchema = z.object({
  dependsOnId: z.string().uuid(),
})

export const addWatcherSchema = z.object({
  userId: z.string().uuid(),
})

export const uploadAttachmentSchema = z.object({
  fileName: z.string().min(1).max(255),
  fileUrl: z.string().url(),
  fileSize: z.number().int().positive(),
  mimeType: z.string().min(1),
})

export type TaskFilterInput = z.infer<typeof taskFilterSchema>
export type CreateTaskInput = z.infer<typeof createTaskSchema>
export type UpdateTaskInput = z.infer<typeof updateTaskSchema>
export type MoveTaskInput = z.infer<typeof moveTaskSchema>
</file>

<file path="packages/shared/src/validators/workspace.ts">
import { z } from 'zod'

export const createWorkspaceSchema = z.object({
  name: z.string().min(1).max(100),
  slug: z
    .string()
    .min(1)
    .max(50)
    .regex(/^[a-z0-9-]+$/, 'Slug must be lowercase alphanumeric with hyphens'),
  clerkOrgId: z.string().min(1),
})

export const updateWorkspaceSchema = z.object({
  name: z.string().min(1).max(100).optional(),
  settings: z
    .object({
      defaultProjectView: z.enum(['kanban', 'list', 'calendar']).optional(),
      allowGuestInvites: z.boolean().optional(),
    })
    .optional(),
})

export const inviteMemberSchema = z.object({
  email: z.string().email(),
  role: z.enum(['super_admin', 'pm', 'member', 'guest']).default('member'),
})

export type CreateWorkspaceInput = z.infer<typeof createWorkspaceSchema>
export type UpdateWorkspaceInput = z.infer<typeof updateWorkspaceSchema>
export type InviteMemberInput = z.infer<typeof inviteMemberSchema>
</file>

<file path="packages/shared/src/index.ts">
export * from './types'
export * from './validators'
export * from './types/auth'
export * from './validators/workspace'
export * from './validators/project'
export * from './validators/task'
</file>

<file path="packages/shared/package.json">
{
  "name": "@repo/shared",
  "version": "0.0.0",
  "private": true,
  "main": "./src/index.ts",
  "types": "./src/index.ts",
  "exports": {
    ".": "./src/index.ts",
    "./types": "./src/types/index.ts",
    "./validators": "./src/validators/index.ts"
  },
  "dependencies": {
    "zod": "^3.24.0"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "typescript": "^5.7.0"
  }
}
</file>

<file path="packages/shared/tsconfig.json">
{
  "extends": "@repo/typescript-config/base.json",
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
</file>

<file path="packages/typescript-config/base.json">
{
  "compilerOptions": {
    "esModuleInterop": true,
    "skipLibCheck": true,
    "target": "ES2022",
    "lib": ["ES2022"],
    "allowJs": true,
    "resolveJsonModule": true,
    "moduleDetection": "force",
    "isolatedModules": true,
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "noEmit": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "declaration": true,
    "declarationMap": true
  }
}
</file>

<file path="packages/typescript-config/package.json">
{
  "name": "@repo/typescript-config",
  "version": "0.0.0",
  "private": true,
  "files": ["base.json", "react.json"]
}
</file>

<file path="packages/typescript-config/react.json">
{
  "extends": "./base.json",
  "compilerOptions": {
    "jsx": "react-jsx",
    "lib": ["ES2022", "DOM", "DOM.Iterable"]
  }
}
</file>

<file path="packages/ui/src/button.tsx">
import { type ButtonProps, Button as MantineButton } from '@mantine/core'

export function Button(props: ButtonProps) {
  return <MantineButton {...props} />
}
</file>

<file path="packages/ui/src/index.ts">
// Shared UI components - to be expanded
export { Button } from './button'
</file>

<file path="packages/ui/package.json">
{
  "name": "@repo/ui",
  "version": "0.0.0",
  "private": true,
  "main": "./src/index.ts",
  "types": "./src/index.ts",
  "exports": {
    ".": "./src/index.ts"
  },
  "peerDependencies": {
    "react": "^19.0.0",
    "react-dom": "^19.0.0"
  },
  "dependencies": {
    "@mantine/core": "^7.16.0",
    "@mantine/hooks": "^7.16.0"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "@types/react": "^19.0.0",
    "@types/react-dom": "^19.0.0",
    "typescript": "^5.7.0"
  }
}
</file>

<file path="packages/ui/tsconfig.json">
{
  "extends": "@repo/typescript-config/react.json",
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-01-monorepo-setup.md">
# Phase 01: Monorepo + Dev Environment Setup

## Context Links
- [Turborepo Research](../reports/researcher-260117-1758-turborepo-setup.md)
- [Tech Stack](../../docs/tech-stack.md)

## Overview
- **Priority**: P1 (Critical Path)
- **Status**: pending
- **Effort**: 4h

Initialize Turborepo monorepo with Bun, configure shared TypeScript, ESLint, and Prettier.

## Key Insights
- Bun 1.2+ natively supports workspaces
- Turborepo `pipeline` config enables parallel builds
- Shared tsconfig packages reduce duplication
- `workspace:*` protocol for internal dependencies

## Requirements

### Functional
- Single `bun dev` starts all services
- Shared packages importable across apps
- TypeScript strict mode enabled

### Non-Functional
- Build time < 10s for incremental changes
- Clear separation: apps/, packages/
- Consistent code style across monorepo

## Architecture

```
nexa-task/
 apps/
    web/          # React + Vite
    api/          # Hono backend
 packages/
    db/           # Drizzle schema
    shared/       # Types, utils, validators
    ui/           # Shared React components
    typescript-config/
 package.json
 turbo.json
 biome.json
 .env.example
```

## Related Code Files

### Create
- `/package.json` - Root workspace config
- `/turbo.json` - Turborepo pipeline
- `/biome.json` - Linter/formatter config
- `/packages/typescript-config/base.json`
- `/packages/typescript-config/react.json`
- `/packages/typescript-config/package.json`
- `/packages/shared/package.json`
- `/packages/shared/src/index.ts`
- `/packages/db/package.json`
- `/packages/db/src/index.ts`
- `/packages/ui/package.json`
- `/packages/ui/src/index.ts`
- `/apps/api/package.json`
- `/apps/api/src/index.ts`
- `/apps/api/tsconfig.json`
- `/apps/web/package.json`
- `/apps/web/vite.config.ts`
- `/apps/web/tsconfig.json`
- `/apps/web/index.html`
- `/apps/web/src/main.tsx`
- `/.env.example`

## Implementation Steps

### 1. Initialize Root Workspace
```bash
cd /mnt/k/Work/nexa-task
bun init -y
```

### 2. Create package.json
```json
{
  "name": "nexa-task",
  "private": true,
  "workspaces": ["apps/*", "packages/*"],
  "packageManager": "bun@1.2.0",
  "scripts": {
    "dev": "turbo run dev",
    "build": "turbo run build",
    "lint": "biome check .",
    "lint:fix": "biome check --write .",
    "format": "biome format --write .",
    "test": "turbo run test",
    "db:push": "turbo run db:push --filter=@repo/db",
    "db:generate": "turbo run db:generate --filter=@repo/db"
  },
  "devDependencies": {
    "@biomejs/biome": "^1.9.0",
    "turbo": "^2.3.0",
    "typescript": "^5.7.0"
  }
}
```

### 3. Create turbo.json
```json
{
  "$schema": "https://turbo.build/schema.json",
  "tasks": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**", "build/**"]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "lint": {
      "dependsOn": ["^build"]
    },
    "test": {
      "dependsOn": ["build"],
      "outputs": ["coverage/**"]
    },
    "db:push": {
      "cache": false
    },
    "db:generate": {
      "cache": false
    }
  }
}
```

### 4. Create biome.json
```json
{
  "$schema": "https://biomejs.dev/schemas/1.9.0/schema.json",
  "organizeImports": { "enabled": true },
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true
    }
  },
  "formatter": {
    "enabled": true,
    "indentStyle": "space",
    "indentWidth": 2
  },
  "javascript": {
    "formatter": {
      "quoteStyle": "single",
      "semicolons": "asNeeded"
    }
  }
}
```

### 5. Create TypeScript Config Package
```bash
mkdir -p packages/typescript-config
```

**packages/typescript-config/package.json**:
```json
{
  "name": "@repo/typescript-config",
  "version": "0.0.0",
  "private": true,
  "files": ["base.json", "react.json"]
}
```

**packages/typescript-config/base.json**:
```json
{
  "compilerOptions": {
    "esModuleInterop": true,
    "skipLibCheck": true,
    "target": "ES2022",
    "lib": ["ES2022"],
    "allowJs": true,
    "resolveJsonModule": true,
    "moduleDetection": "force",
    "isolatedModules": true,
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "noEmit": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "declaration": true,
    "declarationMap": true
  }
}
```

**packages/typescript-config/react.json**:
```json
{
  "extends": "./base.json",
  "compilerOptions": {
    "jsx": "react-jsx",
    "lib": ["ES2022", "DOM", "DOM.Iterable"]
  }
}
```

### 6. Create Shared Package
```bash
mkdir -p packages/shared/src
```

**packages/shared/package.json**:
```json
{
  "name": "@repo/shared",
  "version": "0.0.0",
  "private": true,
  "main": "./src/index.ts",
  "types": "./src/index.ts",
  "exports": {
    ".": "./src/index.ts",
    "./types": "./src/types/index.ts",
    "./validators": "./src/validators/index.ts"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "typescript": "^5.7.0"
  }
}
```

**packages/shared/src/index.ts**:
```typescript
export * from './types'
export * from './validators'
```

### 7. Create DB Package (Drizzle)
```bash
mkdir -p packages/db/src/schema
```

**packages/db/package.json**:
```json
{
  "name": "@repo/db",
  "version": "0.0.0",
  "private": true,
  "main": "./src/index.ts",
  "types": "./src/index.ts",
  "exports": {
    ".": "./src/index.ts",
    "./schema": "./src/schema/index.ts"
  },
  "scripts": {
    "db:push": "drizzle-kit push",
    "db:generate": "drizzle-kit generate",
    "db:migrate": "drizzle-kit migrate",
    "db:studio": "drizzle-kit studio"
  },
  "dependencies": {
    "drizzle-orm": "^0.38.0"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "drizzle-kit": "^0.30.0",
    "typescript": "^5.7.0"
  }
}
```

### 8. Create UI Package
```bash
mkdir -p packages/ui/src
```

**packages/ui/package.json**:
```json
{
  "name": "@repo/ui",
  "version": "0.0.0",
  "private": true,
  "main": "./src/index.ts",
  "types": "./src/index.ts",
  "exports": {
    ".": "./src/index.ts"
  },
  "peerDependencies": {
    "react": "^19.0.0",
    "react-dom": "^19.0.0"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "@types/react": "^19.0.0",
    "@types/react-dom": "^19.0.0",
    "typescript": "^5.7.0"
  }
}
```

### 9. Create API App
```bash
mkdir -p apps/api/src
```

**apps/api/package.json**:
```json
{
  "name": "@repo/api",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "dev": "bun run --watch src/index.ts",
    "build": "bun build src/index.ts --outdir dist --target bun",
    "start": "bun run dist/index.js",
    "test": "bun test"
  },
  "dependencies": {
    "@hono/zod-validator": "^0.4.0",
    "@repo/db": "workspace:*",
    "@repo/shared": "workspace:*",
    "hono": "^4.7.0",
    "zod": "^3.24.0"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "@types/bun": "latest",
    "typescript": "^5.7.0"
  }
}
```

**apps/api/tsconfig.json**:
```json
{
  "extends": "@repo/typescript-config/base.json",
  "compilerOptions": {
    "types": ["bun"]
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

**apps/api/src/index.ts**:
```typescript
import { Hono } from 'hono'
import { cors } from 'hono/cors'
import { logger } from 'hono/logger'

const app = new Hono()

app.use('*', logger())
app.use('*', cors())

app.get('/', (c) => c.json({ status: 'ok', service: 'nexa-task-api' }))
app.get('/health', (c) => c.json({ status: 'healthy' }))

export default {
  port: process.env.PORT || 3001,
  fetch: app.fetch,
}
```

### 10. Create Web App
```bash
mkdir -p apps/web/src
```

**apps/web/package.json**:
```json
{
  "name": "@repo/web",
  "version": "0.0.0",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "preview": "vite preview",
    "test": "vitest"
  },
  "dependencies": {
    "@mantine/core": "^7.16.0",
    "@mantine/hooks": "^7.16.0",
    "@repo/shared": "workspace:*",
    "@repo/ui": "workspace:*",
    "@tanstack/react-query": "^5.64.0",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "react-router": "^7.1.0"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "@tailwindcss/postcss": "^4.0.0",
    "@types/react": "^19.0.0",
    "@types/react-dom": "^19.0.0",
    "@vitejs/plugin-react": "^4.3.0",
    "postcss": "^8.5.0",
    "postcss-preset-mantine": "^1.17.0",
    "tailwindcss": "^4.0.0",
    "typescript": "^5.7.0",
    "vite": "^6.0.0",
    "vitest": "^3.0.0"
  }
}
```

**apps/web/tsconfig.json**:
```json
{
  "extends": "@repo/typescript-config/react.json",
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

**apps/web/vite.config.ts**:
```typescript
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite'
import { defineConfig } from 'vite'
import path from 'path'

export default defineConfig({
  plugins: [react(), tailwindcss()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
      },
    },
  },
})
```

**apps/web/postcss.config.cjs**:
```javascript
module.exports = {
  plugins: {
    'postcss-preset-mantine': {},
    '@tailwindcss/postcss': {},
  },
}
```

**apps/web/index.html**:
```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nexa Task</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
```

**apps/web/src/main.tsx**:
```tsx
import { MantineProvider } from '@mantine/core'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import '@mantine/core/styles.layer.css'
import './index.css'

const queryClient = new QueryClient()

function App() {
  return (
    <div className="min-h-screen bg-gray-50">
      <h1 className="text-2xl font-bold p-4">Nexa Task</h1>
    </div>
  )
}

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <QueryClientProvider client={queryClient}>
      <MantineProvider>
        <App />
      </MantineProvider>
    </QueryClientProvider>
  </StrictMode>
)
```

**apps/web/src/index.css**:
```css
@layer theme, base, mantine, components, utilities;

@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/preflight.css" layer(base);
@import "@mantine/core/styles.layer.css" layer(mantine);
@import "tailwindcss/utilities.css" layer(utilities);
```

### 11. Create .env.example
```bash
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/nexa_task

# Clerk Auth
CLERK_SECRET_KEY=sk_test_xxxxx
CLERK_PUBLISHABLE_KEY=pk_test_xxxxx

# Redis
REDIS_URL=redis://localhost:6379

# API
PORT=3001
NODE_ENV=development
```

### 12. Install Dependencies
```bash
bun install
```

### 13. Verify Setup
```bash
bun dev
# Should start both web (3000) and api (3001)
```

## Todo List
- [ ] Initialize root package.json with workspaces
- [ ] Create turbo.json pipeline config
- [ ] Setup biome.json for linting/formatting
- [ ] Create typescript-config package
- [ ] Create shared package with exports
- [ ] Create db package skeleton
- [ ] Create ui package skeleton
- [ ] Create api app with Hono
- [ ] Create web app with Vite + React
- [ ] Configure Mantine + Tailwind CSS layers
- [ ] Create .env.example
- [ ] Run `bun install` and verify dev servers

## Success Criteria
- [x] `bun dev` starts both apps concurrently
- [x] `bun build` completes without errors
- [x] `bun lint` passes
- [x] Internal packages resolve correctly
- [x] Mantine + Tailwind styles work together
- [x] API health endpoint returns 200

## Risk Assessment

| Risk | Impact | Mitigation |
|------|--------|------------|
| Bun/Turborepo compatibility | Medium | Pin Bun version, test early |
| Tailwind/Mantine conflicts | Low | CSS layers configured |
| Package resolution issues | Medium | Use `workspace:*` protocol |

## Security Considerations
- `.env` files in .gitignore
- No secrets in committed code
- CORS configured for dev only

## Next Steps
- Phase 02: Database Schema (Drizzle + PostgreSQL)
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-02-database-schema.md">
# Phase 02: Database Schema

## Context Links
- [Drizzle Research](../reports/researcher-260117-1758-drizzle-postgres.md)
- [Phase 01: Monorepo Setup](./phase-01-monorepo-setup.md)

## Overview
- **Priority**: P1 (Critical Path)
- **Status**: pending
- **Effort**: 6h

Design and implement PostgreSQL schema with Drizzle ORM for multi-tenant task management.

## Key Insights
- UUID primary keys prevent enumeration attacks
- JSONB for flexible settings/metadata
- Cascade deletes for referential integrity
- Composite indexes on common filter patterns
- Soft delete via status field for archival

## Requirements

### Functional
- Multi-tenant data isolation via workspace_id
- Task dependencies (many-to-many self-referencing)
- Custom workflow statuses per project
- Activity audit log for all changes
- File attachments metadata storage

### Non-Functional
- Query performance < 50ms for common operations
- Type-safe queries via Drizzle ORM
- Migration versioning for production deploys

## Architecture

### Entity Relationship
```
Workspace (tenant)
 Project
    WorkflowStatus (custom columns)
    Task
        TaskDependency (blockers)
        Comment
        Attachment
        TaskWatcher (subscribers)
 WorkspaceMember (user-workspace mapping)

ActivityLog (audit trail across all entities)
```

## Related Code Files

### Create
- `/packages/db/src/schema/users.ts`
- `/packages/db/src/schema/workspaces.ts`
- `/packages/db/src/schema/projects.ts`
- `/packages/db/src/schema/workflow-statuses.ts`
- `/packages/db/src/schema/tasks.ts`
- `/packages/db/src/schema/task-dependencies.ts`
- `/packages/db/src/schema/task-watchers.ts`
- `/packages/db/src/schema/comments.ts`
- `/packages/db/src/schema/attachments.ts`
- `/packages/db/src/schema/activity-logs.ts`
- `/packages/db/src/schema/relations.ts`
- `/packages/db/src/schema/index.ts`
- `/packages/db/src/index.ts`
- `/packages/db/drizzle.config.ts`

## Implementation Steps

### 1. Users Schema
**packages/db/src/schema/users.ts**:
```typescript
import { pgTable, text, timestamp, uuid, index } from 'drizzle-orm/pg-core'

export const users = pgTable('users', {
  id: uuid('id').defaultRandom().primaryKey(),
  clerkId: text('clerk_id').notNull().unique(),
  email: text('email').notNull().unique(),
  name: text('name').notNull(),
  avatarUrl: text('avatar_url'),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('users_clerk_id_idx').on(t.clerkId),
  index('users_email_idx').on(t.email),
])
```

### 2. Workspaces Schema
**packages/db/src/schema/workspaces.ts**:
```typescript
import { pgTable, text, timestamp, uuid, jsonb, index, pgEnum } from 'drizzle-orm/pg-core'
import { users } from './users'

export const workspaceRoleEnum = pgEnum('workspace_role', [
  'super_admin',
  'pm',
  'member',
  'guest'
])

export type WorkspaceSettings = {
  defaultProjectView?: 'kanban' | 'list' | 'calendar'
  allowGuestInvites?: boolean
}

export const workspaces = pgTable('workspaces', {
  id: uuid('id').defaultRandom().primaryKey(),
  clerkOrgId: text('clerk_org_id').notNull().unique(),
  name: text('name').notNull(),
  slug: text('slug').notNull().unique(),
  ownerId: uuid('owner_id').notNull().references(() => users.id),
  settings: jsonb('settings').$type<WorkspaceSettings>().default({}),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('workspaces_clerk_org_idx').on(t.clerkOrgId),
  index('workspaces_slug_idx').on(t.slug),
  index('workspaces_owner_idx').on(t.ownerId),
])

export const workspaceMembers = pgTable('workspace_members', {
  id: uuid('id').defaultRandom().primaryKey(),
  workspaceId: uuid('workspace_id').notNull().references(() => workspaces.id, { onDelete: 'cascade' }),
  userId: uuid('user_id').notNull().references(() => users.id, { onDelete: 'cascade' }),
  role: workspaceRoleEnum('role').notNull().default('member'),
  joinedAt: timestamp('joined_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('workspace_members_workspace_idx').on(t.workspaceId),
  index('workspace_members_user_idx').on(t.userId),
])
```

### 3. Projects Schema
**packages/db/src/schema/projects.ts**:
```typescript
import { pgTable, text, timestamp, uuid, index, pgEnum } from 'drizzle-orm/pg-core'
import { workspaces } from './workspaces'
import { users } from './users'

export const projectStatusEnum = pgEnum('project_status', ['active', 'archived', 'deleted'])

export const projects = pgTable('projects', {
  id: uuid('id').defaultRandom().primaryKey(),
  workspaceId: uuid('workspace_id').notNull().references(() => workspaces.id, { onDelete: 'cascade' }),
  name: text('name').notNull(),
  description: text('description'),
  status: projectStatusEnum('status').notNull().default('active'),
  createdById: uuid('created_by_id').notNull().references(() => users.id),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('projects_workspace_idx').on(t.workspaceId),
  index('projects_status_idx').on(t.status),
  index('projects_workspace_status_idx').on(t.workspaceId, t.status),
])
```

### 4. Workflow Statuses Schema
**packages/db/src/schema/workflow-statuses.ts**:
```typescript
import { pgTable, text, timestamp, uuid, integer, boolean, index } from 'drizzle-orm/pg-core'
import { projects } from './projects'

export const workflowStatuses = pgTable('workflow_statuses', {
  id: uuid('id').defaultRandom().primaryKey(),
  projectId: uuid('project_id').notNull().references(() => projects.id, { onDelete: 'cascade' }),
  name: text('name').notNull(),
  color: text('color').notNull().default('#6366f1'),
  order: integer('order').notNull(),
  isDefault: boolean('is_default').default(false),
  isFinal: boolean('is_final').default(false), // Marks as "done" status
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('workflow_statuses_project_idx').on(t.projectId),
  index('workflow_statuses_project_order_idx').on(t.projectId, t.order),
])
```

### 5. Tasks Schema
**packages/db/src/schema/tasks.ts**:
```typescript
import { pgTable, text, timestamp, uuid, integer, index, pgEnum } from 'drizzle-orm/pg-core'
import { projects } from './projects'
import { workflowStatuses } from './workflow-statuses'
import { users } from './users'

export const taskPriorityEnum = pgEnum('task_priority', ['low', 'medium', 'high', 'urgent'])

export const tasks = pgTable('tasks', {
  id: uuid('id').defaultRandom().primaryKey(),
  projectId: uuid('project_id').notNull().references(() => projects.id, { onDelete: 'cascade' }),
  title: text('title').notNull(),
  description: text('description'), // Rich text HTML
  statusId: uuid('status_id').references(() => workflowStatuses.id, { onDelete: 'set null' }),
  priority: taskPriorityEnum('priority').notNull().default('medium'),
  assigneeId: uuid('assignee_id').references(() => users.id, { onDelete: 'set null' }),
  createdById: uuid('created_by_id').notNull().references(() => users.id),
  order: integer('order').notNull().default(0),
  dueDate: timestamp('due_date', { withTimezone: true }),
  completedAt: timestamp('completed_at', { withTimezone: true }),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('tasks_project_idx').on(t.projectId),
  index('tasks_status_idx').on(t.statusId),
  index('tasks_assignee_idx').on(t.assigneeId),
  index('tasks_project_status_idx').on(t.projectId, t.statusId),
  index('tasks_due_date_idx').on(t.dueDate),
  index('tasks_project_order_idx').on(t.projectId, t.order),
])
```

### 6. Task Dependencies Schema
**packages/db/src/schema/task-dependencies.ts**:
```typescript
import { pgTable, timestamp, uuid, index, unique } from 'drizzle-orm/pg-core'
import { tasks } from './tasks'

export const taskDependencies = pgTable('task_dependencies', {
  id: uuid('id').defaultRandom().primaryKey(),
  taskId: uuid('task_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  dependsOnId: uuid('depends_on_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('task_deps_task_idx').on(t.taskId),
  index('task_deps_depends_idx').on(t.dependsOnId),
  unique('task_deps_unique').on(t.taskId, t.dependsOnId),
])
```

### 7. Task Watchers Schema
**packages/db/src/schema/task-watchers.ts**:
```typescript
import { pgTable, timestamp, uuid, index, unique } from 'drizzle-orm/pg-core'
import { tasks } from './tasks'
import { users } from './users'

export const taskWatchers = pgTable('task_watchers', {
  id: uuid('id').defaultRandom().primaryKey(),
  taskId: uuid('task_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  userId: uuid('user_id').notNull().references(() => users.id, { onDelete: 'cascade' }),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('task_watchers_task_idx').on(t.taskId),
  index('task_watchers_user_idx').on(t.userId),
  unique('task_watchers_unique').on(t.taskId, t.userId),
])
```

### 8. Comments Schema
**packages/db/src/schema/comments.ts**:
```typescript
import { pgTable, text, timestamp, uuid, index } from 'drizzle-orm/pg-core'
import { tasks } from './tasks'
import { users } from './users'

export const comments = pgTable('comments', {
  id: uuid('id').defaultRandom().primaryKey(),
  taskId: uuid('task_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  userId: uuid('user_id').notNull().references(() => users.id),
  content: text('content').notNull(), // Rich text HTML with @mentions
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('comments_task_idx').on(t.taskId),
  index('comments_user_idx').on(t.userId),
  index('comments_task_created_idx').on(t.taskId, t.createdAt),
])
```

### 9. Attachments Schema
**packages/db/src/schema/attachments.ts**:
```typescript
import { pgTable, text, timestamp, uuid, integer, index } from 'drizzle-orm/pg-core'
import { tasks } from './tasks'
import { users } from './users'

export const attachments = pgTable('attachments', {
  id: uuid('id').defaultRandom().primaryKey(),
  taskId: uuid('task_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  uploadedById: uuid('uploaded_by_id').notNull().references(() => users.id),
  fileName: text('file_name').notNull(),
  fileUrl: text('file_url').notNull(),
  fileSize: integer('file_size').notNull(),
  mimeType: text('mime_type').notNull(),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('attachments_task_idx').on(t.taskId),
])
```

### 10. Activity Logs Schema
**packages/db/src/schema/activity-logs.ts**:
```typescript
import { pgTable, text, timestamp, uuid, jsonb, index, pgEnum } from 'drizzle-orm/pg-core'
import { users } from './users'

export const entityTypeEnum = pgEnum('entity_type', [
  'workspace', 'project', 'task', 'comment'
])

export const actionTypeEnum = pgEnum('action_type', [
  'created', 'updated', 'deleted', 'assigned', 'commented', 'status_changed', 'moved'
])

export type ActivityChanges = Record<string, { old: unknown; new: unknown }>

export const activityLogs = pgTable('activity_logs', {
  id: uuid('id').defaultRandom().primaryKey(),
  workspaceId: uuid('workspace_id').notNull(),
  entityType: entityTypeEnum('entity_type').notNull(),
  entityId: uuid('entity_id').notNull(),
  userId: uuid('user_id').notNull().references(() => users.id),
  action: actionTypeEnum('action').notNull(),
  changes: jsonb('changes').$type<ActivityChanges>(),
  metadata: jsonb('metadata'),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('activity_logs_workspace_idx').on(t.workspaceId),
  index('activity_logs_entity_idx').on(t.entityType, t.entityId),
  index('activity_logs_user_idx').on(t.userId),
  index('activity_logs_created_idx').on(t.createdAt),
])
```

### 11. Relations
**packages/db/src/schema/relations.ts**:
```typescript
import { relations } from 'drizzle-orm'
import { users } from './users'
import { workspaces, workspaceMembers } from './workspaces'
import { projects } from './projects'
import { workflowStatuses } from './workflow-statuses'
import { tasks } from './tasks'
import { taskDependencies } from './task-dependencies'
import { taskWatchers } from './task-watchers'
import { comments } from './comments'
import { attachments } from './attachments'
import { activityLogs } from './activity-logs'

export const usersRelations = relations(users, ({ many }) => ({
  ownedWorkspaces: many(workspaces),
  workspaceMemberships: many(workspaceMembers),
  createdProjects: many(projects),
  assignedTasks: many(tasks, { relationName: 'assignedTasks' }),
  createdTasks: many(tasks, { relationName: 'createdTasks' }),
  comments: many(comments),
  activityLogs: many(activityLogs),
}))

export const workspacesRelations = relations(workspaces, ({ one, many }) => ({
  owner: one(users, { fields: [workspaces.ownerId], references: [users.id] }),
  members: many(workspaceMembers),
  projects: many(projects),
}))

export const workspaceMembersRelations = relations(workspaceMembers, ({ one }) => ({
  workspace: one(workspaces, { fields: [workspaceMembers.workspaceId], references: [workspaces.id] }),
  user: one(users, { fields: [workspaceMembers.userId], references: [users.id] }),
}))

export const projectsRelations = relations(projects, ({ one, many }) => ({
  workspace: one(workspaces, { fields: [projects.workspaceId], references: [workspaces.id] }),
  createdBy: one(users, { fields: [projects.createdById], references: [users.id] }),
  tasks: many(tasks),
  workflowStatuses: many(workflowStatuses),
}))

export const workflowStatusesRelations = relations(workflowStatuses, ({ one, many }) => ({
  project: one(projects, { fields: [workflowStatuses.projectId], references: [projects.id] }),
  tasks: many(tasks),
}))

export const tasksRelations = relations(tasks, ({ one, many }) => ({
  project: one(projects, { fields: [tasks.projectId], references: [projects.id] }),
  status: one(workflowStatuses, { fields: [tasks.statusId], references: [workflowStatuses.id] }),
  assignee: one(users, {
    fields: [tasks.assigneeId],
    references: [users.id],
    relationName: 'assignedTasks'
  }),
  createdBy: one(users, {
    fields: [tasks.createdById],
    references: [users.id],
    relationName: 'createdTasks'
  }),
  comments: many(comments),
  attachments: many(attachments),
  watchers: many(taskWatchers),
  dependencies: many(taskDependencies, { relationName: 'taskDependencies' }),
  dependents: many(taskDependencies, { relationName: 'taskDependents' }),
}))

export const taskDependenciesRelations = relations(taskDependencies, ({ one }) => ({
  task: one(tasks, {
    fields: [taskDependencies.taskId],
    references: [tasks.id],
    relationName: 'taskDependencies'
  }),
  dependsOn: one(tasks, {
    fields: [taskDependencies.dependsOnId],
    references: [tasks.id],
    relationName: 'taskDependents'
  }),
}))

export const taskWatchersRelations = relations(taskWatchers, ({ one }) => ({
  task: one(tasks, { fields: [taskWatchers.taskId], references: [tasks.id] }),
  user: one(users, { fields: [taskWatchers.userId], references: [users.id] }),
}))

export const commentsRelations = relations(comments, ({ one }) => ({
  task: one(tasks, { fields: [comments.taskId], references: [tasks.id] }),
  user: one(users, { fields: [comments.userId], references: [users.id] }),
}))

export const attachmentsRelations = relations(attachments, ({ one }) => ({
  task: one(tasks, { fields: [attachments.taskId], references: [tasks.id] }),
  uploadedBy: one(users, { fields: [attachments.uploadedById], references: [users.id] }),
}))

export const activityLogsRelations = relations(activityLogs, ({ one }) => ({
  user: one(users, { fields: [activityLogs.userId], references: [users.id] }),
}))
```

### 12. Schema Index Export
**packages/db/src/schema/index.ts**:
```typescript
export * from './users'
export * from './workspaces'
export * from './projects'
export * from './workflow-statuses'
export * from './tasks'
export * from './task-dependencies'
export * from './task-watchers'
export * from './comments'
export * from './attachments'
export * from './activity-logs'
export * from './relations'
```

### 13. Database Client
**packages/db/src/index.ts**:
```typescript
import { drizzle } from 'drizzle-orm/bun-sql'
import { SQL } from 'bun'
import * as schema from './schema'

const client = new SQL(process.env.DATABASE_URL!)

export const db = drizzle({ client, schema })
export type Database = typeof db

export * from './schema'
```

### 14. Drizzle Config
**packages/db/drizzle.config.ts**:
```typescript
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  schema: './src/schema/index.ts',
  out: './drizzle',
  dialect: 'postgresql',
  dbCredentials: {
    url: process.env.DATABASE_URL!,
  },
})
```

### 15. Push Schema to Database
```bash
cd packages/db
bun run db:push
```

## Todo List
- [ ] Create users schema with Clerk ID mapping
- [ ] Create workspaces + workspace_members schemas
- [ ] Create projects schema with status enum
- [ ] Create workflow_statuses for custom columns
- [ ] Create tasks schema with priority enum
- [ ] Create task_dependencies (many-to-many)
- [ ] Create task_watchers table
- [ ] Create comments schema
- [ ] Create attachments schema
- [ ] Create activity_logs audit trail
- [ ] Define all Drizzle relations
- [ ] Create drizzle.config.ts
- [ ] Export db client from package
- [ ] Run `drizzle-kit push` to create tables

## Success Criteria
- [x] All tables created in PostgreSQL
- [x] Foreign keys and cascades working
- [x] Indexes created for query patterns
- [x] Type-safe queries via `db.query`
- [x] Relations resolve correctly

## Risk Assessment

| Risk | Impact | Mitigation |
|------|--------|------------|
| Schema changes break app | High | Use migrations in production |
| Missing indexes slow queries | Medium | Add indexes iteratively |
| Circular dependencies | Low | Careful relation design |

## Security Considerations
- No PII stored without encryption consideration
- Soft delete for audit compliance
- Activity logs for access tracking

## Next Steps
- Phase 03: Backend API Foundation
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-03-backend-foundation.md">
# Phase 03: Backend API Foundation

## Context Links
- [Hono + Bun Research](../reports/researcher-260117-1758-hono-bun-backend.md)
- [Phase 02: Database Schema](./phase-02-database-schema.md)

## Overview
- **Priority**: P1 (Critical Path)
- **Status**: pending
- **Effort**: 8h

Establish Hono backend structure with middleware, error handling, validation, and Drizzle integration.

## Key Insights
- `createMiddleware` for typed context injection
- Zod validator for request validation
- Global error handler for consistent responses
- Modular routes via `app.route()`

## Requirements

### Functional
- RESTful API structure
- Request validation with Zod
- Consistent error responses
- Health check endpoint
- Drizzle DB context injection

### Non-Functional
- Response time < 100ms for simple queries
- Structured logging
- Rate limiting on public endpoints

## Architecture

```
apps/api/src/
 index.ts              # Bun.serve entry
 app.ts                # Hono app assembly
 routes/
    index.ts          # Route aggregation
    health.ts
    auth.ts
    workspaces.ts
    projects.ts
    tasks.ts
    ws.ts             # WebSocket routes
 middleware/
    db.ts             # Drizzle context
    auth.ts           # Clerk auth
    rbac.ts           # Permission checks
    rate-limit.ts
    error.ts
 lib/
    errors.ts         # Custom error classes
    validators.ts     # Zod schemas
    response.ts       # Response helpers
 types/
     context.ts        # Hono context types
```

## Related Code Files

### Create
- `/apps/api/src/app.ts`
- `/apps/api/src/middleware/db.ts`
- `/apps/api/src/middleware/error.ts`
- `/apps/api/src/middleware/rate-limit.ts`
- `/apps/api/src/lib/errors.ts`
- `/apps/api/src/lib/response.ts`
- `/apps/api/src/lib/validators.ts`
- `/apps/api/src/types/context.ts`
- `/apps/api/src/routes/index.ts`
- `/apps/api/src/routes/health.ts`

### Modify
- `/apps/api/src/index.ts`
- `/apps/api/package.json` (add dependencies)

## Implementation Steps

### 1. Context Types
**apps/api/src/types/context.ts**:
```typescript
import type { Database } from '@repo/db'

export type Variables = {
  db: Database
  user: {
    id: string
    clerkId: string
    email: string
    role: 'super_admin' | 'pm' | 'member' | 'guest'
    orgId: string | null
  } | null
  requestId: string
}
```

### 2. Custom Errors
**apps/api/src/lib/errors.ts**:
```typescript
export class AppError extends Error {
  constructor(
    public message: string,
    public statusCode: number = 500,
    public code: string = 'INTERNAL_ERROR',
    public details?: unknown
  ) {
    super(message)
    this.name = 'AppError'
  }
}

export class NotFoundError extends AppError {
  constructor(resource: string, id?: string) {
    super(
      id ? `${resource} with id ${id} not found` : `${resource} not found`,
      404,
      'NOT_FOUND'
    )
  }
}

export class UnauthorizedError extends AppError {
  constructor(message = 'Unauthorized') {
    super(message, 401, 'UNAUTHORIZED')
  }
}

export class ForbiddenError extends AppError {
  constructor(message = 'Forbidden') {
    super(message, 403, 'FORBIDDEN')
  }
}

export class ValidationError extends AppError {
  constructor(details: unknown) {
    super('Validation failed', 400, 'VALIDATION_ERROR', details)
  }
}

export class ConflictError extends AppError {
  constructor(message: string) {
    super(message, 409, 'CONFLICT')
  }
}
```

### 3. Response Helpers
**apps/api/src/lib/response.ts**:
```typescript
import type { Context } from 'hono'

export type ApiResponse<T> = {
  success: true
  data: T
  meta?: {
    page?: number
    limit?: number
    total?: number
  }
}

export type ApiError = {
  success: false
  error: {
    code: string
    message: string
    details?: unknown
  }
}

export function success<T>(c: Context, data: T, meta?: ApiResponse<T>['meta'], status = 200) {
  const response: ApiResponse<T> = { success: true, data }
  if (meta) response.meta = meta
  return c.json(response, status as any)
}

export function created<T>(c: Context, data: T) {
  return success(c, data, undefined, 201)
}

export function noContent(c: Context) {
  return c.body(null, 204)
}

export function paginated<T>(
  c: Context,
  data: T[],
  { page, limit, total }: { page: number; limit: number; total: number }
) {
  return success(c, data, { page, limit, total })
}
```

### 4. Validators
**apps/api/src/lib/validators.ts**:
```typescript
import { z } from 'zod'

// Common
export const uuidSchema = z.string().uuid()
export const paginationSchema = z.object({
  page: z.coerce.number().min(1).default(1),
  limit: z.coerce.number().min(1).max(100).default(20),
})

// ID params
export const idParamSchema = z.object({
  id: uuidSchema,
})

// Workspace
export const createWorkspaceSchema = z.object({
  name: z.string().min(1).max(100),
  slug: z.string().min(1).max(50).regex(/^[a-z0-9-]+$/),
})

export const updateWorkspaceSchema = createWorkspaceSchema.partial()

// Project
export const createProjectSchema = z.object({
  name: z.string().min(1).max(200),
  description: z.string().max(2000).optional(),
})

export const updateProjectSchema = createProjectSchema.partial().extend({
  status: z.enum(['active', 'archived', 'deleted']).optional(),
})

// Task
export const createTaskSchema = z.object({
  title: z.string().min(1).max(500),
  description: z.string().max(10000).optional(),
  priority: z.enum(['low', 'medium', 'high', 'urgent']).default('medium'),
  statusId: uuidSchema.optional(),
  assigneeId: uuidSchema.optional(),
  dueDate: z.string().datetime().optional(),
})

export const updateTaskSchema = createTaskSchema.partial()

export const moveTaskSchema = z.object({
  statusId: uuidSchema,
  order: z.number().int().min(0),
})

// Comment
export const createCommentSchema = z.object({
  content: z.string().min(1).max(10000),
})

export const updateCommentSchema = createCommentSchema
```

### 5. Database Middleware
**apps/api/src/middleware/db.ts**:
```typescript
import { createMiddleware } from 'hono/factory'
import { db } from '@repo/db'
import type { Variables } from '../types/context'

export const dbMiddleware = createMiddleware<{ Variables: Variables }>(async (c, next) => {
  c.set('db', db)
  await next()
})
```

### 6. Error Middleware
**apps/api/src/middleware/error.ts**:
```typescript
import type { Context } from 'hono'
import { HTTPException } from 'hono/http-exception'
import { AppError } from '../lib/errors'
import type { ApiError } from '../lib/response'

export function errorHandler(err: Error, c: Context) {
  console.error(`[Error] ${err.message}`, {
    stack: err.stack,
    requestId: c.get('requestId'),
  })

  if (err instanceof AppError) {
    const response: ApiError = {
      success: false,
      error: {
        code: err.code,
        message: err.message,
        details: err.details,
      },
    }
    return c.json(response, err.statusCode as any)
  }

  if (err instanceof HTTPException) {
    const response: ApiError = {
      success: false,
      error: {
        code: 'HTTP_ERROR',
        message: err.message,
      },
    }
    return c.json(response, err.status)
  }

  // Unknown error
  const response: ApiError = {
    success: false,
    error: {
      code: 'INTERNAL_ERROR',
      message: process.env.NODE_ENV === 'production'
        ? 'Internal server error'
        : err.message,
    },
  }
  return c.json(response, 500)
}

export function notFoundHandler(c: Context) {
  const response: ApiError = {
    success: false,
    error: {
      code: 'NOT_FOUND',
      message: `Route ${c.req.method} ${c.req.path} not found`,
    },
  }
  return c.json(response, 404)
}
```

### 7. Rate Limiting Middleware
**apps/api/src/middleware/rate-limit.ts**:
```typescript
import { createMiddleware } from 'hono/factory'
import { HTTPException } from 'hono/http-exception'
import type { Variables } from '../types/context'

type RateLimitRecord = { count: number; reset: number }
const store = new Map<string, RateLimitRecord>()

export const rateLimit = (options: { limit?: number; windowMs?: number } = {}) => {
  const { limit = 100, windowMs = 60_000 } = options

  return createMiddleware<{ Variables: Variables }>(async (c, next) => {
    const key = c.req.header('x-forwarded-for') ||
                c.req.header('x-real-ip') ||
                'unknown'
    const now = Date.now()
    const record = store.get(key)

    if (!record || record.reset < now) {
      store.set(key, { count: 1, reset: now + windowMs })
    } else if (record.count >= limit) {
      c.header('X-RateLimit-Limit', String(limit))
      c.header('X-RateLimit-Remaining', '0')
      c.header('X-RateLimit-Reset', String(Math.ceil(record.reset / 1000)))
      throw new HTTPException(429, { message: 'Rate limit exceeded' })
    } else {
      record.count++
    }

    c.header('X-RateLimit-Limit', String(limit))
    c.header('X-RateLimit-Remaining', String(limit - (record?.count || 1)))

    await next()
  })
}

// Cleanup stale entries every 5 minutes
setInterval(() => {
  const now = Date.now()
  for (const [key, record] of store) {
    if (record.reset < now) {
      store.delete(key)
    }
  }
}, 5 * 60 * 1000)
```

### 8. Health Route
**apps/api/src/routes/health.ts**:
```typescript
import { Hono } from 'hono'
import type { Variables } from '../types/context'

const health = new Hono<{ Variables: Variables }>()

health.get('/', (c) => {
  return c.json({
    status: 'healthy',
    timestamp: new Date().toISOString(),
    version: process.env.npm_package_version || '0.0.0',
  })
})

health.get('/ready', async (c) => {
  const db = c.var.db
  try {
    // Simple query to check DB connection
    await db.execute('SELECT 1')
    return c.json({ status: 'ready', database: 'connected' })
  } catch {
    return c.json({ status: 'not ready', database: 'disconnected' }, 503)
  }
})

export default health
```

### 9. Route Aggregation
**apps/api/src/routes/index.ts**:
```typescript
import { Hono } from 'hono'
import type { Variables } from '../types/context'
import health from './health'

const routes = new Hono<{ Variables: Variables }>()

// Public routes
routes.route('/health', health)

// API routes (auth required) - added in Phase 04

export default routes
```

### 10. Main App Assembly
**apps/api/src/app.ts**:
```typescript
import { Hono } from 'hono'
import { cors } from 'hono/cors'
import { logger } from 'hono/logger'
import { requestId } from 'hono/request-id'
import { secureHeaders } from 'hono/secure-headers'
import type { Variables } from './types/context'
import { dbMiddleware } from './middleware/db'
import { rateLimit } from './middleware/rate-limit'
import { errorHandler, notFoundHandler } from './middleware/error'
import routes from './routes'

const app = new Hono<{ Variables: Variables }>()

// Global middleware
app.use('*', requestId())
app.use('*', logger())
app.use('*', secureHeaders())
app.use('*', cors({
  origin: process.env.CORS_ORIGIN?.split(',') || ['http://localhost:3000'],
  credentials: true,
}))
app.use('*', dbMiddleware)

// Rate limit public endpoints
app.use('/api/*', rateLimit({ limit: 100, windowMs: 60_000 }))

// Mount routes
app.route('/', routes)

// Error handlers
app.onError(errorHandler)
app.notFound(notFoundHandler)

export { app }
```

### 11. Entry Point
**apps/api/src/index.ts**:
```typescript
import { app } from './app'

const port = process.env.PORT || 3001

console.log(`Starting API server on port ${port}...`)

export default {
  port,
  fetch: app.fetch,
  maxRequestBodySize: 50 * 1024 * 1024, // 50MB for file uploads
}
```

### 12. Update package.json
Add to **apps/api/package.json** dependencies:
```json
{
  "dependencies": {
    "@hono/zod-validator": "^0.4.0",
    "@repo/db": "workspace:*",
    "@repo/shared": "workspace:*",
    "hono": "^4.7.0",
    "zod": "^3.24.0"
  }
}
```

## Todo List
- [ ] Create types/context.ts with Variables type
- [ ] Create lib/errors.ts with custom error classes
- [ ] Create lib/response.ts with helpers
- [ ] Create lib/validators.ts with Zod schemas
- [ ] Create middleware/db.ts for Drizzle injection
- [ ] Create middleware/error.ts for error handling
- [ ] Create middleware/rate-limit.ts
- [ ] Create routes/health.ts
- [ ] Create routes/index.ts aggregator
- [ ] Create app.ts with middleware chain
- [ ] Update index.ts entry point
- [ ] Test health endpoint returns 200

## Success Criteria
- [x] `GET /health` returns `{ status: "healthy" }`
- [x] `GET /health/ready` checks database connection
- [x] Unknown routes return structured 404
- [x] Errors return structured JSON responses
- [x] Rate limiting headers present
- [x] CORS configured correctly

## Risk Assessment

| Risk | Impact | Mitigation |
|------|--------|------------|
| Middleware order issues | Medium | Document order clearly |
| Memory leak in rate limiter | Low | Periodic cleanup implemented |
| CORS misconfiguration | Medium | Environment-based config |

## Security Considerations
- Secure headers enabled
- Rate limiting on all API routes
- CORS restricted to allowed origins
- Request IDs for tracing

## Next Steps
- Phase 04: Authentication + RBAC (Clerk integration)
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-04-auth-rbac.md">
# Phase 04: Authentication + RBAC

## Context Links
- [Clerk RBAC Research](../reports/researcher-260117-1758-clerk-rbac.md)
- [Phase 03: Backend Foundation](./phase-03-backend-foundation.md)

## Overview
- **Priority**: P1 (Critical Path)
- **Status**: pending
- **Effort**: 8h

Integrate Clerk authentication with custom RBAC middleware for multi-tenant access control.

## Key Insights
- Clerk Organizations map to workspaces (tenants)
- Roles: super_admin, pm, member, guest
- Permissions embedded in session token
- Backend validates via `@hono/clerk-auth`
- Frontend uses `useAuth()` and `has()` hooks

## Requirements

### Functional
- User authentication via Clerk
- Organization-based multi-tenancy
- Role-based route protection
- Permission-based action control
- User sync to local database

### Non-Functional
- Auth check < 10ms (token validation)
- Session refresh handled by Clerk SDK
- Audit logging for auth events

## Architecture

### Auth Flow
```
1. User signs in via Clerk (frontend)
2. Frontend sends JWT in Authorization header
3. Backend validates JWT via clerkMiddleware
4. Middleware extracts userId, orgId, role
5. RBAC middleware checks permissions
6. Route handler accesses user via c.var.user
```

### Role Hierarchy
| Role | Permissions |
|------|-------------|
| super_admin | All operations |
| pm | Create/manage projects, assign tasks, invite members |
| member | Create/update own tasks, comment |
| guest | Read-only access |

## Related Code Files

### Create
- `/apps/api/src/middleware/auth.ts`
- `/apps/api/src/middleware/rbac.ts`
- `/apps/api/src/routes/auth.ts`
- `/apps/api/src/services/user-sync.ts`
- `/packages/shared/src/types/auth.ts`

### Modify
- `/apps/api/src/types/context.ts`
- `/apps/api/src/routes/index.ts`
- `/apps/api/package.json`

## Implementation Steps

### 1. Auth Types
**packages/shared/src/types/auth.ts**:
```typescript
export type Role = 'super_admin' | 'pm' | 'member' | 'guest'

export type Permission =
  | 'workspace:read'
  | 'workspace:update'
  | 'workspace:delete'
  | 'workspace:invite'
  | 'project:create'
  | 'project:read'
  | 'project:update'
  | 'project:delete'
  | 'task:create'
  | 'task:read'
  | 'task:update'
  | 'task:delete'
  | 'task:assign'
  | 'comment:create'
  | 'comment:read'
  | 'comment:update'
  | 'comment:delete'

export const ROLE_PERMISSIONS: Record<Role, Permission[]> = {
  super_admin: [
    'workspace:read', 'workspace:update', 'workspace:delete', 'workspace:invite',
    'project:create', 'project:read', 'project:update', 'project:delete',
    'task:create', 'task:read', 'task:update', 'task:delete', 'task:assign',
    'comment:create', 'comment:read', 'comment:update', 'comment:delete',
  ],
  pm: [
    'workspace:read', 'workspace:invite',
    'project:create', 'project:read', 'project:update',
    'task:create', 'task:read', 'task:update', 'task:assign',
    'comment:create', 'comment:read', 'comment:update', 'comment:delete',
  ],
  member: [
    'workspace:read',
    'project:read',
    'task:create', 'task:read', 'task:update',
    'comment:create', 'comment:read', 'comment:update',
  ],
  guest: [
    'workspace:read',
    'project:read',
    'task:read',
    'comment:read',
  ],
}

export function hasPermission(role: Role, permission: Permission): boolean {
  return ROLE_PERMISSIONS[role]?.includes(permission) ?? false
}

export function hasAnyPermission(role: Role, permissions: Permission[]): boolean {
  return permissions.some(p => hasPermission(role, p))
}

export function hasAllPermissions(role: Role, permissions: Permission[]): boolean {
  return permissions.every(p => hasPermission(role, p))
}
```

### 2. Update Context Types
**apps/api/src/types/context.ts**:
```typescript
import type { Database } from '@repo/db'
import type { Role } from '@repo/shared/types/auth'

export type AuthUser = {
  id: string           // Local user ID (UUID)
  clerkId: string      // Clerk user ID
  email: string
  name: string
  role: Role
  orgId: string | null // Clerk organization ID
  workspaceId: string | null // Local workspace ID
}

export type Variables = {
  db: Database
  user: AuthUser | null
  requestId: string
}
```

### 3. User Sync Service
**apps/api/src/services/user-sync.ts**:
```typescript
import { eq } from 'drizzle-orm'
import type { Database } from '@repo/db'
import { users } from '@repo/db/schema'

type ClerkUser = {
  id: string
  emailAddresses: { emailAddress: string }[]
  firstName: string | null
  lastName: string | null
  imageUrl: string | null
}

export async function syncUser(db: Database, clerkUser: ClerkUser) {
  const email = clerkUser.emailAddresses[0]?.emailAddress
  if (!email) throw new Error('User has no email')

  const name = [clerkUser.firstName, clerkUser.lastName].filter(Boolean).join(' ') || email

  const [existing] = await db
    .select()
    .from(users)
    .where(eq(users.clerkId, clerkUser.id))
    .limit(1)

  if (existing) {
    // Update existing user
    const [updated] = await db
      .update(users)
      .set({
        email,
        name,
        avatarUrl: clerkUser.imageUrl,
        updatedAt: new Date(),
      })
      .where(eq(users.id, existing.id))
      .returning()
    return updated
  }

  // Create new user
  const [created] = await db
    .insert(users)
    .values({
      clerkId: clerkUser.id,
      email,
      name,
      avatarUrl: clerkUser.imageUrl,
    })
    .returning()

  return created
}

export async function getUserByClerkId(db: Database, clerkId: string) {
  const [user] = await db
    .select()
    .from(users)
    .where(eq(users.clerkId, clerkId))
    .limit(1)
  return user || null
}
```

### 4. Auth Middleware
**apps/api/src/middleware/auth.ts**:
```typescript
import { createMiddleware } from 'hono/factory'
import { clerkMiddleware, getAuth } from '@hono/clerk-auth'
import { eq } from 'drizzle-orm'
import type { Variables, AuthUser } from '../types/context'
import { workspaces, workspaceMembers } from '@repo/db/schema'
import { syncUser, getUserByClerkId } from '../services/user-sync'
import { UnauthorizedError } from '../lib/errors'
import type { Role } from '@repo/shared/types/auth'

// Wrap Clerk middleware
export const clerkAuth = clerkMiddleware()

// Extract and enrich user context
export const authMiddleware = createMiddleware<{ Variables: Variables }>(async (c, next) => {
  const auth = getAuth(c)

  if (!auth?.userId) {
    c.set('user', null)
    await next()
    return
  }

  const db = c.var.db
  const clerkClient = c.get('clerk')

  // Get or sync user
  let localUser = await getUserByClerkId(db, auth.userId)

  if (!localUser) {
    // Fetch from Clerk and sync
    const clerkUser = await clerkClient.users.getUser(auth.userId)
    localUser = await syncUser(db, clerkUser)
  }

  // Get workspace and role from organization
  let role: Role = 'guest'
  let workspaceId: string | null = null

  if (auth.orgId) {
    // Find workspace by Clerk org ID
    const [workspace] = await db
      .select()
      .from(workspaces)
      .where(eq(workspaces.clerkOrgId, auth.orgId))
      .limit(1)

    if (workspace) {
      workspaceId = workspace.id

      // Get member role
      const [membership] = await db
        .select()
        .from(workspaceMembers)
        .where(eq(workspaceMembers.workspaceId, workspace.id))
        .where(eq(workspaceMembers.userId, localUser.id))
        .limit(1)

      if (membership) {
        role = membership.role as Role
      }
    }
  }

  const user: AuthUser = {
    id: localUser.id,
    clerkId: localUser.clerkId,
    email: localUser.email,
    name: localUser.name,
    role,
    orgId: auth.orgId || null,
    workspaceId,
  }

  c.set('user', user)
  await next()
})

// Require authentication
export const requireAuth = createMiddleware<{ Variables: Variables }>(async (c, next) => {
  const user = c.var.user

  if (!user) {
    throw new UnauthorizedError('Authentication required')
  }

  await next()
})

// Require active organization/workspace
export const requireWorkspace = createMiddleware<{ Variables: Variables }>(async (c, next) => {
  const user = c.var.user

  if (!user) {
    throw new UnauthorizedError('Authentication required')
  }

  if (!user.workspaceId) {
    throw new UnauthorizedError('No active workspace. Please select an organization.')
  }

  await next()
})
```

### 5. RBAC Middleware
**apps/api/src/middleware/rbac.ts**:
```typescript
import { createMiddleware } from 'hono/factory'
import type { Variables } from '../types/context'
import { ForbiddenError, UnauthorizedError } from '../lib/errors'
import type { Role, Permission } from '@repo/shared/types/auth'
import { hasPermission, hasAnyPermission } from '@repo/shared/types/auth'

// Require specific role(s)
export const requireRole = (...allowedRoles: Role[]) => {
  return createMiddleware<{ Variables: Variables }>(async (c, next) => {
    const user = c.var.user

    if (!user) {
      throw new UnauthorizedError()
    }

    if (!allowedRoles.includes(user.role)) {
      throw new ForbiddenError(`Role ${user.role} not allowed. Required: ${allowedRoles.join(' or ')}`)
    }

    await next()
  })
}

// Require specific permission(s)
export const requirePermission = (...permissions: Permission[]) => {
  return createMiddleware<{ Variables: Variables }>(async (c, next) => {
    const user = c.var.user

    if (!user) {
      throw new UnauthorizedError()
    }

    if (!hasAnyPermission(user.role, permissions)) {
      throw new ForbiddenError(`Permission denied. Required: ${permissions.join(' or ')}`)
    }

    await next()
  })
}

// Check if user can modify resource
export const requireOwnerOrRole = (getOwnerId: (c: any) => Promise<string | null>, ...allowedRoles: Role[]) => {
  return createMiddleware<{ Variables: Variables }>(async (c, next) => {
    const user = c.var.user

    if (!user) {
      throw new UnauthorizedError()
    }

    // Super admin can do anything
    if (allowedRoles.includes(user.role)) {
      await next()
      return
    }

    // Check ownership
    const ownerId = await getOwnerId(c)
    if (ownerId !== user.id) {
      throw new ForbiddenError('You can only modify your own resources')
    }

    await next()
  })
}
```

### 6. Auth Routes (Webhook + User Info)
**apps/api/src/routes/auth.ts**:
```typescript
import { Hono } from 'hono'
import { Webhook } from 'svix'
import type { Variables } from '../types/context'
import { syncUser } from '../services/user-sync'
import { requireAuth } from '../middleware/auth'
import { success } from '../lib/response'

const auth = new Hono<{ Variables: Variables }>()

// Get current user
auth.get('/me', requireAuth, (c) => {
  const user = c.var.user!
  return success(c, {
    id: user.id,
    email: user.email,
    name: user.name,
    role: user.role,
    workspaceId: user.workspaceId,
  })
})

// Clerk webhook for user events
auth.post('/webhook/clerk', async (c) => {
  const webhookSecret = process.env.CLERK_WEBHOOK_SECRET

  if (!webhookSecret) {
    console.error('CLERK_WEBHOOK_SECRET not configured')
    return c.json({ error: 'Webhook not configured' }, 500)
  }

  const svixId = c.req.header('svix-id')
  const svixTimestamp = c.req.header('svix-timestamp')
  const svixSignature = c.req.header('svix-signature')

  if (!svixId || !svixTimestamp || !svixSignature) {
    return c.json({ error: 'Missing headers' }, 400)
  }

  const body = await c.req.text()

  try {
    const wh = new Webhook(webhookSecret)
    const evt = wh.verify(body, {
      'svix-id': svixId,
      'svix-timestamp': svixTimestamp,
      'svix-signature': svixSignature,
    }) as { type: string; data: any }

    const db = c.var.db

    switch (evt.type) {
      case 'user.created':
      case 'user.updated':
        await syncUser(db, evt.data)
        break
      // Handle other events as needed
    }

    return c.json({ received: true })
  } catch (err) {
    console.error('Webhook verification failed:', err)
    return c.json({ error: 'Invalid signature' }, 400)
  }
})

export default auth
```

### 7. Update Routes Index
**apps/api/src/routes/index.ts**:
```typescript
import { Hono } from 'hono'
import type { Variables } from '../types/context'
import { clerkAuth, authMiddleware, requireAuth, requireWorkspace } from '../middleware/auth'
import health from './health'
import auth from './auth'

const routes = new Hono<{ Variables: Variables }>()

// Public routes
routes.route('/health', health)

// Auth middleware for all /api routes
routes.use('/api/*', clerkAuth)
routes.use('/api/*', authMiddleware)

// Auth routes (some public, some protected)
routes.route('/api/auth', auth)

// Protected workspace routes - added in Phase 05
// routes.use('/api/workspaces/*', requireWorkspace)
// routes.route('/api/workspaces', workspaces)

export default routes
```

### 8. Update Package Dependencies
Add to **apps/api/package.json**:
```json
{
  "dependencies": {
    "@clerk/backend": "^1.18.0",
    "@hono/clerk-auth": "^2.0.0",
    "svix": "^1.45.0"
  }
}
```

### 9. Environment Variables
Add to `.env.example`:
```bash
# Clerk
CLERK_SECRET_KEY=sk_test_xxxxx
CLERK_PUBLISHABLE_KEY=pk_test_xxxxx
CLERK_WEBHOOK_SECRET=whsec_xxxxx
```

## Todo List
- [ ] Create shared auth types (Role, Permission)
- [ ] Implement permission checking functions
- [ ] Update context types with AuthUser
- [ ] Create user sync service
- [ ] Implement clerkAuth middleware
- [ ] Implement authMiddleware for user enrichment
- [ ] Implement requireAuth middleware
- [ ] Implement requireWorkspace middleware
- [ ] Create RBAC middleware (requireRole, requirePermission)
- [ ] Create auth routes (/me, webhook)
- [ ] Update routes index with auth chain
- [ ] Configure Clerk webhook in dashboard
- [ ] Test authentication flow

## Success Criteria
- [x] Unauthenticated requests to /api/* return 401
- [x] Authenticated requests include user in context
- [x] Role-based access control works
- [x] Permission checks function correctly
- [x] User sync creates local records
- [x] Webhook updates user data

## Risk Assessment

| Risk | Impact | Mitigation |
|------|--------|------------|
| Clerk API rate limits | Medium | Cache user data locally |
| Webhook signature issues | Medium | Detailed error logging |
| Role mismatch | High | Test all role combinations |

## Security Considerations
- Webhook signature verification mandatory
- No sensitive data in responses
- Role escalation prevention
- Audit log for auth events

## Next Steps
- Phase 05: Workspace + Project APIs
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-05-workspace-project-apis.md">
# Phase 05: Workspace + Project APIs

## Context Links
- [Phase 04: Auth + RBAC](./phase-04-auth-rbac.md)
- [Drizzle Research](../reports/researcher-260117-1758-drizzle-postgres.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 8h

Implement CRUD APIs for workspaces and projects with tenant isolation and custom workflow statuses.

## Key Insights
- Workspaces map to Clerk Organizations
- All queries scoped by workspaceId
- Default workflow statuses created with new projects
- Soft delete for projects (archived status)

## Requirements

### Functional
- Workspace CRUD (sync with Clerk orgs)
- Project CRUD within workspace
- Custom workflow status management per project
- Member management for workspace

### Non-Functional
- All queries scoped to user's workspace
- Proper cascade on delete
- Audit logging for changes

## Architecture

### API Endpoints
```
Workspaces:
  GET    /api/workspaces              List user's workspaces
  GET    /api/workspaces/:id          Get workspace details
  PATCH  /api/workspaces/:id          Update workspace
  POST   /api/workspaces/:id/members  Invite member
  DELETE /api/workspaces/:id/members/:userId  Remove member

Projects:
  GET    /api/projects                List projects in workspace
  POST   /api/projects                Create project
  GET    /api/projects/:id            Get project details
  PATCH  /api/projects/:id            Update project
  DELETE /api/projects/:id            Archive project

Workflow Statuses:
  GET    /api/projects/:id/statuses   List statuses
  POST   /api/projects/:id/statuses   Create status
  PATCH  /api/projects/:id/statuses/:statusId   Update status
  DELETE /api/projects/:id/statuses/:statusId   Delete status
  POST   /api/projects/:id/statuses/reorder     Reorder statuses
```

## Related Code Files

### Create
- `/apps/api/src/routes/workspaces.ts`
- `/apps/api/src/routes/projects.ts`
- `/apps/api/src/services/workspace.ts`
- `/apps/api/src/services/project.ts`
- `/packages/shared/src/validators/workspace.ts`
- `/packages/shared/src/validators/project.ts`

### Modify
- `/apps/api/src/routes/index.ts`
- `/apps/api/src/lib/validators.ts`

## Implementation Steps

### 1. Workspace Validators
**packages/shared/src/validators/workspace.ts**:
```typescript
import { z } from 'zod'

export const createWorkspaceSchema = z.object({
  name: z.string().min(1).max(100),
  slug: z.string().min(1).max(50).regex(/^[a-z0-9-]+$/, 'Slug must be lowercase alphanumeric with hyphens'),
  clerkOrgId: z.string().min(1),
})

export const updateWorkspaceSchema = z.object({
  name: z.string().min(1).max(100).optional(),
  settings: z.object({
    defaultProjectView: z.enum(['kanban', 'list', 'calendar']).optional(),
    allowGuestInvites: z.boolean().optional(),
  }).optional(),
})

export const inviteMemberSchema = z.object({
  email: z.string().email(),
  role: z.enum(['super_admin', 'pm', 'member', 'guest']).default('member'),
})

export type CreateWorkspaceInput = z.infer<typeof createWorkspaceSchema>
export type UpdateWorkspaceInput = z.infer<typeof updateWorkspaceSchema>
export type InviteMemberInput = z.infer<typeof inviteMemberSchema>
```

### 2. Project Validators
**packages/shared/src/validators/project.ts**:
```typescript
import { z } from 'zod'

export const createProjectSchema = z.object({
  name: z.string().min(1).max(200),
  description: z.string().max(2000).optional(),
})

export const updateProjectSchema = z.object({
  name: z.string().min(1).max(200).optional(),
  description: z.string().max(2000).optional().nullable(),
  status: z.enum(['active', 'archived']).optional(),
})

export const createWorkflowStatusSchema = z.object({
  name: z.string().min(1).max(50),
  color: z.string().regex(/^#[0-9A-Fa-f]{6}$/).default('#6366f1'),
  isDefault: z.boolean().optional(),
  isFinal: z.boolean().optional(),
})

export const updateWorkflowStatusSchema = createWorkflowStatusSchema.partial()

export const reorderStatusesSchema = z.object({
  orderedIds: z.array(z.string().uuid()),
})

export type CreateProjectInput = z.infer<typeof createProjectSchema>
export type UpdateProjectInput = z.infer<typeof updateProjectSchema>
export type CreateWorkflowStatusInput = z.infer<typeof createWorkflowStatusSchema>
```

### 3. Workspace Service
**apps/api/src/services/workspace.ts**:
```typescript
import { eq, and } from 'drizzle-orm'
import type { Database } from '@repo/db'
import { workspaces, workspaceMembers, users } from '@repo/db/schema'
import type { UpdateWorkspaceInput } from '@repo/shared/validators/workspace'
import { NotFoundError, ConflictError } from '../lib/errors'

export async function getWorkspacesByUserId(db: Database, userId: string) {
  const memberships = await db.query.workspaceMembers.findMany({
    where: eq(workspaceMembers.userId, userId),
    with: {
      workspace: true,
    },
  })
  return memberships.map(m => ({
    ...m.workspace,
    role: m.role,
  }))
}

export async function getWorkspaceById(db: Database, workspaceId: string, userId: string) {
  const workspace = await db.query.workspaces.findFirst({
    where: eq(workspaces.id, workspaceId),
    with: {
      owner: true,
      members: {
        with: { user: true },
      },
      projects: {
        where: (projects, { ne }) => ne(projects.status, 'deleted'),
      },
    },
  })

  if (!workspace) {
    throw new NotFoundError('Workspace', workspaceId)
  }

  // Verify membership
  const isMember = workspace.members.some(m => m.userId === userId)
  if (!isMember) {
    throw new NotFoundError('Workspace', workspaceId)
  }

  return workspace
}

export async function updateWorkspace(
  db: Database,
  workspaceId: string,
  data: UpdateWorkspaceInput
) {
  const [updated] = await db
    .update(workspaces)
    .set({
      ...data,
      updatedAt: new Date(),
    })
    .where(eq(workspaces.id, workspaceId))
    .returning()

  if (!updated) {
    throw new NotFoundError('Workspace', workspaceId)
  }

  return updated
}

export async function getWorkspaceMembers(db: Database, workspaceId: string) {
  return db.query.workspaceMembers.findMany({
    where: eq(workspaceMembers.workspaceId, workspaceId),
    with: { user: true },
  })
}

export async function addWorkspaceMember(
  db: Database,
  workspaceId: string,
  userId: string,
  role: string
) {
  // Check if already member
  const existing = await db.query.workspaceMembers.findFirst({
    where: and(
      eq(workspaceMembers.workspaceId, workspaceId),
      eq(workspaceMembers.userId, userId)
    ),
  })

  if (existing) {
    throw new ConflictError('User is already a member of this workspace')
  }

  const [member] = await db
    .insert(workspaceMembers)
    .values({
      workspaceId,
      userId,
      role,
    })
    .returning()

  return member
}

export async function removeWorkspaceMember(
  db: Database,
  workspaceId: string,
  userId: string
) {
  const result = await db
    .delete(workspaceMembers)
    .where(
      and(
        eq(workspaceMembers.workspaceId, workspaceId),
        eq(workspaceMembers.userId, userId)
      )
    )
    .returning()

  if (result.length === 0) {
    throw new NotFoundError('Member')
  }

  return result[0]
}
```

### 4. Project Service
**apps/api/src/services/project.ts**:
```typescript
import { eq, and, ne, asc } from 'drizzle-orm'
import type { Database } from '@repo/db'
import { projects, workflowStatuses } from '@repo/db/schema'
import type { CreateProjectInput, UpdateProjectInput, CreateWorkflowStatusInput } from '@repo/shared/validators/project'
import { NotFoundError } from '../lib/errors'

const DEFAULT_STATUSES = [
  { name: 'To Do', color: '#6b7280', order: 0, isDefault: true },
  { name: 'In Progress', color: '#3b82f6', order: 1 },
  { name: 'Review', color: '#f59e0b', order: 2 },
  { name: 'Done', color: '#10b981', order: 3, isFinal: true },
]

export async function getProjectsByWorkspace(db: Database, workspaceId: string) {
  return db.query.projects.findMany({
    where: and(
      eq(projects.workspaceId, workspaceId),
      ne(projects.status, 'deleted')
    ),
    with: {
      createdBy: true,
      _count: {
        tasks: true,
      },
    },
    orderBy: (projects, { desc }) => [desc(projects.createdAt)],
  })
}

export async function getProjectById(db: Database, projectId: string, workspaceId: string) {
  const project = await db.query.projects.findFirst({
    where: and(
      eq(projects.id, projectId),
      eq(projects.workspaceId, workspaceId),
      ne(projects.status, 'deleted')
    ),
    with: {
      createdBy: true,
      workflowStatuses: {
        orderBy: (statuses, { asc }) => [asc(statuses.order)],
      },
    },
  })

  if (!project) {
    throw new NotFoundError('Project', projectId)
  }

  return project
}

export async function createProject(
  db: Database,
  workspaceId: string,
  createdById: string,
  data: CreateProjectInput
) {
  // Create project
  const [project] = await db
    .insert(projects)
    .values({
      ...data,
      workspaceId,
      createdById,
    })
    .returning()

  // Create default workflow statuses
  await db.insert(workflowStatuses).values(
    DEFAULT_STATUSES.map(status => ({
      ...status,
      projectId: project.id,
    }))
  )

  // Return with statuses
  return getProjectById(db, project.id, workspaceId)
}

export async function updateProject(
  db: Database,
  projectId: string,
  workspaceId: string,
  data: UpdateProjectInput
) {
  const [updated] = await db
    .update(projects)
    .set({
      ...data,
      updatedAt: new Date(),
    })
    .where(
      and(
        eq(projects.id, projectId),
        eq(projects.workspaceId, workspaceId)
      )
    )
    .returning()

  if (!updated) {
    throw new NotFoundError('Project', projectId)
  }

  return updated
}

export async function deleteProject(db: Database, projectId: string, workspaceId: string) {
  // Soft delete
  return updateProject(db, projectId, workspaceId, { status: 'archived' })
}

// Workflow Status Functions
export async function getProjectStatuses(db: Database, projectId: string) {
  return db.query.workflowStatuses.findMany({
    where: eq(workflowStatuses.projectId, projectId),
    orderBy: (statuses, { asc }) => [asc(statuses.order)],
  })
}

export async function createWorkflowStatus(
  db: Database,
  projectId: string,
  data: CreateWorkflowStatusInput
) {
  // Get max order
  const existing = await db
    .select({ maxOrder: workflowStatuses.order })
    .from(workflowStatuses)
    .where(eq(workflowStatuses.projectId, projectId))
    .orderBy(asc(workflowStatuses.order))

  const maxOrder = existing.length > 0 ? Math.max(...existing.map(e => e.maxOrder)) : -1

  const [status] = await db
    .insert(workflowStatuses)
    .values({
      ...data,
      projectId,
      order: maxOrder + 1,
    })
    .returning()

  return status
}

export async function updateWorkflowStatus(
  db: Database,
  statusId: string,
  projectId: string,
  data: Partial<CreateWorkflowStatusInput>
) {
  const [updated] = await db
    .update(workflowStatuses)
    .set(data)
    .where(
      and(
        eq(workflowStatuses.id, statusId),
        eq(workflowStatuses.projectId, projectId)
      )
    )
    .returning()

  if (!updated) {
    throw new NotFoundError('Workflow status', statusId)
  }

  return updated
}

export async function deleteWorkflowStatus(db: Database, statusId: string, projectId: string) {
  const result = await db
    .delete(workflowStatuses)
    .where(
      and(
        eq(workflowStatuses.id, statusId),
        eq(workflowStatuses.projectId, projectId)
      )
    )
    .returning()

  if (result.length === 0) {
    throw new NotFoundError('Workflow status', statusId)
  }

  return result[0]
}

export async function reorderStatuses(db: Database, projectId: string, orderedIds: string[]) {
  // Update each status with new order
  await Promise.all(
    orderedIds.map((id, index) =>
      db
        .update(workflowStatuses)
        .set({ order: index })
        .where(
          and(
            eq(workflowStatuses.id, id),
            eq(workflowStatuses.projectId, projectId)
          )
        )
    )
  )

  return getProjectStatuses(db, projectId)
}
```

### 5. Workspace Routes
**apps/api/src/routes/workspaces.ts**:
```typescript
import { Hono } from 'hono'
import { zValidator } from '@hono/zod-validator'
import type { Variables } from '../types/context'
import { requireAuth, requireWorkspace } from '../middleware/auth'
import { requireRole, requirePermission } from '../middleware/rbac'
import { success, created } from '../lib/response'
import { updateWorkspaceSchema, inviteMemberSchema } from '@repo/shared/validators/workspace'
import * as workspaceService from '../services/workspace'

const workspaces = new Hono<{ Variables: Variables }>()

// List user's workspaces
workspaces.get('/', requireAuth, async (c) => {
  const user = c.var.user!
  const db = c.var.db
  const result = await workspaceService.getWorkspacesByUserId(db, user.id)
  return success(c, result)
})

// Get workspace by ID
workspaces.get('/:id', requireAuth, async (c) => {
  const user = c.var.user!
  const db = c.var.db
  const workspaceId = c.req.param('id')
  const result = await workspaceService.getWorkspaceById(db, workspaceId, user.id)
  return success(c, result)
})

// Update workspace
workspaces.patch(
  '/:id',
  requireWorkspace,
  requirePermission('workspace:update'),
  zValidator('json', updateWorkspaceSchema),
  async (c) => {
    const db = c.var.db
    const workspaceId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await workspaceService.updateWorkspace(db, workspaceId, data)
    return success(c, result)
  }
)

// List workspace members
workspaces.get('/:id/members', requireWorkspace, async (c) => {
  const db = c.var.db
  const workspaceId = c.req.param('id')
  const members = await workspaceService.getWorkspaceMembers(db, workspaceId)
  return success(c, members)
})

// Invite member (via Clerk, then add to local DB)
workspaces.post(
  '/:id/members',
  requireWorkspace,
  requirePermission('workspace:invite'),
  zValidator('json', inviteMemberSchema),
  async (c) => {
    // Note: Actual invite happens via Clerk Organizations
    // This endpoint handles post-invite local DB sync
    const db = c.var.db
    const workspaceId = c.req.param('id')
    const { email, role } = c.req.valid('json')

    // TODO: Look up user by email, add to workspace
    // For now, return success message
    return success(c, { message: 'Invitation sent', email, role })
  }
)

// Remove member
workspaces.delete(
  '/:id/members/:userId',
  requireWorkspace,
  requireRole('super_admin', 'pm'),
  async (c) => {
    const db = c.var.db
    const workspaceId = c.req.param('id')
    const userId = c.req.param('userId')
    await workspaceService.removeWorkspaceMember(db, workspaceId, userId)
    return success(c, { message: 'Member removed' })
  }
)

export default workspaces
```

### 6. Project Routes
**apps/api/src/routes/projects.ts**:
```typescript
import { Hono } from 'hono'
import { zValidator } from '@hono/zod-validator'
import type { Variables } from '../types/context'
import { requireWorkspace } from '../middleware/auth'
import { requirePermission } from '../middleware/rbac'
import { success, created, noContent } from '../lib/response'
import {
  createProjectSchema,
  updateProjectSchema,
  createWorkflowStatusSchema,
  updateWorkflowStatusSchema,
  reorderStatusesSchema,
} from '@repo/shared/validators/project'
import * as projectService from '../services/project'

const projects = new Hono<{ Variables: Variables }>()

// List projects
projects.get('/', requireWorkspace, async (c) => {
  const user = c.var.user!
  const db = c.var.db
  const result = await projectService.getProjectsByWorkspace(db, user.workspaceId!)
  return success(c, result)
})

// Create project
projects.post(
  '/',
  requireWorkspace,
  requirePermission('project:create'),
  zValidator('json', createProjectSchema),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const data = c.req.valid('json')
    const result = await projectService.createProject(db, user.workspaceId!, user.id, data)
    return created(c, result)
  }
)

// Get project
projects.get('/:id', requireWorkspace, async (c) => {
  const user = c.var.user!
  const db = c.var.db
  const projectId = c.req.param('id')
  const result = await projectService.getProjectById(db, projectId, user.workspaceId!)
  return success(c, result)
})

// Update project
projects.patch(
  '/:id',
  requireWorkspace,
  requirePermission('project:update'),
  zValidator('json', updateProjectSchema),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const projectId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await projectService.updateProject(db, projectId, user.workspaceId!, data)
    return success(c, result)
  }
)

// Delete (archive) project
projects.delete(
  '/:id',
  requireWorkspace,
  requirePermission('project:delete'),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const projectId = c.req.param('id')
    await projectService.deleteProject(db, projectId, user.workspaceId!)
    return noContent(c)
  }
)

// --- Workflow Statuses ---

// List statuses
projects.get('/:id/statuses', requireWorkspace, async (c) => {
  const db = c.var.db
  const projectId = c.req.param('id')
  const result = await projectService.getProjectStatuses(db, projectId)
  return success(c, result)
})

// Create status
projects.post(
  '/:id/statuses',
  requireWorkspace,
  requirePermission('project:update'),
  zValidator('json', createWorkflowStatusSchema),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await projectService.createWorkflowStatus(db, projectId, data)
    return created(c, result)
  }
)

// Update status
projects.patch(
  '/:id/statuses/:statusId',
  requireWorkspace,
  requirePermission('project:update'),
  zValidator('json', updateWorkflowStatusSchema),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('id')
    const statusId = c.req.param('statusId')
    const data = c.req.valid('json')
    const result = await projectService.updateWorkflowStatus(db, statusId, projectId, data)
    return success(c, result)
  }
)

// Delete status
projects.delete(
  '/:id/statuses/:statusId',
  requireWorkspace,
  requirePermission('project:update'),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('id')
    const statusId = c.req.param('statusId')
    await projectService.deleteWorkflowStatus(db, statusId, projectId)
    return noContent(c)
  }
)

// Reorder statuses
projects.post(
  '/:id/statuses/reorder',
  requireWorkspace,
  requirePermission('project:update'),
  zValidator('json', reorderStatusesSchema),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('id')
    const { orderedIds } = c.req.valid('json')
    const result = await projectService.reorderStatuses(db, projectId, orderedIds)
    return success(c, result)
  }
)

export default projects
```

### 7. Update Routes Index
**apps/api/src/routes/index.ts**:
```typescript
import { Hono } from 'hono'
import type { Variables } from '../types/context'
import { clerkAuth, authMiddleware, requireWorkspace } from '../middleware/auth'
import health from './health'
import auth from './auth'
import workspaces from './workspaces'
import projects from './projects'

const routes = new Hono<{ Variables: Variables }>()

// Public routes
routes.route('/health', health)

// Auth middleware for all /api routes
routes.use('/api/*', clerkAuth)
routes.use('/api/*', authMiddleware)

// API routes
routes.route('/api/auth', auth)
routes.route('/api/workspaces', workspaces)
routes.route('/api/projects', projects)

export default routes
```

## Todo List
- [ ] Create workspace validators
- [ ] Create project validators
- [ ] Implement workspace service functions
- [ ] Implement project service functions
- [ ] Create workspace routes with RBAC
- [ ] Create project routes with RBAC
- [ ] Create workflow status endpoints
- [ ] Update routes index
- [ ] Test all CRUD operations
- [ ] Verify tenant isolation

## Success Criteria
- [x] Workspaces scoped to user membership
- [x] Projects scoped to workspace
- [x] Default statuses created with new project
- [x] Status reordering works
- [x] RBAC enforced on all endpoints
- [x] Soft delete for projects

## Risk Assessment

| Risk | Impact | Mitigation |
|------|--------|------------|
| Cross-tenant data leak | Critical | Always filter by workspaceId |
| Missing cascade deletes | Medium | Test deletion flows |
| Status order conflicts | Low | Transaction for reorder |

## Security Considerations
- All queries include workspaceId filter
- Permission checks before mutations
- Soft delete preserves audit trail

## Next Steps
- Phase 06: Task Management APIs
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-06-task-apis.md">
# Phase 06: Task Management APIs

## Context Links
- [Phase 05: Workspace + Project APIs](./phase-05-workspace-project-apis.md)
- [Drizzle Research](../reports/researcher-260117-1758-drizzle-postgres.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 10h

Implement comprehensive task CRUD with dependencies, watchers, attachments, and activity logging.

## Key Insights
- Tasks belong to projects, scoped by workspace
- Task dependencies (blockers) are many-to-many self-referencing
- Watchers receive notifications on task updates
- Activity log captures all changes for audit trail
- File attachments stored externally (URLs), metadata in DB

## Requirements

### Functional
- Task CRUD with rich filtering
- Task position/order within status column
- Task dependencies (blocker relationships)
- Task watchers (subscribers)
- File attachment metadata
- Activity logging for all changes

### Non-Functional
- Optimistic updates support (return full task)
- Pagination for task lists
- Efficient queries with proper indexes

## Architecture

### API Endpoints
```
Tasks:
  GET    /api/projects/:projectId/tasks           List tasks (with filters)
  POST   /api/projects/:projectId/tasks           Create task
  GET    /api/tasks/:id                           Get task details
  PATCH  /api/tasks/:id                           Update task
  DELETE /api/tasks/:id                           Delete task
  POST   /api/tasks/:id/move                      Move task (status + order)

Dependencies:
  GET    /api/tasks/:id/dependencies              List dependencies
  POST   /api/tasks/:id/dependencies              Add dependency
  DELETE /api/tasks/:id/dependencies/:depId       Remove dependency

Watchers:
  GET    /api/tasks/:id/watchers                  List watchers
  POST   /api/tasks/:id/watchers                  Add watcher
  DELETE /api/tasks/:id/watchers/:userId          Remove watcher

Attachments:
  GET    /api/tasks/:id/attachments               List attachments
  POST   /api/tasks/:id/attachments               Upload attachment
  DELETE /api/attachments/:id                     Delete attachment
```

## Related Code Files

### Create
- `/apps/api/src/routes/tasks.ts`
- `/apps/api/src/services/task.ts`
- `/apps/api/src/services/activity.ts`
- `/packages/shared/src/validators/task.ts`

### Modify
- `/apps/api/src/routes/index.ts`

## Implementation Steps

### 1. Task Validators
**packages/shared/src/validators/task.ts**:
```typescript
import { z } from 'zod'

export const taskFilterSchema = z.object({
  statusId: z.string().uuid().optional(),
  assigneeId: z.string().uuid().optional(),
  priority: z.enum(['low', 'medium', 'high', 'urgent']).optional(),
  search: z.string().optional(),
  dueBefore: z.string().datetime().optional(),
  dueAfter: z.string().datetime().optional(),
  page: z.coerce.number().min(1).default(1),
  limit: z.coerce.number().min(1).max(100).default(50),
})

export const createTaskSchema = z.object({
  title: z.string().min(1).max(500),
  description: z.string().max(50000).optional(), // Rich text HTML
  priority: z.enum(['low', 'medium', 'high', 'urgent']).default('medium'),
  statusId: z.string().uuid().optional(),
  assigneeId: z.string().uuid().optional().nullable(),
  dueDate: z.string().datetime().optional().nullable(),
})

export const updateTaskSchema = createTaskSchema.partial()

export const moveTaskSchema = z.object({
  statusId: z.string().uuid(),
  order: z.number().int().min(0),
})

export const addDependencySchema = z.object({
  dependsOnId: z.string().uuid(),
})

export const addWatcherSchema = z.object({
  userId: z.string().uuid(),
})

export const uploadAttachmentSchema = z.object({
  fileName: z.string().min(1).max(255),
  fileUrl: z.string().url(),
  fileSize: z.number().int().positive(),
  mimeType: z.string().min(1),
})

export type TaskFilterInput = z.infer<typeof taskFilterSchema>
export type CreateTaskInput = z.infer<typeof createTaskSchema>
export type UpdateTaskInput = z.infer<typeof updateTaskSchema>
export type MoveTaskInput = z.infer<typeof moveTaskSchema>
```

### 2. Activity Service
**apps/api/src/services/activity.ts**:
```typescript
import type { Database } from '@repo/db'
import { activityLogs, type ActivityChanges } from '@repo/db/schema'

type EntityType = 'workspace' | 'project' | 'task' | 'comment'
type ActionType = 'created' | 'updated' | 'deleted' | 'assigned' | 'commented' | 'status_changed' | 'moved'

export async function logActivity(
  db: Database,
  params: {
    workspaceId: string
    entityType: EntityType
    entityId: string
    userId: string
    action: ActionType
    changes?: ActivityChanges
    metadata?: Record<string, unknown>
  }
) {
  const [log] = await db
    .insert(activityLogs)
    .values({
      workspaceId: params.workspaceId,
      entityType: params.entityType,
      entityId: params.entityId,
      userId: params.userId,
      action: params.action,
      changes: params.changes,
      metadata: params.metadata,
    })
    .returning()

  return log
}

export function computeChanges<T extends Record<string, any>>(
  original: T,
  updated: Partial<T>,
  fields: (keyof T)[]
): ActivityChanges | undefined {
  const changes: ActivityChanges = {}
  let hasChanges = false

  for (const field of fields) {
    if (field in updated && updated[field] !== original[field]) {
      changes[field as string] = {
        old: original[field],
        new: updated[field],
      }
      hasChanges = true
    }
  }

  return hasChanges ? changes : undefined
}
```

### 3. Task Service
**apps/api/src/services/task.ts**:
```typescript
import { eq, and, desc, asc, like, lte, gte, sql } from 'drizzle-orm'
import type { Database } from '@repo/db'
import {
  tasks,
  taskDependencies,
  taskWatchers,
  attachments,
  projects,
  workflowStatuses,
} from '@repo/db/schema'
import type { CreateTaskInput, UpdateTaskInput, MoveTaskInput, TaskFilterInput } from '@repo/shared/validators/task'
import { NotFoundError, ValidationError } from '../lib/errors'
import { logActivity, computeChanges } from './activity'

export async function getTasksByProject(
  db: Database,
  projectId: string,
  filters: TaskFilterInput
) {
  const { page, limit, statusId, assigneeId, priority, search, dueBefore, dueAfter } = filters

  let query = db
    .select()
    .from(tasks)
    .where(eq(tasks.projectId, projectId))
    .$dynamic()

  if (statusId) {
    query = query.where(eq(tasks.statusId, statusId))
  }
  if (assigneeId) {
    query = query.where(eq(tasks.assigneeId, assigneeId))
  }
  if (priority) {
    query = query.where(eq(tasks.priority, priority))
  }
  if (search) {
    query = query.where(like(tasks.title, `%${search}%`))
  }
  if (dueBefore) {
    query = query.where(lte(tasks.dueDate, new Date(dueBefore)))
  }
  if (dueAfter) {
    query = query.where(gte(tasks.dueDate, new Date(dueAfter)))
  }

  const offset = (page - 1) * limit

  const [taskList, countResult] = await Promise.all([
    query
      .orderBy(asc(tasks.order), desc(tasks.createdAt))
      .limit(limit)
      .offset(offset),
    db
      .select({ count: sql<number>`count(*)::int` })
      .from(tasks)
      .where(eq(tasks.projectId, projectId)),
  ])

  return {
    data: taskList,
    meta: {
      page,
      limit,
      total: countResult[0]?.count ?? 0,
    },
  }
}

export async function getTaskById(db: Database, taskId: string) {
  const task = await db.query.tasks.findFirst({
    where: eq(tasks.id, taskId),
    with: {
      project: true,
      status: true,
      assignee: true,
      createdBy: true,
      comments: {
        with: { user: true },
        orderBy: (comments, { desc }) => [desc(comments.createdAt)],
        limit: 20,
      },
      attachments: true,
      watchers: {
        with: { user: true },
      },
      dependencies: {
        with: { dependsOn: true },
      },
    },
  })

  if (!task) {
    throw new NotFoundError('Task', taskId)
  }

  return task
}

export async function createTask(
  db: Database,
  projectId: string,
  createdById: string,
  workspaceId: string,
  data: CreateTaskInput
) {
  // Get default status if not provided
  let statusId = data.statusId
  if (!statusId) {
    const defaultStatus = await db.query.workflowStatuses.findFirst({
      where: and(
        eq(workflowStatuses.projectId, projectId),
        eq(workflowStatuses.isDefault, true)
      ),
    })
    statusId = defaultStatus?.id
  }

  // Get max order in status column
  const maxOrderResult = await db
    .select({ maxOrder: sql<number>`COALESCE(MAX(${tasks.order}), -1)` })
    .from(tasks)
    .where(and(eq(tasks.projectId, projectId), eq(tasks.statusId, statusId!)))

  const order = (maxOrderResult[0]?.maxOrder ?? -1) + 1

  const [task] = await db
    .insert(tasks)
    .values({
      ...data,
      projectId,
      createdById,
      statusId,
      order,
    })
    .returning()

  // Log activity
  await logActivity(db, {
    workspaceId,
    entityType: 'task',
    entityId: task.id,
    userId: createdById,
    action: 'created',
    metadata: { title: task.title },
  })

  return getTaskById(db, task.id)
}

export async function updateTask(
  db: Database,
  taskId: string,
  userId: string,
  workspaceId: string,
  data: UpdateTaskInput
) {
  const existing = await getTaskById(db, taskId)

  const [updated] = await db
    .update(tasks)
    .set({
      ...data,
      updatedAt: new Date(),
      completedAt: data.statusId ? null : existing.completedAt, // Reset on status change
    })
    .where(eq(tasks.id, taskId))
    .returning()

  if (!updated) {
    throw new NotFoundError('Task', taskId)
  }

  // Log changes
  const changes = computeChanges(existing, data, ['title', 'description', 'priority', 'assigneeId', 'dueDate'])
  if (changes) {
    await logActivity(db, {
      workspaceId,
      entityType: 'task',
      entityId: taskId,
      userId,
      action: 'updated',
      changes,
    })
  }

  // Log status change separately
  if (data.statusId && data.statusId !== existing.statusId) {
    await logActivity(db, {
      workspaceId,
      entityType: 'task',
      entityId: taskId,
      userId,
      action: 'status_changed',
      changes: {
        statusId: { old: existing.statusId, new: data.statusId },
      },
    })
  }

  // Log assignment change
  if (data.assigneeId !== undefined && data.assigneeId !== existing.assigneeId) {
    await logActivity(db, {
      workspaceId,
      entityType: 'task',
      entityId: taskId,
      userId,
      action: 'assigned',
      changes: {
        assigneeId: { old: existing.assigneeId, new: data.assigneeId },
      },
    })
  }

  return getTaskById(db, taskId)
}

export async function moveTask(
  db: Database,
  taskId: string,
  userId: string,
  workspaceId: string,
  data: MoveTaskInput
) {
  const existing = await getTaskById(db, taskId)

  // Update task position
  const [updated] = await db
    .update(tasks)
    .set({
      statusId: data.statusId,
      order: data.order,
      updatedAt: new Date(),
    })
    .where(eq(tasks.id, taskId))
    .returning()

  // Log move
  if (data.statusId !== existing.statusId) {
    await logActivity(db, {
      workspaceId,
      entityType: 'task',
      entityId: taskId,
      userId,
      action: 'moved',
      changes: {
        statusId: { old: existing.statusId, new: data.statusId },
        order: { old: existing.order, new: data.order },
      },
    })
  }

  return getTaskById(db, taskId)
}

export async function deleteTask(
  db: Database,
  taskId: string,
  userId: string,
  workspaceId: string
) {
  const existing = await getTaskById(db, taskId)

  await db.delete(tasks).where(eq(tasks.id, taskId))

  // Log deletion
  await logActivity(db, {
    workspaceId,
    entityType: 'task',
    entityId: taskId,
    userId,
    action: 'deleted',
    metadata: { title: existing.title },
  })
}

// Dependencies
export async function getTaskDependencies(db: Database, taskId: string) {
  return db.query.taskDependencies.findMany({
    where: eq(taskDependencies.taskId, taskId),
    with: { dependsOn: true },
  })
}

export async function addTaskDependency(db: Database, taskId: string, dependsOnId: string) {
  // Prevent self-dependency
  if (taskId === dependsOnId) {
    throw new ValidationError({ dependsOnId: 'Task cannot depend on itself' })
  }

  // Check for circular dependency
  const existing = await db.query.taskDependencies.findFirst({
    where: and(
      eq(taskDependencies.taskId, dependsOnId),
      eq(taskDependencies.dependsOnId, taskId)
    ),
  })

  if (existing) {
    throw new ValidationError({ dependsOnId: 'Circular dependency detected' })
  }

  const [dep] = await db
    .insert(taskDependencies)
    .values({ taskId, dependsOnId })
    .returning()

  return dep
}

export async function removeTaskDependency(db: Database, taskId: string, dependsOnId: string) {
  await db
    .delete(taskDependencies)
    .where(
      and(
        eq(taskDependencies.taskId, taskId),
        eq(taskDependencies.dependsOnId, dependsOnId)
      )
    )
}

// Watchers
export async function getTaskWatchers(db: Database, taskId: string) {
  return db.query.taskWatchers.findMany({
    where: eq(taskWatchers.taskId, taskId),
    with: { user: true },
  })
}

export async function addTaskWatcher(db: Database, taskId: string, userId: string) {
  const [watcher] = await db
    .insert(taskWatchers)
    .values({ taskId, userId })
    .onConflictDoNothing()
    .returning()

  return watcher
}

export async function removeTaskWatcher(db: Database, taskId: string, userId: string) {
  await db
    .delete(taskWatchers)
    .where(
      and(
        eq(taskWatchers.taskId, taskId),
        eq(taskWatchers.userId, userId)
      )
    )
}

// Attachments
export async function getTaskAttachments(db: Database, taskId: string) {
  return db.query.attachments.findMany({
    where: eq(attachments.taskId, taskId),
    with: { uploadedBy: true },
  })
}

export async function addAttachment(
  db: Database,
  taskId: string,
  uploadedById: string,
  data: { fileName: string; fileUrl: string; fileSize: number; mimeType: string }
) {
  const [attachment] = await db
    .insert(attachments)
    .values({
      taskId,
      uploadedById,
      ...data,
    })
    .returning()

  return attachment
}

export async function deleteAttachment(db: Database, attachmentId: string) {
  const result = await db
    .delete(attachments)
    .where(eq(attachments.id, attachmentId))
    .returning()

  if (result.length === 0) {
    throw new NotFoundError('Attachment', attachmentId)
  }
}
```

### 4. Task Routes
**apps/api/src/routes/tasks.ts**:
```typescript
import { Hono } from 'hono'
import { zValidator } from '@hono/zod-validator'
import type { Variables } from '../types/context'
import { requireWorkspace } from '../middleware/auth'
import { requirePermission, requireOwnerOrRole } from '../middleware/rbac'
import { success, created, noContent, paginated } from '../lib/response'
import {
  taskFilterSchema,
  createTaskSchema,
  updateTaskSchema,
  moveTaskSchema,
  addDependencySchema,
  addWatcherSchema,
  uploadAttachmentSchema,
} from '@repo/shared/validators/task'
import * as taskService from '../services/task'

const tasksRouter = new Hono<{ Variables: Variables }>()

// Project-scoped task routes
const projectTasks = new Hono<{ Variables: Variables }>()

// List tasks in project
projectTasks.get(
  '/:projectId/tasks',
  requireWorkspace,
  zValidator('query', taskFilterSchema),
  async (c) => {
    const db = c.var.db
    const projectId = c.req.param('projectId')
    const filters = c.req.valid('query')
    const result = await taskService.getTasksByProject(db, projectId, filters)
    return paginated(c, result.data, result.meta)
  }
)

// Create task
projectTasks.post(
  '/:projectId/tasks',
  requireWorkspace,
  requirePermission('task:create'),
  zValidator('json', createTaskSchema),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const projectId = c.req.param('projectId')
    const data = c.req.valid('json')
    const result = await taskService.createTask(db, projectId, user.id, user.workspaceId!, data)
    return created(c, result)
  }
)

// Task-specific routes
// Get task
tasksRouter.get('/:id', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskById(db, taskId)
  return success(c, result)
})

// Update task
tasksRouter.patch(
  '/:id',
  requireWorkspace,
  requirePermission('task:update'),
  zValidator('json', updateTaskSchema),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const taskId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await taskService.updateTask(db, taskId, user.id, user.workspaceId!, data)
    return success(c, result)
  }
)

// Move task (change status/order)
tasksRouter.post(
  '/:id/move',
  requireWorkspace,
  requirePermission('task:update'),
  zValidator('json', moveTaskSchema),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const taskId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await taskService.moveTask(db, taskId, user.id, user.workspaceId!, data)
    return success(c, result)
  }
)

// Delete task
tasksRouter.delete(
  '/:id',
  requireWorkspace,
  requirePermission('task:delete'),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const taskId = c.req.param('id')
    await taskService.deleteTask(db, taskId, user.id, user.workspaceId!)
    return noContent(c)
  }
)

// --- Dependencies ---
tasksRouter.get('/:id/dependencies', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskDependencies(db, taskId)
  return success(c, result)
})

tasksRouter.post(
  '/:id/dependencies',
  requireWorkspace,
  requirePermission('task:update'),
  zValidator('json', addDependencySchema),
  async (c) => {
    const db = c.var.db
    const taskId = c.req.param('id')
    const { dependsOnId } = c.req.valid('json')
    const result = await taskService.addTaskDependency(db, taskId, dependsOnId)
    return created(c, result)
  }
)

tasksRouter.delete(
  '/:id/dependencies/:depId',
  requireWorkspace,
  requirePermission('task:update'),
  async (c) => {
    const db = c.var.db
    const taskId = c.req.param('id')
    const depId = c.req.param('depId')
    await taskService.removeTaskDependency(db, taskId, depId)
    return noContent(c)
  }
)

// --- Watchers ---
tasksRouter.get('/:id/watchers', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskWatchers(db, taskId)
  return success(c, result)
})

tasksRouter.post(
  '/:id/watchers',
  requireWorkspace,
  zValidator('json', addWatcherSchema),
  async (c) => {
    const db = c.var.db
    const taskId = c.req.param('id')
    const { userId } = c.req.valid('json')
    const result = await taskService.addTaskWatcher(db, taskId, userId)
    return created(c, result)
  }
)

tasksRouter.delete('/:id/watchers/:userId', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const userId = c.req.param('userId')
  await taskService.removeTaskWatcher(db, taskId, userId)
  return noContent(c)
})

// --- Attachments ---
tasksRouter.get('/:id/attachments', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('id')
  const result = await taskService.getTaskAttachments(db, taskId)
  return success(c, result)
})

tasksRouter.post(
  '/:id/attachments',
  requireWorkspace,
  requirePermission('task:update'),
  zValidator('json', uploadAttachmentSchema),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const taskId = c.req.param('id')
    const data = c.req.valid('json')
    const result = await taskService.addAttachment(db, taskId, user.id, data)
    return created(c, result)
  }
)

// Export both routers
export { projectTasks, tasksRouter as default }
```

### 5. Update Routes Index
Add to **apps/api/src/routes/index.ts**:
```typescript
import { projectTasks } from './tasks'
import tasks from './tasks'

// ... existing routes ...

routes.route('/api/projects', projectTasks) // For /projects/:id/tasks
routes.route('/api/tasks', tasks)           // For /tasks/:id
```

## Todo List
- [ ] Create task validators with filters
- [ ] Implement activity logging service
- [ ] Implement task service (CRUD, move, dependencies, watchers, attachments)
- [ ] Create task routes with RBAC
- [ ] Handle task ordering within status columns
- [ ] Prevent circular dependencies
- [ ] Update routes index
- [ ] Test all task operations
- [ ] Verify activity logs created

## Success Criteria
- [x] Tasks CRUD works with filters
- [x] Task move updates status and order
- [x] Dependencies prevent cycles
- [x] Watchers can be added/removed
- [x] Attachments metadata stored
- [x] Activity logs capture all changes

## Risk Assessment

| Risk | Impact | Mitigation |
|------|--------|------------|
| Circular dependencies | Medium | Check before insert |
| Order conflicts on drag | Low | Reorder all in column |
| Large activity log growth | Low | Partition by date |

## Security Considerations
- Task access scoped by project/workspace
- Permission checks on mutations
- Attachment URLs validated

## Next Steps
- Phase 07: Real-time Layer (WebSocket)
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-07-realtime-layer.md">
# Phase 07: Real-time Layer

## Context Links
- [Hono + Bun Research](../reports/researcher-260117-1758-hono-bun-backend.md)
- [Phase 06: Task APIs](./phase-06-task-apis.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 6h

Implement WebSocket layer for real-time task updates with Redis pub/sub for multi-instance sync.

## Key Insights
- Hono's `upgradeWebSocket` for Bun native WebSocket
- Redis pub/sub for horizontal scaling
- Room-based subscriptions (workspace, project)
- JWT auth on WebSocket upgrade

## Requirements

### Functional
- Real-time task updates (create, update, move, delete)
- Room subscriptions per project
- Presence indicators (who's viewing)
- Connection management (heartbeat, reconnect)

### Non-Functional
- Message latency < 50ms
- Support 1000+ concurrent connections
- Graceful degradation if Redis unavailable

## Architecture

### WebSocket Events
```
Client -> Server:
  subscribe: { room: "project:{id}" }
  unsubscribe: { room: "project:{id}" }
  presence: { action: "join" | "leave", room: string }

Server -> Client:
  task:created: { task: Task }
  task:updated: { task: Task, changes: object }
  task:moved: { taskId, fromStatus, toStatus, order }
  task:deleted: { taskId }
  presence:update: { room, users: User[] }
```

## Related Code Files

### Create
- `/apps/api/src/routes/ws.ts`
- `/apps/api/src/lib/websocket.ts`
- `/apps/api/src/lib/redis.ts`
- `/apps/api/src/services/realtime.ts`

### Modify
- `/apps/api/src/index.ts` (export websocket)
- `/apps/api/src/services/task.ts` (emit events)
- `/apps/api/package.json` (add ioredis)

## Implementation Steps

### 1. Redis Client
**apps/api/src/lib/redis.ts**:
```typescript
import Redis from 'ioredis'

export const redis = new Redis(process.env.REDIS_URL || 'redis://localhost:6379')
export const redisSub = new Redis(process.env.REDIS_URL || 'redis://localhost:6379')

// Pub/sub channels
export const CHANNELS = {
  taskUpdate: (projectId: string) => `task:${projectId}`,
  presence: (projectId: string) => `presence:${projectId}`,
}
```

### 2. WebSocket Manager
**apps/api/src/lib/websocket.ts**:
```typescript
import type { ServerWebSocket } from 'bun'

type WSData = {
  userId: string
  workspaceId: string
  rooms: Set<string>
}

class WebSocketManager {
  private connections = new Map<string, Set<ServerWebSocket<WSData>>>()
  private userSockets = new Map<string, ServerWebSocket<WSData>>()

  addConnection(ws: ServerWebSocket<WSData>) {
    this.userSockets.set(ws.data.userId, ws)
  }

  removeConnection(ws: ServerWebSocket<WSData>) {
    this.userSockets.delete(ws.data.userId)
    for (const room of ws.data.rooms) {
      this.leaveRoom(ws, room)
    }
  }

  joinRoom(ws: ServerWebSocket<WSData>, room: string) {
    ws.data.rooms.add(room)
    if (!this.connections.has(room)) {
      this.connections.set(room, new Set())
    }
    this.connections.get(room)!.add(ws)
  }

  leaveRoom(ws: ServerWebSocket<WSData>, room: string) {
    ws.data.rooms.delete(room)
    this.connections.get(room)?.delete(ws)
  }

  broadcast(room: string, message: object, excludeUserId?: string) {
    const clients = this.connections.get(room)
    if (!clients) return

    const payload = JSON.stringify(message)
    for (const ws of clients) {
      if (excludeUserId && ws.data.userId === excludeUserId) continue
      if (ws.readyState === 1) {
        ws.send(payload)
      }
    }
  }

  getRoomUsers(room: string): string[] {
    const clients = this.connections.get(room)
    if (!clients) return []
    return [...clients].map(ws => ws.data.userId)
  }
}

export const wsManager = new WebSocketManager()
```

### 3. Realtime Service
**apps/api/src/services/realtime.ts**:
```typescript
import { redis, redisSub, CHANNELS } from '../lib/redis'
import { wsManager } from '../lib/websocket'

type TaskEvent = {
  type: 'task:created' | 'task:updated' | 'task:moved' | 'task:deleted'
  projectId: string
  data: any
  userId: string
}

export async function emitTaskEvent(event: TaskEvent) {
  const channel = CHANNELS.taskUpdate(event.projectId)
  await redis.publish(channel, JSON.stringify(event))
}

// Subscribe to Redis and broadcast to WebSocket clients
export function initRealtimeSubscriptions() {
  redisSub.psubscribe('task:*', 'presence:*')

  redisSub.on('pmessage', (pattern, channel, message) => {
    try {
      const event = JSON.parse(message) as TaskEvent
      const room = `project:${event.projectId}`
      wsManager.broadcast(room, event, event.userId)
    } catch (err) {
      console.error('Failed to process Redis message:', err)
    }
  })
}
```

### 4. WebSocket Routes
**apps/api/src/routes/ws.ts**:
```typescript
import { Hono } from 'hono'
import { upgradeWebSocket } from 'hono/bun'
import { getAuth } from '@hono/clerk-auth'
import { wsManager } from '../lib/websocket'
import type { Variables } from '../types/context'

const ws = new Hono<{ Variables: Variables }>()

ws.get(
  '/connect',
  upgradeWebSocket((c) => {
    const auth = getAuth(c)

    return {
      onOpen(event, wsContext) {
        const ws = wsContext.raw
        ws.data = {
          userId: auth?.userId || 'anonymous',
          workspaceId: auth?.orgId || '',
          rooms: new Set(),
        }
        wsManager.addConnection(ws)
        ws.send(JSON.stringify({ type: 'connected' }))
      },

      onMessage(event, wsContext) {
        const ws = wsContext.raw
        try {
          const msg = JSON.parse(event.data as string)

          switch (msg.type) {
            case 'subscribe':
              wsManager.joinRoom(ws, msg.room)
              ws.send(JSON.stringify({ type: 'subscribed', room: msg.room }))
              break

            case 'unsubscribe':
              wsManager.leaveRoom(ws, msg.room)
              ws.send(JSON.stringify({ type: 'unsubscribed', room: msg.room }))
              break

            case 'ping':
              ws.send(JSON.stringify({ type: 'pong' }))
              break
          }
        } catch (err) {
          console.error('WebSocket message error:', err)
        }
      },

      onClose(event, wsContext) {
        wsManager.removeConnection(wsContext.raw)
      },
    }
  })
)

export default ws
```

### 5. Update Task Service
Add to task mutations in `services/task.ts`:
```typescript
import { emitTaskEvent } from './realtime'

// After createTask:
await emitTaskEvent({
  type: 'task:created',
  projectId,
  data: result,
  userId: createdById,
})

// After updateTask/moveTask/deleteTask similarly...
```

### 6. Update Entry Point
**apps/api/src/index.ts**:
```typescript
import { app } from './app'
import { websocket } from 'hono/bun'
import { initRealtimeSubscriptions } from './services/realtime'

initRealtimeSubscriptions()

export default {
  port: process.env.PORT || 3001,
  fetch: app.fetch,
  websocket,
  maxRequestBodySize: 50 * 1024 * 1024,
}
```

## Todo List
- [ ] Setup Redis client with pub/sub
- [ ] Create WebSocket manager class
- [ ] Create realtime service for event emission
- [ ] Create WebSocket routes with auth
- [ ] Integrate events into task mutations
- [ ] Test real-time updates across clients
- [ ] Add heartbeat/reconnection logic

## Success Criteria
- [x] WebSocket connects with auth
- [x] Room subscriptions work
- [x] Task events broadcast to subscribers
- [x] Multi-instance sync via Redis

## Next Steps
- Phase 08: Frontend Foundation
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-08-frontend-foundation.md">
# Phase 08: Frontend Foundation

## Context Links
- [React + Mantine Research](../reports/researcher-260117-1758-react-mantine-tailwind.md)
- [Phase 07: Real-time Layer](./phase-07-realtime-layer.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 8h

Setup React frontend with Clerk auth, TanStack Query, routing, and shared UI foundation.

## Key Insights
- Clerk Provider wraps app for auth
- TanStack Query for server state
- React Router v7 for routing
- Mantine + Tailwind via CSS layers
- API client with auth headers

## Requirements

### Functional
- Authentication flow (sign in/up/out)
- Protected routes
- Organization switching
- Global loading/error states
- Toast notifications

### Non-Functional
- Bundle size < 200KB (gzipped)
- First paint < 1.5s
- Type-safe API client

## Architecture

```
apps/web/src/
 main.tsx                  # Entry point
 App.tsx                   # Root component
 routes/                   # Route definitions
    index.tsx             # Route config
    _auth.tsx             # Auth layout
    _app.tsx              # App layout (authenticated)
    sign-in.tsx
    sign-up.tsx
    dashboard.tsx
    ...
 components/
    ui/                   # Base components
    layouts/              # Layout components
    common/               # Shared components
 hooks/
    use-auth.ts
    use-api.ts
    use-websocket.ts
 lib/
    api.ts                # API client
    query-client.ts
    utils.ts
 stores/                   # Zustand stores (if needed)
 styles/
     index.css
```

## Related Code Files

### Create
- `/apps/web/src/App.tsx`
- `/apps/web/src/lib/api.ts`
- `/apps/web/src/lib/query-client.ts`
- `/apps/web/src/hooks/use-auth.ts`
- `/apps/web/src/routes/index.tsx`
- `/apps/web/src/routes/_auth.tsx`
- `/apps/web/src/routes/_app.tsx`
- `/apps/web/src/routes/sign-in.tsx`
- `/apps/web/src/routes/dashboard.tsx`
- `/apps/web/src/components/layouts/app-shell.tsx`
- `/apps/web/src/components/layouts/sidebar.tsx`

### Modify
- `/apps/web/src/main.tsx`
- `/apps/web/package.json`

## Implementation Steps

### 1. Install Dependencies
```bash
cd apps/web
bun add @clerk/clerk-react @tanstack/react-query react-router zustand
bun add -D @tanstack/react-query-devtools
```

### 2. API Client
**apps/web/src/lib/api.ts**:
```typescript
const API_BASE = import.meta.env.VITE_API_URL || '/api'

type FetchOptions = RequestInit & {
  params?: Record<string, string>
}

class ApiClient {
  private token: string | null = null

  setToken(token: string | null) {
    this.token = token
  }

  async fetch<T>(endpoint: string, options: FetchOptions = {}): Promise<T> {
    const { params, ...init } = options
    let url = `${API_BASE}${endpoint}`

    if (params) {
      const searchParams = new URLSearchParams(params)
      url += `?${searchParams.toString()}`
    }

    const headers = new Headers(init.headers)
    headers.set('Content-Type', 'application/json')

    if (this.token) {
      headers.set('Authorization', `Bearer ${this.token}`)
    }

    const response = await fetch(url, { ...init, headers })
    const data = await response.json()

    if (!response.ok) {
      throw new ApiError(data.error?.message || 'Request failed', response.status, data.error)
    }

    return data.data
  }

  get<T>(endpoint: string, params?: Record<string, string>) {
    return this.fetch<T>(endpoint, { method: 'GET', params })
  }

  post<T>(endpoint: string, body?: unknown) {
    return this.fetch<T>(endpoint, { method: 'POST', body: JSON.stringify(body) })
  }

  patch<T>(endpoint: string, body?: unknown) {
    return this.fetch<T>(endpoint, { method: 'PATCH', body: JSON.stringify(body) })
  }

  delete<T>(endpoint: string) {
    return this.fetch<T>(endpoint, { method: 'DELETE' })
  }
}

export class ApiError extends Error {
  constructor(
    message: string,
    public status: number,
    public data?: unknown
  ) {
    super(message)
    this.name = 'ApiError'
  }
}

export const api = new ApiClient()
```

### 3. Query Client
**apps/web/src/lib/query-client.ts**:
```typescript
import { QueryClient } from '@tanstack/react-query'
import { ApiError } from './api'

export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60, // 1 minute
      retry: (failureCount, error) => {
        if (error instanceof ApiError && error.status === 401) return false
        return failureCount < 3
      },
    },
    mutations: {
      onError: (error) => {
        console.error('Mutation error:', error)
      },
    },
  },
})
```

### 4. Auth Hook
**apps/web/src/hooks/use-auth.ts**:
```typescript
import { useAuth as useClerkAuth, useUser, useOrganization } from '@clerk/clerk-react'
import { useEffect } from 'react'
import { api } from '@/lib/api'

export function useAuth() {
  const { isLoaded, isSignedIn, getToken, signOut } = useClerkAuth()
  const { user } = useUser()
  const { organization } = useOrganization()

  // Sync token to API client
  useEffect(() => {
    if (isSignedIn) {
      getToken().then(token => api.setToken(token))
    } else {
      api.setToken(null)
    }
  }, [isSignedIn, getToken])

  return {
    isLoaded,
    isSignedIn,
    user,
    organization,
    signOut,
    getToken,
  }
}
```

### 5. App Shell Layout
**apps/web/src/components/layouts/app-shell.tsx**:
```tsx
import { AppShell, Burger, Group, NavLink, Text } from '@mantine/core'
import { useDisclosure } from '@mantine/hooks'
import { Link, Outlet, useLocation } from 'react-router'
import { OrganizationSwitcher, UserButton } from '@clerk/clerk-react'

const navItems = [
  { label: 'Dashboard', path: '/dashboard', icon: 'home' },
  { label: 'Projects', path: '/projects', icon: 'folder' },
  { label: 'Settings', path: '/settings', icon: 'settings' },
]

export function AppShellLayout() {
  const [opened, { toggle }] = useDisclosure()
  const location = useLocation()

  return (
    <AppShell
      header={{ height: 60 }}
      navbar={{ width: 250, breakpoint: 'sm', collapsed: { mobile: !opened } }}
      padding="md"
    >
      <AppShell.Header>
        <Group h="100%" px="md" justify="space-between">
          <Group>
            <Burger opened={opened} onClick={toggle} hiddenFrom="sm" size="sm" />
            <Text fw={700} size="lg">Nexa Task</Text>
          </Group>
          <Group>
            <OrganizationSwitcher />
            <UserButton afterSignOutUrl="/sign-in" />
          </Group>
        </Group>
      </AppShell.Header>

      <AppShell.Navbar p="md">
        {navItems.map(item => (
          <NavLink
            key={item.path}
            component={Link}
            to={item.path}
            label={item.label}
            active={location.pathname.startsWith(item.path)}
          />
        ))}
      </AppShell.Navbar>

      <AppShell.Main>
        <Outlet />
      </AppShell.Main>
    </AppShell>
  )
}
```

### 6. Route Configuration
**apps/web/src/routes/index.tsx**:
```tsx
import { createBrowserRouter, Navigate } from 'react-router'
import { SignIn, SignUp, SignedIn, SignedOut } from '@clerk/clerk-react'
import { AppShellLayout } from '@/components/layouts/app-shell'
import Dashboard from './dashboard'
import Projects from './projects'
import ProjectDetail from './project-detail'

// Protected route wrapper
function ProtectedRoute({ children }: { children: React.ReactNode }) {
  return (
    <>
      <SignedIn>{children}</SignedIn>
      <SignedOut><Navigate to="/sign-in" replace /></SignedOut>
    </>
  )
}

export const router = createBrowserRouter([
  // Auth routes
  {
    path: '/sign-in/*',
    element: <SignIn routing="path" path="/sign-in" />,
  },
  {
    path: '/sign-up/*',
    element: <SignUp routing="path" path="/sign-up" />,
  },

  // App routes (protected)
  {
    path: '/',
    element: (
      <ProtectedRoute>
        <AppShellLayout />
      </ProtectedRoute>
    ),
    children: [
      { index: true, element: <Navigate to="/dashboard" replace /> },
      { path: 'dashboard', element: <Dashboard /> },
      { path: 'projects', element: <Projects /> },
      { path: 'projects/:id', element: <ProjectDetail /> },
    ],
  },
])
```

### 7. Main Entry
**apps/web/src/main.tsx**:
```tsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import { RouterProvider } from 'react-router'
import { ClerkProvider } from '@clerk/clerk-react'
import { MantineProvider } from '@mantine/core'
import { Notifications } from '@mantine/notifications'
import { QueryClientProvider } from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { router } from './routes'
import { queryClient } from './lib/query-client'
import '@mantine/core/styles.layer.css'
import '@mantine/notifications/styles.css'
import './styles/index.css'

const CLERK_KEY = import.meta.env.VITE_CLERK_PUBLISHABLE_KEY

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <ClerkProvider publishableKey={CLERK_KEY}>
      <QueryClientProvider client={queryClient}>
        <MantineProvider>
          <Notifications />
          <RouterProvider router={router} />
        </MantineProvider>
        <ReactQueryDevtools />
      </QueryClientProvider>
    </ClerkProvider>
  </StrictMode>
)
```

### 8. Environment Variables
**apps/web/.env.example**:
```bash
VITE_API_URL=http://localhost:3001/api
VITE_CLERK_PUBLISHABLE_KEY=pk_test_xxxxx
VITE_WS_URL=ws://localhost:3001/ws
```

## Todo List
- [ ] Install Clerk, TanStack Query, React Router
- [ ] Create API client with auth token sync
- [ ] Create query client with error handling
- [ ] Create useAuth hook
- [ ] Create AppShell layout with sidebar
- [ ] Configure routes with protection
- [ ] Setup main entry with providers
- [ ] Create environment variables
- [ ] Test auth flow end-to-end

## Success Criteria
- [x] Sign in/up flows work
- [x] Protected routes redirect unauthenticated
- [x] Org switcher changes context
- [x] API calls include auth token
- [x] Layout renders correctly

## Next Steps
- Phase 09: Dashboard + Workspace UI
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-09-dashboard-workspace-ui.md">
# Phase 09: Dashboard + Workspace UI

## Context Links
- [React + Mantine Research](../reports/researcher-260117-1758-react-mantine-tailwind.md)
- [Phase 08: Frontend Foundation](./phase-08-frontend-foundation.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 10h

Build dashboard with workspace overview, project list, and workspace settings.

## Key Insights
- Dashboard shows recent tasks, activity, stats
- Workspace settings for admins only
- Member management via Clerk Organizations
- Project cards with quick actions

## Requirements

### Functional
- Dashboard with task summary
- Recent activity feed
- Project list with create/archive
- Workspace settings (name, invite)
- Member list with role management

### Non-Functional
- Dashboard loads < 2s
- Skeleton loading states
- Responsive layout

## Architecture

### Pages
```
/dashboard           - Overview stats, recent tasks, activity
/projects            - Project list grid
/projects/new        - Create project modal
/settings            - Workspace settings tabs
/settings/members    - Member management
```

### Components
```
components/
 dashboard/
    stats-cards.tsx
    recent-tasks.tsx
    activity-feed.tsx
 projects/
    project-card.tsx
    project-list.tsx
    create-project-modal.tsx
 settings/
     workspace-form.tsx
     member-list.tsx
```

## Related Code Files

### Create
- `/apps/web/src/routes/dashboard.tsx`
- `/apps/web/src/routes/projects.tsx`
- `/apps/web/src/routes/settings.tsx`
- `/apps/web/src/components/dashboard/stats-cards.tsx`
- `/apps/web/src/components/dashboard/recent-tasks.tsx`
- `/apps/web/src/components/dashboard/activity-feed.tsx`
- `/apps/web/src/components/projects/project-card.tsx`
- `/apps/web/src/components/projects/project-list.tsx`
- `/apps/web/src/components/projects/create-project-modal.tsx`
- `/apps/web/src/hooks/use-projects.ts`
- `/apps/web/src/hooks/use-workspace.ts`

## Implementation Steps

### 1. Workspace Hook
**apps/web/src/hooks/use-workspace.ts**:
```typescript
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { api } from '@/lib/api'

export function useWorkspace(workspaceId?: string) {
  return useQuery({
    queryKey: ['workspace', workspaceId],
    queryFn: () => api.get(`/workspaces/${workspaceId}`),
    enabled: !!workspaceId,
  })
}

export function useWorkspaces() {
  return useQuery({
    queryKey: ['workspaces'],
    queryFn: () => api.get('/workspaces'),
  })
}

export function useUpdateWorkspace() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, data }: { id: string; data: any }) =>
      api.patch(`/workspaces/${id}`, data),
    onSuccess: (_, { id }) => {
      queryClient.invalidateQueries({ queryKey: ['workspace', id] })
    },
  })
}
```

### 2. Projects Hook
**apps/web/src/hooks/use-projects.ts**:
```typescript
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { api } from '@/lib/api'

export function useProjects() {
  return useQuery({
    queryKey: ['projects'],
    queryFn: () => api.get('/projects'),
  })
}

export function useProject(projectId?: string) {
  return useQuery({
    queryKey: ['project', projectId],
    queryFn: () => api.get(`/projects/${projectId}`),
    enabled: !!projectId,
  })
}

export function useCreateProject() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (data: { name: string; description?: string }) =>
      api.post('/projects', data),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['projects'] })
    },
  })
}

export function useUpdateProject() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, data }: { id: string; data: any }) =>
      api.patch(`/projects/${id}`, data),
    onSuccess: (_, { id }) => {
      queryClient.invalidateQueries({ queryKey: ['project', id] })
      queryClient.invalidateQueries({ queryKey: ['projects'] })
    },
  })
}

export function useDeleteProject() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (id: string) => api.delete(`/projects/${id}`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['projects'] })
    },
  })
}
```

### 3. Stats Cards
**apps/web/src/components/dashboard/stats-cards.tsx**:
```tsx
import { SimpleGrid, Paper, Text, Group, ThemeIcon } from '@mantine/core'

type Stat = {
  label: string
  value: number
  icon: React.ReactNode
  color: string
}

export function StatsCards({ stats }: { stats: Stat[] }) {
  return (
    <SimpleGrid cols={{ base: 1, sm: 2, md: 4 }} spacing="lg">
      {stats.map(stat => (
        <Paper key={stat.label} p="md" radius="md" withBorder>
          <Group justify="space-between">
            <div>
              <Text size="xs" c="dimmed" tt="uppercase" fw={700}>
                {stat.label}
              </Text>
              <Text size="xl" fw={700}>
                {stat.value}
              </Text>
            </div>
            <ThemeIcon size="xl" radius="md" color={stat.color} variant="light">
              {stat.icon}
            </ThemeIcon>
          </Group>
        </Paper>
      ))}
    </SimpleGrid>
  )
}
```

### 4. Dashboard Page
**apps/web/src/routes/dashboard.tsx**:
```tsx
import { Container, Title, Stack, Skeleton } from '@mantine/core'
import { useQuery } from '@tanstack/react-query'
import { api } from '@/lib/api'
import { StatsCards } from '@/components/dashboard/stats-cards'
import { RecentTasks } from '@/components/dashboard/recent-tasks'
import { ActivityFeed } from '@/components/dashboard/activity-feed'

export default function Dashboard() {
  const { data: stats, isLoading } = useQuery({
    queryKey: ['dashboard-stats'],
    queryFn: () => api.get('/dashboard/stats'),
  })

  if (isLoading) {
    return (
      <Container size="xl">
        <Stack gap="xl">
          <Skeleton height={100} />
          <Skeleton height={300} />
        </Stack>
      </Container>
    )
  }

  return (
    <Container size="xl">
      <Stack gap="xl">
        <Title order={2}>Dashboard</Title>

        <StatsCards
          stats={[
            { label: 'Open Tasks', value: stats?.openTasks || 0, icon: '', color: 'blue' },
            { label: 'Completed', value: stats?.completedTasks || 0, icon: '', color: 'green' },
            { label: 'Projects', value: stats?.projects || 0, icon: '', color: 'violet' },
            { label: 'Team Members', value: stats?.members || 0, icon: '', color: 'orange' },
          ]}
        />

        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <RecentTasks />
          <ActivityFeed />
        </div>
      </Stack>
    </Container>
  )
}
```

### 5. Project Card
**apps/web/src/components/projects/project-card.tsx**:
```tsx
import { Card, Text, Badge, Group, ActionIcon, Menu } from '@mantine/core'
import { Link } from 'react-router'
import { useDeleteProject } from '@/hooks/use-projects'

type Project = {
  id: string
  name: string
  description?: string
  status: string
  taskCount?: number
}

export function ProjectCard({ project }: { project: Project }) {
  const deleteProject = useDeleteProject()

  return (
    <Card shadow="sm" padding="lg" radius="md" withBorder>
      <Group justify="space-between" mb="xs">
        <Text fw={500} component={Link} to={`/projects/${project.id}`}>
          {project.name}
        </Text>
        <Menu>
          <Menu.Target>
            <ActionIcon variant="subtle"></ActionIcon>
          </Menu.Target>
          <Menu.Dropdown>
            <Menu.Item component={Link} to={`/projects/${project.id}/settings`}>
              Settings
            </Menu.Item>
            <Menu.Item
              color="red"
              onClick={() => deleteProject.mutate(project.id)}
            >
              Archive
            </Menu.Item>
          </Menu.Dropdown>
        </Menu>
      </Group>

      <Text size="sm" c="dimmed" lineClamp={2}>
        {project.description || 'No description'}
      </Text>

      <Group mt="md" gap="xs">
        <Badge color={project.status === 'active' ? 'green' : 'gray'}>
          {project.status}
        </Badge>
        {project.taskCount !== undefined && (
          <Badge variant="outline">{project.taskCount} tasks</Badge>
        )}
      </Group>
    </Card>
  )
}
```

### 6. Projects Page
**apps/web/src/routes/projects.tsx**:
```tsx
import { Container, Title, SimpleGrid, Button, Group, Skeleton } from '@mantine/core'
import { useDisclosure } from '@mantine/hooks'
import { useProjects } from '@/hooks/use-projects'
import { ProjectCard } from '@/components/projects/project-card'
import { CreateProjectModal } from '@/components/projects/create-project-modal'

export default function Projects() {
  const { data: projects, isLoading } = useProjects()
  const [opened, { open, close }] = useDisclosure(false)

  return (
    <Container size="xl">
      <Group justify="space-between" mb="xl">
        <Title order={2}>Projects</Title>
        <Button onClick={open}>New Project</Button>
      </Group>

      {isLoading ? (
        <SimpleGrid cols={{ base: 1, sm: 2, lg: 3 }} spacing="lg">
          {[1, 2, 3].map(i => <Skeleton key={i} height={150} radius="md" />)}
        </SimpleGrid>
      ) : (
        <SimpleGrid cols={{ base: 1, sm: 2, lg: 3 }} spacing="lg">
          {projects?.map((project: any) => (
            <ProjectCard key={project.id} project={project} />
          ))}
        </SimpleGrid>
      )}

      <CreateProjectModal opened={opened} onClose={close} />
    </Container>
  )
}
```

### 7. Create Project Modal
**apps/web/src/components/projects/create-project-modal.tsx**:
```tsx
import { Modal, TextInput, Textarea, Button, Stack } from '@mantine/core'
import { useForm } from '@mantine/form'
import { useCreateProject } from '@/hooks/use-projects'
import { notifications } from '@mantine/notifications'

type Props = {
  opened: boolean
  onClose: () => void
}

export function CreateProjectModal({ opened, onClose }: Props) {
  const createProject = useCreateProject()

  const form = useForm({
    initialValues: {
      name: '',
      description: '',
    },
    validate: {
      name: (v) => (v.length < 1 ? 'Name is required' : null),
    },
  })

  const handleSubmit = form.onSubmit(async (values) => {
    try {
      await createProject.mutateAsync(values)
      notifications.show({ message: 'Project created!', color: 'green' })
      form.reset()
      onClose()
    } catch (err) {
      notifications.show({ message: 'Failed to create project', color: 'red' })
    }
  })

  return (
    <Modal opened={opened} onClose={onClose} title="Create Project">
      <form onSubmit={handleSubmit}>
        <Stack>
          <TextInput
            label="Project Name"
            placeholder="My Project"
            required
            {...form.getInputProps('name')}
          />
          <Textarea
            label="Description"
            placeholder="Optional description..."
            {...form.getInputProps('description')}
          />
          <Button type="submit" loading={createProject.isPending}>
            Create Project
          </Button>
        </Stack>
      </form>
    </Modal>
  )
}
```

## Todo List
- [ ] Create workspace hooks
- [ ] Create projects hooks
- [ ] Build stats cards component
- [ ] Build recent tasks component
- [ ] Build activity feed component
- [ ] Build project card component
- [ ] Build create project modal
- [ ] Create dashboard page
- [ ] Create projects page
- [ ] Create settings page with member management
- [ ] Test all CRUD operations

## Success Criteria
- [x] Dashboard shows relevant stats
- [x] Project list displays with loading states
- [x] Create project modal works
- [x] Archive project works
- [x] Settings accessible to admins

## Next Steps
- Phase 10: Project Views (Kanban, List, Calendar)
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-10-project-views.md">
# Phase 10: Project Views (Kanban, List, Calendar)

## Context Links
- [React + Mantine Research](../reports/researcher-260117-1758-react-mantine-tailwind.md)
- [Phase 09: Dashboard + Workspace UI](./phase-09-dashboard-workspace-ui.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 12h

Implement multiple project views: Kanban board with drag-drop, list view, and calendar view.

## Key Insights
- dnd-kit for drag-drop (performant, accessible)
- Kanban columns from workflow statuses
- List view with sorting/filtering
- Calendar view with FullCalendar or custom
- View state persisted in URL/localStorage

## Requirements

### Functional
- Kanban: Drag tasks between columns, reorder
- List: Sortable table with filters
- Calendar: Tasks on due dates, drag to reschedule
- Quick task creation in each view
- View switching without data refetch

### Non-Functional
- Smooth 60fps drag animations
- Optimistic updates on move
- Keyboard accessible

## Architecture

### Components
```
components/project-views/
 kanban/
    kanban-board.tsx
    kanban-column.tsx
    task-card.tsx
    add-task-inline.tsx
 list/
    task-table.tsx
    table-filters.tsx
    task-row.tsx
 calendar/
    calendar-view.tsx
    calendar-event.tsx
 view-switcher.tsx
```

## Related Code Files

### Create
- `/apps/web/src/routes/project-detail.tsx`
- `/apps/web/src/components/project-views/kanban/kanban-board.tsx`
- `/apps/web/src/components/project-views/kanban/kanban-column.tsx`
- `/apps/web/src/components/project-views/kanban/task-card.tsx`
- `/apps/web/src/components/project-views/list/task-table.tsx`
- `/apps/web/src/components/project-views/calendar/calendar-view.tsx`
- `/apps/web/src/components/project-views/view-switcher.tsx`
- `/apps/web/src/hooks/use-tasks.ts`

## Implementation Steps

### 1. Tasks Hook
**apps/web/src/hooks/use-tasks.ts**:
```typescript
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { api } from '@/lib/api'

export function useTasks(projectId: string, filters?: Record<string, string>) {
  return useQuery({
    queryKey: ['tasks', projectId, filters],
    queryFn: () => api.get(`/projects/${projectId}/tasks`, filters),
    enabled: !!projectId,
  })
}

export function useTask(taskId?: string) {
  return useQuery({
    queryKey: ['task', taskId],
    queryFn: () => api.get(`/tasks/${taskId}`),
    enabled: !!taskId,
  })
}

export function useCreateTask(projectId: string) {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (data: { title: string; statusId?: string }) =>
      api.post(`/projects/${projectId}/tasks`, data),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['tasks', projectId] })
    },
  })
}

export function useUpdateTask() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, data }: { id: string; data: any }) =>
      api.patch(`/tasks/${id}`, data),
    onSuccess: (_, { id }) => {
      queryClient.invalidateQueries({ queryKey: ['task', id] })
      queryClient.invalidateQueries({ queryKey: ['tasks'] })
    },
  })
}

export function useMoveTask() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, statusId, order }: { id: string; statusId: string; order: number }) =>
      api.post(`/tasks/${id}/move`, { statusId, order }),
    onMutate: async ({ id, statusId, order }) => {
      // Optimistic update
      await queryClient.cancelQueries({ queryKey: ['tasks'] })
      const previous = queryClient.getQueryData(['tasks'])
      // Update cache optimistically...
      return { previous }
    },
    onError: (_, __, context) => {
      if (context?.previous) {
        queryClient.setQueryData(['tasks'], context.previous)
      }
    },
    onSettled: () => {
      queryClient.invalidateQueries({ queryKey: ['tasks'] })
    },
  })
}
```

### 2. Kanban Board
**apps/web/src/components/project-views/kanban/kanban-board.tsx**:
```tsx
import { DndContext, DragEndEvent, closestCenter, PointerSensor, useSensor, useSensors } from '@dnd-kit/core'
import { useTasks, useMoveTask } from '@/hooks/use-tasks'
import { KanbanColumn } from './kanban-column'

type Status = { id: string; name: string; color: string }

type Props = {
  projectId: string
  statuses: Status[]
}

export function KanbanBoard({ projectId, statuses }: Props) {
  const { data: tasks = [] } = useTasks(projectId)
  const moveTask = useMoveTask()

  const sensors = useSensors(
    useSensor(PointerSensor, {
      activationConstraint: { distance: 8 },
    })
  )

  const handleDragEnd = (event: DragEndEvent) => {
    const { active, over } = event
    if (!over || active.id === over.id) return

    const taskId = active.id as string
    const overId = over.id as string

    // Determine target status and position
    const targetStatus = statuses.find(s =>
      tasks.filter((t: any) => t.statusId === s.id).some((t: any) => t.id === overId)
    ) || statuses.find(s => s.id === overId)

    if (!targetStatus) return

    const columnTasks = tasks.filter((t: any) => t.statusId === targetStatus.id)
    const overIndex = columnTasks.findIndex((t: any) => t.id === overId)
    const newOrder = overIndex >= 0 ? overIndex : columnTasks.length

    moveTask.mutate({
      id: taskId,
      statusId: targetStatus.id,
      order: newOrder,
    })
  }

  // Group tasks by status
  const tasksByStatus = statuses.reduce((acc, status) => {
    acc[status.id] = tasks.filter((t: any) => t.statusId === status.id)
    return acc
  }, {} as Record<string, any[]>)

  return (
    <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd}>
      <div className="flex gap-4 overflow-x-auto pb-4">
        {statuses.map(status => (
          <KanbanColumn
            key={status.id}
            status={status}
            tasks={tasksByStatus[status.id] || []}
            projectId={projectId}
          />
        ))}
      </div>
    </DndContext>
  )
}
```

### 3. Kanban Column
**apps/web/src/components/project-views/kanban/kanban-column.tsx**:
```tsx
import { useDroppable } from '@dnd-kit/core'
import { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable'
import { Paper, Text, Badge, Stack } from '@mantine/core'
import { TaskCard } from './task-card'
import { AddTaskInline } from './add-task-inline'

type Props = {
  status: { id: string; name: string; color: string }
  tasks: any[]
  projectId: string
}

export function KanbanColumn({ status, tasks, projectId }: Props) {
  const { setNodeRef, isOver } = useDroppable({ id: status.id })

  return (
    <Paper
      ref={setNodeRef}
      className={`min-w-[280px] max-w-[280px] flex flex-col ${isOver ? 'ring-2 ring-blue-400' : ''}`}
      p="sm"
      radius="md"
      withBorder
    >
      <div className="flex items-center justify-between mb-3">
        <div className="flex items-center gap-2">
          <div
            className="w-3 h-3 rounded-full"
            style={{ backgroundColor: status.color }}
          />
          <Text fw={600}>{status.name}</Text>
        </div>
        <Badge variant="light" size="sm">{tasks.length}</Badge>
      </div>

      <SortableContext items={tasks.map(t => t.id)} strategy={verticalListSortingStrategy}>
        <Stack gap="xs" className="flex-1 min-h-[200px]">
          {tasks.map(task => (
            <TaskCard key={task.id} task={task} />
          ))}
        </Stack>
      </SortableContext>

      <AddTaskInline projectId={projectId} statusId={status.id} />
    </Paper>
  )
}
```

### 4. Task Card (Draggable)
**apps/web/src/components/project-views/kanban/task-card.tsx**:
```tsx
import { useSortable } from '@dnd-kit/sortable'
import { CSS } from '@dnd-kit/utilities'
import { Paper, Text, Badge, Avatar, Group } from '@mantine/core'
import { Link } from 'react-router'

const priorityColors = {
  low: 'gray',
  medium: 'blue',
  high: 'orange',
  urgent: 'red',
}

type Props = {
  task: {
    id: string
    title: string
    priority: keyof typeof priorityColors
    assignee?: { name: string; avatarUrl?: string }
    dueDate?: string
  }
}

export function TaskCard({ task }: Props) {
  const { attributes, listeners, setNodeRef, transform, transition, isDragging } = useSortable({
    id: task.id,
  })

  const style = {
    transform: CSS.Transform.toString(transform),
    transition,
    opacity: isDragging ? 0.5 : 1,
  }

  return (
    <Paper
      ref={setNodeRef}
      style={style}
      {...attributes}
      {...listeners}
      p="sm"
      radius="sm"
      withBorder
      className="cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow"
    >
      <Text
        size="sm"
        fw={500}
        component={Link}
        to={`/tasks/${task.id}`}
        className="line-clamp-2"
      >
        {task.title}
      </Text>

      <Group mt="xs" justify="space-between">
        <Badge size="xs" color={priorityColors[task.priority]}>
          {task.priority}
        </Badge>
        {task.assignee && (
          <Avatar src={task.assignee.avatarUrl} size="sm" radius="xl">
            {task.assignee.name[0]}
          </Avatar>
        )}
      </Group>
    </Paper>
  )
}
```

### 5. View Switcher
**apps/web/src/components/project-views/view-switcher.tsx**:
```tsx
import { SegmentedControl } from '@mantine/core'
import { useSearchParams } from 'react-router'

export function ViewSwitcher() {
  const [searchParams, setSearchParams] = useSearchParams()
  const view = searchParams.get('view') || 'kanban'

  return (
    <SegmentedControl
      value={view}
      onChange={(value) => setSearchParams({ view: value })}
      data={[
        { label: 'Kanban', value: 'kanban' },
        { label: 'List', value: 'list' },
        { label: 'Calendar', value: 'calendar' },
      ]}
    />
  )
}
```

### 6. Project Detail Page
**apps/web/src/routes/project-detail.tsx**:
```tsx
import { Container, Title, Group, Skeleton, Stack } from '@mantine/core'
import { useParams, useSearchParams } from 'react-router'
import { useProject } from '@/hooks/use-projects'
import { ViewSwitcher } from '@/components/project-views/view-switcher'
import { KanbanBoard } from '@/components/project-views/kanban/kanban-board'
import { TaskTable } from '@/components/project-views/list/task-table'
import { CalendarView } from '@/components/project-views/calendar/calendar-view'

export default function ProjectDetail() {
  const { id } = useParams()
  const [searchParams] = useSearchParams()
  const view = searchParams.get('view') || 'kanban'
  const { data: project, isLoading } = useProject(id)

  if (isLoading) {
    return (
      <Container size="xl">
        <Skeleton height={40} mb="xl" />
        <Skeleton height={400} />
      </Container>
    )
  }

  return (
    <Container size="xl" className="h-full">
      <Stack gap="lg" className="h-full">
        <Group justify="space-between">
          <Title order={2}>{project?.name}</Title>
          <ViewSwitcher />
        </Group>

        {view === 'kanban' && (
          <KanbanBoard
            projectId={id!}
            statuses={project?.workflowStatuses || []}
          />
        )}
        {view === 'list' && <TaskTable projectId={id!} />}
        {view === 'calendar' && <CalendarView projectId={id!} />}
      </Stack>
    </Container>
  )
}
```

## Todo List
- [ ] Create tasks hooks with optimistic updates
- [ ] Implement Kanban board with dnd-kit
- [ ] Implement Kanban column component
- [ ] Implement draggable task card
- [ ] Implement inline task creation
- [ ] Implement List view with DataTable
- [ ] Implement Calendar view
- [ ] Create view switcher
- [ ] Create project detail page
- [ ] Add GSAP animations for drag

## Success Criteria
- [x] Kanban drag-drop works smoothly
- [x] Optimistic updates show immediately
- [x] List view sorts and filters
- [x] Calendar shows tasks by due date
- [x] View persists in URL

## Next Steps
- Phase 11: Task Detail + Rich Editor
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-11-task-detail-editor.md">
# Phase 11: Task Detail + Rich Editor

## Context Links
- [React + Mantine Research](../reports/researcher-260117-1758-react-mantine-tailwind.md)
- [Phase 10: Project Views](./phase-10-project-views.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 10h

Build task detail view with rich text editor, metadata editing, dependencies, and watchers.

## Key Insights
- TipTap for rich text (extensible, React-friendly)
- Task detail as slide-over panel or full page
- Inline editing for fields
- Dependency graph visualization
- Auto-save with debounce

## Requirements

### Functional
- View/edit task title, description (rich text)
- Assignee, priority, due date pickers
- Status change via dropdown
- Dependencies management
- Watchers list
- Attachments list with upload

### Non-Functional
- Auto-save within 2s of edit
- Rich text loads < 500ms
- Keyboard shortcuts

## Architecture

### Components
```
components/task-detail/
 task-detail-panel.tsx
 task-header.tsx
 task-editor.tsx          # TipTap rich text
 task-sidebar.tsx         # Metadata fields
 task-dependencies.tsx
 task-attachments.tsx
 task-watchers.tsx
```

## Related Code Files

### Create
- `/apps/web/src/routes/task-detail.tsx`
- `/apps/web/src/components/task-detail/task-detail-panel.tsx`
- `/apps/web/src/components/task-detail/task-header.tsx`
- `/apps/web/src/components/task-detail/task-editor.tsx`
- `/apps/web/src/components/task-detail/task-sidebar.tsx`
- `/apps/web/src/components/task-detail/task-dependencies.tsx`
- `/apps/web/src/components/task-detail/task-attachments.tsx`
- `/apps/web/src/hooks/use-debounce.ts`

## Implementation Steps

### 1. Debounce Hook
**apps/web/src/hooks/use-debounce.ts**:
```typescript
import { useEffect, useRef, useCallback } from 'react'

export function useDebouncedCallback<T extends (...args: any[]) => any>(
  callback: T,
  delay: number
) {
  const timeoutRef = useRef<NodeJS.Timeout>()

  const debouncedCallback = useCallback(
    (...args: Parameters<T>) => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current)
      }
      timeoutRef.current = setTimeout(() => {
        callback(...args)
      }, delay)
    },
    [callback, delay]
  )

  useEffect(() => {
    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current)
      }
    }
  }, [])

  return debouncedCallback
}
```

### 2. TipTap Editor
**apps/web/src/components/task-detail/task-editor.tsx**:
```tsx
import { useEditor, EditorContent } from '@tiptap/react'
import StarterKit from '@tiptap/starter-kit'
import TaskList from '@tiptap/extension-task-list'
import TaskItem from '@tiptap/extension-task-item'
import Link from '@tiptap/extension-link'
import Placeholder from '@tiptap/extension-placeholder'
import { ActionIcon, Group, Paper } from '@mantine/core'
import { useDebouncedCallback } from '@/hooks/use-debounce'

type Props = {
  content: string
  onChange: (html: string) => void
  placeholder?: string
}

export function TaskEditor({ content, onChange, placeholder }: Props) {
  const debouncedOnChange = useDebouncedCallback(onChange, 1000)

  const editor = useEditor({
    extensions: [
      StarterKit,
      TaskList,
      TaskItem.configure({ nested: true }),
      Link.configure({ openOnClick: false }),
      Placeholder.configure({ placeholder: placeholder || 'Add description...' }),
    ],
    content,
    onUpdate: ({ editor }) => {
      debouncedOnChange(editor.getHTML())
    },
  })

  if (!editor) return null

  return (
    <Paper className="border rounded-md">
      {/* Toolbar */}
      <Group gap="xs" p="xs" className="border-b">
        <ActionIcon
          variant={editor.isActive('bold') ? 'filled' : 'subtle'}
          onClick={() => editor.chain().focus().toggleBold().run()}
          size="sm"
        >
          B
        </ActionIcon>
        <ActionIcon
          variant={editor.isActive('italic') ? 'filled' : 'subtle'}
          onClick={() => editor.chain().focus().toggleItalic().run()}
          size="sm"
        >
          I
        </ActionIcon>
        <ActionIcon
          variant={editor.isActive('bulletList') ? 'filled' : 'subtle'}
          onClick={() => editor.chain().focus().toggleBulletList().run()}
          size="sm"
        >
          
        </ActionIcon>
        <ActionIcon
          variant={editor.isActive('taskList') ? 'filled' : 'subtle'}
          onClick={() => editor.chain().focus().toggleTaskList().run()}
          size="sm"
        >
          
        </ActionIcon>
      </Group>

      {/* Editor */}
      <EditorContent
        editor={editor}
        className="prose prose-sm max-w-none p-4 min-h-[200px] focus:outline-none"
      />
    </Paper>
  )
}
```

### 3. Task Sidebar (Metadata)
**apps/web/src/components/task-detail/task-sidebar.tsx**:
```tsx
import { Stack, Select, Text, Avatar, Group, Badge } from '@mantine/core'
import { DatePickerInput } from '@mantine/dates'
import { useUpdateTask } from '@/hooks/use-tasks'

type Props = {
  task: {
    id: string
    statusId: string
    priority: string
    assigneeId?: string
    assignee?: { id: string; name: string; avatarUrl?: string }
    dueDate?: string
  }
  statuses: { id: string; name: string; color: string }[]
  members: { id: string; name: string; avatarUrl?: string }[]
}

export function TaskSidebar({ task, statuses, members }: Props) {
  const updateTask = useUpdateTask()

  const handleUpdate = (field: string, value: any) => {
    updateTask.mutate({ id: task.id, data: { [field]: value } })
  }

  return (
    <Stack gap="md" className="w-64">
      {/* Status */}
      <div>
        <Text size="xs" c="dimmed" mb={4}>Status</Text>
        <Select
          value={task.statusId}
          onChange={(v) => handleUpdate('statusId', v)}
          data={statuses.map(s => ({
            value: s.id,
            label: s.name,
          }))}
        />
      </div>

      {/* Priority */}
      <div>
        <Text size="xs" c="dimmed" mb={4}>Priority</Text>
        <Select
          value={task.priority}
          onChange={(v) => handleUpdate('priority', v)}
          data={[
            { value: 'low', label: 'Low' },
            { value: 'medium', label: 'Medium' },
            { value: 'high', label: 'High' },
            { value: 'urgent', label: 'Urgent' },
          ]}
        />
      </div>

      {/* Assignee */}
      <div>
        <Text size="xs" c="dimmed" mb={4}>Assignee</Text>
        <Select
          value={task.assigneeId}
          onChange={(v) => handleUpdate('assigneeId', v)}
          data={members.map(m => ({
            value: m.id,
            label: m.name,
          }))}
          clearable
          placeholder="Unassigned"
        />
      </div>

      {/* Due Date */}
      <div>
        <Text size="xs" c="dimmed" mb={4}>Due Date</Text>
        <DatePickerInput
          value={task.dueDate ? new Date(task.dueDate) : null}
          onChange={(v) => handleUpdate('dueDate', v?.toISOString())}
          clearable
          placeholder="No due date"
        />
      </div>
    </Stack>
  )
}
```

### 4. Task Dependencies
**apps/web/src/components/task-detail/task-dependencies.tsx**:
```tsx
import { Stack, Text, Paper, Group, ActionIcon, Badge } from '@mantine/core'
import { Link } from 'react-router'
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { api } from '@/lib/api'

type Props = {
  taskId: string
}

export function TaskDependencies({ taskId }: Props) {
  const queryClient = useQueryClient()

  const { data: dependencies = [] } = useQuery({
    queryKey: ['task-dependencies', taskId],
    queryFn: () => api.get(`/tasks/${taskId}/dependencies`),
  })

  const removeDependency = useMutation({
    mutationFn: (depId: string) =>
      api.delete(`/tasks/${taskId}/dependencies/${depId}`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['task-dependencies', taskId] })
    },
  })

  return (
    <Stack gap="xs">
      <Text size="sm" fw={600}>Blocked By</Text>

      {dependencies.length === 0 ? (
        <Text size="sm" c="dimmed">No blockers</Text>
      ) : (
        dependencies.map((dep: any) => (
          <Paper key={dep.id} p="xs" withBorder>
            <Group justify="space-between">
              <Text
                size="sm"
                component={Link}
                to={`/tasks/${dep.dependsOn.id}`}
                className="hover:underline"
              >
                {dep.dependsOn.title}
              </Text>
              <ActionIcon
                size="sm"
                variant="subtle"
                color="red"
                onClick={() => removeDependency.mutate(dep.dependsOnId)}
              >
                
              </ActionIcon>
            </Group>
          </Paper>
        ))
      )}

      {/* Add dependency UI would go here */}
    </Stack>
  )
}
```

### 5. Task Detail Panel
**apps/web/src/components/task-detail/task-detail-panel.tsx**:
```tsx
import { Drawer, Title, Group, Stack, Divider, TextInput } from '@mantine/core'
import { useState, useEffect } from 'react'
import { useTask, useUpdateTask } from '@/hooks/use-tasks'
import { TaskEditor } from './task-editor'
import { TaskSidebar } from './task-sidebar'
import { TaskDependencies } from './task-dependencies'
import { TaskAttachments } from './task-attachments'
import { useDebouncedCallback } from '@/hooks/use-debounce'

type Props = {
  taskId: string | null
  onClose: () => void
  statuses: any[]
  members: any[]
}

export function TaskDetailPanel({ taskId, onClose, statuses, members }: Props) {
  const { data: task, isLoading } = useTask(taskId || undefined)
  const updateTask = useUpdateTask()

  const [title, setTitle] = useState('')

  useEffect(() => {
    if (task) setTitle(task.title)
  }, [task])

  const debouncedUpdateTitle = useDebouncedCallback((value: string) => {
    if (taskId && value !== task?.title) {
      updateTask.mutate({ id: taskId, data: { title: value } })
    }
  }, 1000)

  const handleTitleChange = (value: string) => {
    setTitle(value)
    debouncedUpdateTitle(value)
  }

  const handleDescriptionChange = (html: string) => {
    if (taskId) {
      updateTask.mutate({ id: taskId, data: { description: html } })
    }
  }

  return (
    <Drawer
      opened={!!taskId}
      onClose={onClose}
      position="right"
      size="xl"
      title={null}
      padding="lg"
    >
      {task && (
        <div className="flex gap-6">
          {/* Main content */}
          <Stack className="flex-1" gap="lg">
            <TextInput
              value={title}
              onChange={(e) => handleTitleChange(e.target.value)}
              variant="unstyled"
              size="xl"
              className="font-bold"
              placeholder="Task title"
            />

            <TaskEditor
              content={task.description || ''}
              onChange={handleDescriptionChange}
            />

            <Divider />

            <TaskDependencies taskId={task.id} />

            <Divider />

            <TaskAttachments taskId={task.id} />
          </Stack>

          {/* Sidebar */}
          <TaskSidebar
            task={task}
            statuses={statuses}
            members={members}
          />
        </div>
      )}
    </Drawer>
  )
}
```

## Todo List
- [ ] Install TipTap packages
- [ ] Create debounce hook
- [ ] Build TipTap editor with toolbar
- [ ] Build task sidebar (metadata fields)
- [ ] Build dependencies component
- [ ] Build attachments component
- [ ] Build watchers component
- [ ] Create task detail panel/page
- [ ] Implement auto-save
- [ ] Add keyboard shortcuts

## Success Criteria
- [x] Rich text editing works
- [x] Metadata changes save automatically
- [x] Dependencies can be added/removed
- [x] Attachments upload and display
- [x] Panel closes without losing data

## Next Steps
- Phase 12: Comments + Activity Feed
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-12-comments-activity.md">
# Phase 12: Comments + Activity Feed

## Context Links
- [Phase 11: Task Detail](./phase-11-task-detail-editor.md)
- [Phase 07: Real-time Layer](./phase-07-realtime-layer.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 8h

Implement comments system with @mentions and activity feed showing task history.

## Key Insights
- Comments support rich text (TipTap)
- @mentions autocomplete from workspace members
- Activity log from backend API
- Real-time updates via WebSocket
- Relative timestamps (e.g., "2 hours ago")

## Requirements

### Functional
- Add/edit/delete comments
- @mentions with autocomplete
- Activity timeline (created, updated, assigned, etc.)
- Real-time comment updates

### Non-Functional
- Comments load incrementally (pagination)
- Mention search < 100ms
- Optimistic comment posting

## Architecture

### Backend Endpoints
```
GET    /api/tasks/:id/comments      List comments
POST   /api/tasks/:id/comments      Create comment
PATCH  /api/comments/:id            Update comment
DELETE /api/comments/:id            Delete comment

GET    /api/tasks/:id/activity      Get activity log
```

### Frontend Components
```
components/comments/
 comments-section.tsx
 comment-item.tsx
 comment-editor.tsx
 mention-list.tsx
 activity-timeline.tsx
```

## Related Code Files

### Create
- `/apps/api/src/routes/comments.ts`
- `/apps/api/src/services/comment.ts`
- `/apps/web/src/components/comments/comments-section.tsx`
- `/apps/web/src/components/comments/comment-item.tsx`
- `/apps/web/src/components/comments/comment-editor.tsx`
- `/apps/web/src/components/comments/activity-timeline.tsx`
- `/apps/web/src/hooks/use-comments.ts`

### Modify
- `/apps/api/src/routes/index.ts`

## Implementation Steps

### 1. Comment Service (Backend)
**apps/api/src/services/comment.ts**:
```typescript
import { eq, desc } from 'drizzle-orm'
import type { Database } from '@repo/db'
import { comments } from '@repo/db/schema'
import { NotFoundError } from '../lib/errors'
import { logActivity } from './activity'

export async function getCommentsByTask(db: Database, taskId: string, limit = 50, offset = 0) {
  return db.query.comments.findMany({
    where: eq(comments.taskId, taskId),
    with: { user: true },
    orderBy: [desc(comments.createdAt)],
    limit,
    offset,
  })
}

export async function createComment(
  db: Database,
  taskId: string,
  userId: string,
  workspaceId: string,
  content: string
) {
  const [comment] = await db
    .insert(comments)
    .values({ taskId, userId, content })
    .returning()

  // Log activity
  await logActivity(db, {
    workspaceId,
    entityType: 'task',
    entityId: taskId,
    userId,
    action: 'commented',
    metadata: { commentId: comment.id },
  })

  return db.query.comments.findFirst({
    where: eq(comments.id, comment.id),
    with: { user: true },
  })
}

export async function updateComment(db: Database, commentId: string, userId: string, content: string) {
  const existing = await db.query.comments.findFirst({
    where: eq(comments.id, commentId),
  })

  if (!existing) throw new NotFoundError('Comment', commentId)
  if (existing.userId !== userId) throw new NotFoundError('Comment', commentId) // Hide forbidden

  const [updated] = await db
    .update(comments)
    .set({ content, updatedAt: new Date() })
    .where(eq(comments.id, commentId))
    .returning()

  return db.query.comments.findFirst({
    where: eq(comments.id, updated.id),
    with: { user: true },
  })
}

export async function deleteComment(db: Database, commentId: string, userId: string) {
  const existing = await db.query.comments.findFirst({
    where: eq(comments.id, commentId),
  })

  if (!existing) throw new NotFoundError('Comment', commentId)
  if (existing.userId !== userId) throw new NotFoundError('Comment', commentId)

  await db.delete(comments).where(eq(comments.id, commentId))
}
```

### 2. Comment Routes (Backend)
**apps/api/src/routes/comments.ts**:
```typescript
import { Hono } from 'hono'
import { zValidator } from '@hono/zod-validator'
import { z } from 'zod'
import type { Variables } from '../types/context'
import { requireWorkspace } from '../middleware/auth'
import { success, created, noContent } from '../lib/response'
import * as commentService from '../services/comment'
import { emitTaskEvent } from '../services/realtime'

const comments = new Hono<{ Variables: Variables }>()

// List comments for a task
comments.get('/tasks/:taskId/comments', requireWorkspace, async (c) => {
  const db = c.var.db
  const taskId = c.req.param('taskId')
  const result = await commentService.getCommentsByTask(db, taskId)
  return success(c, result)
})

// Create comment
comments.post(
  '/tasks/:taskId/comments',
  requireWorkspace,
  zValidator('json', z.object({ content: z.string().min(1) })),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const taskId = c.req.param('taskId')
    const { content } = c.req.valid('json')

    const result = await commentService.createComment(db, taskId, user.id, user.workspaceId!, content)

    // Emit real-time event
    await emitTaskEvent({
      type: 'task:updated',
      projectId: '', // Would need to fetch task's projectId
      data: { commentAdded: result },
      userId: user.id,
    })

    return created(c, result)
  }
)

// Update comment
comments.patch(
  '/comments/:id',
  requireWorkspace,
  zValidator('json', z.object({ content: z.string().min(1) })),
  async (c) => {
    const user = c.var.user!
    const db = c.var.db
    const commentId = c.req.param('id')
    const { content } = c.req.valid('json')

    const result = await commentService.updateComment(db, commentId, user.id, content)
    return success(c, result)
  }
)

// Delete comment
comments.delete('/comments/:id', requireWorkspace, async (c) => {
  const user = c.var.user!
  const db = c.var.db
  const commentId = c.req.param('id')

  await commentService.deleteComment(db, commentId, user.id)
  return noContent(c)
})

export default comments
```

### 3. Comments Hook (Frontend)
**apps/web/src/hooks/use-comments.ts**:
```typescript
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'
import { api } from '@/lib/api'

export function useComments(taskId: string) {
  return useQuery({
    queryKey: ['comments', taskId],
    queryFn: () => api.get(`/tasks/${taskId}/comments`),
    enabled: !!taskId,
  })
}

export function useCreateComment(taskId: string) {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (content: string) =>
      api.post(`/tasks/${taskId}/comments`, { content }),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['comments', taskId] })
    },
  })
}

export function useUpdateComment() {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: ({ id, content }: { id: string; content: string }) =>
      api.patch(`/comments/${id}`, { content }),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['comments'] })
    },
  })
}

export function useDeleteComment(taskId: string) {
  const queryClient = useQueryClient()

  return useMutation({
    mutationFn: (commentId: string) => api.delete(`/comments/${commentId}`),
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['comments', taskId] })
    },
  })
}
```

### 4. Comment Item
**apps/web/src/components/comments/comment-item.tsx**:
```tsx
import { Paper, Text, Group, Avatar, ActionIcon, Menu } from '@mantine/core'
import { formatDistanceToNow } from 'date-fns'
import { useAuth } from '@/hooks/use-auth'
import { useDeleteComment } from '@/hooks/use-comments'

type Comment = {
  id: string
  content: string
  createdAt: string
  user: { id: string; name: string; avatarUrl?: string }
}

type Props = {
  comment: Comment
  taskId: string
  onEdit: (comment: Comment) => void
}

export function CommentItem({ comment, taskId, onEdit }: Props) {
  const { user } = useAuth()
  const deleteComment = useDeleteComment(taskId)
  const isOwner = user?.id === comment.user.id

  return (
    <Paper p="sm" withBorder>
      <Group justify="space-between" mb="xs">
        <Group gap="xs">
          <Avatar src={comment.user.avatarUrl} size="sm" radius="xl">
            {comment.user.name[0]}
          </Avatar>
          <div>
            <Text size="sm" fw={500}>{comment.user.name}</Text>
            <Text size="xs" c="dimmed">
              {formatDistanceToNow(new Date(comment.createdAt), { addSuffix: true })}
            </Text>
          </div>
        </Group>

        {isOwner && (
          <Menu>
            <Menu.Target>
              <ActionIcon variant="subtle" size="sm"></ActionIcon>
            </Menu.Target>
            <Menu.Dropdown>
              <Menu.Item onClick={() => onEdit(comment)}>Edit</Menu.Item>
              <Menu.Item
                color="red"
                onClick={() => deleteComment.mutate(comment.id)}
              >
                Delete
              </Menu.Item>
            </Menu.Dropdown>
          </Menu>
        )}
      </Group>

      <div
        className="prose prose-sm"
        dangerouslySetInnerHTML={{ __html: comment.content }}
      />
    </Paper>
  )
}
```

### 5. Comments Section
**apps/web/src/components/comments/comments-section.tsx**:
```tsx
import { Stack, Text, Skeleton } from '@mantine/core'
import { useState } from 'react'
import { useComments } from '@/hooks/use-comments'
import { CommentItem } from './comment-item'
import { CommentEditor } from './comment-editor'

type Props = {
  taskId: string
}

export function CommentsSection({ taskId }: Props) {
  const { data: comments, isLoading } = useComments(taskId)
  const [editingComment, setEditingComment] = useState<any>(null)

  if (isLoading) {
    return (
      <Stack gap="sm">
        <Skeleton height={80} />
        <Skeleton height={80} />
      </Stack>
    )
  }

  return (
    <Stack gap="md">
      <Text size="sm" fw={600}>Comments ({comments?.length || 0})</Text>

      <CommentEditor taskId={taskId} editingComment={editingComment} onCancelEdit={() => setEditingComment(null)} />

      <Stack gap="sm">
        {comments?.map((comment: any) => (
          <CommentItem
            key={comment.id}
            comment={comment}
            taskId={taskId}
            onEdit={setEditingComment}
          />
        ))}
      </Stack>
    </Stack>
  )
}
```

### 6. Activity Timeline
**apps/web/src/components/comments/activity-timeline.tsx**:
```tsx
import { Timeline, Text, Avatar } from '@mantine/core'
import { formatDistanceToNow } from 'date-fns'
import { useQuery } from '@tanstack/react-query'
import { api } from '@/lib/api'

const ACTION_LABELS: Record<string, string> = {
  created: 'created this task',
  updated: 'updated this task',
  assigned: 'changed assignee',
  status_changed: 'changed status',
  commented: 'commented',
  moved: 'moved this task',
}

type Props = {
  taskId: string
}

export function ActivityTimeline({ taskId }: Props) {
  const { data: activities = [] } = useQuery({
    queryKey: ['task-activity', taskId],
    queryFn: () => api.get(`/tasks/${taskId}/activity`),
  })

  return (
    <Timeline bulletSize={24} lineWidth={2}>
      {activities.map((activity: any) => (
        <Timeline.Item
          key={activity.id}
          bullet={
            <Avatar src={activity.user?.avatarUrl} size={24} radius="xl">
              {activity.user?.name?.[0]}
            </Avatar>
          }
        >
          <Text size="sm">
            <Text span fw={500}>{activity.user?.name}</Text>
            {' '}{ACTION_LABELS[activity.action] || activity.action}
          </Text>
          <Text size="xs" c="dimmed">
            {formatDistanceToNow(new Date(activity.createdAt), { addSuffix: true })}
          </Text>
        </Timeline.Item>
      ))}
    </Timeline>
  )
}
```

## Todo List
- [ ] Create comment service (backend)
- [ ] Create comment routes (backend)
- [ ] Add activity endpoint to tasks
- [ ] Create comments hooks (frontend)
- [ ] Build comment editor with mentions
- [ ] Build comment item component
- [ ] Build comments section
- [ ] Build activity timeline
- [ ] Add real-time comment updates
- [ ] Test edit/delete permissions

## Success Criteria
- [x] Comments can be created/edited/deleted
- [x] Only owner can edit/delete
- [x] @mentions show autocomplete
- [x] Activity shows full task history
- [x] Real-time updates work

## Next Steps
- Phase 13: Testing + E2E
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/phase-13-testing.md">
# Phase 13: Testing + E2E

## Context Links
- [Phase 12: Comments + Activity](./phase-12-comments-activity.md)

## Overview
- **Priority**: P2
- **Status**: pending
- **Effort**: 12h

Implement comprehensive testing: unit tests, integration tests, and E2E tests.

## Key Insights
- Bun test for backend unit/integration
- Vitest for frontend unit tests
- Playwright for E2E tests
- Test database isolation (transactions)
- Mock Clerk for auth in tests

## Requirements

### Functional
- Unit tests for services
- Integration tests for API routes
- E2E tests for critical flows
- Test coverage > 70%

### Non-Functional
- Tests run in < 2 minutes
- Parallelized test execution
- CI/CD integration ready

## Architecture

### Test Structure
```
apps/api/
 src/
    services/
        __tests__/
            task.test.ts
            comment.test.ts
 tests/
     setup.ts
     helpers.ts
     integration/
         auth.test.ts
         workspaces.test.ts
         projects.test.ts
         tasks.test.ts

apps/web/
 src/
    components/
        __tests__/
            *.test.tsx
 tests/
     e2e/
         auth.spec.ts
         projects.spec.ts
         tasks.spec.ts
```

## Related Code Files

### Create
- `/apps/api/tests/setup.ts`
- `/apps/api/tests/helpers.ts`
- `/apps/api/tests/integration/tasks.test.ts`
- `/apps/api/src/services/__tests__/task.test.ts`
- `/apps/web/tests/e2e/auth.spec.ts`
- `/apps/web/tests/e2e/tasks.spec.ts`
- `/apps/web/playwright.config.ts`

### Modify
- `/apps/api/package.json`
- `/apps/web/package.json`

## Implementation Steps

### 1. Backend Test Setup
**apps/api/tests/setup.ts**:
```typescript
import { beforeAll, afterAll, beforeEach } from 'bun:test'
import { drizzle } from 'drizzle-orm/bun-sql'
import { SQL } from 'bun'
import { migrate } from 'drizzle-orm/bun-sql/migrator'
import * as schema from '@repo/db/schema'

// Use test database
const TEST_DB_URL = process.env.TEST_DATABASE_URL || 'postgresql://localhost:5432/nexa_task_test'
const client = new SQL(TEST_DB_URL)
export const testDb = drizzle({ client, schema })

beforeAll(async () => {
  // Run migrations
  await migrate(testDb, { migrationsFolder: '../../packages/db/drizzle' })
})

beforeEach(async () => {
  // Clean tables before each test
  await testDb.delete(schema.activityLogs)
  await testDb.delete(schema.comments)
  await testDb.delete(schema.attachments)
  await testDb.delete(schema.taskWatchers)
  await testDb.delete(schema.taskDependencies)
  await testDb.delete(schema.tasks)
  await testDb.delete(schema.workflowStatuses)
  await testDb.delete(schema.projects)
  await testDb.delete(schema.workspaceMembers)
  await testDb.delete(schema.workspaces)
  await testDb.delete(schema.users)
})

afterAll(() => {
  client.close()
})
```

### 2. Test Helpers
**apps/api/tests/helpers.ts**:
```typescript
import { testDb } from './setup'
import { users, workspaces, workspaceMembers, projects, workflowStatuses } from '@repo/db/schema'

export async function createTestUser(overrides = {}) {
  const [user] = await testDb
    .insert(users)
    .values({
      clerkId: `clerk_${Math.random().toString(36).slice(2)}`,
      email: `test-${Date.now()}@example.com`,
      name: 'Test User',
      ...overrides,
    })
    .returning()
  return user
}

export async function createTestWorkspace(ownerId: string, overrides = {}) {
  const [workspace] = await testDb
    .insert(workspaces)
    .values({
      clerkOrgId: `org_${Math.random().toString(36).slice(2)}`,
      name: 'Test Workspace',
      slug: `test-${Date.now()}`,
      ownerId,
      ...overrides,
    })
    .returning()

  // Add owner as member
  await testDb.insert(workspaceMembers).values({
    workspaceId: workspace.id,
    userId: ownerId,
    role: 'super_admin',
  })

  return workspace
}

export async function createTestProject(workspaceId: string, createdById: string, overrides = {}) {
  const [project] = await testDb
    .insert(projects)
    .values({
      workspaceId,
      createdById,
      name: 'Test Project',
      ...overrides,
    })
    .returning()

  // Create default statuses
  const statuses = await testDb
    .insert(workflowStatuses)
    .values([
      { projectId: project.id, name: 'To Do', color: '#6b7280', order: 0, isDefault: true },
      { projectId: project.id, name: 'Done', color: '#10b981', order: 1, isFinal: true },
    ])
    .returning()

  return { project, statuses }
}

export function mockAuthContext(user: any, workspace: any) {
  return {
    user: {
      id: user.id,
      clerkId: user.clerkId,
      email: user.email,
      name: user.name,
      role: 'super_admin' as const,
      orgId: workspace.clerkOrgId,
      workspaceId: workspace.id,
    },
    db: testDb,
    requestId: 'test-request',
  }
}
```

### 3. Task Service Unit Tests
**apps/api/src/services/__tests__/task.test.ts**:
```typescript
import { describe, it, expect, beforeEach } from 'bun:test'
import { testDb } from '../../../tests/setup'
import { createTestUser, createTestWorkspace, createTestProject } from '../../../tests/helpers'
import * as taskService from '../task'

describe('Task Service', () => {
  let user: any
  let workspace: any
  let project: any
  let statuses: any[]

  beforeEach(async () => {
    user = await createTestUser()
    workspace = await createTestWorkspace(user.id)
    const result = await createTestProject(workspace.id, user.id)
    project = result.project
    statuses = result.statuses
  })

  describe('createTask', () => {
    it('creates a task with default status', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' }
      )

      expect(task).toBeDefined()
      expect(task.title).toBe('Test Task')
      expect(task.statusId).toBe(statuses[0].id) // Default status
      expect(task.order).toBe(0)
    })

    it('creates a task with specified status', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task', statusId: statuses[1].id }
      )

      expect(task.statusId).toBe(statuses[1].id)
    })
  })

  describe('moveTask', () => {
    it('moves task to different status', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' }
      )

      const moved = await taskService.moveTask(
        testDb,
        task.id,
        user.id,
        workspace.id,
        { statusId: statuses[1].id, order: 0 }
      )

      expect(moved.statusId).toBe(statuses[1].id)
    })
  })

  describe('addTaskDependency', () => {
    it('prevents self-dependency', async () => {
      const task = await taskService.createTask(
        testDb,
        project.id,
        user.id,
        workspace.id,
        { title: 'Test Task' }
      )

      await expect(
        taskService.addTaskDependency(testDb, task.id, task.id)
      ).rejects.toThrow('cannot depend on itself')
    })

    it('prevents circular dependency', async () => {
      const task1 = await taskService.createTask(testDb, project.id, user.id, workspace.id, { title: 'Task 1' })
      const task2 = await taskService.createTask(testDb, project.id, user.id, workspace.id, { title: 'Task 2' })

      await taskService.addTaskDependency(testDb, task1.id, task2.id)

      await expect(
        taskService.addTaskDependency(testDb, task2.id, task1.id)
      ).rejects.toThrow('Circular dependency')
    })
  })
})
```

### 4. Integration Tests
**apps/api/tests/integration/tasks.test.ts**:
```typescript
import { describe, it, expect, beforeEach } from 'bun:test'
import { app } from '../../src/app'
import { testDb } from '../setup'
import { createTestUser, createTestWorkspace, createTestProject } from '../helpers'

describe('Task API', () => {
  let user: any
  let workspace: any
  let project: any

  beforeEach(async () => {
    user = await createTestUser()
    workspace = await createTestWorkspace(user.id)
    const result = await createTestProject(workspace.id, user.id)
    project = result.project
  })

  describe('GET /api/projects/:id/tasks', () => {
    it('returns tasks for project', async () => {
      // Would need to mock auth or use test auth
      const res = await app.request(`/api/projects/${project.id}/tasks`, {
        headers: { Authorization: 'Bearer test-token' },
      })

      expect(res.status).toBe(200)
      const body = await res.json()
      expect(body.success).toBe(true)
      expect(Array.isArray(body.data)).toBe(true)
    })
  })

  describe('POST /api/projects/:id/tasks', () => {
    it('creates a task', async () => {
      const res = await app.request(`/api/projects/${project.id}/tasks`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          Authorization: 'Bearer test-token',
        },
        body: JSON.stringify({ title: 'New Task' }),
      })

      expect(res.status).toBe(201)
      const body = await res.json()
      expect(body.data.title).toBe('New Task')
    })
  })
})
```

### 5. E2E Tests Setup
**apps/web/playwright.config.ts**:
```typescript
import { defineConfig, devices } from '@playwright/test'

export default defineConfig({
  testDir: './tests/e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
  },
  projects: [
    { name: 'chromium', use: { ...devices['Desktop Chrome'] } },
  ],
  webServer: {
    command: 'bun dev',
    url: 'http://localhost:3000',
    reuseExistingServer: !process.env.CI,
  },
})
```

### 6. E2E Auth Test
**apps/web/tests/e2e/auth.spec.ts**:
```typescript
import { test, expect } from '@playwright/test'

test.describe('Authentication', () => {
  test('redirects to sign-in when not authenticated', async ({ page }) => {
    await page.goto('/dashboard')
    await expect(page).toHaveURL(/sign-in/)
  })

  test('shows dashboard after sign-in', async ({ page }) => {
    // Would need Clerk test mode or mock
    // For now, test the redirect behavior
    await page.goto('/')
    await expect(page).toHaveURL(/sign-in|dashboard/)
  })
})
```

### 7. E2E Task Flow Test
**apps/web/tests/e2e/tasks.spec.ts**:
```typescript
import { test, expect } from '@playwright/test'

test.describe('Task Management', () => {
  test.beforeEach(async ({ page }) => {
    // Login (would use Clerk test mode)
    // Navigate to project
  })

  test('creates a new task', async ({ page }) => {
    await page.goto('/projects/test-project')

    // Click add task
    await page.getByRole('button', { name: 'Add task' }).click()

    // Fill form
    await page.getByPlaceholder('Task title').fill('E2E Test Task')
    await page.keyboard.press('Enter')

    // Verify task appears
    await expect(page.getByText('E2E Test Task')).toBeVisible()
  })

  test('drags task to different column', async ({ page }) => {
    await page.goto('/projects/test-project')

    // Get task card
    const task = page.getByText('E2E Test Task')

    // Drag to "Done" column
    const doneColumn = page.getByText('Done').locator('..')

    await task.dragTo(doneColumn)

    // Verify task moved
    await expect(doneColumn.getByText('E2E Test Task')).toBeVisible()
  })
})
```

### 8. Package.json Updates
**apps/api/package.json**:
```json
{
  "scripts": {
    "test": "bun test",
    "test:watch": "bun test --watch",
    "test:coverage": "bun test --coverage"
  }
}
```

**apps/web/package.json**:
```json
{
  "scripts": {
    "test": "vitest",
    "test:e2e": "playwright test",
    "test:e2e:ui": "playwright test --ui"
  },
  "devDependencies": {
    "@playwright/test": "^1.50.0",
    "vitest": "^3.0.0"
  }
}
```

## Todo List
- [ ] Setup test database and migrations
- [ ] Create test helpers (user, workspace, project factories)
- [ ] Write task service unit tests
- [ ] Write integration tests for API routes
- [ ] Setup Playwright for E2E
- [ ] Write E2E auth flow tests
- [ ] Write E2E task management tests
- [ ] Configure CI test workflow
- [ ] Achieve 70%+ coverage

## Success Criteria
- [x] All unit tests pass
- [x] All integration tests pass
- [x] E2E critical paths covered
- [x] Tests run in CI < 5 minutes
- [x] Coverage > 70%

## Next Steps
- Phase 14: Docker + Deployment
</file>

<file path="plans/260117-1802-nexa-task-bootstrap/plan.md">
---
title: "Nexa Task Bootstrap"
description: "Complete implementation plan for internal task management platform"
status: pending
priority: P1
effort: 120h
branch: main
tags: [bootstrap, full-stack, monorepo, task-management]
created: 2026-01-17
---

# Nexa Task Implementation Plan

## Overview
Centralized internal task management platform with RBAC, multi-tenancy, Kanban views, and real-time collaboration.

## Tech Stack
- **Runtime**: Bun | **Backend**: Hono | **Frontend**: React + Vite
- **UI**: Mantine v7 + Tailwind v4 + GSAP | **Database**: PostgreSQL + Drizzle
- **Auth**: Clerk (RBAC, Organizations) | **Cache**: Redis | **Monorepo**: Turborepo

## Roles
| Role | Permissions |
|------|-------------|
| Super Admin | Full system access |
| Project Manager | Create projects, assign tasks, view reports |
| Member | Create/update own tasks, comment |
| Guest | Read-only access |

---

## Phases

| # | Phase | Effort | Status | Link |
|---|-------|--------|--------|------|
| 01 | Monorepo + Dev Environment | 4h | pending | [phase-01](./phase-01-monorepo-setup.md) |
| 02 | Database Schema | 6h | pending | [phase-02](./phase-02-database-schema.md) |
| 03 | Backend API Foundation | 8h | pending | [phase-03](./phase-03-backend-foundation.md) |
| 04 | Authentication + RBAC | 8h | pending | [phase-04](./phase-04-auth-rbac.md) |
| 05 | Workspace + Project APIs | 8h | pending | [phase-05](./phase-05-workspace-project-apis.md) |
| 06 | Task Management APIs | 10h | pending | [phase-06](./phase-06-task-apis.md) |
| 07 | Real-time Layer | 6h | pending | [phase-07](./phase-07-realtime-layer.md) |
| 08 | Frontend Foundation | 8h | pending | [phase-08](./phase-08-frontend-foundation.md) |
| 09 | Dashboard + Workspace UI | 10h | pending | [phase-09](./phase-09-dashboard-workspace-ui.md) |
| 10 | Project Views | 12h | pending | [phase-10](./phase-10-project-views.md) |
| 11 | Task Detail + Rich Editor | 10h | pending | [phase-11](./phase-11-task-detail-editor.md) |
| 12 | Comments + Activity Feed | 8h | pending | [phase-12](./phase-12-comments-activity.md) |
| 13 | Testing + E2E | 12h | pending | [phase-13](./phase-13-testing.md) |
| 14 | Docker + Deployment | 10h | pending | [phase-14](./phase-14-deployment.md) |

---

## Dependencies
- Phases 1-4 are sequential (foundation)
- Phases 5-7 can run in parallel after Phase 4
- Phases 8-12 depend on backend APIs (5-7)
- Phases 13-14 depend on all prior phases

## Research Reports
- [Hono + Bun Backend](../reports/researcher-260117-1758-hono-bun-backend.md)
- [Clerk RBAC](../reports/researcher-260117-1758-clerk-rbac.md)
- [Drizzle PostgreSQL](../reports/researcher-260117-1758-drizzle-postgres.md)
- [React + Mantine + Tailwind](../reports/researcher-260117-1758-react-mantine-tailwind.md)
- [Turborepo Setup](../reports/researcher-260117-1758-turborepo-setup.md)
</file>

<file path="plans/reports/fullstack-developer-260117-1842-backend-implementation.md">
# Fullstack Developer Implementation Report

## Executed Phases
- **Phase**: 03, 04, 05, 06
- **Plans**: /mnt/k/Work/nexa-task/plans/260117-1802-nexa-task-bootstrap/
- **Status**: completed

## Files Created

### Phase 3: Backend Foundation (21 files)
- `/apps/api/src/types/context.ts` (18 lines)
- `/apps/api/src/lib/errors.ts` (45 lines)
- `/apps/api/src/lib/response.ts` (47 lines)
- `/apps/api/src/lib/validators.ts` (11 lines)
- `/apps/api/src/middleware/db.ts` (10 lines)
- `/apps/api/src/middleware/error.ts` (50 lines)
- `/apps/api/src/middleware/rate-limit.ts` (48 lines)
- `/apps/api/src/routes/health.ts` (22 lines)
- `/apps/api/src/routes/index.ts` (26 lines)
- `/apps/api/src/app.ts` (36 lines)

### Phase 4: Auth + RBAC (6 files)
- `/packages/shared/src/types/auth.ts` (86 lines)
- `/apps/api/src/services/user-sync.ts` (61 lines)
- `/apps/api/src/middleware/auth.ts` (116 lines)
- `/apps/api/src/middleware/rbac.ts` (75 lines)
- `/apps/api/src/routes/auth.ts` (69 lines)

### Phase 5: Workspace/Project APIs (6 files)
- `/packages/shared/src/validators/workspace.ts` (30 lines)
- `/packages/shared/src/validators/project.ts` (36 lines)
- `/apps/api/src/services/workspace.ts` (129 lines)
- `/apps/api/src/services/project.ts` (227 lines)
- `/apps/api/src/routes/workspaces.ts` (93 lines)
- `/apps/api/src/routes/projects.ts` (180 lines)

### Phase 6: Task APIs (3 files)
- `/packages/shared/src/validators/task.ts` (55 lines)
- `/apps/api/src/services/activity.ts` (63 lines)
- `/apps/api/src/services/task.ts` (414 lines)
- `/apps/api/src/routes/tasks.ts` (214 lines)

### Modified Files
- `/apps/api/src/index.ts` - Updated entry point
- `/apps/api/package.json` - Added dependencies
- `/packages/shared/src/index.ts` - Export validators/types
- `/packages/shared/src/types/index.ts` - Export auth types
- `/packages/shared/src/validators/index.ts` - Export validators

## Dependencies Installed
- @clerk/backend@2.29.3
- @hono/clerk-auth@3.1.0
- svix@1.84.1
- @hono/zod-validator@0.7.6
- @aws-sdk/client-s3@3.971.0

## Tasks Completed

### Phase 3 - Backend Foundation
- [x] Created type definitions (context, errors, response)
- [x] Implemented error handling middleware
- [x] Implemented rate limiting middleware
- [x] Created database injection middleware
- [x] Set up health check endpoints
- [x] Configured app with middleware chain

### Phase 4 - Auth + RBAC
- [x] Created auth types and permission system
- [x] Implemented Clerk middleware integration
- [x] Created user sync service (Clerk  local DB)
- [x] Implemented auth middleware (session validation)
- [x] Created RBAC middleware (role/permission checking)
- [x] Set up auth routes (/me, webhook)

### Phase 5 - Workspace/Project APIs
- [x] Created workspace validators
- [x] Created project validators
- [x] Implemented workspace service (CRUD, members)
- [x] Implemented project service (CRUD, workflow statuses)
- [x] Created workspace routes with RBAC
- [x] Created project routes with RBAC
- [x] Implemented workflow status management

### Phase 6 - Task APIs
- [x] Created task validators with filters
- [x] Implemented activity logging service
- [x] Implemented task service (CRUD, move, ordering)
- [x] Implemented task dependencies
- [x] Implemented task watchers
- [x] Implemented task attachments metadata
- [x] Created task routes with RBAC

## Test Status
- **Type check**: PASS (bunx tsc --noEmit)
- **Lint**: PASS (2 intentional `any` warnings in type casting)

## Architecture Highlights

### Auth Flow
1. Clerk middleware validates JWT
2. User synced to local DB if not exists
3. Workspace/role loaded from organization membership
4. RBAC middleware enforces permissions

### Multi-Tenancy
- All queries scoped by workspaceId
- Workspace maps to Clerk Organization
- Tenant isolation enforced at middleware level

### RBAC Implementation
- 4 roles: super_admin, pm, member, guest
- 14 granular permissions
- Middleware: `requireRole`, `requirePermission`, `requireOwnerOrRole`

### Task Management
- Custom workflow statuses per project
- Task ordering within status columns
- Task dependencies with cycle detection
- Task watchers for notifications
- Activity logging for audit trail

## API Endpoints Implemented

### Auth (2)
- GET /api/auth/me
- POST /api/auth/webhook/clerk

### Workspaces (5)
- GET /api/workspaces
- GET /api/workspaces/:id
- PATCH /api/workspaces/:id
- GET /api/workspaces/:id/members
- POST /api/workspaces/:id/members
- DELETE /api/workspaces/:id/members/:userId

### Projects (10)
- GET /api/projects
- POST /api/projects
- GET /api/projects/:id
- PATCH /api/projects/:id
- DELETE /api/projects/:id
- GET /api/projects/:id/statuses
- POST /api/projects/:id/statuses
- PATCH /api/projects/:id/statuses/:statusId
- DELETE /api/projects/:id/statuses/:statusId
- POST /api/projects/:id/statuses/reorder

### Tasks (13)
- GET /api/projects/:projectId/tasks
- POST /api/projects/:projectId/tasks
- GET /api/tasks/:id
- PATCH /api/tasks/:id
- DELETE /api/tasks/:id
- POST /api/tasks/:id/move
- GET /api/tasks/:id/dependencies
- POST /api/tasks/:id/dependencies
- DELETE /api/tasks/:id/dependencies/:depId
- GET /api/tasks/:id/watchers
- POST /api/tasks/:id/watchers
- DELETE /api/tasks/:id/watchers/:userId
- GET /api/tasks/:id/attachments
- POST /api/tasks/:id/attachments

**Total**: 30 API endpoints

## Security Implemented
- Clerk JWT validation
- RBAC on all mutations
- Tenant isolation (workspaceId scoping)
- Rate limiting (100 req/min)
- CORS configuration
- Secure headers
- Request ID tracing
- Activity audit logging

## Next Steps
1. Run database migrations to create tables
2. Configure Clerk webhook in dashboard
3. Set environment variables (.env)
4. Test API endpoints
5. Phase 7: Real-time (WebSocket layer)
6. Phase 8: Frontend implementation

## Notes
- All endpoints use OpenAPI-compatible Zod validation
- Error responses follow consistent format
- Pagination support on list endpoints
- Soft delete for projects (archived status)
- Activity logs track all changes for compliance
</file>

<file path="plans/reports/researcher-260117-1758-clerk-rbac.md">
# Clerk RBAC Authentication Research Report

**Date:** 2026-01-17
**Focus:** Clerk + Hono backend + React frontend with RBAC multi-tenancy

---

## 1. Clerk Setup (React + Hono)

### Installation
```bash
npm i hono @hono/clerk-auth @clerk/nextjs
```

### Environment Variables
```bash
CLERK_SECRET_KEY=sk_live_xxxxx
CLERK_PUBLISHABLE_KEY=pk_live_xxxxx
```

### Hono Middleware Integration
```typescript
import { clerkMiddleware, getAuth } from '@hono/clerk-auth'
import { Hono } from 'hono'

const app = new Hono()

// Apply globally
app.use('*', clerkMiddleware())

// Protected route example
app.get('/api/tasks', async (c) => {
  const auth = getAuth(c)
  if (!auth?.userId) {
    return c.json({ error: 'Unauthorized' }, 401)
  }
  return c.json({ userId: auth.userId, tasks: [] })
})

// Access Clerk Backend API
app.get('/api/user/:id', async (c) => {
  const clerkClient = c.get('clerk')
  try {
    const user = await clerkClient.users.getUser(c.req.param('id'))
    return c.json({ user })
  } catch (e) {
    return c.json({ message: 'User not found' }, 404)
  }
})
```

---

## 2. RBAC Implementation

### Custom Roles & Permissions Definition
Define types globally for type safety:

```typescript
// types/clerk.d.ts
export {}

declare global {
  interface ClerkAuthorization {
    permission:
      | 'org:task:create'
      | 'org:task:edit'
      | 'org:task:delete'
      | 'org:task:read'
      | 'org:member:invite'
      | 'org:settings:manage'
    role:
      | 'org:super_admin'
      | 'org:pm'
      | 'org:member'
      | 'org:guest'
  }
}
```

### Role Hierarchy
- **Super Admin**: Full access (all permissions)
- **PM (Project Manager)**: Task management + member invitations
- **Member**: Create/edit own tasks, read all
- **Guest**: Read-only access

### Frontend Access Control (React)
```javascript
import { useAuth, useOrganization } from '@clerk/nextjs'

function ProtectedTaskPage() {
  const { isSignedIn, has } = useAuth()
  const { organization } = useOrganization()

  // Check authentication
  if (!isSignedIn) return <p>Sign in required</p>

  // Check active organization
  if (!organization) return <p>Select organization</p>

  // Check role-based access
  if (!has({ role: 'org:pm' }) && !has({ role: 'org:super_admin' })) {
    return <p>PM or Super Admin role required</p>
  }

  // Check permission-based access
  if (!has({ permission: 'org:task:create' })) {
    return <p>Task creation permission required</p>
  }

  return <TaskCreateForm />
}
```

### Backend RBAC Middleware (Hono)
```typescript
import { Context, Next } from 'hono'
import { getAuth } from '@hono/clerk-auth'

// Role check middleware
const requireRole = (allowedRoles: string[]) => {
  return async (c: Context, next: Next) => {
    const auth = getAuth(c)

    if (!auth?.userId) {
      return c.json({ error: 'Unauthorized' }, 401)
    }

    const clerkClient = c.get('clerk')
    const user = await clerkClient.users.getUser(auth.userId)

    // Get user's role in active organization
    const orgId = auth.orgId
    if (!orgId) {
      return c.json({ error: 'No active organization' }, 403)
    }

    const membership = user.organizationMemberships?.find(
      m => m.organization.id === orgId
    )

    const userRole = membership?.role
    if (!userRole || !allowedRoles.includes(userRole)) {
      return c.json({ error: 'Insufficient permissions' }, 403)
    }

    await next()
  }
}

// Permission check middleware
const requirePermission = (permission: string) => {
  return async (c: Context, next: Next) => {
    const auth = getAuth(c)

    if (!auth?.has || !auth.has({ permission })) {
      return c.json({ error: 'Permission denied' }, 403)
    }

    await next()
  }
}

// Usage
app.post('/api/tasks',
  requirePermission('org:task:create'),
  async (c) => {
    // Task creation logic
  }
)

app.delete('/api/workspace/:id',
  requireRole(['org:super_admin']),
  async (c) => {
    // Delete workspace
  }
)
```

---

## 3. Organization Multi-Tenancy

### Organizations as Tenants
Clerk's Organizations feature provides built-in multi-tenancy:
- Users belong to multiple organizations
- Each org has isolated data scope
- Seamless organization switching

### Data Isolation Pattern
```typescript
// Database query with tenant scope
app.get('/api/tasks', async (c) => {
  const auth = getAuth(c)
  const orgId = auth.orgId

  if (!orgId) {
    return c.json({ error: 'No active organization' }, 403)
  }

  // Query tasks scoped to organization
  const tasks = await db.query(
    'SELECT * FROM tasks WHERE organization_id = $1',
    [orgId]
  )

  return c.json({ tasks })
})
```

### Best Practices
- **Tenant-scoped permissions**: Always filter by `orgId`
- **Row-level security**: Implement RLS at database level
- **Principle of least privilege**: Grant minimum necessary permissions
- **Avoid role explosion**: Use permission bundles

---

## 4. Invitation System

### Invite Members (React Component)
```typescript
'use client'
import { useOrganization } from '@clerk/nextjs'
import { OrganizationCustomRoleKey } from '@clerk/types'
import { useState } from 'react'

export const InviteMember = () => {
  const { organization, invitations } = useOrganization({
    invitations: { pageSize: 5, keepPreviousData: true }
  })

  const [email, setEmail] = useState('')
  const [role, setRole] = useState<OrganizationCustomRoleKey>('org:member')
  const [disabled, setDisabled] = useState(false)

  const handleInvite = async (e: React.FormEvent) => {
    e.preventDefault()
    if (!organization || !email) return

    setDisabled(true)
    try {
      await organization.inviteMember({
        emailAddress: email,
        role: role
      })
      await invitations?.revalidate?.()
      setEmail('')
    } catch (err) {
      console.error('Invitation failed:', err)
    }
    setDisabled(false)
  }

  return (
    <form onSubmit={handleInvite}>
      <input
        type="email"
        placeholder="Email address"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        required
      />
      <select value={role} onChange={(e) => setRole(e.target.value as OrganizationCustomRoleKey)}>
        <option value="org:guest">Guest</option>
        <option value="org:member">Member</option>
        <option value="org:pm">PM</option>
        <option value="org:super_admin">Super Admin</option>
      </select>
      <button type="submit" disabled={disabled}>
        Send Invitation
      </button>
    </form>
  )
}
```

### Email Invitations
- Clerk handles email delivery automatically
- Customizable email templates in dashboard
- Invitation expiry configuration
- Revoke pending invitations via API

---

## 5. Session Management & Security

### Session Token Integration
- Roles/permissions embedded in session token (public metadata)
- No extra network requests for auth checks
- JWT-based session validation
- Automatic token refresh

### Security Best Practices
- **HTTPS only**: Enforce in production
- **Token expiry**: Configure session lifetime (default 7 days)
- **CSRF protection**: Hono CSRF middleware recommended
- **Rate limiting**: Protect invitation/auth endpoints
- **Audit logging**: Log permission changes and access attempts

### Session Extraction (Hono)
```typescript
// Extract JWT from Authorization header
app.use('*', async (c, next) => {
  const token = c.req.header('Authorization')?.replace('Bearer ', '')
  if (token) {
    // Clerk middleware validates automatically
  }
  await next()
})
```

---

## 6. SSO Integration

### Supported Providers
- **Google Workspace** (SAML/OAuth)
- **Azure AD / Microsoft Entra ID** (SAML/OIDC)
- **Okta Workforce** (SAML)
- Custom SAML providers

### Enterprise SSO Setup (React)
```typescript
'use client'
import { useSignIn } from '@clerk/nextjs'

export default function SSOSignIn() {
  const { signIn, isLoaded } = useSignIn()

  const handleSSOSignIn = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault()
    if (!isLoaded) return

    const email = (e.target as HTMLFormElement).email.value

    try {
      await signIn.authenticateWithRedirect({
        identifier: email,
        strategy: 'enterprise_sso',
        redirectUrl: '/sso-callback',
        redirectUrlComplete: '/dashboard'
      })
    } catch (err) {
      console.error('SSO failed:', err)
    }
  }

  return (
    <form onSubmit={handleSSOSignIn}>
      <input type="email" name="email" placeholder="Work email" required />
      <button>Sign in with SSO</button>
    </form>
  )
}
```

### Google Workspace SAML
1. Enable in Clerk Dashboard  SSO Connections  Add Google Workspace
2. Configure domain (e.g., `company.com`)
3. Copy ACS URL + Entity ID from Clerk
4. Add to Google Workspace SAML settings
5. Verify domain ownership

### Azure AD Configuration
- Similar process via Clerk Dashboard
- Support for OIDC and SAML protocols
- Group/role mapping from Azure to Clerk roles

### Pricing Note
Clerk Enterprise plan includes unlimited SSO connections with no per-connection fees.

---

## Implementation Checklist

- [ ] Install Clerk + Hono packages
- [ ] Configure environment variables
- [ ] Define custom roles and permissions (TypeScript types)
- [ ] Implement Hono middleware (`clerkMiddleware`, `requireRole`, `requirePermission`)
- [ ] Create React access control components
- [ ] Setup Organizations for multi-tenancy
- [ ] Implement invitation system UI
- [ ] Configure database RLS for tenant isolation
- [ ] Enable SSO providers (Google Workspace, Azure AD)
- [ ] Test role-based access across frontend/backend
- [ ] Implement audit logging
- [ ] Configure session expiry and security headers
- [ ] Setup rate limiting on auth endpoints

---

## Unresolved Questions

1. **Database choice**: PostgreSQL RLS vs middleware-only tenant isolation?
2. **Permission sync**: Real-time vs polling for permission updates across sessions?
3. **Clerk plan**: Free tier limits (5 MAU) vs Pro ($25/mo, 10k MAU) vs Enterprise (SSO)?
4. **Custom domain**: Required for production SSO?
5. **Migration strategy**: Import existing users or require re-registration?

---

**Sources:**
- Clerk Docs: /clerk/clerk-docs
- Hono Middleware: /llmstxt/hono_dev_llms-full_txt
- Web research on multi-tenant RBAC best practices (2026)
</file>

<file path="plans/reports/researcher-260117-1758-drizzle-postgres.md">
# Drizzle ORM + PostgreSQL Research Report
**Task Management System Schema Design**

## 1. Schema Design

### Core Tables

```typescript
import { pgTable, serial, text, timestamp, integer, jsonb, uuid, boolean, index } from 'drizzle-orm/pg-core';
import { relations } from 'drizzle-orm';

// Users
export const users = pgTable('users', {
  id: uuid('id').defaultRandom().primaryKey(),
  email: text('email').notNull().unique(),
  name: text('name').notNull(),
  avatarUrl: text('avatar_url'),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('users_email_idx').on(t.email),
]);

// Workspaces
export const workspaces = pgTable('workspaces', {
  id: uuid('id').defaultRandom().primaryKey(),
  name: text('name').notNull(),
  slug: text('slug').notNull().unique(),
  ownerId: uuid('owner_id').notNull().references(() => users.id),
  settings: jsonb('settings').$type<WorkspaceSettings>(),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('workspaces_slug_idx').on(t.slug),
  index('workspaces_owner_idx').on(t.ownerId),
]);

// Projects
export const projects = pgTable('projects', {
  id: uuid('id').defaultRandom().primaryKey(),
  workspaceId: uuid('workspace_id').notNull().references(() => workspaces.id, { onDelete: 'cascade' }),
  name: text('name').notNull(),
  description: text('description'),
  status: text('status').notNull().default('active'), // active, archived, deleted
  createdById: uuid('created_by_id').notNull().references(() => users.id),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('projects_workspace_idx').on(t.workspaceId),
  index('projects_status_idx').on(t.status),
  index('projects_workspace_status_idx').on(t.workspaceId, t.status),
]);

// Custom Workflow Statuses
export const workflowStatuses = pgTable('workflow_statuses', {
  id: uuid('id').defaultRandom().primaryKey(),
  projectId: uuid('project_id').notNull().references(() => projects.id, { onDelete: 'cascade' }),
  name: text('name').notNull(),
  color: text('color').notNull(),
  order: integer('order').notNull(),
  isDefault: boolean('is_default').default(false),
}, (t) => [
  index('workflow_statuses_project_idx').on(t.projectId),
  index('workflow_statuses_project_order_idx').on(t.projectId, t.order),
]);

// Tasks
export const tasks = pgTable('tasks', {
  id: uuid('id').defaultRandom().primaryKey(),
  projectId: uuid('project_id').notNull().references(() => projects.id, { onDelete: 'cascade' }),
  title: text('title').notNull(),
  description: text('description'),
  statusId: uuid('status_id').references(() => workflowStatuses.id),
  priority: text('priority').notNull().default('medium'), // low, medium, high, urgent
  assigneeId: uuid('assignee_id').references(() => users.id),
  createdById: uuid('created_by_id').notNull().references(() => users.id),
  dueDate: timestamp('due_date', { withTimezone: true }),
  completedAt: timestamp('completed_at', { withTimezone: true }),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('tasks_project_idx').on(t.projectId),
  index('tasks_status_idx').on(t.statusId),
  index('tasks_assignee_idx').on(t.assigneeId),
  index('tasks_project_status_idx').on(t.projectId, t.statusId),
  index('tasks_due_date_idx').on(t.dueDate),
]);

// Task Dependencies (self-referencing many-to-many)
export const taskDependencies = pgTable('task_dependencies', {
  id: uuid('id').defaultRandom().primaryKey(),
  taskId: uuid('task_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  dependsOnId: uuid('depends_on_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('task_deps_task_idx').on(t.taskId),
  index('task_deps_depends_idx').on(t.dependsOnId),
  index('task_deps_composite_idx').on(t.taskId, t.dependsOnId),
]);

// Comments
export const comments = pgTable('comments', {
  id: uuid('id').defaultRandom().primaryKey(),
  taskId: uuid('task_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  userId: uuid('user_id').notNull().references(() => users.id),
  content: text('content').notNull(),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
  updatedAt: timestamp('updated_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('comments_task_idx').on(t.taskId),
  index('comments_task_created_idx').on(t.taskId, t.createdAt),
]);

// Attachments
export const attachments = pgTable('attachments', {
  id: uuid('id').defaultRandom().primaryKey(),
  taskId: uuid('task_id').notNull().references(() => tasks.id, { onDelete: 'cascade' }),
  uploadedById: uuid('uploaded_by_id').notNull().references(() => users.id),
  fileName: text('file_name').notNull(),
  fileUrl: text('file_url').notNull(),
  fileSize: integer('file_size').notNull(),
  mimeType: text('mime_type').notNull(),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('attachments_task_idx').on(t.taskId),
]);

// Activity Logs (Audit Trail)
export const activityLogs = pgTable('activity_logs', {
  id: uuid('id').defaultRandom().primaryKey(),
  entityType: text('entity_type').notNull(), // task, project, workspace
  entityId: uuid('entity_id').notNull(),
  userId: uuid('user_id').notNull().references(() => users.id),
  action: text('action').notNull(), // created, updated, deleted, assigned, etc.
  changes: jsonb('changes').$type<Record<string, { old: any; new: any }>>(),
  metadata: jsonb('metadata'),
  createdAt: timestamp('created_at', { withTimezone: true }).defaultNow().notNull(),
}, (t) => [
  index('activity_logs_entity_idx').on(t.entityType, t.entityId),
  index('activity_logs_user_idx').on(t.userId),
  index('activity_logs_created_idx').on(t.createdAt),
]);
```

## 2. Relationship Patterns

### One-to-Many Relations

```typescript
export const usersRelations = relations(users, ({ many }) => ({
  ownedWorkspaces: many(workspaces),
  createdProjects: many(projects),
  assignedTasks: many(tasks),
  comments: many(comments),
  activityLogs: many(activityLogs),
}));

export const workspacesRelations = relations(workspaces, ({ one, many }) => ({
  owner: one(users, { fields: [workspaces.ownerId], references: [users.id] }),
  projects: many(projects),
}));

export const projectsRelations = relations(projects, ({ one, many }) => ({
  workspace: one(workspaces, { fields: [projects.workspaceId], references: [workspaces.id] }),
  createdBy: one(users, { fields: [projects.createdById], references: [users.id] }),
  tasks: many(tasks),
  workflowStatuses: many(workflowStatuses),
}));
```

### Many-to-Many (Task Dependencies)

```typescript
export const tasksRelations = relations(tasks, ({ one, many }) => ({
  project: one(projects, { fields: [tasks.projectId], references: [projects.id] }),
  status: one(workflowStatuses, { fields: [tasks.statusId], references: [workflowStatuses.id] }),
  assignee: one(users, { fields: [tasks.assigneeId], references: [users.id] }),
  createdBy: one(users, { fields: [tasks.createdById], references: [users.id] }),
  comments: many(comments),
  attachments: many(attachments),
  dependencies: many(taskDependencies, { relationName: 'taskDependencies' }),
  dependents: many(taskDependencies, { relationName: 'taskDependents' }),
}));

export const taskDependenciesRelations = relations(taskDependencies, ({ one }) => ({
  task: one(tasks, {
    fields: [taskDependencies.taskId],
    references: [tasks.id],
    relationName: 'taskDependencies'
  }),
  dependsOn: one(tasks, {
    fields: [taskDependencies.dependsOnId],
    references: [tasks.id],
    relationName: 'taskDependents'
  }),
}));
```

## 3. Indexing Strategy

**Single Column Indexes**: Foreign keys (projectId, userId, assigneeId) for fast joins
**Composite Indexes**: Common filter combinations (projectId + statusId, taskId + createdAt)
**Unique Indexes**: Business keys (email, workspace slug)
**Temporal Indexes**: Timestamp columns for audit queries (createdAt, dueDate)

**Performance Tips**:
- Index junction table FKs individually + composite for many-to-many
- Index frequently filtered columns (status, priority)
- Index sort columns (order, createdAt)

## 4. Migration Workflow

```bash
# Development: Direct schema push (no migration files)
npx drizzle-kit push

# Production: Generate + apply migrations
npx drizzle-kit generate   # Creates SQL migration files in drizzle/
npx drizzle-kit migrate    # Applies pending migrations
```

**Config** (`drizzle.config.ts`):
```typescript
import { defineConfig } from 'drizzle-kit';

export default defineConfig({
  schema: './src/db/schema.ts',
  out: './drizzle',
  dialect: 'postgresql',
  dbCredentials: {
    url: process.env.DATABASE_URL!,
  },
});
```

## 5. Query Patterns

### Fetch tasks with relations
```typescript
const tasksWithDetails = await db.query.tasks.findMany({
  where: (tasks, { eq }) => eq(tasks.projectId, projectId),
  with: {
    assignee: true,
    status: true,
    comments: {
      with: { user: true },
      orderBy: (comments, { desc }) => [desc(comments.createdAt)],
    },
    attachments: true,
  },
});
```

### Filter with nested conditions
```typescript
const urgentTasks = await db.query.tasks.findMany({
  where: (tasks, { and, eq, isNull }) => and(
    eq(tasks.projectId, projectId),
    eq(tasks.priority, 'urgent'),
    isNull(tasks.completedAt)
  ),
  with: { assignee: true },
});
```

### Activity log query
```typescript
const recentActivity = await db.query.activityLogs.findMany({
  where: (logs, { and, eq, gte }) => and(
    eq(logs.entityType, 'task'),
    eq(logs.entityId, taskId),
    gte(logs.createdAt, new Date(Date.now() - 7 * 24 * 60 * 60 * 1000))
  ),
  with: { user: true },
  orderBy: (logs, { desc }) => [desc(logs.createdAt)],
  limit: 50,
});
```

### Task dependencies (recursive)
```typescript
const taskWithDeps = await db.query.tasks.findFirst({
  where: (tasks, { eq }) => eq(tasks.id, taskId),
  with: {
    dependencies: {
      with: { dependsOn: true }
    }
  }
});
```

## Key Insights

1. **UUID vs Serial**: UUIDs prevent ID enumeration attacks, enable distributed systems
2. **JSONB for flexibility**: Use for settings/metadata without schema changes
3. **Cascade deletes**: onDelete: 'cascade' maintains referential integrity
4. **Soft deletes**: Status field ('active'/'deleted') for workspace/project archival
5. **Audit trail**: Activity logs with JSONB changes column for full history
6. **Relational queries**: `db.query` API cleaner than raw SQL joins
7. **Type safety**: Relations provide compile-time safety for includes

## Unresolved Questions

- Pagination strategy for large task lists (cursor vs offset)?
- Full-text search implementation (PostgreSQL tsvector or external service)?
- Real-time subscriptions (PostgreSQL LISTEN/NOTIFY or separate service)?
- File storage strategy for attachments (database vs S3/cloud storage)?
</file>

<file path="plans/reports/researcher-260117-1758-hono-bun-backend.md">
# Hono + Bun Backend Research Report

**Date:** 2026-01-17
**Focus:** Task Management API with WebSockets, File Uploads, Drizzle ORM
**Stack:** Hono v4 + Bun runtime + Drizzle ORM

---

## 1. Setup & Project Structure

### Initial Setup
```bash
bun create hono@latest nexa-task-api
cd nexa-task-api
bun install drizzle-orm @hono/zod-validator zod
```

### Recommended Structure
```
src/
 index.ts              # Entry point with Bun.serve config
 app.ts                # Main Hono app instance
 routes/               # Route modules
    tasks.ts
    attachments.ts
    ws.ts
 middleware/           # Custom middleware
    drizzle.ts
    auth.ts
    rate-limit.ts
 db/
    schema.ts         # Drizzle schema
    index.ts          # DB connection
 lib/
     error.ts
     validators.ts
```

### Entry Point (`src/index.ts`)
```typescript
import { app } from './app'
import { websocket } from 'hono/bun'

export default {
  port: process.env.PORT || 3000,
  fetch: app.fetch,
  websocket,
  maxRequestBodySize: 1024 * 1024 * 50, // 50MB for file uploads
  host: '127.0.0.1' // Explicit host for performance boost
}
```

---

## 2. Drizzle ORM Integration

### DB Setup (Bun + PostgreSQL)
```typescript
// src/db/index.ts
import { drizzle } from 'drizzle-orm/bun-sql'
import { SQL } from 'bun'

const client = new SQL(process.env.DATABASE_URL!)
export const db = drizzle({ client })
```

### Type-Safe Context Middleware
```typescript
// src/middleware/drizzle.ts
import { createMiddleware } from 'hono/factory'
import { db } from '../db'

declare module 'hono' {
  interface ContextVariableMap {
    db: typeof db
  }
}

export const drizzleMiddleware = createMiddleware(async (c, next) => {
  c.set('db', db)
  await next()
})
```

### Usage in Routes
```typescript
// src/routes/tasks.ts
import { Hono } from 'hono'
import { tasks } from '../db/schema'

const app = new Hono()

app.get('/', async (c) => {
  const db = c.var.db // Fully typed!
  const allTasks = await db.select().from(tasks)
  return c.json(allTasks)
})

export default app
```

---

## 3. Middleware Patterns

### Authentication Middleware
```typescript
// src/middleware/auth.ts
import { createMiddleware } from 'hono/factory'
import { HTTPException } from 'hono/http-exception'
import { bearerAuth } from 'hono/bearer-auth'

// Simple JWT validation (expand as needed)
export const authMiddleware = createMiddleware(async (c, next) => {
  const token = c.req.header('Authorization')?.replace('Bearer ', '')

  if (!token) {
    throw new HTTPException(401, { message: 'Unauthorized' })
  }

  // Verify JWT and attach user to context
  const user = await verifyToken(token) // Your JWT logic
  c.set('user', user)
  await next()
})
```

### Rate Limiting Pattern
```typescript
// src/middleware/rate-limit.ts
import { createMiddleware } from 'hono/factory'
import { HTTPException } from 'hono/http-exception'

const rateLimitStore = new Map<string, { count: number; reset: number }>()

export const rateLimit = (limit = 100, window = 60000) => {
  return createMiddleware(async (c, next) => {
    const key = c.req.header('x-forwarded-for') || 'unknown'
    const now = Date.now()
    const record = rateLimitStore.get(key)

    if (!record || record.reset < now) {
      rateLimitStore.set(key, { count: 1, reset: now + window })
    } else if (record.count >= limit) {
      throw new HTTPException(429, { message: 'Rate limit exceeded' })
    } else {
      record.count++
    }

    await next()
  })
}
```

### Conditional Middleware Execution
```typescript
import { some } from 'hono/combine'

// Skip rate limiting if valid auth token
app.use('/api/*', some(
  authMiddleware,
  rateLimit({ limit: 100 })
))
```

---

## 4. Validation with Zod

### Schema Definition
```typescript
// src/lib/validators.ts
import { z } from 'zod'

export const createTaskSchema = z.object({
  title: z.string().min(1).max(200),
  description: z.string().optional(),
  priority: z.enum(['low', 'medium', 'high']),
  dueDate: z.string().datetime().optional()
})

export const updateTaskSchema = createTaskSchema.partial()
```

### Route with Validation
```typescript
import { zValidator } from '@hono/zod-validator'
import { createTaskSchema } from '../lib/validators'

app.post('/',
  zValidator('json', createTaskSchema, (result, c) => {
    if (!result.success) {
      return c.json({
        error: 'Validation failed',
        details: result.error.flatten()
      }, 400)
    }
  }),
  async (c) => {
    const data = c.req.valid('json') // Fully typed!
    const db = c.var.db

    const [task] = await db.insert(tasks).values(data).returning()
    return c.json(task, 201)
  }
)
```

---

## 5. Error Handling Patterns

### Global Error Handler
```typescript
// src/app.ts
import { Hono } from 'hono'
import { HTTPException } from 'hono/http-exception'

const app = new Hono()

app.onError((err, c) => {
  console.error(`[Error] ${err.message}`, err)

  if (err instanceof HTTPException) {
    return c.json({
      error: err.message,
      status: err.status
    }, err.status)
  }

  // Database errors, etc.
  return c.json({
    error: 'Internal Server Error',
    message: process.env.NODE_ENV === 'development' ? err.message : undefined
  }, 500)
})

app.notFound((c) => {
  return c.json({ error: 'Not Found', path: c.req.path }, 404)
})
```

---

## 6. WebSocket Support

### WebSocket Route Setup
```typescript
// src/routes/ws.ts
import { Hono } from 'hono'
import { upgradeWebSocket, websocket } from 'hono/bun'

const wsApp = new Hono()

const connections = new Set<WebSocket>()

wsApp.get('/tasks',
  upgradeWebSocket((c) => {
    return {
      onOpen(event, ws) {
        connections.add(ws.raw)
        console.log('Client connected')
      },
      onMessage(event, ws) {
        const data = JSON.parse(event.data)

        // Broadcast to all clients
        connections.forEach(client => {
          if (client.readyState === 1) {
            client.send(JSON.stringify({
              type: 'task_update',
              payload: data
            }))
          }
        })
      },
      onClose(event, ws) {
        connections.delete(ws.raw)
        console.log('Client disconnected')
      }
    }
  })
)

export default wsApp
export { websocket }
```

### Main App Integration
```typescript
// src/app.ts
import wsRoutes from './routes/ws'

app.route('/ws', wsRoutes)

// Export websocket for Bun.serve
export { websocket } from './routes/ws'
```

---

## 7. File Upload Handling

### Single File Upload
```typescript
// src/routes/attachments.ts
import { Hono } from 'hono'
import { bodyLimit } from 'hono/body-limit'

const app = new Hono()

app.post('/upload',
  bodyLimit({
    maxSize: 10 * 1024 * 1024, // 10MB
    onError: (c) => c.json({ error: 'File too large' }, 413)
  }),
  async (c) => {
    const file = await c.req.file('attachment')

    if (!file) {
      return c.json({ error: 'No file provided' }, 400)
    }

    // Validate file type
    const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf']
    if (!allowedTypes.includes(file.type)) {
      return c.json({ error: 'Invalid file type' }, 400)
    }

    // Save file (example using Bun.write)
    const buffer = await file.arrayBuffer()
    const filename = `${Date.now()}-${file.name}`
    const filepath = `./uploads/${filename}`

    await Bun.write(filepath, buffer)

    return c.json({
      filename,
      size: file.size,
      type: file.type,
      url: `/uploads/${filename}`
    })
  }
)
```

### Multiple Files with parseBody
```typescript
app.post('/upload-multiple', async (c) => {
  const body = await c.req.parseBody()
  const files = body['attachments'] // If input has multiple attribute

  if (!Array.isArray(files)) {
    return c.json({ error: 'Expected multiple files' }, 400)
  }

  const results = await Promise.all(
    files.map(async (file) => {
      const buffer = await file.arrayBuffer()
      const filename = `${Date.now()}-${file.name}`
      await Bun.write(`./uploads/${filename}`, buffer)
      return { filename, size: file.size }
    })
  )

  return c.json({ files: results })
})
```

---

## 8. Complete App Assembly

```typescript
// src/app.ts
import { Hono } from 'hono'
import { cors } from 'hono/cors'
import { logger } from 'hono/logger'
import { drizzleMiddleware } from './middleware/drizzle'
import { authMiddleware } from './middleware/auth'
import { rateLimit } from './middleware/rate-limit'

import taskRoutes from './routes/tasks'
import attachmentRoutes from './routes/attachments'
import wsRoutes from './routes/ws'

const app = new Hono()

// Global middleware
app.use('*', logger())
app.use('*', cors())
app.use('*', drizzleMiddleware)

// Public routes
app.get('/health', (c) => c.json({ status: 'ok' }))

// Protected routes
app.use('/api/*', authMiddleware)
app.use('/api/*', rateLimit({ limit: 100 }))

app.route('/api/tasks', taskRoutes)
app.route('/api/attachments', attachmentRoutes)
app.route('/ws', wsRoutes)

// Error handling (as shown in section 5)

export { app }
export { websocket } from './routes/ws'
```

---

## Key Takeaways

1. **Setup**: Use `bun create hono@latest`, organize with `app.route()` for modularity
2. **Drizzle**: Create middleware to inject typed `db` into context via `ContextVariableMap`
3. **Middleware**: Use `createMiddleware` for custom logic, `some()`/`every()` for conditional execution
4. **Validation**: `@hono/zod-validator` with custom error handlers for type-safe requests
5. **Errors**: Global `onError` + `HTTPException` for structured error responses
6. **WebSocket**: Import `upgradeWebSocket` and `websocket` from `hono/bun`, manage connections manually
7. **Files**: Use `c.req.file()` or `c.req.parseBody()`, validate types/sizes with `bodyLimit` middleware
8. **Performance**: Set explicit `host`, use `TrieRouter` (default), configure `maxRequestBodySize` in Bun.serve

---

## Unresolved Questions
- Session/token storage strategy (Redis vs in-memory vs DB)
- WebSocket authentication mechanism (JWT in initial upgrade request?)
- File storage location for production (local vs S3/cloud storage)
- Database migration strategy with Drizzle Kit
</file>

<file path="plans/reports/researcher-260117-1758-react-mantine-tailwind.md">
# React + Mantine v7 + Tailwind v4 + GSAP Integration Research

**Research Date:** 2026-01-17
**Focus:** Task management UI with Kanban board, rich text editing, animations, real-time updates

---

## 1. Mantine v7 + Tailwind v4 Integration

### Key Architectural Changes

**Mantine v7:**
- Migrated from Emotion to native CSS/CSS Modules
- Provides `postcss-preset-mantine` for mixins (`@dark/@light`)
- Styles via `@import '@mantine/core/styles.layer.css'`

**Tailwind v4 (Released Jan 22, 2025):**
- CSS-first configuration (CSS variables replace `tailwind.config.js`)
- Oxide engine for performance
- Native CSS cascade layers
- `@import "tailwindcss"` directive (replaces `@tailwind`)

### Critical Configuration

**PostCSS Setup (`postcss.config.cjs`):**
```javascript
export default {
  plugins: {
    'postcss-preset-mantine': {},
    '@tailwindcss/postcss': {},
  },
};
```

**CSS Import Order (`globals.css`):**
```css
@layer theme, base, components, utilities;

@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/preflight.css" layer(base);
@import "tailwindcss/utilities.css";

/* Import Mantine AFTER Tailwind core layers */
@import '@mantine/core/styles.layer.css';
```

**Vite Plugin (Alternative):**
```typescript
import tailwindcss from '@tailwindcss/vite';
export default defineConfig({
  plugins: [tailwindcss()],
});
```

### Mantine Component with Tailwind Utilities

```tsx
import { TextInput } from '@mantine/core';

function Demo() {
  return (
    <TextInput
      classNames={{
        root: 'mt-4',
        input: 'bg-blue-50 dark:bg-gray-800',
      }}
    />
  );
}
```

**Conflict Resolution:** Cascade layers ensure predictable style precedence. Tailwind utilities in `utilities` layer override Mantine defaults when applied via `classNames` prop.

---

## 2. Kanban Board with dnd-kit

### Installation
```bash
npm install @dnd-kit/core @dnd-kit/sortable
```

### Multi-Container Sortable Pattern

```tsx
import { DndContext, closestCenter, PointerSensor, useSensor, useSensors } from '@dnd-kit/core';
import { SortableContext, arrayMove, verticalListSortingStrategy } from '@dnd-kit/sortable';
import { useSortable } from '@dnd-kit/sortable';
import { CSS } from '@dnd-kit/utilities';

// Sortable Task Card
function TaskCard({ id, task }) {
  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({ id });
  const style = { transform: CSS.Transform.toString(transform), transition };

  return (
    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>
      {task.title}
    </div>
  );
}

// Kanban Column
function KanbanColumn({ columnId, tasks }) {
  return (
    <SortableContext items={tasks.map(t => t.id)} strategy={verticalListSortingStrategy}>
      {tasks.map(task => <TaskCard key={task.id} id={task.id} task={task} />)}
    </SortableContext>
  );
}

// Main Kanban Board
function KanbanBoard() {
  const [columns, setColumns] = useState({
    todo: [{ id: '1', title: 'Task 1' }],
    inProgress: [],
    done: [],
  });

  const sensors = useSensors(useSensor(PointerSensor));

  const handleDragEnd = (event) => {
    const { active, over } = event;
    if (!over || active.id === over.id) return;

    // Find source/target columns
    const sourceCol = Object.keys(columns).find(key =>
      columns[key].some(t => t.id === active.id)
    );
    const targetCol = Object.keys(columns).find(key =>
      columns[key].some(t => t.id === over.id) || key === over.id
    );

    setColumns(prev => {
      const sourceTasks = [...prev[sourceCol]];
      const targetTasks = sourceCol === targetCol ? sourceTasks : [...prev[targetCol]];

      const oldIndex = sourceTasks.findIndex(t => t.id === active.id);
      const newIndex = targetTasks.findIndex(t => t.id === over.id);

      const [movedTask] = sourceTasks.splice(oldIndex, 1);
      targetTasks.splice(newIndex >= 0 ? newIndex : targetTasks.length, 0, movedTask);

      return {
        ...prev,
        [sourceCol]: sourceTasks,
        [targetCol]: targetTasks,
      };
    });
  };

  return (
    <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd}>
      {Object.entries(columns).map(([key, tasks]) => (
        <KanbanColumn key={key} columnId={key} tasks={tasks} />
      ))}
    </DndContext>
  );
}
```

---

## 3. Rich Text Editor with TipTap

### Installation
```bash
npm install @tiptap/react @tiptap/starter-kit @tiptap/extension-task-list @tiptap/extension-task-item
```

### Task Description Editor

```tsx
import { useEditor, EditorContent } from '@tiptap/react';
import StarterKit from '@tiptap/starter-kit';
import TaskList from '@tiptap/extension-task-list';
import TaskItem from '@tiptap/extension-task-item';

function TaskEditor({ content, onChange }) {
  const editor = useEditor({
    extensions: [StarterKit, TaskList, TaskItem],
    content,
    onUpdate: ({ editor }) => onChange(editor.getHTML()),
  });

  return (
    <div>
      <Toolbar editor={editor} />
      <EditorContent editor={editor} />
    </div>
  );
}

function Toolbar({ editor }) {
  if (!editor) return null;

  return (
    <div className="flex gap-2 p-2 border-b">
      <button
        onClick={() => editor.chain().focus().toggleBold().run()}
        className={editor.isActive('bold') ? 'bg-blue-100' : ''}
      >
        Bold
      </button>
      <button
        onClick={() => editor.chain().focus().toggleTaskList().run()}
        className={editor.isActive('taskList') ? 'bg-blue-100' : ''}
      >
        Checklist
      </button>
    </div>
  );
}
```

---

## 4. GSAP Animations

### Installation
```bash
npm install gsap
```

### React Integration with useGSAP Hook

```tsx
import { useRef, useLayoutEffect } from 'react';
import gsap from 'gsap';
import { Flip } from 'gsap/Flip';

gsap.registerPlugin(Flip);

function AnimatedKanbanCard({ task }) {
  const cardRef = useRef(null);

  useLayoutEffect(() => {
    gsap.fromTo(cardRef.current,
      { opacity: 0, y: -20 },
      { opacity: 1, y: 0, duration: 0.3, ease: 'power2.out' }
    );
  }, []);

  return <div ref={cardRef}>{task.title}</div>;
}

// Flip animation for drag reordering
function useFlipAnimation(tasks) {
  const containerRef = useRef(null);

  useLayoutEffect(() => {
    if (!containerRef.current) return;

    const state = Flip.getState('.task-card');

    Flip.from(state, {
      duration: 0.5,
      ease: 'power1.inOut',
      absolute: true,
    });
  }, [tasks]);

  return containerRef;
}
```

---

## 5. TanStack Query + Real-time Updates

### Installation
```bash
npm install @tanstack/react-query
```

### WebSocket Integration Pattern

```tsx
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { useEffect } from 'react';

// Custom WebSocket hook
function useWebSocket(url, onMessage) {
  useEffect(() => {
    const ws = new WebSocket(url);
    ws.onmessage = (event) => onMessage(JSON.parse(event.data));
    return () => ws.close();
  }, [url, onMessage]);
}

// Task query with real-time updates
function useTasks() {
  const queryClient = useQueryClient();

  const { data: tasks } = useQuery({
    queryKey: ['tasks'],
    queryFn: () => fetch('/api/tasks').then(r => r.json()),
    staleTime: Infinity, // WebSocket drives updates
  });

  // WebSocket listener
  useWebSocket('ws://api/tasks', (message) => {
    if (message.type === 'TASK_UPDATE') {
      queryClient.setQueryData(['tasks'], (old) =>
        old.map(t => t.id === message.task.id ? message.task : t)
      );
    }
  });

  // Optimistic mutation
  const updateTask = useMutation({
    mutationFn: (task) => fetch(`/api/tasks/${task.id}`, {
      method: 'PATCH',
      body: JSON.stringify(task),
    }),
    onMutate: async (newTask) => {
      await queryClient.cancelQueries(['tasks']);
      const previous = queryClient.getQueryData(['tasks']);

      queryClient.setQueryData(['tasks'], (old) =>
        old.map(t => t.id === newTask.id ? { ...t, ...newTask } : t)
      );

      return { previous };
    },
    onError: (err, variables, context) => {
      queryClient.setQueryData(['tasks'], context.previous);
    },
  });

  return { tasks, updateTask };
}
```

---

## 6. React Router v7

### Data Loading Pattern

```tsx
import { createBrowserRouter, useLoaderData } from 'react-router';

const router = createBrowserRouter([
  {
    path: '/board/:boardId',
    loader: async ({ params }) => {
      const board = await fetch(`/api/boards/${params.boardId}`).then(r => r.json());
      return { board };
    },
    Component: BoardView,
  },
]);

function BoardView() {
  const { board } = useLoaderData();
  return <KanbanBoard board={board} />;
}
```

---

## Integration Summary

**Tech Stack:**
- Mantine v7 (components) + Tailwind v4 (utilities)
- dnd-kit (drag-drop)
- TipTap (rich text)
- GSAP (animations)
- TanStack Query (server state + WebSocket)
- React Router v7 (routing)

**Critical Patterns:**
1. CSS cascade layers prevent Mantine/Tailwind conflicts
2. dnd-kit multi-container sortable for Kanban columns
3. TipTap with task-list extension for checklists
4. GSAP Flip plugin for smooth drag animations
5. WebSocket invalidates TanStack Query cache for real-time sync
6. Optimistic updates with rollback on error

**Unresolved Questions:**
- Specific WebSocket library preference (native WebSocket vs Socket.io)?
- Persistence layer (REST API vs GraphQL vs tRPC)?
- State management beyond TanStack Query (Zustand/Jotai for UI state)?
</file>

<file path="plans/reports/researcher-260117-1758-turborepo-setup.md">
# Turborepo + Bun Monorepo Setup Research

**Date:** 2026-01-17
**Focus:** Turborepo + Bun workspace with Hono backend + React frontend

## Folder Structure

```
nexa-task/
 apps/
    web/                    # React frontend
       src/
       package.json
       tsconfig.json
    api/                    # Hono backend
        src/
           index.ts
        package.json
        tsconfig.json
 packages/
    shared/                 # Shared types, utils
       src/
       package.json
       tsconfig.json
    db/                     # Drizzle schema
       src/
          schema/
          index.ts
       package.json
       tsconfig.json
    ui/                     # Shared React components
       src/
       package.json
       tsconfig.json
    typescript-config/      # Shared TS configs
        base.json
        react.json
        package.json
 package.json
 bun.lockb
 turbo.json
 .dockerignore
```

## Root Configuration

### package.json
```json
{
  "name": "nexa-task",
  "private": true,
  "workspaces": ["apps/*", "packages/*"],
  "packageManager": "bun@1.2.0",
  "scripts": {
    "dev": "turbo run dev",
    "build": "turbo run build",
    "lint": "turbo run lint",
    "test": "turbo run test"
  },
  "devDependencies": {
    "turbo": "latest"
  }
}
```

### turbo.json
```json
{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**", ".next/**", "build/**"]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "lint": {
      "dependsOn": ["^build"]
    },
    "test": {
      "dependsOn": ["build"],
      "outputs": ["coverage/**"]
    }
  }
}
```

## Shared TypeScript Config

### packages/typescript-config/base.json
```json
{
  "compilerOptions": {
    "esModuleInterop": true,
    "skipLibCheck": true,
    "target": "ES2022",
    "allowJs": true,
    "resolveJsonModule": true,
    "moduleDetection": "force",
    "isolatedModules": true,
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "module": "NodeNext",
    "moduleResolution": "NodeNext"
  }
}
```

### packages/typescript-config/react.json
```json
{
  "extends": "./base.json",
  "compilerOptions": {
    "jsx": "react-jsx",
    "lib": ["ES2022", "DOM", "DOM.Iterable"]
  }
}
```

### packages/typescript-config/package.json
```json
{
  "name": "@repo/typescript-config",
  "version": "0.0.0",
  "private": true,
  "files": ["base.json", "react.json"]
}
```

## App Configurations

### apps/api/package.json
```json
{
  "name": "@repo/api",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "dev": "bun run --watch src/index.ts",
    "build": "bun build src/index.ts --outdir dist --target bun",
    "start": "bun run dist/index.js"
  },
  "dependencies": {
    "hono": "latest",
    "@repo/db": "workspace:*",
    "@repo/shared": "workspace:*"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "typescript": "latest"
  }
}
```

### apps/api/src/index.ts
```typescript
import { Hono } from 'hono'

const app = new Hono()

app.get('/', (c) => c.json({ message: 'Hello from Hono!' }))

export default {
  port: process.env.PORT || 3001,
  fetch: app.fetch,
}
```

### apps/web/package.json
```json
{
  "name": "@repo/web",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "latest",
    "react-dom": "latest",
    "@repo/ui": "workspace:*",
    "@repo/shared": "workspace:*"
  },
  "devDependencies": {
    "@repo/typescript-config": "workspace:*",
    "@vitejs/plugin-react": "latest",
    "typescript": "latest",
    "vite": "latest"
  }
}
```

## Development Workflow

### Start concurrent dev servers
```bash
bun install
bun dev  # Runs both web & api in parallel
```

Turborepo automatically:
- Parallelizes tasks across packages
- Caches build outputs
- Respects task dependencies via `dependsOn`
- Uses `persistent: true` for dev servers (doesn't wait for completion)

## Docker Multi-Stage Build

### apps/api/Dockerfile
```dockerfile
# Stage 1: Base
FROM oven/bun:1 AS base
WORKDIR /app

# Stage 2: Pruner (isolate app dependencies)
FROM base AS pruner
RUN bun add -g turbo
COPY . .
RUN turbo prune @repo/api --docker

# Stage 3: Installer (production deps only)
FROM base AS installer
COPY --from=pruner /app/out/json/ .
COPY --from=pruner /app/out/bun.lockb ./bun.lockb
RUN bun install --frozen-lockfile --production

# Stage 4: Builder
FROM base AS builder
COPY --from=installer /app/ .
COPY --from=pruner /app/out/full/ .
RUN turbo build --filter=@repo/api

# Stage 5: Runner (minimal production image)
FROM oven/bun:1-alpine AS runner
WORKDIR /app
COPY --from=installer /app/node_modules ./node_modules
COPY --from=builder /app/apps/api/dist ./dist
CMD ["bun", "run", "dist/index.js"]
```

### .dockerignore
```
node_modules
.turbo
dist
build
.next
coverage
.git
.env
*.log
```

### Build command
```bash
docker build -t nexa-api:latest -f apps/api/Dockerfile .
```

## Key Features

**Turborepo Benefits:**
- `^build` dependency syntax ensures packages build dependencies first
- Incremental builds via caching (`outputs` config)
- Parallel execution for independent tasks
- `turbo prune` for Docker optimization

**Bun Advantages:**
- Native TypeScript/JSX support (no transpilation needed)
- Fast package installation
- Built-in watch mode (`--watch`)
- Workspace protocol support (`workspace:*`)

**Docker Optimization:**
- 5-stage build reduces final image size
- `turbo prune` includes only required dependencies
- Layer caching for faster rebuilds
- Alpine base for minimal footprint

## Unresolved Questions

1. Remote caching setup for CI/CD (requires Vercel account or self-hosted)
2. Environment variable handling strategy across apps
3. Database migration workflow in Docker containers
4. Frontend deployment target (static/SSR/SSG)
</file>

<file path="plans/reports/scout-260117-2206-backend-database.md">
# Scout Report: Backend API & Database Layer

**Work Context:** `/mnt/k/Work/nexa-task`  
**Scope:** Backend API (`apps/api/`) and Database Package (`packages/db/`)  
**Date:** 2026-01-17

---

## 1. Directory Structure

### API Backend (`apps/api/`)
```
apps/api/
 src/
    app.ts                    # Hono app setup & middleware
    index.ts                  # Entry point, WebSocket, Redis init
    lib/                      # Utilities
       errors.ts
       redis.ts
       response.ts
       validators.ts
       websocket.ts
    middleware/               # Authentication, RBAC, DB injection
       auth.ts
       db.ts
       error.ts
       rate-limit.ts
       rbac.ts
    routes/                   # API route handlers
       auth.ts
       comments.ts
       dashboard.ts
       health.ts
       index.ts
       projects.ts
       tasks.ts
       workspaces.ts
       ws.ts
    services/                 # Business logic
       activity.ts
       comment.ts
       project.ts
       realtime.ts
       task.ts
       user-sync.ts
       workspace.ts
       __tests__/
    types/
        context.ts
 tests/
    helpers.ts
    setup.ts
    integration/
 bunfig.toml
 package.json
 tsconfig.json
```

### Database Package (`packages/db/`)
```
packages/db/
 src/
    client.ts                 # Drizzle client setup
    index.ts                  # Public exports
    schema/
        index.ts
        users.ts
        workspaces.ts
        projects.ts
        tasks.ts
        workflow-statuses.ts
        task-dependencies.ts
        task-watchers.ts
        comments.ts
        attachments.ts
        activity-logs.ts
        relations.ts
 drizzle.config.ts
 package.json
 tsconfig.json
```

---

## 2. Technology Stack

### API Backend
- **Framework:** Hono 4.7.0 (fast edge-compatible web framework)
- **Runtime:** Bun (native TypeScript runtime)
- **Authentication:** Clerk (@hono/clerk-auth 3.1.0)
- **Validation:** Zod 3.24.0 with @hono/zod-validator
- **Database Client:** Drizzle ORM (workspace package)
- **Real-time:** 
  - Redis (ioredis 5.9.2) for pub/sub
  - Bun WebSocket for connections
- **File Storage:** AWS S3 (@aws-sdk/client-s3 3.971.0)
- **Webhooks:** Svix 1.84.1
- **Testing:** Bun native test runner

### Database
- **ORM:** Drizzle ORM 0.38.0
- **Driver:** postgres 3.4.0
- **Database:** PostgreSQL (with timezone support)
- **Migrations:** Drizzle Kit 0.30.0
- **Schema Management:** TypeScript-first schema definitions

---

## 3. Architecture Patterns

### API Structure

**Layered Architecture:**
1. **Entry Point** (`index.ts`)  Initializes Redis, WebSocket, starts server
2. **App Setup** (`app.ts`)  Configures Hono with global middleware
3. **Middleware Chain:**
   - Request ID
   - Logger
   - Security headers
   - CORS
   - Database injection (`dbMiddleware`)
   - Rate limiting (100 req/min for public endpoints)
   - Clerk authentication (`clerkAuth`)
   - User enrichment (`authMiddleware`)
   - RBAC (`requirePermission`, `requireRole`)
4. **Routes**  Delegate to services
5. **Services**  Business logic, DB queries
6. **Response Helpers**  Standardized JSON responses

**Middleware Patterns:**
- Database context injection via `c.var.db`
- User context enrichment with workspace/role
- Auto-sync Clerk users to local DB
- Auto-create workspaces from Clerk organizations
- Permission-based access control (RBAC)

**Authentication Flow:**
1. Clerk validates JWT token
2. Extract Clerk user ID and org ID
3. Sync/fetch local user from DB
4. Resolve workspace and role from org membership
5. Inject `AuthUser` into context

**Real-time Architecture:**
- WebSocket manager tracks connections by room
- Redis pub/sub for cross-instance sync
- Channels: `task:{projectId}`, `presence:{projectId}`
- Graceful degradation if Redis unavailable

---

## 4. Key Files Analysis

### `/apps/api/package.json`
**Core Dependencies:**
- `hono`: Web framework
- `@hono/clerk-auth`: Authentication
- `@hono/zod-validator`: Request validation
- `@repo/db`: Workspace database package
- `@repo/shared`: Shared types/utilities
- `ioredis`: Redis client
- `@aws-sdk/client-s3`: File storage
- `svix`: Webhook management

**Scripts:**
- `dev`: Watch mode development
- `build`: Bun bundler
- `test`: Bun test runner
- `typecheck`: TypeScript validation

### `/apps/api/src/index.ts`
- Initializes Redis connection
- Mounts WebSocket routes at `/ws`
- Starts real-time subscriptions
- Exports Bun server config (50MB max body size for uploads)

### `/apps/api/src/app.ts`
- Hono app with typed `Variables`
- Global middleware stack
- CORS configured for localhost dev
- Rate limiting on `/api/*` routes
- Error handling (custom + 404)

### `/packages/db/package.json`
**Dependencies:**
- `drizzle-orm`: ORM
- `postgres`: PostgreSQL driver

**Scripts:**
- `db:push`: Push schema to DB
- `db:generate`: Generate migrations
- `db:migrate`: Run migrations
- `db:studio`: Drizzle Studio UI

### `/packages/db/drizzle.config.ts`
- Schema: `./src/schema/index.ts`
- Output: `./drizzle` (migrations)
- Dialect: PostgreSQL
- Credentials from `DATABASE_URL` env

---

## 5. API Endpoints

### Public
- `GET /health` - Health check

### Authentication (`/api/auth`)
- Clerk webhook handlers for user sync

### Workspaces (`/api/workspaces`)
- `GET /` - List user workspaces
- `GET /:id` - Get workspace details
- `PATCH /:id` - Update workspace (requires `workspace:update`)
- `GET /:id/members` - List members
- `POST /:id/members` - Invite member (requires `workspace:invite`)
- `DELETE /:id/members/:userId` - Remove member (super_admin/pm only)

### Projects (`/api/projects`)
- CRUD operations with RBAC
- Project-scoped workflow status management

### Tasks
**Project-scoped (`/api/projects/:projectId/tasks`):**
- `GET /:projectId/tasks` - List tasks with filters
- `POST /:projectId/tasks` - Create task (requires `task:create`)

**Task-specific (`/api/tasks/:id`):**
- `GET /:id` - Get task details
- `PATCH /:id` - Update task (requires `task:update`)
- `POST /:id/move` - Move task (change status/order)
- `DELETE /:id` - Delete task (requires `task:delete`)

**Task Relations:**
- `GET/POST/DELETE /:id/dependencies` - Manage dependencies
- `GET/POST/DELETE /:id/watchers` - Manage watchers
- `GET/POST /:id/attachments` - Manage attachments
- `GET /:id/activity` - Activity logs

**Standalone:**
- `DELETE /api/attachments/:id` - Delete attachment

### Comments (`/api`)
- `GET/POST /tasks/:id/comments` - Task comments
- `PATCH/DELETE /comments/:id` - Comment operations

### Dashboard (`/api`)
- `GET /dashboard/stats` - Workspace statistics
- `GET /activity` - Recent activity
- `GET /tasks/recent` - Recent tasks

### WebSocket (`/ws`)
- Real-time task updates
- Presence tracking
- Room-based broadcasting

---

## 6. Database Schema

### Core Tables

**users**
- `id` (UUID, PK)
- `clerkId` (text, unique) - Clerk user identifier
- `email` (text, unique)
- `name` (text)
- `avatarUrl` (text, nullable)
- Timestamps: `createdAt`, `updatedAt`
- Indexes: `clerkId`, `email`

**workspaces**
- `id` (UUID, PK)
- `clerkOrgId` (text, unique) - Clerk organization ID
- `name` (text)
- `slug` (text, unique)
- `ownerId` (UUID, FK  users.id)
- `settings` (jsonb) - `WorkspaceSettings` type
- Timestamps
- Indexes: `clerkOrgId`, `slug`, `ownerId`

**workspace_members**
- `id` (UUID, PK)
- `workspaceId` (UUID, FK  workspaces.id, CASCADE)
- `userId` (UUID, FK  users.id, CASCADE)
- `role` (enum: super_admin, pm, member, guest)
- `joinedAt` (timestamp)
- Indexes: `workspaceId`, `userId`

**projects**
- `id` (UUID, PK)
- `workspaceId` (UUID, FK  workspaces.id, CASCADE)
- `name` (text)
- `description` (text, nullable)
- `status` (enum: active, archived, deleted)
- `createdById` (UUID, FK  users.id)
- Timestamps
- Indexes: `workspaceId`, `status`, composite `workspaceId+status`

**workflow_statuses**
- `id` (UUID, PK)
- `projectId` (UUID, FK  projects.id, CASCADE)
- `name` (text)
- `color` (text)
- `order` (integer)
- Timestamps
- Purpose: Custom Kanban columns per project

**tasks**
- `id` (UUID, PK)
- `projectId` (UUID, FK  projects.id, CASCADE)
- `title` (text)
- `description` (text, nullable)
- `statusId` (UUID, FK  workflow_statuses.id, SET NULL)
- `priority` (enum: low, medium, high, urgent)
- `assigneeId` (UUID, FK  users.id, SET NULL)
- `createdById` (UUID, FK  users.id)
- `order` (integer) - For sorting within status
- `dueDate` (timestamp, nullable)
- `completedAt` (timestamp, nullable)
- Timestamps
- Indexes: `projectId`, `statusId`, `assigneeId`, composite indexes for queries

**task_dependencies**
- `id` (UUID, PK)
- `taskId` (UUID, FK  tasks.id, CASCADE)
- `dependsOnId` (UUID, FK  tasks.id, CASCADE)
- `createdAt`
- Purpose: Task A depends on Task B completion

**task_watchers**
- `id` (UUID, PK)
- `taskId` (UUID, FK  tasks.id, CASCADE)
- `userId` (UUID, FK  users.id, CASCADE)
- `watchedAt`
- Purpose: Users following task updates

**comments**
- `id` (UUID, PK)
- `taskId` (UUID, FK  tasks.id, CASCADE)
- `userId` (UUID, FK  users.id)
- `content` (text)
- Timestamps
- Indexes: `taskId`, `userId`, composite `taskId+createdAt`

**attachments**
- `id` (UUID, PK)
- `taskId` (UUID, FK  tasks.id, CASCADE)
- `uploadedById` (UUID, FK  users.id)
- `fileName`, `fileUrl`, `fileSize`, `mimeType` (text/integer)
- `createdAt`
- Index: `taskId`

**activity_logs**
- `id` (UUID, PK)
- `workspaceId` (UUID)
- `entityType` (enum: workspace, project, task, comment)
- `entityId` (UUID)
- `userId` (UUID, FK  users.id)
- `action` (enum: created, updated, deleted, assigned, commented, status_changed, moved)
- `changes` (jsonb) - `ActivityChanges` type (old/new values)
- `metadata` (jsonb)
- `createdAt`
- Indexes: `workspaceId`, composite `entityType+entityId`, `userId`, `createdAt`

### Relationships (Drizzle Relations)

**Users:**
- `ownedWorkspaces`  workspaces
- `workspaceMemberships`  workspace_members
- `createdProjects`  projects
- `assignedTasks`  tasks (as assignee)
- `createdTasks`  tasks (as creator)
- `comments`, `activityLogs`

**Workspaces:**
- `owner`  users
- `members`  workspace_members
- `projects`  projects

**Projects:**
- `workspace`  workspaces
- `createdBy`  users
- `tasks`, `workflowStatuses`

**Tasks:**
- `project`, `status`, `assignee`, `createdBy`
- `comments`, `attachments`, `watchers`
- `dependencies` (tasks this task depends on)
- `dependents` (tasks that depend on this task)

### Migration Approach
- **Schema-first:** Define in TypeScript
- **Push:** `db:push` for dev (no migration files)
- **Generate:** `db:generate` creates SQL migrations
- **Migrate:** `db:migrate` applies migrations
- **Studio:** `db:studio` launches Drizzle Studio UI

---

## 7. RBAC System

### Roles (from workspace_role enum)
1. `super_admin` - Full workspace control
2. `pm` - Project management
3. `member` - Standard access
4. `guest` - Limited read access

### Permission Pattern
Permissions checked via `@repo/shared` helpers:
- `hasPermission(role, permission)` - Single permission
- `hasAnyPermission(role, permissions[])` - Any match

**Example Permissions:**
- `workspace:update`, `workspace:invite`
- `project:create`, `project:update`, `project:delete`
- `task:create`, `task:update`, `task:delete`

### Middleware Usage
```typescript
requirePermission('task:create')  // Block if user lacks permission
requireRole('super_admin', 'pm')  // Block if not in allowed roles
requireWorkspace                  // Block if no active workspace
```

---

## 8. Real-time Features

### WebSocket Manager (`lib/websocket.ts`)
- Tracks connections by `userId`
- Room-based broadcasting (e.g., project rooms)
- Methods: `joinRoom`, `leaveRoom`, `broadcast`
- Graceful handling of disconnects

### Redis Pub/Sub (`lib/redis.ts`)
- **Channels:**
  - `task:{projectId}` - Task updates
  - `presence:{projectId}` - User presence
- **Dual clients:** Main + subscription client
- **Lazy connect:** Starts on `init()`
- **Fallback:** App runs without Redis if unavailable

### Realtime Service (`services/realtime.ts`)
- Subscribes to Redis channels
- Broadcasts to WebSocket rooms
- Use case: Multi-instance API servers sync via Redis

---

## 9. Testing Infrastructure

### Test Setup
- **Runner:** Bun native test (`bun test`)
- **Config:** `bunfig.toml` with `smol = true` (reduced parallelism for DB pool)
- **Helpers:** `tests/helpers.ts`, `tests/setup.ts`
- **Unit Tests:** `services/__tests__/task.test.ts`
- **Integration:** `tests/integration/tasks.test.ts`

### Scripts
- `test`: Run all tests
- `test:watch`: Watch mode
- `test:coverage`: Coverage report

---

## 10. Configuration Files

### `/apps/api/bunfig.toml`
```toml
[test]
smol = true  # Reduced parallelism for DB pool conflicts
```

### Environment Variables (inferred)
- `DATABASE_URL` - PostgreSQL connection string
- `REDIS_URL` - Redis connection (defaults `redis://localhost:6379`)
- `PORT` - API port (defaults `3001`)
- `CORS_ORIGIN` - Allowed CORS origins (comma-separated)
- `CLERK_*` - Clerk authentication keys
- `AWS_*` - S3 credentials for file uploads

---

## Summary

**API Backend:**
- Hono framework on Bun runtime
- Clerk authentication with auto-sync to local DB
- RBAC with role/permission middleware
- Redis + WebSocket for real-time features
- S3 for file attachments
- Comprehensive route coverage (workspaces, projects, tasks, comments)
- Standardized response helpers
- Test infrastructure with Bun

**Database:**
- Drizzle ORM with PostgreSQL
- 10 main tables + 1 junction table
- Type-safe schema definitions
- Complex relations (dependencies, watchers, activity logs)
- Migration support via Drizzle Kit
- Enum types for status, priority, roles, actions

**Key Patterns:**
- Workspace-centric multi-tenancy
- Auto-create workspaces from Clerk orgs
- Permission-based access control
- Activity logging for audit trails
- Task dependency graph support
- Real-time collaboration via WebSocket/Redis

**File Count:**
- API: 36 files (29 TypeScript sources)
- Database: 17 files (14 schema/client files)

---

## Unresolved Questions

1. Is OpenAPI/Swagger documentation configured? (Saw `@hono/swagger-ui` dependency but no route handler)
2. What's the S3 bucket structure for attachments?
3. Are there database seeding scripts for development?
4. What's the webhook handling strategy (Svix usage patterns)?
5. Is there rate limiting per user/workspace or just global?
6. How are workflow statuses initialized for new projects?
</file>

<file path="plans/reports/scout-260117-2206-frontend-ui-layer.md">
# Scout Report: Frontend & UI Layer

**Date:** 2026-01-17  
**Scope:** `/mnt/k/Work/nexa-task/apps/web/` (70 files) + `/mnt/k/Work/nexa-task/packages/ui/` (4 files)

---

## 1. Directory Structure

### `/apps/web/src/`
```
src/
 components/          # Feature components (~1227 lines total)
    comments/       # Activity timeline, comment editor, items, section
    dashboard/      # Stats cards, activity feed, recent tasks
    layouts/        # App shell with header/navbar
    project-views/  # Kanban, list, calendar views
       kanban/     # Board, column, task card, inline add
       list/       # Task table
       calendar/   # Calendar view
    projects/       # Project card, list, create modal
    task-detail/    # Panel, editor, sidebar, attachments, dependencies
 hooks/              # React Query hooks
    use-auth.ts
    use-comments.ts
    use-debounce.ts
    use-projects.ts
    use-tasks.ts
    use-workspace.ts
 lib/                # Utilities
    api.ts          # API client
    auth-sync.tsx   # Clerk token sync
    query-client.ts # TanStack Query setup
 routes/             # Route components
    index.tsx       # Router config
    dashboard.tsx
    project-detail.tsx
    projects.tsx
    settings.tsx
 styles/             # Empty directory
 main.tsx            # App entry point
 index.css           # CSS layer imports
```

### `/packages/ui/src/`
```
src/
 button.tsx          # Mantine Button wrapper
 index.ts            # Export barrel (1 export)
```

---

## 2. Technology Stack

### Core Framework
- **Bundler:** Vite 6.0
- **Framework:** React 19.0 (not Next.js)
- **Routing:** React Router 7.1 (createBrowserRouter)
- **Language:** TypeScript 5.7

### UI & Styling
- **Component Library:** Mantine 7.16 (core) + 8.3.12 (dates, form, notifications)
- **CSS Framework:** Tailwind CSS 4.0 with Vite plugin
- **Icons:** Tabler Icons React 3.36
- **CSS Architecture:** CSS Layers (theme  base  mantine  components  utilities)
- **Font:** Inter (system fallback)

### State & Data
- **Data Fetching:** TanStack React Query 5.64
- **State Management:** Zustand 5.0.10
- **Auth:** Clerk React 5.20
- **Form Management:** Mantine Form 8.3.12

### Rich Features
- **Drag & Drop:** @dnd-kit (core, sortable, utilities)
- **Rich Text:** TipTap 3.15 (react, starter-kit, extensions for links, placeholders, tasks)
- **Animations:** GSAP 3.12
- **Date Handling:** date-fns 4.1

### Testing
- **Unit Tests:** Vitest 3.0
- **E2E Tests:** Playwright 1.57

### Dev Server
- **Port:** 5173
- **API Proxy:** `/api`  `http://localhost:3001`

---

## 3. Architecture Patterns

### Component Structure
- **Feature-based organization** (comments, dashboard, projects, task-detail)
- **View pattern separation** (kanban, list, calendar)
- **Component size:** ~1227 lines across 23 components (~53 lines/component avg)

### Routing Approach
- **Protected routes** via `ProtectedRoute` wrapper (Clerk `SignedIn`/`SignedOut`)
- **Nested routes** under `AppShellLayout`
- **Route structure:**
  - `/sign-in/*`  Clerk SignIn (public)
  - `/sign-up/*`  Clerk SignUp (public)
  - `/`  Protected layout
    - `/dashboard`
    - `/projects`
    - `/projects/:id`
    - `/settings`
- **Default redirect:** `/`  `/dashboard`

### Data Fetching Patterns
- **Custom hooks** wrapping TanStack Query (use-tasks, use-projects, etc.)
- **Optimistic updates** (e.g., `useMoveTask` with `onMutate`, `onError` rollback)
- **Query invalidation** for cache synchronization
- **API client singleton** (`api.ts`) with bearer token auth

### Layout System
- **Mantine AppShell** with header + collapsible navbar
- **Responsive breakpoint:** `sm` (mobile navbar collapses)
- **Header height:** 60px, Navbar width: 250px
- **Navbar items:** Dashboard, Projects, Settings

### Authentication Flow
1. Clerk handles auth UI (`/sign-in`, `/sign-up`)
2. `AuthSync` component syncs Clerk token  API client
3. Token passed via `Authorization: Bearer` header
4. Protected routes check `isSignedIn` state

---

## 4. Key Files Analysis

### `/apps/web/package.json`
**Dependencies highlights:**
- Clerk, Mantine, TanStack Query, React Router, Zustand, TipTap, dnd-kit, GSAP, Tabler Icons
- Workspace packages: `@repo/shared`, `@repo/ui`

**Scripts:**
- `dev`: Vite dev server
- `build`: TypeScript build  Vite build
- `test`: Vitest unit tests
- `test:e2e`: Playwright e2e tests

### `/apps/web/vite.config.ts`
- React plugin + Tailwind Vite plugin
- Path alias: `@`  `./src`
- Dev server port 5173
- API proxy to localhost:3001

### `/apps/web/src/main.tsx`
**Provider hierarchy:**
```tsx
<ClerkProvider>
  <AuthSync>
    <QueryClientProvider>
      <MantineProvider theme={customTheme}>
        <Notifications />
        <RouterProvider />
```

**Theme:** Primary color blue, font Inter

### `/apps/web/src/lib/api.ts`
- Singleton `ApiClient` class
- Token management via `setToken()`
- RESTful methods: `get`, `post`, `patch`, `delete`
- Query params support
- Error handling: `ApiError` with status code
- Response structure: `{ data: T }`

### `/apps/web/src/index.css`
**CSS Layers (order matters):**
1. `theme` - Tailwind theme
2. `base` - Tailwind preflight
3. `mantine` - Mantine styles
4. `components` - Custom components
5. `utilities` - Tailwind utilities

### `/packages/ui/package.json`
- Simple wrapper library
- Peer deps: React 19
- Direct deps: Mantine core + hooks
- Export entry: `./src/index.ts`

---

## 5. Pages/Routes Discovery

### Public Routes
- `/sign-in/*` - Clerk authentication (centered layout)
- `/sign-up/*` - Clerk registration (centered layout)

### Protected Routes (AppShell layout)
- `/` - Redirects to `/dashboard`
- `/dashboard` - Overview with stats, activity feed, recent tasks
- `/projects` - Project list view
- `/projects/:id` - Project detail with kanban/list/calendar views
- `/settings` - User settings

### Navigation Structure
**Header:**
- Logo: "Nexa Task"
- Organization switcher (Clerk)
- User button (Clerk)
- Burger menu (mobile)

**Navbar:**
- Dashboard
- Projects
- Settings

---

## 6. UI Components

### Shared Components (`@repo/ui`)
**Current state:** Minimal (7 lines total)
- `Button.tsx` - Thin wrapper around `MantineButton`
- `index.ts` - Single export

**Purpose:** Shared UI primitives for monorepo (currently underutilized)

### Application Components (`apps/web`)

#### Comments (`src/components/comments/`)
- `activity-timeline.tsx` - Activity feed timeline
- `comment-editor.tsx` - TipTap-based comment input
- `comment-item.tsx` - Individual comment display
- `comments-section.tsx` - Full comment thread UI

#### Dashboard (`src/components/dashboard/`)
- `stats-cards.tsx` - Responsive grid of stat cards (Mantine SimpleGrid)
- `activity-feed.tsx` - Recent activity list
- `recent-tasks.tsx` - Quick task overview

#### Layouts (`src/components/layouts/`)
- `app-shell.tsx` - Main app layout with header/navbar (Mantine AppShell)

#### Project Views (`src/components/project-views/`)
- `view-switcher.tsx` - Toggle between kanban/list/calendar
- **Kanban:**
  - `kanban-board.tsx` - DndContext with drag handlers, status grouping
  - `kanban-column.tsx` - Droppable column
  - `task-card.tsx` - Draggable task card
  - `add-task-inline.tsx` - Inline task creation
- **List:**
  - `task-table.tsx` - Tabular task view
- **Calendar:**
  - `calendar-view.tsx` - Calendar-based task view (Mantine dates)

#### Projects (`src/components/projects/`)
- `project-list.tsx` - Grid/list of projects
- `project-card.tsx` - Individual project card
- `create-project-modal.tsx` - Project creation modal (Mantine Modal + Form)

#### Task Detail (`src/components/task-detail/`)
- `task-detail-panel.tsx` - Main task detail container
- `task-editor.tsx` - TipTap rich text editor
- `task-sidebar.tsx` - Metadata sidebar (assignee, dates, priority)
- `task-attachments.tsx` - File attachments UI
- `task-dependencies.tsx` - Task relationships

### Design System Approach
**Hybrid pattern:**
- **Mantine components** for structural UI (Paper, Group, Grid, AppShell, Modal, etc.)
- **Tailwind utilities** for spacing, flex, responsive classes
- **CSS Layers** prevent style conflicts
- **No custom design system** - leverages Mantine's theming

### Component Patterns
1. **Container/Presentational** - Hooks in containers, pure display components
2. **Custom hooks** - Encapsulate React Query logic (use-tasks, use-projects)
3. **Composition** - Small focused components composed together
4. **TypeScript** - Strict typing with interfaces for props
5. **Optimistic UI** - Mutations with rollback for drag-drop

---

## Summary

**Web App:**
- Vite + React 19 SPA with React Router 7
- Mantine UI library + Tailwind CSS (hybrid approach)
- Clerk authentication with token sync
- TanStack Query for server state
- Feature-rich: drag-drop (dnd-kit), rich text (TipTap), animations (GSAP)
- ~1227 lines of components across 23 files (~53 lines avg)
- 5 main routes (sign-in, sign-up, dashboard, projects, settings)

**UI Package:**
- Minimal shared library (7 lines)
- Currently 1 component (Button wrapper)
- Ready for expansion with more shared primitives

**Key Architectural Decisions:**
- React Router over Next.js (SPA, not SSR)
- Mantine over shadcn/ui (integrated component library)
- CSS Layers for style isolation
- Custom hooks pattern for data fetching
- Optimistic updates for UX
</file>

<file path="plans/reports/scout-260117-2206-shared-config-infrastructure.md">
# Scout Report: Shared Packages, Config & Infrastructure

**Date:** 2026-01-17
**Scope:** Shared packages, TypeScript config, Docker setup, CI/CD workflows, root config files
**Work Context:** /mnt/k/Work/nexa-task

---

## 1. Monorepo Structure

### Turborepo Configuration (`turbo.json`)
- **Build orchestration**: Tasks with dependency graph (`dependsOn: ["^build"]`)
- **Task definitions**:
  - `build` - outputs to `dist/**`, `build/**`
  - `dev` - non-cached, persistent
  - `lint`, `test`, `typecheck` - depend on build
  - `db:push`, `db:generate` - non-cached DB operations
- **Caching strategy**: Aggressive caching for builds/tests, disabled for dev/db tasks

### Workspace Setup
- **Package manager**: Bun 1.2.0
- **Workspaces**: `apps/*`, `packages/*`
- **Package references**:
  - `@repo/shared` - Shared utilities/validators
  - `@repo/db` - Database schema (Drizzle ORM)
  - `@repo/ui` - UI components (Mantine)
  - `@repo/typescript-config` - TS configs
  - `@repo/api` - Hono API server
  - `@repo/web` - Vite React SPA

### Root Scripts
- `dev`, `build`, `test`, `typecheck` - Turbo-orchestrated
- `lint`, `lint:fix`, `format` - Biome-based
- `db:push`, `db:generate` - Drizzle DB operations (filtered to `@repo/db`)
- `docker:dev`, `docker:prod` - Docker Compose commands

---

## 2. Shared Package (`@repo/shared`)

### Exports
- **Main**: `./src/index.ts`
- **Subpaths**:
  - `@repo/shared/types` - Type definitions
  - `@repo/shared/validators` - Zod schemas

### Core Types (`src/types/index.ts`)
- **User roles**: `super_admin`, `project_manager`, `member`, `guest`
- **Task priority**: `urgent`, `high`, `medium`, `low`
- **Task status**: `backlog`, `todo`, `in_progress`, `in_review`, `done`
- **API response wrappers**: `ApiResponse<T>`, `PaginatedResponse<T>`
- **Entity interfaces**: `User`, `Workspace`, `Project`, `Task`, `Comment`

### RBAC System (`src/types/auth.ts`)
- **Permissions**: Granular permissions (workspace:*, project:*, task:*, comment:*)
- **Role mappings**: `ROLE_PERMISSIONS` mapping roles to permission arrays
- **Helper functions**: `hasPermission()`, `hasAnyPermission()`, `hasAllPermissions()`

### Validators (Zod schemas)
**Workspace** (`validators/workspace.ts`):
- `createWorkspaceSchema` - name, slug (alphanumeric+hyphens), clerkOrgId
- `updateWorkspaceSchema` - name, settings (defaultProjectView, allowGuestInvites)
- `inviteMemberSchema` - email, role

**Project** (`validators/project.ts`):
- `createProjectSchema` - name (max 200), description (max 2000)
- `updateProjectSchema` - name, description, status (active/archived/deleted)
- `createWorkflowStatusSchema` - name (max 50), color (hex), isDefault, isFinal
- `reorderStatusesSchema` - ordered UUID array

**Task** (`validators/task.ts`):
- `taskFilterSchema` - statusId, assigneeId, priority, search, dueBefore/After, pagination
- `createTaskSchema` - title (max 500), description (max 50k rich text HTML), priority, statusId, assigneeId, dueDate
- `updateTaskSchema` - partial updates
- `moveTaskSchema` - statusId, order (for drag-drop)
- `addDependencySchema`, `addWatcherSchema`, `uploadAttachmentSchema`

### Dependencies
- `zod` ^3.24.0 - Schema validation

---

## 3. TypeScript Configuration

### Base Config (`@repo/typescript-config/base.json`)
- **Target**: ES2022
- **Module**: ESNext with bundler resolution
- **Strict mode**: Enabled + `noUncheckedIndexedAccess`
- **Features**: `isolatedModules`, `esModuleInterop`, `resolveJsonModule`
- **Output**: `noEmit: true`, `declaration: true`, `declarationMap: true`

### React Config (`@repo/typescript-config/react.json`)
- Extends `base.json`
- **JSX**: `react-jsx`
- **Libs**: ES2022, DOM, DOM.Iterable

### Root TS Config (`tsconfig.json`)
- **Composite project**: References all packages/apps
- **Project references**:
  - `packages/shared`, `packages/db`, `packages/ui`
  - `apps/api`, `apps/web`

---

## 4. Docker Setup

### Development (`docker-compose.dev.yml`)
- **PostgreSQL**: Port 5433, container `nexa-task-postgres`
- **Redis**: Port 6380, container `nexa-task-redis`
- **Purpose**: Isolated dev databases only (API/Web run locally)

### Full Stack (`docker-compose.yml`)
- **Services**: postgres, redis, api, web
- **API**: Built from `api.Dockerfile`, port 3001, depends on postgres+redis
- **Web**: Built from `web.Dockerfile`, port 3000 (nginx), depends on api
- **Health checks**: pg_isready, redis-cli ping
- **Volumes**: postgres_data, redis_data

### Production (`docker-compose.prod.yml`)
- **Resource limits**: postgres 512M, redis 128M, api 512M, web 128M
- **Security**: Redis with password, postgres with custom user/password
- **Images**: Pulls from `${REGISTRY}/${IMAGE_NAME}-api:${TAG}`
- **Health checks**: wget-based HTTP checks (30s interval)
- **Ports**: web exposed on 80/443

### API Dockerfile (`api.Dockerfile`)
- **Multi-stage**: base  pruner  installer  builder  runner
- **Turbo prune**: `turbo prune @repo/api --docker`
- **Production deps**: `bun install --frozen-lockfile --production`
- **Non-root user**: `app:app` (uid/gid 1001)
- **Output**: `bun run dist/index.js`
- **Health check**: wget localhost:3001/health

### Web Dockerfile (`web.Dockerfile`)
- **Multi-stage**: base  pruner  installer  builder  nginx runner
- **Build args**: `VITE_API_URL`, `VITE_CLERK_PUBLISHABLE_KEY`, `VITE_WS_URL`
- **Output**: Static files in `/usr/share/nginx/html`
- **Server**: Nginx alpine

### Nginx Config (`nginx.conf`)
- **Gzip**: Enabled for text/css/js/json/xml/svg
- **Security headers**: X-Frame-Options, X-Content-Type-Options, X-XSS-Protection
- **SPA routing**: `try_files $uri $uri/ /index.html`
- **Cache**: 1yr for CSS/JS/images (immutable)
- **Proxies**:
  - `/api`  `http://api:3001`
  - `/ws`  WebSocket upgrade to `http://api:3001`
- **Health**: `/health` returns 200 OK

---

## 5. CI/CD Pipelines

### CI Workflow (`.github/workflows/ci.yml`)
**Triggers**: Push/PR to `main`

**Jobs**:
1. **Lint**: `bun lint` (Biome)
2. **Type Check**: `bun run typecheck`
3. **Test**:
   - Services: postgres:16-alpine, redis:7-alpine
   - `bun run db:push` (schema migration)
   - `bun test`
4. **Build**: `bun run build` (all packages)
5. **E2E Tests**:
   - Depends on lint/typecheck/build
   - Installs Playwright chromium
   - Runs `cd apps/web && bun run test:e2e`
   - Uploads playwright-report artifact (30 days retention)

### Deploy Workflow (`.github/workflows/deploy.yml`)
**Triggers**: Push to `main`, release published

**Jobs**:
1. **Build and Push**:
   - Docker Buildx setup
   - Login to GHCR (`ghcr.io`)
   - Build/push API image (tags: sha, branch, semver)
   - Build/push Web image with build args (VITE_*)
   - GitHub Actions cache for layers

2. **Deploy Staging** (if `main` branch):
   - Placeholder for deployment commands
   - Suggested: SSH, webhook, K8s update

3. **Deploy Production** (if release):
   - Placeholder for production deployment

---

## 6. Development Tooling

### Linting (Biome)
- **Config**: `biome.json`
- **Ignores**: `dist/`, `node_modules/`, `.turbo/`
- **Features**: Organize imports, recommended rules
- **Formatter**: 2-space indent, single quotes, minimal semicolons

### Makefile
- **Commands**:
  - `make clean-port` - Kill processes on 3001, 5173

### Package Manager
- **Bun 1.2.0**: Fast JS runtime + package manager
- **Lockfile**: `bun.lock` (frozen in CI)

---

## 7. Environment Configuration

### Development (`.env.example`)
- **Database**: `postgresql://user:password@localhost:5432/nexa_task`
- **Redis**: `redis://localhost:6379`
- **Clerk Auth**: `CLERK_PUBLISHABLE_KEY`, `CLERK_SECRET_KEY`
- **Cloudflare R2**: Bucket, account ID, endpoint, access keys, public URL
- **App**: `NODE_ENV=development`, `PORT=3001`, `FRONTEND_URL=http://localhost:5173`

### Production (`.env.production.example`)
- **Database**: SSL mode required, custom user/password
- **Redis**: Password-protected
- **Clerk**: Live keys + webhook secret
- **CORS**: `CORS_ORIGIN=https://app.nexa-task.com`
- **Frontend env vars**: `VITE_API_URL`, `VITE_WS_URL` (wss://)
- **Docker registry**: `REGISTRY=ghcr.io`, `IMAGE_NAME`, `TAG`
- **AWS S3**: Region, credentials, bucket (alternative to R2)

---

## 8. Package Dependencies Graph

```
@repo/web (React SPA)
 @repo/shared (types, validators)
 @repo/ui (Mantine components)
 react, react-dom, @clerk/clerk-react, @tanstack/react-query, zustand

@repo/api (Hono server)
 @repo/shared (types, validators)
 @repo/db (Drizzle ORM schema)
 hono, @clerk/backend, ioredis, @aws-sdk/client-s3

@repo/ui (shared components)
 @mantine/core, @mantine/hooks
 peer: react, react-dom

@repo/db (database layer)
 drizzle-orm, postgres

@repo/shared (utilities)
 zod
```

---

## Key Findings

1. **Monorepo tooling**: Turborepo + Bun provides fast builds with intelligent caching
2. **Type safety**: Zod schemas in `@repo/shared` enable runtime validation + TypeScript inference
3. **RBAC**: Permission system defined in shared package for consistent auth across API/Web
4. **Docker optimization**: Multi-stage builds with Turbo pruning minimize image sizes
5. **CI/CD maturity**: Full pipeline (lint  test  build  e2e) with Playwright integration
6. **Environment segregation**: Clear dev/prod config separation, R2 + S3 storage options
7. **Production-ready**: Health checks, resource limits, non-root users, nginx optimizations

---

## Unresolved Questions

1. **Storage strategy**: R2 vs S3 - which is primary? (both in .env examples)
2. **Deployment platform**: CI/CD has placeholders - target platform not specified
3. **Database migrations**: Using `db:push` (schema sync) - production migration strategy unclear
4. **Monitoring**: No observability tools (APM, logging, error tracking) configured yet
5. **Secrets management**: How are production secrets injected? (GitHub Secrets, Vault, etc.)
</file>

<file path=".env.example">
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/nexa_task

# Redis
REDIS_URL=redis://localhost:6379

# Clerk Authentication
CLERK_PUBLISHABLE_KEY=pk_test_xxx
CLERK_SECRET_KEY=sk_test_xxx

# Cloudflare R2 Storage
R2_BUCKET_NAME=nexa-task
R2_ACCOUNT_ID=your_account_id
R2_ENDPOINT=https://your_account_id.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=your_access_key
R2_SECRET_ACCESS_KEY=your_secret_key
R2_PUBLIC_URL=https://your_public_url.r2.dev

# App
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:5173
</file>

<file path=".env.production.example">
# ===========================================
# Nexa Task - Production Environment Variables
# ===========================================

# Database
DATABASE_URL=postgresql://user:password@db.example.com:5432/nexa_task?sslmode=require
POSTGRES_USER=nexa_user
POSTGRES_PASSWORD=secure_password_here
POSTGRES_DB=nexa_task

# Redis
REDIS_URL=redis://:password@redis.example.com:6379
REDIS_PASSWORD=secure_redis_password

# Clerk Authentication
CLERK_SECRET_KEY=sk_live_xxxxx
CLERK_PUBLISHABLE_KEY=pk_live_xxxxx
CLERK_WEBHOOK_SECRET=whsec_xxxxx

# Application
NODE_ENV=production
PORT=3001
CORS_ORIGIN=https://app.nexa-task.com

# Frontend (build-time variables)
VITE_API_URL=https://api.nexa-task.com
VITE_CLERK_PUBLISHABLE_KEY=pk_live_xxxxx
VITE_WS_URL=wss://api.nexa-task.com/ws

# Docker Registry (for deployment)
REGISTRY=ghcr.io
IMAGE_NAME=your-org/nexa-task
TAG=latest

# AWS S3 (for file uploads)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=xxxxx
AWS_SECRET_ACCESS_KEY=xxxxx
S3_BUCKET=nexa-task-uploads
</file>

<file path="biome.json">
{
  "$schema": "https://biomejs.dev/schemas/1.9.0/schema.json",
  "files": {
    "ignore": ["**/dist/**", "**/node_modules/**", "**/.turbo/**"]
  },
  "organizeImports": { "enabled": true },
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true
    }
  },
  "formatter": {
    "enabled": true,
    "indentStyle": "space",
    "indentWidth": 2
  },
  "javascript": {
    "formatter": {
      "quoteStyle": "single",
      "semicolons": "asNeeded"
    }
  }
}
</file>

<file path="Makefile">
.PHONY: clean-port

clean-port:
	npx kill-port 3001
	npx	kill-port 5173
</file>

<file path="package.json">
{
  "name": "nexa-task",
  "private": true,
  "workspaces": ["apps/*", "packages/*"],
  "packageManager": "bun@1.2.0",
  "scripts": {
    "dev": "turbo run dev",
    "build": "turbo run build",
    "lint": "biome check .",
    "lint:fix": "biome check --write .",
    "format": "biome format --write .",
    "test": "turbo run test",
    "test:e2e": "cd apps/web && bun run test:e2e",
    "typecheck": "turbo run typecheck",
    "db:push": "turbo run db:push --filter=@repo/db",
    "db:generate": "turbo run db:generate --filter=@repo/db",
    "docker:dev": "docker compose -f docker/docker-compose.yml up --build",
    "docker:prod": "docker compose -f docker/docker-compose.prod.yml up -d"
  },
  "devDependencies": {
    "@biomejs/biome": "^1.9.0",
    "turbo": "^2.3.0",
    "typescript": "^5.7.0"
  }
}
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "composite": true,
    "declaration": true,
    "declarationMap": true,
    "noEmit": true
  },
  "references": [
    { "path": "packages/shared" },
    { "path": "packages/db" },
    { "path": "packages/ui" },
    { "path": "apps/api" },
    { "path": "apps/web" }
  ]
}
</file>

<file path="tsconfig.tsbuildinfo">
{"fileNames":["./node_modules/typescript/lib/lib.d.ts","./node_modules/typescript/lib/lib.es5.d.ts","./node_modules/typescript/lib/lib.es2015.d.ts","./node_modules/typescript/lib/lib.es2016.d.ts","./node_modules/typescript/lib/lib.es2017.d.ts","./node_modules/typescript/lib/lib.es2018.d.ts","./node_modules/typescript/lib/lib.es2019.d.ts","./node_modules/typescript/lib/lib.es2020.d.ts","./node_modules/typescript/lib/lib.dom.d.ts","./node_modules/typescript/lib/lib.webworker.importscripts.d.ts","./node_modules/typescript/lib/lib.scripthost.d.ts","./node_modules/typescript/lib/lib.es2015.core.d.ts","./node_modules/typescript/lib/lib.es2015.collection.d.ts","./node_modules/typescript/lib/lib.es2015.generator.d.ts","./node_modules/typescript/lib/lib.es2015.iterable.d.ts","./node_modules/typescript/lib/lib.es2015.promise.d.ts","./node_modules/typescript/lib/lib.es2015.proxy.d.ts","./node_modules/typescript/lib/lib.es2015.reflect.d.ts","./node_modules/typescript/lib/lib.es2015.symbol.d.ts","./node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","./node_modules/typescript/lib/lib.es2016.array.include.d.ts","./node_modules/typescript/lib/lib.es2016.intl.d.ts","./node_modules/typescript/lib/lib.es2017.arraybuffer.d.ts","./node_modules/typescript/lib/lib.es2017.date.d.ts","./node_modules/typescript/lib/lib.es2017.object.d.ts","./node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","./node_modules/typescript/lib/lib.es2017.string.d.ts","./node_modules/typescript/lib/lib.es2017.intl.d.ts","./node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","./node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","./node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","./node_modules/typescript/lib/lib.es2018.intl.d.ts","./node_modules/typescript/lib/lib.es2018.promise.d.ts","./node_modules/typescript/lib/lib.es2018.regexp.d.ts","./node_modules/typescript/lib/lib.es2019.array.d.ts","./node_modules/typescript/lib/lib.es2019.object.d.ts","./node_modules/typescript/lib/lib.es2019.string.d.ts","./node_modules/typescript/lib/lib.es2019.symbol.d.ts","./node_modules/typescript/lib/lib.es2019.intl.d.ts","./node_modules/typescript/lib/lib.es2020.bigint.d.ts","./node_modules/typescript/lib/lib.es2020.date.d.ts","./node_modules/typescript/lib/lib.es2020.promise.d.ts","./node_modules/typescript/lib/lib.es2020.sharedmemory.d.ts","./node_modules/typescript/lib/lib.es2020.string.d.ts","./node_modules/typescript/lib/lib.es2020.symbol.wellknown.d.ts","./node_modules/typescript/lib/lib.es2020.intl.d.ts","./node_modules/typescript/lib/lib.es2020.number.d.ts","./node_modules/typescript/lib/lib.esnext.disposable.d.ts","./node_modules/typescript/lib/lib.esnext.float16.d.ts","./node_modules/typescript/lib/lib.decorators.d.ts","./node_modules/typescript/lib/lib.decorators.legacy.d.ts","./node_modules/@types/node/compatibility/iterators.d.ts","./node_modules/@types/node/globals.typedarray.d.ts","./node_modules/@types/node/buffer.buffer.d.ts","./node_modules/@types/node/globals.d.ts","./node_modules/@types/node/web-globals/abortcontroller.d.ts","./node_modules/@types/node/web-globals/blob.d.ts","./node_modules/@types/node/web-globals/console.d.ts","./node_modules/@types/node/web-globals/crypto.d.ts","./node_modules/@types/node/web-globals/domexception.d.ts","./node_modules/@types/node/web-globals/encoding.d.ts","./node_modules/@types/node/web-globals/events.d.ts","./node_modules/undici-types/utility.d.ts","./node_modules/undici-types/header.d.ts","./node_modules/undici-types/readable.d.ts","./node_modules/undici-types/fetch.d.ts","./node_modules/undici-types/formdata.d.ts","./node_modules/undici-types/connector.d.ts","./node_modules/undici-types/client-stats.d.ts","./node_modules/undici-types/client.d.ts","./node_modules/undici-types/errors.d.ts","./node_modules/undici-types/dispatcher.d.ts","./node_modules/undici-types/global-dispatcher.d.ts","./node_modules/undici-types/global-origin.d.ts","./node_modules/undici-types/pool-stats.d.ts","./node_modules/undici-types/pool.d.ts","./node_modules/undici-types/handlers.d.ts","./node_modules/undici-types/balanced-pool.d.ts","./node_modules/undici-types/h2c-client.d.ts","./node_modules/undici-types/agent.d.ts","./node_modules/undici-types/mock-interceptor.d.ts","./node_modules/undici-types/mock-call-history.d.ts","./node_modules/undici-types/mock-agent.d.ts","./node_modules/undici-types/mock-client.d.ts","./node_modules/undici-types/mock-pool.d.ts","./node_modules/undici-types/snapshot-agent.d.ts","./node_modules/undici-types/mock-errors.d.ts","./node_modules/undici-types/proxy-agent.d.ts","./node_modules/undici-types/env-http-proxy-agent.d.ts","./node_modules/undici-types/retry-handler.d.ts","./node_modules/undici-types/retry-agent.d.ts","./node_modules/undici-types/api.d.ts","./node_modules/undici-types/cache-interceptor.d.ts","./node_modules/undici-types/interceptors.d.ts","./node_modules/undici-types/util.d.ts","./node_modules/undici-types/cookies.d.ts","./node_modules/undici-types/patch.d.ts","./node_modules/undici-types/websocket.d.ts","./node_modules/undici-types/eventsource.d.ts","./node_modules/undici-types/diagnostics-channel.d.ts","./node_modules/undici-types/content-type.d.ts","./node_modules/undici-types/cache.d.ts","./node_modules/undici-types/index.d.ts","./node_modules/@types/node/web-globals/fetch.d.ts","./node_modules/@types/node/web-globals/importmeta.d.ts","./node_modules/@types/node/web-globals/messaging.d.ts","./node_modules/@types/node/web-globals/navigator.d.ts","./node_modules/@types/node/web-globals/performance.d.ts","./node_modules/@types/node/web-globals/storage.d.ts","./node_modules/@types/node/web-globals/streams.d.ts","./node_modules/@types/node/web-globals/timers.d.ts","./node_modules/@types/node/web-globals/url.d.ts","./node_modules/@types/node/assert.d.ts","./node_modules/@types/node/assert/strict.d.ts","./node_modules/@types/node/async_hooks.d.ts","./node_modules/@types/node/buffer.d.ts","./node_modules/@types/node/child_process.d.ts","./node_modules/@types/node/cluster.d.ts","./node_modules/@types/node/console.d.ts","./node_modules/@types/node/constants.d.ts","./node_modules/@types/node/crypto.d.ts","./node_modules/@types/node/dgram.d.ts","./node_modules/@types/node/diagnostics_channel.d.ts","./node_modules/@types/node/dns.d.ts","./node_modules/@types/node/dns/promises.d.ts","./node_modules/@types/node/domain.d.ts","./node_modules/@types/node/events.d.ts","./node_modules/@types/node/fs.d.ts","./node_modules/@types/node/fs/promises.d.ts","./node_modules/@types/node/http.d.ts","./node_modules/@types/node/http2.d.ts","./node_modules/@types/node/https.d.ts","./node_modules/@types/node/inspector.d.ts","./node_modules/@types/node/inspector.generated.d.ts","./node_modules/@types/node/inspector/promises.d.ts","./node_modules/@types/node/module.d.ts","./node_modules/@types/node/net.d.ts","./node_modules/@types/node/os.d.ts","./node_modules/@types/node/path.d.ts","./node_modules/@types/node/path/posix.d.ts","./node_modules/@types/node/path/win32.d.ts","./node_modules/@types/node/perf_hooks.d.ts","./node_modules/@types/node/process.d.ts","./node_modules/@types/node/punycode.d.ts","./node_modules/@types/node/querystring.d.ts","./node_modules/@types/node/quic.d.ts","./node_modules/@types/node/readline.d.ts","./node_modules/@types/node/readline/promises.d.ts","./node_modules/@types/node/repl.d.ts","./node_modules/@types/node/sea.d.ts","./node_modules/@types/node/sqlite.d.ts","./node_modules/@types/node/stream.d.ts","./node_modules/@types/node/stream/consumers.d.ts","./node_modules/@types/node/stream/promises.d.ts","./node_modules/@types/node/stream/web.d.ts","./node_modules/@types/node/string_decoder.d.ts","./node_modules/@types/node/test.d.ts","./node_modules/@types/node/test/reporters.d.ts","./node_modules/@types/node/timers.d.ts","./node_modules/@types/node/timers/promises.d.ts","./node_modules/@types/node/tls.d.ts","./node_modules/@types/node/trace_events.d.ts","./node_modules/@types/node/tty.d.ts","./node_modules/@types/node/url.d.ts","./node_modules/@types/node/util.d.ts","./node_modules/@types/node/util/types.d.ts","./node_modules/@types/node/v8.d.ts","./node_modules/@types/node/vm.d.ts","./node_modules/@types/node/wasi.d.ts","./node_modules/@types/node/worker_threads.d.ts","./node_modules/@types/node/zlib.d.ts","./node_modules/@types/node/index.d.ts","./node_modules/@types/estree/index.d.ts","./node_modules/rollup/dist/rollup.d.ts","./node_modules/vite/types/hmrPayload.d.ts","./node_modules/vite/types/customEvent.d.ts","./node_modules/vite/types/hot.d.ts","./node_modules/vite/dist/node/moduleRunnerTransport.d-DJ_mE5sf.d.ts","./node_modules/vite/dist/node/module-runner.d.ts","./node_modules/vite/node_modules/esbuild/lib/main.d.ts","./node_modules/source-map-js/source-map.d.ts","./node_modules/postcss/lib/previous-map.d.ts","./node_modules/postcss/lib/input.d.ts","./node_modules/postcss/lib/css-syntax-error.d.ts","./node_modules/postcss/lib/declaration.d.ts","./node_modules/postcss/lib/root.d.ts","./node_modules/postcss/lib/warning.d.ts","./node_modules/postcss/lib/lazy-result.d.ts","./node_modules/postcss/lib/no-work-result.d.ts","./node_modules/postcss/lib/processor.d.ts","./node_modules/postcss/lib/result.d.ts","./node_modules/postcss/lib/document.d.ts","./node_modules/postcss/lib/rule.d.ts","./node_modules/postcss/lib/node.d.ts","./node_modules/postcss/lib/comment.d.ts","./node_modules/postcss/lib/container.d.ts","./node_modules/postcss/lib/at-rule.d.ts","./node_modules/postcss/lib/list.d.ts","./node_modules/postcss/lib/postcss.d.ts","./node_modules/lightningcss/node/ast.d.ts","./node_modules/lightningcss/node/targets.d.ts","./node_modules/lightningcss/node/index.d.ts","./node_modules/vite/types/internal/lightningcssOptions.d.ts","./node_modules/vite/types/internal/cssPreprocessorOptions.d.ts","./node_modules/vite/types/importGlob.d.ts","./node_modules/vite/types/metadata.d.ts","./node_modules/vite/dist/node/index.d.ts","./node_modules/@babel/types/lib/index.d.ts","./node_modules/@types/babel__generator/index.d.ts","./node_modules/@babel/parser/typings/babel-parser.d.ts","./node_modules/@types/babel__template/index.d.ts","./node_modules/@types/babel__traverse/index.d.ts","./node_modules/@types/babel__core/index.d.ts","./node_modules/@vitejs/plugin-react/dist/index.d.ts","./apps/web/vite.config.ts","./node_modules/drizzle-kit/index-BAUrj6Ib.d.ts","./node_modules/drizzle-kit/index.d.ts","./packages/db/drizzle.config.ts","./node_modules/bun-types/globals.d.ts","./node_modules/bun-types/s3.d.ts","./node_modules/bun-types/fetch.d.ts","./node_modules/bun-types/bun.d.ts","./node_modules/bun-types/extensions.d.ts","./node_modules/bun-types/devserver.d.ts","./node_modules/bun-types/ffi.d.ts","./node_modules/bun-types/html-rewriter.d.ts","./node_modules/bun-types/jsc.d.ts","./node_modules/bun-types/sqlite.d.ts","./node_modules/bun-types/vendor/expect-type/utils.d.ts","./node_modules/bun-types/vendor/expect-type/overloads.d.ts","./node_modules/bun-types/vendor/expect-type/branding.d.ts","./node_modules/bun-types/vendor/expect-type/messages.d.ts","./node_modules/bun-types/vendor/expect-type/index.d.ts","./node_modules/bun-types/test.d.ts","./node_modules/bun-types/wasm.d.ts","./node_modules/bun-types/overrides.d.ts","./node_modules/bun-types/deprecated.d.ts","./node_modules/bun-types/redis.d.ts","./node_modules/bun-types/shell.d.ts","./node_modules/bun-types/serve.d.ts","./node_modules/bun-types/sql.d.ts","./node_modules/bun-types/security.d.ts","./node_modules/bun-types/bundle.d.ts","./node_modules/bun-types/bun.ns.d.ts","./node_modules/bun-types/index.d.ts","./node_modules/@types/bun/index.d.ts","./node_modules/@types/deep-eql/index.d.ts","./node_modules/assertion-error/index.d.ts","./node_modules/@types/chai/index.d.ts","./node_modules/@types/react/global.d.ts","./node_modules/csstype/index.d.ts","./node_modules/@types/react/index.d.ts","./node_modules/@types/react-dom/index.d.ts"],"fileIdsList":[[54,116,124,128,131,133,134,135,139,147,207,214,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,208,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,208,209,210,211,212,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,208,210,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242,245],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242,247,248],[54,113,114,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,115,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,155,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,117,122,124,127,128,131,133,134,135,137,147,152,164,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,117,118,124,127,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,119,124,128,131,133,134,135,147,165,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,120,121,124,128,131,133,134,135,138,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,121,124,128,131,133,134,135,147,152,161,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,122,124,127,128,131,133,134,135,137,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,115,116,123,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,125,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,126,127,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,115,116,124,127,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,127,128,129,131,133,134,135,147,152,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,127,128,129,131,133,134,135,147,152,155,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,103,116,124,127,128,130,131,133,134,135,137,147,152,164,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,127,128,130,131,133,134,135,137,147,152,161,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,130,131,132,133,134,135,147,152,161,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[52,53,54,55,56,57,58,59,60,61,62,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,127,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,136,147,164,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,127,128,131,133,134,135,137,147,152,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,138,147,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,139,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,127,128,131,133,134,135,142,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,144,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,145,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,121,124,128,131,133,134,135,137,147,155,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,127,128,131,133,134,135,147,148,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,149,165,168,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,127,128,131,133,134,135,147,152,154,155,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,153,155,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,155,165,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,156,219,220,221,222,224,235,237,238,239,240,241,242],[54,113,116,124,128,131,133,134,135,147,152,158,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,152,157,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,127,128,131,133,134,135,147,159,160,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,159,160,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,121,124,128,131,133,134,135,137,147,152,161,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,162,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,137,147,163,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,130,131,133,134,135,145,147,164,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,165,166,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,121,124,128,131,133,134,135,147,166,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,152,167,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,136,147,168,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,169,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,119,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,121,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,165,219,220,221,222,224,235,237,238,239,240,241,242],[54,103,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,164,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,170,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,142,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,155,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,160,219,220,221,222,224,235,237,238,239,240,241,242],[54,103,116,124,127,128,129,131,133,134,135,142,147,152,155,164,167,168,170,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,152,171,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242,252],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242,250,251],[54,116,124,128,131,133,134,135,147,207,213,219,220,221,222,224,235,237,238,239,240,241,242],[54,103,116,121,124,128,130,131,133,134,135,147,161,165,170,219,220,221,224,225,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,235,237,238,239,240,241,242],[54,103,116,124,128,131,133,134,135,147,219,220,222,224,235,237,238,239,240,241,242],[54,103,116,121,124,128,131,133,134,135,142,147,152,155,161,165,170,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,172,219,220,221,222,223,224,225,226,227,228,234,235,236,237,238,239,240,241,242,243,244],[54,116,119,121,124,128,129,131,133,134,135,138,147,155,161,164,171,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,228,235,237,238,239,240,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,233,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,229,230,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,229,230,231,232,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,229,231,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,229,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,219,220,221,222,224,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,161,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,161,216,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,200,201,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,196,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,194,196,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,185,193,194,195,197,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,183,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,186,191,196,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,182,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,186,187,190,191,192,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,186,187,188,190,191,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,183,184,185,186,187,191,192,193,195,196,197,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,181,183,184,185,186,187,188,190,191,192,193,194,195,196,197,198,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,181,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,186,188,189,191,192,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,190,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,191,192,196,199,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,184,194,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,173,174,219,220,221,222,224,235,237,238,239,240,241,242],[54,69,72,75,76,116,124,128,131,133,134,135,147,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,72,116,124,128,131,133,134,135,147,152,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,72,76,116,124,128,131,133,134,135,147,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,152,219,220,221,222,224,235,237,238,239,240,241,242],[54,66,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,70,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,68,69,72,116,124,128,131,133,134,135,147,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,137,147,161,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,172,219,220,221,222,224,235,237,238,239,240,241,242],[54,66,116,124,128,131,133,134,135,147,172,219,220,221,222,224,235,237,238,239,240,241,242],[54,68,72,116,124,128,131,133,134,135,137,147,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,63,64,65,67,71,116,124,127,128,131,133,134,135,147,152,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,72,80,88,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,64,70,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,72,97,98,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,64,67,72,116,124,128,131,133,134,135,147,155,164,172,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,66,116,124,128,131,133,134,135,147,172,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,72,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,68,72,116,124,128,131,133,134,135,147,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,63,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,66,67,68,70,71,72,73,74,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,98,99,100,101,102,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,72,90,93,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,72,80,81,82,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,70,72,81,83,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,71,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,64,66,72,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,72,76,81,83,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,76,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,70,72,75,116,124,128,131,133,134,135,147,164,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,64,68,72,80,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,152,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,72,90,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,83,116,124,128,131,133,134,135,147,219,220,221,222,224,235,237,238,239,240,241,242],[54,66,72,97,116,124,128,131,133,134,135,147,155,170,172,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,127,128,130,131,132,133,134,135,137,147,152,161,164,171,172,174,175,176,178,179,180,199,203,204,205,206,207,219,220,221,222,224,235,236,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,175,176,177,178,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,175,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,176,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,202,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,174,207,219,220,221,222,224,235,237,238,239,240,241,242],[54,116,124,128,131,133,134,135,147,217,219,220,221,222,224,235,237,238,239,240,241,242]],"fileInfos":[{"version":"a7297ff837fcdf174a9524925966429eb8e5feecc2cc55cc06574e6b092c1eaa","signature":false,"impliedFormat":1},{"version":"c430d44666289dae81f30fa7b2edebf186ecc91a2d4c71266ea6ae76388792e1","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"45b7ab580deca34ae9729e97c13cfd999df04416a79116c3bfb483804f85ded4","signature":false,"impliedFormat":1},{"version":"3facaf05f0c5fc569c5649dd359892c98a85557e3e0c847964caeb67076f4d75","signature":false,"impliedFormat":1},{"version":"e44bb8bbac7f10ecc786703fe0a6a4b952189f908707980ba8f3c8975a760962","signature":false,"impliedFormat":1},{"version":"5e1c4c362065a6b95ff952c0eab010f04dcd2c3494e813b493ecfd4fcb9fc0d8","signature":false,"impliedFormat":1},{"version":"68d73b4a11549f9c0b7d352d10e91e5dca8faa3322bfb77b661839c42b1ddec7","signature":false,"impliedFormat":1},{"version":"5efce4fc3c29ea84e8928f97adec086e3dc876365e0982cc8479a07954a3efd4","signature":false,"impliedFormat":1},{"version":"080941d9f9ff9307f7e27a83bcd888b7c8270716c39af943532438932ec1d0b9","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"80e18897e5884b6723488d4f5652167e7bb5024f946743134ecc4aa4ee731f89","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"cd034f499c6cdca722b60c04b5b1b78e058487a7085a8e0d6fb50809947ee573","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"c57796738e7f83dbc4b8e65132f11a377649c00dd3eee333f672b8f0a6bea671","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"dc2df20b1bcdc8c2d34af4926e2c3ab15ffe1160a63e58b7e09833f616efff44","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"515d0b7b9bea2e31ea4ec968e9edd2c39d3eebf4a2d5cbd04e88639819ae3b71","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"0559b1f683ac7505ae451f9a96ce4c3c92bdc71411651ca6ddb0e88baaaad6a3","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"0dc1e7ceda9b8b9b455c3a2d67b0412feab00bd2f66656cd8850e8831b08b537","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"ce691fb9e5c64efb9547083e4a34091bcbe5bdb41027e310ebba8f7d96a98671","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"8d697a2a929a5fcb38b7a65594020fcef05ec1630804a33748829c5ff53640d0","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"4ff2a353abf8a80ee399af572debb8faab2d33ad38c4b4474cff7f26e7653b8d","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"fb0f136d372979348d59b3f5020b4cdb81b5504192b1cacff5d1fbba29378aa1","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"d15bea3d62cbbdb9797079416b8ac375ae99162a7fba5de2c6c505446486ac0a","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"68d18b664c9d32a7336a70235958b8997ebc1c3b8505f4f1ae2b7e7753b87618","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"eb3d66c8327153d8fa7dd03f9c58d351107fe824c79e9b56b462935176cdf12a","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"38f0219c9e23c915ef9790ab1d680440d95419ad264816fa15009a8851e79119","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"69ab18c3b76cd9b1be3d188eaf8bba06112ebbe2f47f6c322b5105a6fbc45a2e","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"a680117f487a4d2f30ea46f1b4b7f58bef1480456e18ba53ee85c2746eeca012","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"2f11ff796926e0832f9ae148008138ad583bd181899ab7dd768a2666700b1893","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"4de680d5bb41c17f7f68e0419412ca23c98d5749dcaaea1896172f06435891fc","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"954296b30da6d508a104a3a0b5d96b76495c709785c1d11610908e63481ee667","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"ac9538681b19688c8eae65811b329d3744af679e0bdfa5d842d0e32524c73e1c","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"0a969edff4bd52585473d24995c5ef223f6652d6ef46193309b3921d65dd4376","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"9e9fbd7030c440b33d021da145d3232984c8bb7916f277e8ffd3dc2e3eae2bdb","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"811ec78f7fefcabbda4bfa93b3eb67d9ae166ef95f9bff989d964061cbf81a0c","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"717937616a17072082152a2ef351cb51f98802fb4b2fdabd32399843875974ca","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"d7e7d9b7b50e5f22c915b525acc5a49a7a6584cf8f62d0569e557c5cfc4b2ac2","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"71c37f4c9543f31dfced6c7840e068c5a5aacb7b89111a4364b1d5276b852557","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"576711e016cf4f1804676043e6a0a5414252560eb57de9faceee34d79798c850","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"89c1b1281ba7b8a96efc676b11b264de7a8374c5ea1e6617f11880a13fc56dc6","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"74f7fa2d027d5b33eb0471c8e82a6c87216223181ec31247c357a3e8e2fddc5b","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"d6d7ae4d1f1f3772e2a3cde568ed08991a8ae34a080ff1151af28b7f798e22ca","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"063600664504610fe3e99b717a1223f8b1900087fab0b4cad1496a114744f8df","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"934019d7e3c81950f9a8426d093458b65d5aff2c7c1511233c0fd5b941e608ab","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"52ada8e0b6e0482b728070b7639ee42e83a9b1c22d205992756fe020fd9f4a47","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"3bdefe1bfd4d6dee0e26f928f93ccc128f1b64d5d501ff4a8cf3c6371200e5e6","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"59fb2c069260b4ba00b5643b907ef5d5341b167e7d1dbf58dfd895658bda2867","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"639e512c0dfc3fad96a84caad71b8834d66329a1f28dc95e3946c9b58176c73a","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"368af93f74c9c932edd84c58883e736c9e3d53cec1fe24c0b0ff451f529ceab1","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"51ad4c928303041605b4d7ae32e0c1ee387d43a24cd6f1ebf4a2699e1076d4fa","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"196cb558a13d4533a5163286f30b0509ce0210e4b316c56c38d4c0fd2fb38405","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"8e7f8264d0fb4c5339605a15daadb037bf238c10b654bb3eee14208f860a32ea","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"782dec38049b92d4e85c1585fbea5474a219c6984a35b004963b00beb1aab538","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"d153a11543fd884b596587ccd97aebbeed950b26933ee000f94009f1ab142848","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"0ccdaa19852d25ecd84eec365c3bfa16e7859cadecf6e9ca6d0dbbbee439743f","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"438b41419b1df9f1fbe33b5e1b18f5853432be205991d1b19f5b7f351675541e","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"096116f8fedc1765d5bd6ef360c257b4a9048e5415054b3bf3c41b07f8951b0b","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"e5e01375c9e124a83b52ee4b3244ed1a4d214a6cfb54ac73e164a823a4a7860a","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"f90ae2bbce1505e67f2f6502392e318f5714bae82d2d969185c4a6cecc8af2fc","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"4b58e207b93a8f1c88bbf2a95ddc686ac83962b13830fe8ad3f404ffc7051fb4","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"1fefabcb2b06736a66d2904074d56268753654805e829989a46a0161cd8412c5","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"9798340ffb0d067d69b1ae5b32faa17ab31b82466a3fc00d8f2f2df0c8554aaa","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"c18a99f01eb788d849ad032b31cafd49de0b19e083fe775370834c5675d7df8e","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"5247874c2a23b9a62d178ae84f2db6a1d54e6c9a2e7e057e178cc5eea13757fc","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"cdcf9ea426ad970f96ac930cd176d5c69c6c24eebd9fc580e1572d6c6a88f62c","signature":false,"impliedFormat":1},{"version":"23cd712e2ce083d68afe69224587438e5914b457b8acf87073c22494d706a3d0","signature":false,"impliedFormat":1},{"version":"487b694c3de27ddf4ad107d4007ad304d29effccf9800c8ae23c2093638d906a","signature":false,"impliedFormat":1},{"version":"3a80bc85f38526ca3b08007ee80712e7bb0601df178b23fbf0bf87036fce40ce","signature":false,"impliedFormat":1},{"version":"ccf4552357ce3c159ef75f0f0114e80401702228f1898bdc9402214c9499e8c0","signature":false,"impliedFormat":1},{"version":"c6fd2c5a395f2432786c9cb8deb870b9b0e8ff7e22c029954fabdd692bff6195","signature":false,"impliedFormat":1},{"version":"68834d631c8838c715f225509cfc3927913b9cc7a4870460b5b60c8dbdb99baf","signature":false,"impliedFormat":1},{"version":"2931540c47ee0ff8a62860e61782eb17b155615db61e36986e54645ec67f67c2","signature":false,"impliedFormat":1},{"version":"ccab02f3920fc75c01174c47fcf67882a11daf16baf9e81701d0a94636e94556","signature":false,"impliedFormat":1},{"version":"f6faf5f74e4c4cc309a6c6a6c4da02dbb840be5d3e92905a23dcd7b2b0bd1986","signature":false,"impliedFormat":1},{"version":"ea6bc8de8b59f90a7a3960005fd01988f98fd0784e14bc6922dde2e93305ec7d","signature":false,"impliedFormat":1},{"version":"36107995674b29284a115e21a0618c4c2751b32a8766dd4cb3ba740308b16d59","signature":false,"impliedFormat":1},{"version":"914a0ae30d96d71915fc519ccb4efbf2b62c0ddfb3a3fc6129151076bc01dc60","signature":false,"impliedFormat":1},{"version":"33e981bf6376e939f99bd7f89abec757c64897d33c005036b9a10d9587d80187","signature":false,"impliedFormat":1},{"version":"7fd1b31fd35876b0aa650811c25ec2c97a3c6387e5473eb18004bed86cdd76b6","signature":false,"impliedFormat":1},{"version":"b41767d372275c154c7ea6c9d5449d9a741b8ce080f640155cc88ba1763e35b3","signature":false,"impliedFormat":1},{"version":"3bacf516d686d08682751a3bd2519ea3b8041a164bfb4f1d35728993e70a2426","signature":false,"impliedFormat":1},{"version":"7fb266686238369442bd1719bc0d7edd0199da4fb8540354e1ff7f16669b4323","signature":false,"impliedFormat":1},{"version":"0a60a292b89ca7218b8616f78e5bbd1c96b87e048849469cccb4355e98af959a","signature":false,"impliedFormat":1},{"version":"0b6e25234b4eec6ed96ab138d96eb70b135690d7dd01f3dd8a8ab291c35a683a","signature":false,"impliedFormat":1},{"version":"9666f2f84b985b62400d2e5ab0adae9ff44de9b2a34803c2c5bd3c8325b17dc0","signature":false,"impliedFormat":1},{"version":"40cd35c95e9cf22cfa5bd84e96408b6fcbca55295f4ff822390abb11afbc3dca","signature":false,"impliedFormat":1},{"version":"b1616b8959bf557feb16369c6124a97a0e74ed6f49d1df73bb4b9ddf68acf3f3","signature":false,"impliedFormat":1},{"version":"5b03a034c72146b61573aab280f295b015b9168470f2df05f6080a2122f9b4df","signature":false,"impliedFormat":1},{"version":"40b463c6766ca1b689bfcc46d26b5e295954f32ad43e37ee6953c0a677e4ae2b","signature":false,"impliedFormat":1},{"version":"249b9cab7f5d628b71308c7d9bb0a808b50b091e640ba3ed6e2d0516f4a8d91d","signature":false,"impliedFormat":1},{"version":"80aae6afc67faa5ac0b32b5b8bc8cc9f7fa299cff15cf09cc2e11fd28c6ae29e","signature":false,"impliedFormat":1},{"version":"f473cd2288991ff3221165dcf73cd5d24da30391f87e85b3dd4d0450c787a391","signature":false,"impliedFormat":1},{"version":"499e5b055a5aba1e1998f7311a6c441a369831c70905cc565ceac93c28083d53","signature":false,"impliedFormat":1},{"version":"54c3e2371e3d016469ad959697fd257e5621e16296fa67082c2575d0bf8eced0","signature":false,"impliedFormat":1},{"version":"beb8233b2c220cfa0feea31fbe9218d89fa02faa81ef744be8dce5acb89bb1fd","signature":false,"impliedFormat":1},{"version":"c183b931b68ad184bc8e8372bf663f3d33304772fb482f29fb91b3c391031f3e","signature":false,"impliedFormat":1},{"version":"5d0375ca7310efb77e3ef18d068d53784faf62705e0ad04569597ae0e755c401","signature":false,"impliedFormat":1},{"version":"59af37caec41ecf7b2e76059c9672a49e682c1a2aa6f9d7dc78878f53aa284d6","signature":false,"impliedFormat":1},{"version":"addf417b9eb3f938fddf8d81e96393a165e4be0d4a8b6402292f9c634b1cb00d","signature":false,"impliedFormat":1},{"version":"48cc3ec153b50985fb95153258a710782b25975b10dd4ac8a4f3920632d10790","signature":false,"impliedFormat":1},{"version":"adf27937dba6af9f08a68c5b1d3fce0ca7d4b960c57e6d6c844e7d1a8e53adae","signature":false,"impliedFormat":1},{"version":"e1528ca65ac90f6fa0e4a247eb656b4263c470bb22d9033e466463e13395e599","signature":false,"impliedFormat":1},{"version":"2e85db9e6fd73cfa3d7f28e0ab6b55417ea18931423bd47b409a96e4a169e8e6","signature":false,"impliedFormat":1},{"version":"c46e079fe54c76f95c67fb89081b3e399da2c7d109e7dca8e4b58d83e332e605","signature":false,"impliedFormat":1},{"version":"866078923a56d026e39243b4392e282c1c63159723996fa89243140e1388a98d","signature":false,"impliedFormat":1},{"version":"dd0109710de4cd93e245121ab86d8c66d20f3ead80074b68e9c3e349c4f53342","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"b3275d55fac10b799c9546804126239baf020d220136163f763b55a74e50e750","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"fa68a0a3b7cb32c00e39ee3cd31f8f15b80cac97dce51b6ee7fc14a1e8deb30b","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"1cf059eaf468efcc649f8cf6075d3cb98e9a35a0fe9c44419ec3d2f5428d7123","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"6c36e755bced82df7fb6ce8169265d0a7bb046ab4e2cb6d0da0cb72b22033e89","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"e7721c4f69f93c91360c26a0a84ee885997d748237ef78ef665b153e622b36c1","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"7a93de4ff8a63bafe62ba86b89af1df0ccb5e40bb85b0c67d6bbcfdcf96bf3d4","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"90e85f9bc549dfe2b5749b45fe734144e96cd5d04b38eae244028794e142a77e","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"e0a5deeb610b2a50a6350bd23df6490036a1773a8a71d70f2f9549ab009e67ee","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"435b3711465425770ed2ee2f1cf00ce071835265e0851a7dc4600ab4b007550e","signature":false,"impliedFormat":1},{"version":"7e49f52a159435fc8df4de9dc377ef5860732ca2dc9efec1640531d3cf5da7a3","signature":false,"impliedFormat":1},{"version":"dd4bde4bdc2e5394aed6855e98cf135dfdf5dd6468cad842e03116d31bbcc9bc","signature":false,"impliedFormat":1},{"version":"4d4e879009a84a47c05350b8dca823036ba3a29a3038efed1be76c9f81e45edf","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"cf83d90d5faf27b994c2e79af02e32b555dbfe42cd9bd1571445f2168d1f4e2d","signature":false,"impliedFormat":1},{"version":"9ba13b47cb450a438e3076c4a3f6afb9dc85e17eae50f26d4b2d72c0688c9251","signature":false,"impliedFormat":1},{"version":"b64cd4401633ea4ecadfd700ddc8323a13b63b106ac7127c1d2726f32424622c","signature":false,"impliedFormat":1},{"version":"37c6e5fe5715814412b43cc9b50b24c67a63c4e04e753e0d1305970d65417a60","signature":false,"impliedFormat":1},{"version":"0e28335ac43f4d94dd2fe6d9e6fa6813570640839addd10d309d7985f33a6308","signature":false,"impliedFormat":1},{"version":"ee0e4946247f842c6dd483cbb60a5e6b484fee07996e3a7bc7343dfb68a04c5d","signature":false,"impliedFormat":1},{"version":"ef051f42b7e0ef5ca04552f54c4552eac84099d64b6c5ad0ef4033574b6035b8","signature":false,"impliedFormat":1},{"version":"853a43154f1d01b0173d9cbd74063507ece57170bad7a3b68f3fa1229ad0a92f","signature":false,"impliedFormat":1},{"version":"56231e3c39a031bfb0afb797690b20ed4537670c93c0318b72d5180833d98b72","signature":false,"impliedFormat":1},{"version":"5cc7c39031bfd8b00ad58f32143d59eb6ffc24f5d41a20931269011dccd36c5e","signature":false,"impliedFormat":1},{"version":"b0b69c61b0f0ec8ca15db4c8c41f6e77f4cacb784d42bca948f42dea33e8757e","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"f96a48183254c00d24575401f1a761b4ce4927d927407e7862a83e06ce5d6964","signature":false,"impliedFormat":1},{"version":"cc25940cfb27aa538e60d465f98bb5068d4d7d33131861ace43f04fe6947d68f","signature":false,"impliedFormat":1},{"version":"ac86245c2f31335bfd52cbe7fc760f9fc4f165387875869a478a6d9616a95e72","signature":false,"impliedFormat":1},{"version":"01ff95aa1443e3f7248974e5a771f513cb2ac158c8898f470a1792f817bee497","signature":false,"impliedFormat":1},{"version":"9d96a7ce809392ff2cb99691acf7c62e632fe56897356ba013b689277aca3619","signature":false,"impliedFormat":1},{"version":"42a05d8f239f74587d4926aba8cc54792eed8e8a442c7adc9b38b516642aadfe","signature":false,"impliedFormat":1},{"version":"5d21b58d60383cc6ab9ad3d3e265d7d25af24a2c9b506247e0e50b0a884920be","signature":false,"impliedFormat":1},{"version":"101f482fd48cb4c7c0468dcc6d62c843d842977aea6235644b1edd05e81fbf22","signature":false,"impliedFormat":1},{"version":"ae6757460f37078884b1571a3de3ebaf724d827d7e1d53626c02b3c2a408ac63","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"27c0a08e343c6a0ae17bd13ba6d44a9758236dc904cd5e4b43456996cd51f520","signature":false,"impliedFormat":1},{"version":"3ef397f12387eff17f550bc484ea7c27d21d43816bbe609d495107f44b97e933","signature":false,"impliedFormat":1},{"version":"1023282e2ba810bc07905d3668349fbd37a26411f0c8f94a70ef3c05fe523fcf","signature":false,"impliedFormat":1},{"version":"b214ebcf76c51b115453f69729ee8aa7b7f8eccdae2a922b568a45c2d7ff52f7","signature":false,"impliedFormat":1},{"version":"429c9cdfa7d126255779efd7e6d9057ced2d69c81859bbab32073bad52e9ba76","signature":false,"impliedFormat":1},{"version":"6f80e51ba310608cd71bcdc09a171d7bbfb3b316048601c9ec215ce16a8dcfbc","signature":false,"impliedFormat":1},{"version":"63054ef6518309c85b11e00537eef47a2b8609c6c20630b1a1daaecf86ea0d28","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"7f2c62938251b45715fd2a9887060ec4fbc8724727029d1cbce373747252bdd7","signature":false,"impliedFormat":1},{"version":"e3ace08b6bbd84655d41e244677b474fd995923ffef7149ddb68af8848b60b05","signature":false,"impliedFormat":1},{"version":"132580b0e86c48fab152bab850fc57a4b74fe915c8958d2ccb052b809a44b61c","signature":false,"impliedFormat":1},{"version":"af4ab0aa8908fc9a655bb833d3bc28e117c4f0e1038c5a891546158beb25accb","signature":false,"impliedFormat":1},{"version":"69c9a5a9392e8564bd81116e1ed93b13205201fb44cb35a7fde8c9f9e21c4b23","signature":false,"impliedFormat":1},{"version":"5f8fc37f8434691ffac1bfd8fc2634647da2c0e84253ab5d2dd19a7718915b35","signature":false,"impliedFormat":1},{"version":"5981c2340fd8b076cae8efbae818d42c11ffc615994cb060b1cd390795f1be2b","signature":false,"impliedFormat":1},{"version":"2ca2bca6845a7234eff5c3d192727a068fca72ac565f3c819c6b04ccc83dadc0","signature":false,"impliedFormat":1},{"version":"ed4f674fc8c0c993cc7e145069ac44129e03519b910c62be206a0cc777bdc60b","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"0250da3eb85c99624f974e77ef355cdf86f43980251bc371475c2b397ba55bcd","signature":false,"impliedFormat":1},{"version":"f1c93e046fb3d9b7f8249629f4b63dc068dd839b824dd0aa39a5e68476dc9420","signature":false,"impliedFormat":1},{"version":"3d3a5f27ffbc06c885dd4d5f9ee20de61faf877fe2c3a7051c4825903d9a7fdc","signature":false,"impliedFormat":1},{"version":"12806f9f085598ef930edaf2467a5fa1789a878fba077cd27e85dc5851e11834","signature":false,"impliedFormat":1},{"version":"17d06eb5709839c7ce719f0c38ada6f308fb433f2cd6d8c87b35856e07400950","signature":false,"impliedFormat":1},{"version":"a43fe41c33d0a192a0ecaf9b92e87bef3709c9972e6d53c42c49251ccb962d69","signature":false,"impliedFormat":1},{"version":"a177959203c017fad3ecc4f3d96c8757a840957a4959a3ae00dab9d35961ca6c","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"6fc727ccf9b36e257ff982ea0badeffbfc2c151802f741bddff00c6af3b784cf","signature":false,"impliedFormat":1},{"version":"2a00d005e3af99cd1cfa75220e60c61b04bfb6be7ca7453bfe2ef6cca37cc03c","signature":false,"impliedFormat":1},{"version":"4844a4c9b4b1e812b257676ed8a80b3f3be0e29bf05e742cc2ea9c3c6865e6c6","signature":false,"impliedFormat":1},{"version":"064878a60367e0407c42fb7ba02a2ea4d83257357dc20088e549bd4d89433e9c","signature":false,"impliedFormat":1},{"version":"14d4bd22d1b05824971b98f7e91b2484c90f1a684805c330476641417c3d9735","signature":false,"impliedFormat":1},{"version":"586eaf66bace2e731cee0ddfbfac326ad74a83c1acfeac4afb2db85ad23226c7","signature":false,"impliedFormat":1},{"version":"b484ec11ba00e3a2235562a41898d55372ccabe607986c6fa4f4aba72093749f","signature":false,"impliedFormat":1},{"version":"d1a14d87cedcf4f0b8173720d6eb29cc02878bf2b6dabf9c9d9cee742f275368","signature":false,"impliedFormat":1},{"version":"e60efae9fe48a2955f66bf4cbf0f082516185b877daf50d9c5e2a009660a7714","signature":false,"impliedFormat":1},{"version":"041a7781b9127ab568d2cdcce62c58fdea7c7407f40b8c50045d7866a2727130","signature":false,"impliedFormat":1},{"version":"b37f83e7deea729aa9ce5593f78905afb45b7532fdff63041d374f60059e7852","signature":false,"impliedFormat":1},{"version":"e1cb68f3ef3a8dd7b2a9dfb3de482ed6c0f1586ba0db4e7d73c1d2147b6ffc51","signature":false,"impliedFormat":1},{"version":"55cdbeebe76a1fa18bbd7e7bf73350a2173926bd3085bb050cf5a5397025ee4e","signature":false,"impliedFormat":1},{"version":"151ff381ef9ff8da2da9b9663ebf657eac35c4c9a19183420c05728f31a6761d","signature":false,"impliedFormat":1},{"version":"4e741b9c88e80c9e4cedf07b5a698e8e3a3bd73cf649f664d6dd3f868c05c2f3","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"a7ca8df4f2931bef2aa4118078584d84a0b16539598eaadf7dce9104dfaa381c","signature":false,"impliedFormat":1},{"version":"11443a1dcfaaa404c68d53368b5b818712b95dd19f188cab1669c39bee8b84b3","signature":false,"impliedFormat":1},{"version":"36977c14a7f7bfc8c0426ae4343875689949fb699f3f84ecbe5b300ebf9a2c55","signature":false,"impliedFormat":1},{"version":"035d0934d304483f07148427a5bd5b98ac265dae914a6b49749fe23fbd893ec7","signature":false,"impliedFormat":99},{"version":"e2ed5b81cbed3a511b21a18ab2539e79ac1f4bc1d1d28f8d35d8104caa3b429f","signature":false,"impliedFormat":99},{"version":"161c8e0690c46021506e32fda85956d785b70f309ae97011fd27374c065cac9b","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"402e5c534fb2b85fa771170595db3ac0dd532112c8fa44fc23f233bc6967488b","signature":false,"impliedFormat":1},{"version":"8885cf05f3e2abf117590bbb951dcf6359e3e5ac462af1c901cfd24c6a6472e2","signature":false,"impliedFormat":1},{"version":"333caa2bfff7f06017f114de738050dd99a765c7eb16571c6d25a38c0d5365dc","signature":false,"impliedFormat":1},{"version":"e61df3640a38d535fd4bc9f4a53aef17c296b58dc4b6394fd576b808dd2fe5e6","signature":false,"impliedFormat":1},{"version":"459920181700cec8cbdf2a5faca127f3f17fd8dd9d9e577ed3f5f3af5d12a2e4","signature":false,"impliedFormat":1},{"version":"4719c209b9c00b579553859407a7e5dcfaa1c472994bd62aa5dd3cc0757eb077","signature":false,"impliedFormat":1},{"version":"7ec359bbc29b69d4063fe7dad0baaf35f1856f914db16b3f4f6e3e1bca4099fa","signature":false,"impliedFormat":1},{"version":"70790a7f0040993ca66ab8a07a059a0f8256e7bb57d968ae945f696cbff4ac7a","signature":false,"impliedFormat":1},{"version":"d1b9a81e99a0050ca7f2d98d7eedc6cda768f0eb9fa90b602e7107433e64c04c","signature":false,"impliedFormat":1},{"version":"a022503e75d6953d0e82c2c564508a5c7f8556fad5d7f971372d2d40479e4034","signature":false,"impliedFormat":1},{"version":"b215c4f0096f108020f666ffcc1f072c81e9f2f95464e894a5d5f34c5ea2a8b1","signature":false,"impliedFormat":1},{"version":"644491cde678bd462bb922c1d0cfab8f17d626b195ccb7f008612dc31f445d2d","signature":false,"impliedFormat":1},{"version":"dfe54dab1fa4961a6bcfba68c4ca955f8b5bbeb5f2ab3c915aa7adaa2eabc03a","signature":false,"impliedFormat":1},{"version":"1251d53755b03cde02466064260bb88fd83c30006a46395b7d9167340bc59b73","signature":false,"impliedFormat":1},{"version":"47865c5e695a382a916b1eedda1b6523145426e48a2eae4647e96b3b5e52024f","signature":false,"impliedFormat":1},{"version":"4cdf27e29feae6c7826cdd5c91751cc35559125e8304f9e7aed8faef97dcf572","signature":false,"impliedFormat":1},{"version":"331b8f71bfae1df25d564f5ea9ee65a0d847c4a94baa45925b6f38c55c7039bf","signature":false,"impliedFormat":1},{"version":"2a771d907aebf9391ac1f50e4ad37952943515eeea0dcc7e78aa08f508294668","signature":false,"impliedFormat":1},{"version":"0146fd6262c3fd3da51cb0254bb6b9a4e42931eb2f56329edd4c199cb9aaf804","signature":false,"impliedFormat":1},{"version":"f7eebe1b25040d805aefe8971310b805cd49b8602ec206d25b38dc48c542f165","signature":false,"impliedFormat":1},{"version":"a18642ddf216f162052a16cba0944892c4c4c977d3306a87cb673d46abbb0cbf","signature":false,"impliedFormat":1},{"version":"509f8efdfc5f9f6b52284170e8d7413552f02d79518d1db691ee15acc0088676","signature":false,"impliedFormat":1},{"version":"4ec16d7a4e366c06a4573d299e15fe6207fc080f41beac5da06f4af33ea9761e","signature":false,"impliedFormat":1},{"version":"7870becb94cbc11d2d01b77c4422589adcba4d8e59f726246d40cd0d129784d8","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"7f698624bbbb060ece7c0e51b7236520ebada74b747d7523c7df376453ed6fea","signature":false,"impliedFormat":1},{"version":"f70b8328a15ca1d10b1436b691e134a49bc30dcf3183a69bfaa7ba77e1b78ecd","signature":false,"impliedFormat":1},{"version":"683b035f752e318d02e303894e767a1ac16ac4493baa2b593195d7976e6b7310","signature":false,"impliedFormat":99},{"version":"511a5f4f77165dc1b73ceae1e28b4a8f78f3443d8e18a1fd43bfafd2b0133bbe","signature":false,"impliedFormat":1},{"version":"b6d03c9cfe2cf0ba4c673c209fcd7c46c815b2619fd2aad59fc4229aaef2ed43","signature":false,"impliedFormat":1},{"version":"95aba78013d782537cc5e23868e736bec5d377b918990e28ed56110e3ae8b958","signature":false,"impliedFormat":1},{"version":"670a76db379b27c8ff42f1ba927828a22862e2ab0b0908e38b671f0e912cc5ed","signature":false,"impliedFormat":1},{"version":"13b77ab19ef7aadd86a1e54f2f08ea23a6d74e102909e3c00d31f231ed040f62","signature":false,"impliedFormat":1},{"version":"069bebfee29864e3955378107e243508b163e77ab10de6a5ee03ae06939f0bb9","signature":false,"impliedFormat":1},{"version":"26e0ffceb2198feb1ef460d5d14111c69ad07d44c5a67fd4bfeb74c969aa9afb","signature":false,"impliedFormat":99},{"version":"f6a843ae8f912419a18cbaf1d449e4421a764847b43cdac141f214bd0ddff5eb","signature":false},{"version":"92d5369f7f9480aac66bbcd295c0b2d82077295c8bf0f0fe08fa3c3321225e49","signature":false,"impliedFormat":1},{"version":"1228bc3bd38a3b1ff67611abcb9c8c392a510e0e1a4412b9467d7eeaf37e71ec","signature":false,"impliedFormat":1},{"version":"00156746faed256d8f1bd3dd5296c493ca4949a2f375dbf233fab0a3bf87b742","signature":false},{"version":"6e215dac8b234548d91b718f9c07d5b09473cd5cabb29053fcd8be0af190acb6","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"dbecf494aac7d3ee1b23cdaafae0d0bfea8590567fc153db58fe00ed9fa66c24","signature":false,"impliedFormat":1},{"version":"f3d3e999a323c85c8a63ce90c6e4624ff89fe137a0e2508fddc08e0556d08abf","signature":false,"impliedFormat":1},{"version":"c74b33e4465a03e398a080ec56b8f7cf19edba5d7c4dab482b4be4a5c4efb1ca","signature":false,"impliedFormat":1},{"version":"49ae37a1b5de16f762c8a151eeaec6b558ce3c27251052ef7a361144af42cad4","signature":false,"impliedFormat":1},{"version":"fc9e630f9302d0414ccd6c8ed2706659cff5ae454a56560c6122fa4a3fac5bbd","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"aa0a44af370a2d7c1aac988a17836f57910a6c52689f52f5b3ac1d4c6cadcb23","signature":false,"impliedFormat":1},{"version":"0ac74c7586880e26b6a599c710b59284a284e084a2bbc82cd40fb3fbfdea71ae","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"2ce12357dadbb8efc4e4ec4dab709c8071bf992722fc9adfea2fe0bd5b50923f","signature":false,"impliedFormat":1},{"version":"b5a907deaba678e5083ccdd7cc063a3a8c3413c688098f6de29d6e4cefabc85f","signature":false,"impliedFormat":1},{"version":"ffd344731abee98a0a85a735b19052817afd2156d97d1410819cd9bcd1bd575e","signature":false,"impliedFormat":1},{"version":"475e07c959f4766f90678425b45cf58ac9b95e50de78367759c1e5118e85d5c3","signature":false,"impliedFormat":1},{"version":"a524ae401b30a1b0814f1bbcdae459da97fa30ae6e22476e506bb3f82e3d9456","signature":false,"impliedFormat":1},{"version":"7375e803c033425e27cb33bae21917c106cb37b508fd242cccd978ef2ee244c7","signature":false,"impliedFormat":1},{"version":"eeb890c7e9218afdad2f30ad8a76b0b0b5161d11ce13b6723879de408e6bc47a","signature":false,"impliedFormat":1},{"version":"561c795984d06b91091780cebeac616e9e41d83240770e1af14e6ec083b713d5","signature":false,"impliedFormat":1},{"version":"dfbcc400ac6d20b941ccc7bd9031b9d9f54e4d495dd79117334e771959df4805","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"944d65951e33a13068be5cd525ec42bf9bc180263ba0b723fa236970aa21f611","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"6b386c7b6ce6f369d18246904fa5eac73566167c88fb6508feba74fa7501a384","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"592a109e67b907ffd2078cd6f727d5c326e06eaada169eef8fb18546d96f6797","signature":false,"impliedFormat":1},{"version":"f2eb1e35cae499d57e34b4ac3650248776fe7dbd9a3ec34b23754cfd8c22fceb","signature":false,"impliedFormat":1},{"version":"fbed43a6fcf5b675f5ec6fc960328114777862b58a2bb19c109e8fc1906caa09","signature":false,"impliedFormat":1},{"version":"9e98bd421e71f70c75dae7029e316745c89fa7b8bc8b43a91adf9b82c206099c","signature":false,"impliedFormat":1},{"version":"fc803e6b01f4365f71f51f9ce13f71396766848204d4f7a1b2b6154434b84b15","signature":false,"impliedFormat":1},{"version":"f3afcc0d6f77a9ca2d2c5c92eb4b89cd38d6fa4bdc1410d626bd701760a977ec","signature":false,"impliedFormat":1},{"version":"c8109fe76467db6e801d0edfbc50e6826934686467c9418ce6b246232ce7f109","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"e6f803e4e45915d58e721c04ec17830c6e6678d1e3e00e28edf3d52720909cea","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"37be812b06e518320ba82e2aff3ac2ca37370a9df917db708f081b9043fa3315","signature":false,"impliedFormat":1},{"version":"427fe2004642504828c1476d0af4270e6ad4db6de78c0b5da3e4c5ca95052a99","signature":false,"impliedFormat":1},{"version":"2eeffcee5c1661ddca53353929558037b8cf305ffb86a803512982f99bcab50d","signature":false,"impliedFormat":99},{"version":"9afb4cb864d297e4092a79ee2871b5d3143ea14153f62ef0bb04ede25f432030","signature":false,"affectsGlobalScope":true,"impliedFormat":99},{"version":"170d4db14678c68178ee8a3d5a990d5afb759ecb6ec44dbd885c50f6da6204f6","signature":false,"affectsGlobalScope":true,"impliedFormat":1},{"version":"ac51dd7d31333793807a6abaa5ae168512b6131bd41d9c5b98477fc3b7800f9f","signature":false,"impliedFormat":1},{"version":"cf8db38686dfd74567ea692266fe44fbb32fa0e25fc0888ad6fc40e65873607e","signature":false,"impliedFormat":1},{"version":"be1cc4d94ea60cbe567bc29ed479d42587bf1e6cba490f123d329976b0fe4ee5","signature":false,"impliedFormat":1}],"root":[215,218],"options":{"composite":true,"declaration":true,"declarationMap":true},"referencedMap":[[215,1],[210,2],[208,3],[213,4],[209,2],[211,5],[212,2],[246,6],[249,7],[247,3],[173,3],[113,8],[114,8],[115,9],[54,10],[116,11],[117,12],[118,13],[52,3],[119,14],[120,15],[121,16],[122,17],[123,18],[124,19],[125,19],[126,20],[127,21],[128,22],[129,23],[55,3],[53,3],[130,24],[131,25],[132,26],[172,27],[133,28],[134,29],[135,28],[136,30],[137,31],[138,32],[139,33],[140,33],[141,33],[142,34],[143,35],[144,36],[145,37],[146,38],[147,39],[148,39],[149,40],[150,3],[151,3],[152,41],[153,42],[154,41],[155,43],[156,44],[157,45],[158,46],[159,47],[160,48],[161,49],[162,50],[163,51],[164,52],[165,53],[166,54],[167,55],[168,56],[169,57],[56,28],[57,3],[58,58],[59,59],[60,3],[61,60],[62,3],[104,61],[105,62],[106,63],[107,63],[108,64],[109,3],[110,65],[111,66],[112,62],[170,67],[171,68],[253,69],[250,3],[252,70],[214,71],[248,3],[222,72],[244,3],[243,3],[237,73],[224,74],[223,3],[221,75],[225,3],[219,76],[226,3],[245,77],[227,3],[236,78],[238,79],[220,80],[242,81],[240,82],[239,83],[241,84],[228,3],[234,85],[231,86],[233,87],[232,88],[230,89],[229,3],[235,90],[251,3],[216,91],[217,92],[200,3],[202,93],[201,3],[197,94],[195,95],[196,96],[184,97],[185,95],[192,98],[183,99],[188,100],[198,3],[189,101],[194,102],[199,103],[182,104],[190,105],[191,106],[186,107],[193,94],[187,108],[174,109],[181,3],[1,3],[50,3],[51,3],[9,3],[13,3],[12,3],[3,3],[14,3],[15,3],[16,3],[17,3],[18,3],[19,3],[20,3],[21,3],[4,3],[22,3],[23,3],[5,3],[24,3],[28,3],[25,3],[26,3],[27,3],[29,3],[30,3],[31,3],[6,3],[32,3],[33,3],[34,3],[35,3],[7,3],[39,3],[36,3],[37,3],[38,3],[40,3],[8,3],[41,3],[46,3],[47,3],[42,3],[43,3],[44,3],[45,3],[2,3],[48,3],[49,3],[11,3],[10,3],[80,110],[92,111],[78,112],[93,113],[102,114],[69,115],[70,116],[68,117],[101,118],[96,119],[100,120],[72,121],[89,122],[71,123],[99,124],[66,125],[67,126],[73,127],[74,3],[79,128],[77,127],[64,129],[103,130],[94,131],[83,132],[82,127],[84,133],[87,134],[81,135],[85,136],[97,118],[75,137],[76,138],[88,139],[65,140],[91,141],[90,127],[86,142],[95,3],[63,3],[98,143],[207,144],[179,145],[178,146],[180,3],[176,146],[175,3],[177,147],[205,3],[204,3],[203,148],[206,149],[218,150]],"changeFileSet":[215,210,208,213,209,211,212,246,249,247,173,113,114,115,54,116,117,118,52,119,120,121,122,123,124,125,126,127,128,129,55,53,130,131,132,172,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,56,57,58,59,60,61,62,104,105,106,107,108,109,110,111,112,170,171,253,250,252,214,248,222,244,243,237,224,223,221,225,219,226,245,227,236,238,220,242,240,239,241,228,234,231,233,232,230,229,235,251,216,217,200,202,201,197,195,196,184,185,192,183,188,198,189,194,199,182,190,191,186,193,187,174,181,1,50,51,9,13,12,3,14,15,16,17,18,19,20,21,4,22,23,5,24,28,25,26,27,29,30,31,6,32,33,34,35,7,39,36,37,38,40,8,41,46,47,42,43,44,45,2,48,49,11,10,80,92,78,93,102,69,70,68,101,96,100,72,89,71,99,66,67,73,74,79,77,64,103,94,83,82,84,87,81,85,97,75,76,88,65,91,90,86,95,63,98,207,179,178,180,176,175,177,205,204,203,206,218],"version":"5.9.3"}
</file>

<file path="turbo.json">
{
  "$schema": "https://turbo.build/schema.json",
  "tasks": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**", "build/**"]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "lint": {
      "dependsOn": ["^build"]
    },
    "test": {
      "dependsOn": ["build"],
      "outputs": ["coverage/**"]
    },
    "typecheck": {
      "dependsOn": ["^build"],
      "outputs": []
    },
    "db:push": {
      "cache": false
    },
    "db:generate": {
      "cache": false
    }
  }
}
</file>

<file path=".gitignore">
# Go Backend
*.exe
*.exe~
*.dll
*.so
*.dylib
*.test
*.out
go.work
vendor/
*.cover
coverage.txt
coverage.html

# Go build artifacts
/bin/
/dist/
/build/
/tmp/

# Frontend - Node/Vite
node_modules/
/frontend/node_modules/
/frontend/dist/
/frontend/build/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

# Frontend build outputs
*.local
.vite/
.turbo/

# Environment variables
.env
.env.local
.env.development.local
.env.test.local
.env.production.local
*.env
!.env.example

# IDE - VSCode
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json
*.code-workspace
.history/

# IDE - JetBrains
.idea/
*.iml
*.ipr
*.iws
.idea_modules/

# IDE - Vim
*.swp
*.swo
*~

# OS files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db
Desktop.ini

# Logs
*.log
logs/
*.log.*

# Database
*.db
*.sqlite
*.sqlite3
/data/

# Testing
/coverage/
/.nyc_output/
/test-results/
/playwright-report/
/playwright/.cache/

# Temporary files
*.tmp
*.temp
*.cache
.cache/

# Documentation builds
/docs/.vitepress/cache/
/docs/.vitepress/dist/

# Secrets & credentials
*.pem
*.key
*.cert
*.crt
credentials.json
secrets.yaml
secrets.json

# Claude AI artifacts (optional - comment out if needed)
# .claude/.venv/
# .claude/skills/.venv/
</file>

</files>
